import{b1 as P,b3 as Xo,w as Gv,b4 as l9,L as Mr,b5 as i0,b6 as u9}from"./index-Bm04Wswa.js";var U_={},PC;function Kq(){return PC||(PC=1,(function(e){(function(t){var r=t.Promise,n=r&&"resolve"in r&&"reject"in r&&"all"in r&&"race"in r&&(function(){var S;return new r(function(A){S=A}),typeof S=="function"})();e?(e.Promise=n?r:E,e.Polyfill=E):n||(t.Promise=E);var i="pending",o="sealed",a="fulfilled",s="rejected",u=function(){};function l(S){return Object.prototype.toString.call(S)==="[object Array]"}var c=typeof setImmediate<"u"?setImmediate:setTimeout,h=[],f;function p(){for(var S=0;S<h.length;S++)h[S][0](h[S][1]);h=[],f=!1}function d(S,A){h.push([S,A]),f||(f=!0,c(p,0))}function m(S,A){function M(N){g(A,N)}function H(N){_(A,N)}try{S(M,H)}catch(N){H(N)}}function v(S){var A=S.owner,M=A.state_,H=A.data_,N=S[M],k=S.then;if(typeof N=="function"){M=a;try{H=N(H)}catch(R){_(k,R)}}b(k,H)||(M===a&&g(k,H),M===s&&_(k,H))}function b(S,A){var M;try{if(S===A)throw new TypeError("A promises callback cannot return that same promise.");if(A&&(typeof A=="function"||typeof A=="object")){var H=A.then;if(typeof H=="function")return H.call(A,function(N){M||(M=!0,A!==N?g(S,N):y(S,N))},function(N){M||(M=!0,_(S,N))}),!0}}catch(N){return M||_(S,N),!0}return!1}function g(S,A){(S===A||!b(S,A))&&y(S,A)}function y(S,A){S.state_===i&&(S.state_=o,S.data_=A,d(T,S))}function _(S,A){S.state_===i&&(S.state_=o,S.data_=A,d(O,S))}function w(S){var A=S.then_;S.then_=void 0;for(var M=0;M<A.length;M++)v(A[M])}function T(S){S.state_=a,w(S)}function O(S){S.state_=s,w(S)}function E(S){if(typeof S!="function")throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof E))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],m(S,this)}E.prototype={constructor:E,state_:i,then_:null,data_:void 0,then:function(S,A){var M={owner:this,then:new this.constructor(u),fulfilled:S,rejected:A};return this.state_===a||this.state_===s?d(v,M):this.then_.push(M),M.then},catch:function(S){return this.then(null,S)}},E.all=function(S){var A=this;if(!l(S))throw new TypeError("You must pass an array to Promise.all().");return new A(function(M,H){var N=[],k=0;function R(U){return k++,function(V){N[U]=V,--k||M(N)}}for(var B=0,z;B<S.length;B++)z=S[B],z&&typeof z.then=="function"?z.then(R(B),H):N[B]=z;k||M(N)})},E.race=function(S){var A=this;if(!l(S))throw new TypeError("You must pass an array to Promise.race().");return new A(function(M,H){for(var N=0,k;N<S.length;N++)k=S[N],k&&typeof k.then=="function"?k.then(M,H):M(k)})},E.resolve=function(S){var A=this;return S&&typeof S=="object"&&S.constructor===A?S:new A(function(M){M(S)})},E.reject=function(S){var A=this;return new A(function(M,H){H(S)})}})(typeof window<"u"?window:typeof i0<"u"?i0:typeof self<"u"?self:U_)})(U_)),U_}var Zq=Kq();/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var V_,CC;function Qq(){if(CC)return V_;CC=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function i(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var a={},s=0;s<10;s++)a["_"+String.fromCharCode(s)]=s;var u=Object.getOwnPropertyNames(a).map(function(c){return a[c]});if(u.join("")!=="0123456789")return!1;var l={};return"abcdefghijklmnopqrst".split("").forEach(function(c){l[c]=c}),Object.keys(Object.assign({},l)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return V_=i()?Object.assign:function(o,a){for(var s,u=n(o),l,c=1;c<arguments.length;c++){s=Object(arguments[c]);for(var h in s)t.call(s,h)&&(u[h]=s[h]);if(e){l=e(s);for(var f=0;f<l.length;f++)r.call(s,l[f])&&(u[l[f]]=s[l[f]])}}return u},V_}var Jq=Qq();const eK=Gv(Jq);/*!
* @pixi/polyfill - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/polyfill is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/window.Promise||(window.Promise=Zq.Polyfill);Object.assign||(Object.assign=eK);var tK=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(window.performance&&window.performance.now)){var rK=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-rK}}var G_=Date.now(),AC=["ms","moz","webkit","o"];for(var Y_=0;Y_<AC.length&&!window.requestAnimationFrame;++Y_){var W_=AC[Y_];window.requestAnimationFrame=window[W_+"RequestAnimationFrame"],window.cancelAnimationFrame=window[W_+"CancelAnimationFrame"]||window[W_+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(e){if(typeof e!="function")throw new TypeError(e+"is not a function");var t=Date.now(),r=tK+G_-t;return r<0&&(r=0),G_=t,window.setTimeout(function(){G_=Date.now(),e(performance.now())},r)});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){return clearTimeout(e)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint8Array||(window.Uint8Array=Array);window.Int32Array||(window.Int32Array=Array);var X_=/iPhone/i,MC=/iPod/i,IC=/iPad/i,RC=/\biOS-universal(?:.+)Mac\b/i,$_=/\bAndroid(?:.+)Mobile\b/i,DC=/Android/i,Eu=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,cm=/Silk/i,aa=/Windows Phone/i,NC=/\bWindows(?:.+)ARM\b/i,jC=/BlackBerry/i,LC=/BB10/i,BC=/Opera Mini/i,FC=/\b(CriOS|Chrome)(?:.+)Mobile/i,zC=/Mobile(?:.+)Firefox\b/i,HC=function(e){return typeof e<"u"&&e.platform==="MacIntel"&&typeof e.maxTouchPoints=="number"&&e.maxTouchPoints>1&&typeof MSStream>"u"};function nK(e){return function(t){return t.test(e)}}function iK(e){var t={userAgent:"",platform:"",maxTouchPoints:0};!e&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof e=="string"?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0});var r=t.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=nK(r),o={apple:{phone:i(X_)&&!i(aa),ipod:i(MC),tablet:!i(X_)&&(i(IC)||HC(t))&&!i(aa),universal:i(RC),device:(i(X_)||i(MC)||i(IC)||i(RC)||HC(t))&&!i(aa)},amazon:{phone:i(Eu),tablet:!i(Eu)&&i(cm),device:i(Eu)||i(cm)},android:{phone:!i(aa)&&i(Eu)||!i(aa)&&i($_),tablet:!i(aa)&&!i(Eu)&&!i($_)&&(i(cm)||i(DC)),device:!i(aa)&&(i(Eu)||i(cm)||i($_)||i(DC))||i(/\bokhttp\b/i)},windows:{phone:i(aa),tablet:i(NC),device:i(aa)||i(NC)},other:{blackberry:i(jC),blackberry10:i(LC),opera:i(BC),firefox:i(zC),chrome:i(FC),device:i(jC)||i(LC)||i(BC)||i(zC)||i(FC)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}/*!
* @pixi/settings - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/settings is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var Wi=iK(window.navigator);function oK(e){var t=!0;if(Wi.tablet||Wi.phone){if(Wi.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(t=!1)}}if(Wi.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(t=!1)}}}return t?e:4}function aK(){return!Wi.apple.device}var lt={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:oK(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:Wi.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:aK(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},UC={exports:{}},VC;function sK(){return VC||(VC=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function o(u,l,c,h,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,h||u,f),d=r?r+l:l;return u._events[d]?u._events[d].fn?u._events[d]=[u._events[d],p]:u._events[d].push(p):(u._events[d]=p,u._eventsCount++),u}function a(u,l){--u._eventsCount===0?u._events=new n:delete u._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],l,c;if(this._eventsCount===0)return u;for(c in l=this._events)t.call(l,c)&&u.push(r?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},s.prototype.listeners=function(u){var l=r?r+u:u,c=this._events[l];if(!c)return[];if(c.fn)return[c.fn];for(var h=0,f=c.length,p=new Array(f);h<f;h++)p[h]=c[h].fn;return p},s.prototype.listenerCount=function(u){var l=r?r+u:u,c=this._events[l];return c?c.fn?1:c.length:0},s.prototype.emit=function(u,l,c,h,f,p){var d=r?r+u:u;if(!this._events[d])return!1;var m=this._events[d],v=arguments.length,b,g;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,l),!0;case 3:return m.fn.call(m.context,l,c),!0;case 4:return m.fn.call(m.context,l,c,h),!0;case 5:return m.fn.call(m.context,l,c,h,f),!0;case 6:return m.fn.call(m.context,l,c,h,f,p),!0}for(g=1,b=new Array(v-1);g<v;g++)b[g-1]=arguments[g];m.fn.apply(m.context,b)}else{var y=m.length,_;for(g=0;g<y;g++)switch(m[g].once&&this.removeListener(u,m[g].fn,void 0,!0),v){case 1:m[g].fn.call(m[g].context);break;case 2:m[g].fn.call(m[g].context,l);break;case 3:m[g].fn.call(m[g].context,l,c);break;case 4:m[g].fn.call(m[g].context,l,c,h);break;default:if(!b)for(_=1,b=new Array(v-1);_<v;_++)b[_-1]=arguments[_];m[g].fn.apply(m[g].context,b)}}return!0},s.prototype.on=function(u,l,c){return o(this,u,l,c,!1)},s.prototype.once=function(u,l,c){return o(this,u,l,c,!0)},s.prototype.removeListener=function(u,l,c,h){var f=r?r+u:u;if(!this._events[f])return this;if(!l)return a(this,f),this;var p=this._events[f];if(p.fn)p.fn===l&&(!h||p.once)&&(!c||p.context===c)&&a(this,f);else{for(var d=0,m=[],v=p.length;d<v;d++)(p[d].fn!==l||h&&!p[d].once||c&&p[d].context!==c)&&m.push(p[d]);m.length?this._events[f]=m.length===1?m[0]:m:a(this,f)}return this},s.prototype.removeAllListeners=function(u){var l;return u?(l=r?r+u:u,this._events[l]&&a(this,l)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(UC)),UC.exports}var lK=sK();const af=Gv(lK);var Gs={},Tg={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */var uK=Tg.exports,GC;function cK(){return GC||(GC=1,(function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof i0=="object"&&i0;(o.global===o||o.window===o||o.self===o)&&(r=o);var a,s=2147483647,u=36,l=1,c=26,h=38,f=700,p=72,d=128,m="-",v=/^xn--/,b=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=u-l,w=Math.floor,T=String.fromCharCode,O;function E(W){throw RangeError(y[W])}function S(W,te){for(var re=W.length,X=[];re--;)X[re]=te(W[re]);return X}function A(W,te){var re=W.split("@"),X="";re.length>1&&(X=re[0]+"@",W=re[1]),W=W.replace(g,".");var $=W.split("."),ee=S($,te).join(".");return X+ee}function M(W){for(var te=[],re=0,X=W.length,$,ee;re<X;)$=W.charCodeAt(re++),$>=55296&&$<=56319&&re<X?(ee=W.charCodeAt(re++),(ee&64512)==56320?te.push((($&1023)<<10)+(ee&1023)+65536):(te.push($),re--)):te.push($);return te}function H(W){return S(W,function(te){var re="";return te>65535&&(te-=65536,re+=T(te>>>10&1023|55296),te=56320|te&1023),re+=T(te),re}).join("")}function N(W){return W-48<10?W-22:W-65<26?W-65:W-97<26?W-97:u}function k(W,te){return W+22+75*(W<26)-((te!=0)<<5)}function R(W,te,re){var X=0;for(W=re?w(W/f):W>>1,W+=w(W/te);W>_*c>>1;X+=u)W=w(W/_);return w(X+(_+1)*W/(W+h))}function B(W){var te=[],re=W.length,X,$=0,ee=d,le=p,fe,Ee,ce,Se,Oe,he,Pe,Fe,We;for(fe=W.lastIndexOf(m),fe<0&&(fe=0),Ee=0;Ee<fe;++Ee)W.charCodeAt(Ee)>=128&&E("not-basic"),te.push(W.charCodeAt(Ee));for(ce=fe>0?fe+1:0;ce<re;){for(Se=$,Oe=1,he=u;ce>=re&&E("invalid-input"),Pe=N(W.charCodeAt(ce++)),(Pe>=u||Pe>w((s-$)/Oe))&&E("overflow"),$+=Pe*Oe,Fe=he<=le?l:he>=le+c?c:he-le,!(Pe<Fe);he+=u)We=u-Fe,Oe>w(s/We)&&E("overflow"),Oe*=We;X=te.length+1,le=R($-Se,X,Se==0),w($/X)>s-ee&&E("overflow"),ee+=w($/X),$%=X,te.splice($++,0,ee)}return H(te)}function z(W){var te,re,X,$,ee,le,fe,Ee,ce,Se,Oe,he=[],Pe,Fe,We,et;for(W=M(W),Pe=W.length,te=d,re=0,ee=p,le=0;le<Pe;++le)Oe=W[le],Oe<128&&he.push(T(Oe));for(X=$=he.length,$&&he.push(m);X<Pe;){for(fe=s,le=0;le<Pe;++le)Oe=W[le],Oe>=te&&Oe<fe&&(fe=Oe);for(Fe=X+1,fe-te>w((s-re)/Fe)&&E("overflow"),re+=(fe-te)*Fe,te=fe,le=0;le<Pe;++le)if(Oe=W[le],Oe<te&&++re>s&&E("overflow"),Oe==te){for(Ee=re,ce=u;Se=ce<=ee?l:ce>=ee+c?c:ce-ee,!(Ee<Se);ce+=u)et=Ee-Se,We=u-Se,he.push(T(k(Se+et%We,0))),Ee=w(et/We);he.push(T(k(Ee,0))),ee=R(re,Fe,X==$),re=0,++X}++re,++te}return he.join("")}function U(W){return A(W,function(te){return v.test(te)?B(te.slice(4).toLowerCase()):te})}function V(W){return A(W,function(te){return b.test(te)?"xn--"+z(te):te})}if(a={version:"1.3.2",ucs2:{decode:M,encode:H},decode:B,encode:z,toASCII:V,toUnicode:U},n&&i)if(e.exports==n)i.exports=a;else for(O in a)a.hasOwnProperty(O)&&(n[O]=a[O]);else r.punycode=a})(uK)})(Tg,Tg.exports)),Tg.exports}var YC,WC;function hK(){return WC||(WC=1,YC={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}}),YC}var Uf={},q_,XC;function fK(){if(XC)return q_;XC=1;function e(t,r){return Object.prototype.hasOwnProperty.call(t,r)}return q_=function(t,r,n,i){r=r||"&",n=n||"=";var o={};if(typeof t!="string"||t.length===0)return o;var a=/\+/g;t=t.split(r);var s=1e3;i&&typeof i.maxKeys=="number"&&(s=i.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var l=0;l<u;++l){var c=t[l].replace(a,"%20"),h=c.indexOf(n),f,p,d,m;h>=0?(f=c.substr(0,h),p=c.substr(h+1)):(f=c,p=""),d=decodeURIComponent(f),m=decodeURIComponent(p),e(o,d)?Array.isArray(o[d])?o[d].push(m):o[d]=[o[d],m]:o[d]=m}return o},q_}var K_,$C;function pK(){if($C)return K_;$C=1;var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};return K_=function(t,r,n,i){return r=r||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(o){var a=encodeURIComponent(e(o))+n;return Array.isArray(t[o])?t[o].map(function(s){return a+encodeURIComponent(e(s))}).join(r):a+encodeURIComponent(e(t[o]))}).join(r):i?encodeURIComponent(e(i))+n+encodeURIComponent(e(t)):""},K_}var qC;function dK(){return qC||(qC=1,Uf.decode=Uf.parse=fK(),Uf.encode=Uf.stringify=pK()),Uf}var KC;function mK(){if(KC)return Gs;KC=1;var e=cK(),t=hK();Gs.parse=g,Gs.resolve=_,Gs.resolveObject=w,Gs.format=y,Gs.Url=r;function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var n=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],s=["{","}","|","\\","^","`"].concat(a),u=["'"].concat(s),l=["%","/","?",";","#"].concat(u),c=["/","?","#"],h=255,f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=dK();function g(T,O,E){if(T&&t.isObject(T)&&T instanceof r)return T;var S=new r;return S.parse(T,O,E),S}r.prototype.parse=function(T,O,E){if(!t.isString(T))throw new TypeError("Parameter 'url' must be a string, not "+typeof T);var S=T.indexOf("?"),A=S!==-1&&S<T.indexOf("#")?"?":"#",M=T.split(A),H=/\\/g;M[0]=M[0].replace(H,"/"),T=M.join(A);var N=T;if(N=N.trim(),!E&&T.split("#").length===1){var k=o.exec(N);if(k)return this.path=N,this.href=N,this.pathname=k[1],k[2]?(this.search=k[2],O?this.query=b.parse(this.search.substr(1)):this.query=this.search.substr(1)):O&&(this.search="",this.query={}),this}var R=n.exec(N);if(R){R=R[0];var B=R.toLowerCase();this.protocol=B,N=N.substr(R.length)}if(E||R||N.match(/^\/\/[^@\/]+@[^@\/]+/)){var z=N.substr(0,2)==="//";z&&!(R&&m[R])&&(N=N.substr(2),this.slashes=!0)}if(!m[R]&&(z||R&&!v[R])){for(var U=-1,V=0;V<c.length;V++){var W=N.indexOf(c[V]);W!==-1&&(U===-1||W<U)&&(U=W)}var te,re;U===-1?re=N.lastIndexOf("@"):re=N.lastIndexOf("@",U),re!==-1&&(te=N.slice(0,re),N=N.slice(re+1),this.auth=decodeURIComponent(te)),U=-1;for(var V=0;V<l.length;V++){var W=N.indexOf(l[V]);W!==-1&&(U===-1||W<U)&&(U=W)}U===-1&&(U=N.length),this.host=N.slice(0,U),N=N.slice(U),this.parseHost(),this.hostname=this.hostname||"";var X=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!X)for(var $=this.hostname.split(/\./),V=0,ee=$.length;V<ee;V++){var le=$[V];if(le&&!le.match(f)){for(var fe="",Ee=0,ce=le.length;Ee<ce;Ee++)le.charCodeAt(Ee)>127?fe+="x":fe+=le[Ee];if(!fe.match(f)){var Se=$.slice(0,V),Oe=$.slice(V+1),he=le.match(p);he&&(Se.push(he[1]),Oe.unshift(he[2])),Oe.length&&(N="/"+Oe.join(".")+N),this.hostname=Se.join(".");break}}}this.hostname.length>h?this.hostname="":this.hostname=this.hostname.toLowerCase(),X||(this.hostname=e.toASCII(this.hostname));var Pe=this.port?":"+this.port:"",Fe=this.hostname||"";this.host=Fe+Pe,this.href+=this.host,X&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),N[0]!=="/"&&(N="/"+N))}if(!d[B])for(var V=0,ee=u.length;V<ee;V++){var We=u[V];if(N.indexOf(We)!==-1){var et=encodeURIComponent(We);et===We&&(et=escape(We)),N=N.split(We).join(et)}}var He=N.indexOf("#");He!==-1&&(this.hash=N.substr(He),N=N.slice(0,He));var $e=N.indexOf("?");if($e!==-1?(this.search=N.substr($e),this.query=N.substr($e+1),O&&(this.query=b.parse(this.query)),N=N.slice(0,$e)):O&&(this.search="",this.query={}),N&&(this.pathname=N),v[B]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Pe=this.pathname||"",vt=this.search||"";this.path=Pe+vt}return this.href=this.format(),this};function y(T){return t.isString(T)&&(T=g(T)),T instanceof r?T.format():r.prototype.format.call(T)}r.prototype.format=function(){var T=this.auth||"";T&&(T=encodeURIComponent(T),T=T.replace(/%3A/i,":"),T+="@");var O=this.protocol||"",E=this.pathname||"",S=this.hash||"",A=!1,M="";this.host?A=T+this.host:this.hostname&&(A=T+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(A+=":"+this.port)),this.query&&t.isObject(this.query)&&Object.keys(this.query).length&&(M=b.stringify(this.query));var H=this.search||M&&"?"+M||"";return O&&O.substr(-1)!==":"&&(O+=":"),this.slashes||(!O||v[O])&&A!==!1?(A="//"+(A||""),E&&E.charAt(0)!=="/"&&(E="/"+E)):A||(A=""),S&&S.charAt(0)!=="#"&&(S="#"+S),H&&H.charAt(0)!=="?"&&(H="?"+H),E=E.replace(/[?#]/g,function(N){return encodeURIComponent(N)}),H=H.replace("#","%23"),O+A+E+H+S};function _(T,O){return g(T,!1,!0).resolve(O)}r.prototype.resolve=function(T){return this.resolveObject(g(T,!1,!0)).format()};function w(T,O){return T?g(T,!1,!0).resolveObject(O):O}return r.prototype.resolveObject=function(T){if(t.isString(T)){var O=new r;O.parse(T,!1,!0),T=O}for(var E=new r,S=Object.keys(this),A=0;A<S.length;A++){var M=S[A];E[M]=this[M]}if(E.hash=T.hash,T.href==="")return E.href=E.format(),E;if(T.slashes&&!T.protocol){for(var H=Object.keys(T),N=0;N<H.length;N++){var k=H[N];k!=="protocol"&&(E[k]=T[k])}return v[E.protocol]&&E.hostname&&!E.pathname&&(E.path=E.pathname="/"),E.href=E.format(),E}if(T.protocol&&T.protocol!==E.protocol){if(!v[T.protocol]){for(var R=Object.keys(T),B=0;B<R.length;B++){var z=R[B];E[z]=T[z]}return E.href=E.format(),E}if(E.protocol=T.protocol,!T.host&&!m[T.protocol]){for(var ee=(T.pathname||"").split("/");ee.length&&!(T.host=ee.shift()););T.host||(T.host=""),T.hostname||(T.hostname=""),ee[0]!==""&&ee.unshift(""),ee.length<2&&ee.unshift(""),E.pathname=ee.join("/")}else E.pathname=T.pathname;if(E.search=T.search,E.query=T.query,E.host=T.host||"",E.auth=T.auth,E.hostname=T.hostname||T.host,E.port=T.port,E.pathname||E.search){var U=E.pathname||"",V=E.search||"";E.path=U+V}return E.slashes=E.slashes||T.slashes,E.href=E.format(),E}var W=E.pathname&&E.pathname.charAt(0)==="/",te=T.host||T.pathname&&T.pathname.charAt(0)==="/",re=te||W||E.host&&T.pathname,X=re,$=E.pathname&&E.pathname.split("/")||[],ee=T.pathname&&T.pathname.split("/")||[],le=E.protocol&&!v[E.protocol];if(le&&(E.hostname="",E.port=null,E.host&&($[0]===""?$[0]=E.host:$.unshift(E.host)),E.host="",T.protocol&&(T.hostname=null,T.port=null,T.host&&(ee[0]===""?ee[0]=T.host:ee.unshift(T.host)),T.host=null),re=re&&(ee[0]===""||$[0]==="")),te)E.host=T.host||T.host===""?T.host:E.host,E.hostname=T.hostname||T.hostname===""?T.hostname:E.hostname,E.search=T.search,E.query=T.query,$=ee;else if(ee.length)$||($=[]),$.pop(),$=$.concat(ee),E.search=T.search,E.query=T.query;else if(!t.isNullOrUndefined(T.search)){if(le){E.hostname=E.host=$.shift();var fe=E.host&&E.host.indexOf("@")>0?E.host.split("@"):!1;fe&&(E.auth=fe.shift(),E.host=E.hostname=fe.shift())}return E.search=T.search,E.query=T.query,(!t.isNull(E.pathname)||!t.isNull(E.search))&&(E.path=(E.pathname?E.pathname:"")+(E.search?E.search:"")),E.href=E.format(),E}if(!$.length)return E.pathname=null,E.search?E.path="/"+E.search:E.path=null,E.href=E.format(),E;for(var Ee=$.slice(-1)[0],ce=(E.host||T.host||$.length>1)&&(Ee==="."||Ee==="..")||Ee==="",Se=0,Oe=$.length;Oe>=0;Oe--)Ee=$[Oe],Ee==="."?$.splice(Oe,1):Ee===".."?($.splice(Oe,1),Se++):Se&&($.splice(Oe,1),Se--);if(!re&&!X)for(;Se--;Se)$.unshift("..");re&&$[0]!==""&&(!$[0]||$[0].charAt(0)!=="/")&&$.unshift(""),ce&&$.join("/").substr(-1)!=="/"&&$.push("");var he=$[0]===""||$[0]&&$[0].charAt(0)==="/";if(le){E.hostname=E.host=he?"":$.length?$.shift():"";var fe=E.host&&E.host.indexOf("@")>0?E.host.split("@"):!1;fe&&(E.auth=fe.shift(),E.host=E.hostname=fe.shift())}return re=re||E.host&&$.length,re&&!he&&$.unshift(""),$.length?E.pathname=$.join("/"):(E.pathname=null,E.path=null),(!t.isNull(E.pathname)||!t.isNull(E.search))&&(E.path=(E.pathname?E.pathname:"")+(E.search?E.search:"")),E.auth=T.auth||E.auth,E.slashes=E.slashes||T.slashes,E.href=E.format(),E},r.prototype.parseHost=function(){var T=this.host,O=i.exec(T);O&&(O=O[0],O!==":"&&(this.port=O.substr(1)),T=T.substr(0,T.length-O.length)),T&&(this.hostname=T)},Gs}var UD=mK();const VD=Gv(UD);/*!
* @pixi/constants - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/constants is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var $o;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})($o||($o={}));var Uc;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(Uc||(Uc={}));var Od;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(Od||(Od={}));var dt;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(dt||(dt={}));var Xi;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Xi||(Xi={}));var Vc;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Vc||(Vc={}));var gs;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(gs||(gs={}));var Wr;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(Wr||(Wr={}));var Uo;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(Uo||(Uo={}));var Oa;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Oa||(Oa={}));var Gc;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON"})(Gc||(Gc={}));var Ra;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(Ra||(Ra={}));var co;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(co||(co={}));var o0;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(o0||(o0={}));var go;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(go||(go={}));var li;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(li||(li={}));var Rl;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(Rl||(Rl={}));/*!
* @pixi/utils - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/utils is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/lt.RETINA_PREFIX=/@([0-9\.]+)x/;lt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var U2=!1,ZC="5.3.12";function gK(){U2=!0}function GD(e){var t;if(!U2){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+ZC+" - ✰ "+e+` ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=window.console).log.apply(t,r)}else window.console&&window.console.log("PixiJS "+ZC+" - "+e+" - http://www.pixijs.com/");U2=!0}}var Z_;function YD(){return typeof Z_>"u"&&(Z_=(function(){var e={stencil:!0,failIfMajorPerformanceCaveat:lt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),n=!!(r&&r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch{return!1}})()),Z_}function Dl(e,t){return t===void 0&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(e&255)/255,t}function c9(e){var t=e.toString(16);return t="000000".substr(0,6-t.length)+t,"#"+t}function h9(e){return typeof e=="string"&&e[0]==="#"&&(e=e.substr(1)),parseInt(e,16)}function yK(e){return(e[0]*255<<16)+(e[1]*255<<8)+(e[2]*255|0)}function vK(){for(var e=[],t=[],r=0;r<32;r++)e[r]=r,t[r]=r;e[dt.NORMAL_NPM]=dt.NORMAL,e[dt.ADD_NPM]=dt.ADD,e[dt.SCREEN_NPM]=dt.SCREEN,t[dt.NORMAL]=dt.NORMAL_NPM,t[dt.ADD]=dt.ADD_NPM,t[dt.SCREEN]=dt.SCREEN_NPM;var n=[];return n.push(t),n.push(e),n}var f9=vK();function p9(e,t){return f9[t?1:0][e]}function WD(e,t,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r}function Yv(e,t){if(t===1)return(t*255<<24)+e;if(t===0)return 0;var r=e>>16&255,n=e>>8&255,i=e&255;return r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0,(t*255<<24)+(r<<16)+(n<<8)+i}function d9(e,t,r,n){return r=r||new Float32Array(4),r[0]=(e>>16&255)/255,r[1]=(e>>8&255)/255,r[2]=(e&255)/255,(n||n===void 0)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r}function XD(e,t){t===void 0&&(t=null);var r=e*6;if(t=t||new Uint16Array(r),t.length!==r)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)t[n+0]=i+0,t[n+1]=i+1,t[n+2]=i+2,t[n+3]=i+0,t[n+4]=i+2,t[n+5]=i+3;return t}function $D(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}var bK={Float32Array,Uint32Array,Int32Array,Uint8Array};function _K(e,t){for(var r=0,n=0,i={},o=0;o<e.length;o++)n+=t[o],r+=e[o].length;for(var a=new ArrayBuffer(r*4),s=null,u=0,o=0;o<e.length;o++){var l=t[o],c=e[o],h=$D(c);i[h]||(i[h]=new bK[h](a)),s=i[h];for(var f=0;f<c.length;f++){var p=(f/l|0)*n+u,d=f%l;s[p+d]=c[f]}u+=l}return new Float32Array(a)}function Pd(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function V2(e){return!(e&e-1)&&!!e}function G2(e){var t=(e>65535?1:0)<<4;e>>>=t;var r=(e>255?1:0)<<3;return e>>>=r,t|=r,r=(e>15?1:0)<<2,e>>>=r,t|=r,r=(e>3?1:0)<<1,e>>>=r,t|=r,t|e>>1}function kl(e,t,r){var n=e.length,i;if(!(t>=n||r===0)){r=t+r>n?n-t:r;var o=n-r;for(i=t;i<o;++i)e[i]=e[i+r];e.length=o}}function _l(e){return e===0?0:e<0?-1:1}var wK=0;function Nl(){return++wK}var QC={};function Ae(e,t,r){if(r===void 0&&(r=3),!QC[t]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+`
Deprecated since v`+e),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e),console.warn(n))),QC[t]=!0}}var Y2={},ui=Object.create(null),zi=Object.create(null);function TK(){var e;for(e in ui)ui[e].destroy();for(e in zi)zi[e].destroy()}function xK(){var e;for(e in ui)delete ui[e];for(e in zi)delete zi[e]}var W2=(function(){function e(t,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||lt.RESOLUTION,this.resize(t,r)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(t,r){this.canvas.width=t*this.resolution,this.canvas.height=r*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),e})();function qD(e){var t=e.width,r=e.height,n=e.getContext("2d"),i=n.getImageData(0,0,t,r),o=i.data,a=o.length,s={top:null,left:null,right:null,bottom:null},u=null,l,c,h;for(l=0;l<a;l+=4)o[l+3]!==0&&(c=l/4%t,h=~~(l/4/t),s.top===null&&(s.top=h),(s.left===null||c<s.left)&&(s.left=c),(s.right===null||s.right<c)&&(s.right=c+1),(s.bottom===null||s.bottom<h)&&(s.bottom=h));return s.top!==null&&(t=s.right-s.left,r=s.bottom-s.top+1,u=n.getImageData(s.left,s.top,t,r)),{height:r,width:t,data:u}}var KD=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function EK(e){var t=KD.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}var hm;function ZD(e,t){if(t===void 0&&(t=window.location),e.indexOf("data:")===0)return"";t=t||window.location,hm||(hm=document.createElement("a")),hm.href=e;var r=UD.parse(hm.href),n=!r.port&&t.port===""||r.port===t.port;return r.hostname!==t.hostname||!n||r.protocol!==t.protocol?"anonymous":""}function Cd(e,t){var r=lt.RETINA_PREFIX.exec(e);return r?parseFloat(r[1]):t!==void 0?t:1}const SK=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:zi,CanvasRenderTarget:W2,DATA_URI:KD,EventEmitter:af,ProgramCache:Y2,TextureCache:ui,clearTextureCache:xK,correctBlendMode:p9,createIndicesForQuads:XD,decomposeDataUri:EK,deprecation:Ae,destroyTextureCache:TK,determineCrossOrigin:ZD,earcut:l9,getBufferType:$D,getResolutionOfUrl:Cd,hex2rgb:Dl,hex2string:c9,interleaveTypedArrays:_K,isMobile:Wi,isPow2:V2,isWebGLSupported:YD,log2:G2,nextPow2:Pd,premultiplyBlendMode:f9,premultiplyRgba:WD,premultiplyTint:Yv,premultiplyTintToRgba:d9,removeItems:kl,rgb2hex:yK,sayHello:GD,sign:_l,skipHello:gK,string2hex:h9,trimCanvas:qD,uid:Nl,url:VD},Symbol.toStringTag,{value:"Module"}));/*!
* @pixi/math - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/math is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var Yc=Math.PI*2,QD=180/Math.PI,JD=Math.PI/180,Nr;(function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"})(Nr||(Nr={}));var ar=(function(){function e(t,r,n,i){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(t),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Nr.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},e.prototype.contains=function(t,r){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&r>=this.y&&r<this.y+this.height},e.prototype.pad=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),this.x-=t,this.y-=r,this.width+=t*2,this.height+=r*2,this},e.prototype.fit=function(t){var r=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(o-i,0),this},e.prototype.ceil=function(t,r){t===void 0&&(t=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*t)/t,i=Math.ceil((this.y+this.height-r)*t)/t;return this.x=Math.floor((this.x+r)*t)/t,this.y=Math.floor((this.y+r)*t)/t,this.width=n-this.x,this.height=i-this.y,this},e.prototype.enlarge=function(t){var r=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=r,this.width=n-r,this.y=i,this.height=o-i,this},e})(),eN=(function(){function e(t,r,n){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=t,this.y=r,this.radius=n,this.type=Nr.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(t,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-t,o=this.y-r;return i*=i,o*=o,i+o<=n},e.prototype.getBounds=function(){return new ar(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},e})(),tN=(function(){function e(t,r,n,i){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=t,this.y=r,this.width=n,this.height=i,this.type=Nr.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(t,r){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},e.prototype.getBounds=function(){return new ar(this.x-this.width,this.y-this.height,this.width,this.height)},e})(),Oc=(function(){function e(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var o=[],a=0,s=i.length;a<s;a++)o.push(i[a].x,i[a].y);i=o}this.points=i,this.type=Nr.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=this.points.slice(),r=new e(t);return r.closeStroke=this.closeStroke,r},e.prototype.contains=function(t,r){for(var n=!1,i=this.points.length/2,o=0,a=i-1;o<i;a=o++){var s=this.points[o*2],u=this.points[o*2+1],l=this.points[a*2],c=this.points[a*2+1],h=u>r!=c>r&&t<(l-s)*((r-u)/(c-u))+s;h&&(n=!n)}return n},e})(),rN=(function(){function e(t,r,n,i,o){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),o===void 0&&(o=20),this.x=t,this.y=r,this.width=n,this.height=i,this.radius=o,this.type=Nr.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(t,r){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){if(r>=this.y+this.radius&&r<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var n=t-(this.x+this.radius),i=r-(this.y+this.radius),o=this.radius*this.radius;if(n*n+i*i<=o||(n=t-(this.x+this.width-this.radius),n*n+i*i<=o)||(i=r-(this.y+this.height-this.radius),n*n+i*i<=o)||(n=t-(this.x+this.radius),n*n+i*i<=o))return!0}return!1},e})(),hn=(function(){function e(t,r){t===void 0&&(t=0),r===void 0&&(r=0),this.x=t,this.y=r}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},e.prototype.copyTo=function(t){return t.set(this.x,this.y),t},e.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},e.prototype.set=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),this.x=t,this.y=r,this},e})(),wl=(function(){function e(t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=t,this.scope=r}return e.prototype.clone=function(t,r){return t===void 0&&(t=this.cb),r===void 0&&(r=this.scope),new e(t,r,this._x,this._y)},e.prototype.set=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),(this._x!==t||this._y!==r)&&(this._x=t,this._y=r,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(t){return t.set(this._x,this._y),t},e.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e})(),$r=(function(){function e(t,r,n,i,o,a){t===void 0&&(t=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=0),a===void 0&&(a=0),this.array=null,this.a=t,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=a}return e.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},e.prototype.set=function(t,r,n,i,o,a){return this.a=t,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=a,this},e.prototype.toArray=function(t,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},e.prototype.apply=function(t,r){r=r||new hn;var n=t.x,i=t.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},e.prototype.applyInverse=function(t,r){r=r||new hn;var n=1/(this.a*this.d+this.c*-this.b),i=t.x,o=t.y;return r.x=this.d*n*i+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*o+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},e.prototype.translate=function(t,r){return this.tx+=t,this.ty+=r,this},e.prototype.scale=function(t,r){return this.a*=t,this.d*=r,this.c*=t,this.b*=r,this.tx*=t,this.ty*=r,this},e.prototype.rotate=function(t){var r=Math.cos(t),n=Math.sin(t),i=this.a,o=this.c,a=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=o*r-this.d*n,this.d=o*n+this.d*r,this.tx=a*r-this.ty*n,this.ty=a*n+this.ty*r,this},e.prototype.append=function(t){var r=this.a,n=this.b,i=this.c,o=this.d;return this.a=t.a*r+t.b*i,this.b=t.a*n+t.b*o,this.c=t.c*r+t.d*i,this.d=t.c*n+t.d*o,this.tx=t.tx*r+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*o+this.ty,this},e.prototype.setTransform=function(t,r,n,i,o,a,s,u,l){return this.a=Math.cos(s+l)*o,this.b=Math.sin(s+l)*o,this.c=-Math.sin(s-u)*a,this.d=Math.cos(s-u)*a,this.tx=t-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},e.prototype.prepend=function(t){var r=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){var n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this},e.prototype.decompose=function(t){var r=this.a,n=this.b,i=this.c,o=this.d,a=-Math.atan2(-i,o),s=Math.atan2(n,r),u=Math.abs(a+s);return u<1e-5||Math.abs(Yc-u)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=s),t.scale.x=Math.sqrt(r*r+n*n),t.scale.y=Math.sqrt(i*i+o*o),t.position.x=this.tx,t.position.y=this.ty,t},e.prototype.invert=function(){var t=this.a,r=this.b,n=this.c,i=this.d,o=this.tx,a=t*i-r*n;return this.a=i/a,this.b=-r/a,this.c=-n/a,this.d=t/a,this.tx=(n*this.ty-i*o)/a,this.ty=-(t*this.ty-r*o)/a,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e})(),cl=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],hl=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],fl=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],pl=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],X2=[],nN=[],fm=Math.sign;function kK(){for(var e=0;e<16;e++){var t=[];X2.push(t);for(var r=0;r<16;r++)for(var n=fm(cl[e]*cl[r]+fl[e]*hl[r]),i=fm(hl[e]*cl[r]+pl[e]*hl[r]),o=fm(cl[e]*fl[r]+fl[e]*pl[r]),a=fm(hl[e]*fl[r]+pl[e]*pl[r]),s=0;s<16;s++)if(cl[s]===n&&hl[s]===i&&fl[s]===o&&pl[s]===a){t.push(s);break}}for(var e=0;e<16;e++){var u=new $r;u.set(cl[e],hl[e],fl[e],pl[e],0,0),nN.push(u)}}kK();var Er={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return cl[e]},uY:function(e){return hl[e]},vX:function(e){return fl[e]},vY:function(e){return pl[e]},inv:function(e){return e&8?e&15:-e&7},add:function(e,t){return X2[e][t]},sub:function(e,t){return X2[e][Er.inv(t)]},rotate180:function(e){return e^4},isVertical:function(e){return(e&3)===2},byDirection:function(e,t){return Math.abs(e)*2<=Math.abs(t)?t>=0?Er.S:Er.N:Math.abs(t)*2<=Math.abs(e)?e>0?Er.E:Er.W:t>0?e>0?Er.SE:Er.SW:e>0?Er.NE:Er.NW},matrixAppendRotationInv:function(e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=nN[Er.inv(t)];i.tx=r,i.ty=n,e.append(i)}},m9=(function(){function e(){this.worldTransform=new $r,this.localTransform=new $r,this.position=new wl(this.onChange,this,0,0),this.scale=new wl(this.onChange,this,1,1),this.pivot=new wl(this.onChange,this,0,0),this.skew=new wl(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e})();/*!
* @pixi/display - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/display is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/lt.SORTABLE_CHILDREN=!1;var Ad=(function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?ar.EMPTY:(t=t||new ar(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},e.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},e.prototype.addQuad=function(t){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY,a=t[0],s=t[1];r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=t[2],s=t[3],r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=t[4],s=t[5],r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=t[6],s=t[7],r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,this.minX=r,this.minY=n,this.maxX=i,this.maxY=o},e.prototype.addFrame=function(t,r,n,i,o){this.addFrameMatrix(t.worldTransform,r,n,i,o)},e.prototype.addFrameMatrix=function(t,r,n,i,o){var a=t.a,s=t.b,u=t.c,l=t.d,c=t.tx,h=t.ty,f=this.minX,p=this.minY,d=this.maxX,m=this.maxY,v=a*r+u*n+c,b=s*r+l*n+h;f=v<f?v:f,p=b<p?b:p,d=v>d?v:d,m=b>m?b:m,v=a*i+u*n+c,b=s*i+l*n+h,f=v<f?v:f,p=b<p?b:p,d=v>d?v:d,m=b>m?b:m,v=a*r+u*o+c,b=s*r+l*o+h,f=v<f?v:f,p=b<p?b:p,d=v>d?v:d,m=b>m?b:m,v=a*i+u*o+c,b=s*i+l*o+h,f=v<f?v:f,p=b<p?b:p,d=v>d?v:d,m=b>m?b:m,this.minX=f,this.minY=p,this.maxX=d,this.maxY=m},e.prototype.addVertexData=function(t,r,n){for(var i=this.minX,o=this.minY,a=this.maxX,s=this.maxY,u=r;u<n;u+=2){var l=t[u],c=t[u+1];i=l<i?l:i,o=c<o?c:o,a=l>a?l:a,s=c>s?c:s}this.minX=i,this.minY=o,this.maxX=a,this.maxY=s},e.prototype.addVertices=function(t,r,n,i){this.addVerticesMatrix(t.worldTransform,r,n,i)},e.prototype.addVerticesMatrix=function(t,r,n,i,o,a){o===void 0&&(o=0),a===void 0&&(a=o);for(var s=t.a,u=t.b,l=t.c,c=t.d,h=t.tx,f=t.ty,p=this.minX,d=this.minY,m=this.maxX,v=this.maxY,b=n;b<i;b+=2){var g=r[b],y=r[b+1],_=s*g+l*y+h,w=c*y+u*g+f;p=Math.min(p,_-o),m=Math.max(m,_+o),d=Math.min(d,w-a),v=Math.max(v,w+a)}this.minX=p,this.minY=d,this.maxX=m,this.maxY=v},e.prototype.addBounds=function(t){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY;this.minX=t.minX<r?t.minX:r,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>o?t.maxY:o},e.prototype.addBoundsMask=function(t,r){var n=t.minX>r.minX?t.minX:r.minX,i=t.minY>r.minY?t.minY:r.minY,o=t.maxX<r.maxX?t.maxX:r.maxX,a=t.maxY<r.maxY?t.maxY:r.maxY;if(n<=o&&i<=a){var s=this.minX,u=this.minY,l=this.maxX,c=this.maxY;this.minX=n<s?n:s,this.minY=i<u?i:u,this.maxX=o>l?o:l,this.maxY=a>c?a:c}},e.prototype.addBoundsMatrix=function(t,r){this.addFrameMatrix(r,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.addBoundsArea=function(t,r){var n=t.minX>r.x?t.minX:r.x,i=t.minY>r.y?t.minY:r.y,o=t.maxX<r.x+r.width?t.maxX:r.x+r.width,a=t.maxY<r.y+r.height?t.maxY:r.y+r.height;if(n<=o&&i<=a){var s=this.minX,u=this.minY,l=this.maxX,c=this.maxY;this.minX=n<s?n:s,this.minY=i<u?i:u,this.maxX=o>l?o:l,this.maxY=a>c?a:c}},e.prototype.pad=function(t,r){t===void 0&&(t=0),r===void 0&&(r=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=r,this.maxY+=r)},e.prototype.addFramePad=function(t,r,n,i,o,a){t-=o,r-=a,n+=o,i+=a,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},e})();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var $2=function(e,t){return $2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},$2(e,t)};function g9(e,t){$2(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var qr=(function(e){g9(t,e);function t(){var r=e.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new m9,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new Ad,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return t.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var o=n[i];Object.defineProperty(t.prototype,o,Object.getOwnPropertyDescriptor(r,o))}},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new ar),n=this._boundsRect),this._bounds.getRectangle(n)},t.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new ar),r=this._localBoundsRect),this._localBounds||(this._localBounds=new Ad);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=o,this._bounds.updateID+=this._boundsID-a,s},t.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},t.prototype.toLocal=function(r,n,i,o){return n&&(r=n.toGlobal(r,i,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},t.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},t.prototype.setTransform=function(r,n,i,o,a,s,u,l,c){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=1),a===void 0&&(a=0),s===void 0&&(s=0),u===void 0&&(u=0),l===void 0&&(l=0),c===void 0&&(c=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=o||1,this.rotation=a,this.skew.x=s,this.skew.y=u,this.pivot.x=l,this.pivot.y=c,this},t.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new y9),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},t.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*QD},set:function(r){this.transform.rotation=r*JD},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask){var n=this._mask.maskObject||this._mask;n.renderable=!0,n.isMask=!1}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n.renderable=!1,n.isMask=!0}},enumerable:!1,configurable:!0}),t})(af),y9=(function(e){g9(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.sortDirty=null,r}return t})(qr);qr.prototype.displayObjectUpdateTransform=qr.prototype.updateTransform;function OK(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var wo=(function(e){g9(t,e);function t(){var r=e.call(this)||this;return r.children=[],r.sortableChildren=lt.SORTABLE_CHILDREN,r.sortDirty=!1,r}return t.prototype.onChildrenChange=function(r){},t.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var o=0;o<n.length;o++)this.addChild(n[o]);else{var a=n[0];a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",a,this,this.children.length-1),a.emit("added",this)}return n[0]},t.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},t.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),o=this.getChildIndex(n);this.children[i]=n,this.children[o]=r,this.onChildrenChange(i<o?i:o)}},t.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},t.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);kl(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},t.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},t.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var o=0;o<n.length;o++)this.removeChild(n[o]);else{var a=n[0],s=this.children.indexOf(a);if(s===-1)return null;a.parent=null,a.transform._parentID=-1,kl(this.children,s,1),this._boundsID++,this.onChildrenChange(s),a.emit("removed",this),this.emit("childRemoved",a,this,s)}return n[0]},t.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,kl(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},t.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,o=n,a=o-i,s;if(a>0&&a<=o){s=this.children.splice(i,a);for(var u=0;u<s.length;++u)s[u].parent=null,s[u].transform&&(s[u].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var u=0;u<s.length;++u)s[u].emit("removed",this),this.emit("childRemoved",s[u],this,u);return s}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var o=this.children[n];o._lastSortedIndex=n,!r&&o.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(OK),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=e.prototype.getLocalBounds.call(this,r);if(!n)for(var o=0,a=this.children.length;o<a;++o){var s=this.children[o];s.visible&&s.updateTransform()}return i},t.prototype._calculateBounds=function(){},t.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},t.prototype.renderAdvanced=function(r){r.batch.flush();var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<n.length;o++)n[o].enabled&&this._enabledFilters.push(n[o]);this._enabledFilters.length&&r.filter.push(this,this._enabledFilters)}i&&r.mask.push(this,this._mask),this._render(r);for(var o=0,a=this.children.length;o<a;o++)this.children[o].render(r);r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},t.prototype._render=function(r){},t.prototype.destroy=function(r){e.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var o=0;o<i.length;++o)i[o].destroy(r)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),t})(qr);wo.prototype.containerUpdateTransform=wo.prototype.updateTransform;/*!
* @pixi/accessibility - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/accessibility is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var iN={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};qr.mixin(iN);var PK=9,pm=100,CK=0,AK=0,JC=2,eA=1,MK=-1e3,IK=-1e3,RK=2,oN=(function(){function e(t){this._hookDiv=null,(Wi.tablet||Wi.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=pm+"px",r.style.height=pm+"px",r.style.position="absolute",r.style.top=CK+"px",r.style.left=AK+"px",r.style.zIndex=JC.toString(),this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var t=this,r=document.createElement("button");r.style.width=eA+"px",r.style.height=eA+"px",r.style.position="absolute",r.style.top=MK+"px",r.style.left=IK+"px",r.style.zIndex=RK.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessability for this content",r.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(t){if(!(!t.visible||!t.accessibleChildren)){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var r=t.children,n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},e.prototype.update=function(){var t=performance.now();if(!(Wi.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=this.renderer.resolution,i=r.width/this.renderer.width*n,o=r.height/this.renderer.height*n,a=this.div;a.style.left=r.left+"px",a.style.top=r.top+"px",a.style.width=this.renderer.width+"px",a.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var u=this.children[s];if(u.renderId!==this.renderId)u._accessibleActive=!1,kl(this.children,s,1),this.div.removeChild(u._accessibleDiv),this.pool.push(u._accessibleDiv),u._accessibleDiv=null,s--;else{a=u._accessibleDiv;var l=u.hitArea,c=u.worldTransform;u.hitArea?(a.style.left=(c.tx+l.x*c.a)*i+"px",a.style.top=(c.ty+l.y*c.d)*o+"px",a.style.width=l.width*c.a*i+"px",a.style.height=l.height*c.d*o+"px"):(l=u.getBounds(),this.capHitArea(l),a.style.left=l.x*i+"px",a.style.top=l.y*o+"px",a.style.width=l.width*i+"px",a.style.height=l.height*o+"px",a.title!==u.accessibleTitle&&u.accessibleTitle!==null&&(a.title=u.accessibleTitle),a.getAttribute("aria-label")!==u.accessibleHint&&u.accessibleHint!==null&&a.setAttribute("aria-label",u.accessibleHint)),(u.accessibleTitle!==a.title||u.tabIndex!==a.tabIndex)&&(a.title=u.accessibleTitle,a.tabIndex=u.tabIndex,this.debug&&this.updateDebugHTML(a))}}this.renderId++}},e.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},e.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},e.prototype.addChild=function(t){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=pm+"px",r.style.height=pm+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=JC.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=t.accessiblePointerEvents,r.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?r.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(r.title="displayObject "+t.tabIndex),t.accessibleHint&&t.accessibleHint!==null&&r.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(r),t._accessibleActive=!0,t._accessibleDiv=r,r.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},e.prototype._onClick=function(t){var r=this.renderer.plugins.interaction;r.dispatchEvent(t.target.displayObject,"click",r.eventData),r.dispatchEvent(t.target.displayObject,"pointertap",r.eventData),r.dispatchEvent(t.target.displayObject,"tap",r.eventData)},e.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction;r.dispatchEvent(t.target.displayObject,"mouseover",r.eventData)},e.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction;r.dispatchEvent(t.target.displayObject,"mouseout",r.eventData)},e.prototype._onKeyDown=function(t){t.keyCode===PK&&this.activate()},e.prototype._onMouseMove=function(t){t.movementX===0&&t.movementY===0||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e})();/*!
* @pixi/ticker - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/ticker is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/lt.TARGET_FPMS=.06;var qo;(function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"})(qo||(qo={}));var Q_=(function(){function e(t,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.fn=t,this.context=r,this.priority=n,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return e.prototype.match=function(t,r){return r===void 0&&(r=null),this.fn===t&&this.context===r},e.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},e.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},e.prototype.destroy=function(t){t===void 0&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=t?null:r,this.previous=null,r},e})(),cn=(function(){function e(){var t=this;this._head=new Q_(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/lt.TARGET_FPMS,this.elapsedMS=1/lt.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(r){t._requestId=null,t.started&&(t.update(r),t.started&&t._requestId===null&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(t,r,n){return n===void 0&&(n=qo.NORMAL),this._addListener(new Q_(t,r,n))},e.prototype.addOnce=function(t,r,n){return n===void 0&&(n=qo.NORMAL),this._addListener(new Q_(t,r,n,!0))},e.prototype._addListener=function(t){var r=this._head.next,n=this._head;if(!r)t.connect(n);else{for(;r;){if(t.priority>r.priority){t.connect(n);break}n=r,r=r.next}t.previous||t.connect(n)}return this._startIfPossible(),this},e.prototype.remove=function(t,r){for(var n=this._head.next;n;)n.match(t,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,r=this._head;r=r.next;)t++;return t},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(t){t===void 0&&(t=performance.now());var r;if(t>this.lastTime){if(r=this.elapsedMS=t-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*lt.TARGET_FPMS;for(var i=this._head,o=i.next;o;)o=o.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var r=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,r)/1e3,lt.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(t===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,t);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e})(),aN=(function(){function e(){}return e.init=function(t){var r=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,qo.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?cn.shared:new cn,t.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},e})();/*!
* @pixi/interaction - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/interaction is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var q2=(function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new hn,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(t,r,n){return t.worldTransform.applyInverse(n||this.global,r)},e.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var r="buttons"in t&&t.buttons;this.buttons=Number.isInteger(r)?r:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e})();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var K2=function(e,t){return K2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},K2(e,t)};function DK(e,t){K2(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var sN=(function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e})(),xg=(function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(t,r){r?this._flags=this._flags|t:this._flags=this._flags&~t},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return(this._flags&e.FLAGS.OVER)!==0},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return(this._flags&e.FLAGS.RIGHT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return(this._flags&e.FLAGS.LEFT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),e})(),NK=(function(){function e(){this._tempPoint=new hn}return e.prototype.recursiveFindHit=function(t,r,n,i,o){if(!r||!r.visible)return!1;var a=t.data.global;o=r.interactive||o;var s=!1,u=o,l=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(a,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,l=!1)),u=!1):r._mask&&i&&(r._mask.containsPoint&&r._mask.containsPoint(a)||(i=!1)),l&&r.interactiveChildren&&r.children)for(var c=r.children,h=c.length-1;h>=0;h--){var f=c[h],p=this.recursiveFindHit(t,f,n,i,u);if(p){if(!f.parent)continue;u=!1,p&&(t.target&&(i=!1),s=!0)}}return o&&(i&&!t.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(a)&&(s=!0),r.interactive&&(s&&!t.target&&(t.target=r),n&&n(t,r,!!s))),s},e.prototype.findHit=function(t,r,n,i){this.recursiveFindHit(t,r,n,i,!1)},e})(),lN={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(e){e?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};qr.mixin(lN);var dm=1,mm={target:null,data:{global:null}},uN=(function(e){DK(t,e);function t(r,n){var i=e.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new q2,i.mouse.identifier=dm,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[dm]=i.mouse,i.interactionDataPool=[],i.eventData=new sN,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new NK,i._tempDisplayObject=new y9,i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(r,n){return mm.target=null,mm.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(mm,n,null,!0),mm.target},t.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(cn.system.add(this.tickerUpdate,this,qo.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){this.tickerAdded&&(cn.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(r){if(r=r||"default",this.currentCursorMode!==r){this.currentCursorMode=r;var n=this.cursorStyles[r];if(n)switch(typeof n){case"string":this.interactionDOMElement.style.cursor=n;break;case"function":n(r);break;case"object":Object.assign(this.interactionDOMElement.style,n);break}else typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},t.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},t.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},t.prototype.mapPositionToPoint=function(r,n,i){var o;this.interactionDOMElement.parentElement?o=this.interactionDOMElement.getBoundingClientRect():o={x:0,y:0,width:0,height:0};var a=1/this.resolution;r.x=(n-o.left)*(this.interactionDOMElement.width/o.width)*a,r.y=(i-o.top)*(this.interactionDOMElement.height/o.height)*a},t.prototype.processInteractive=function(r,n,i,o){var a=this.search.findHit(r,n,i,o),s=this.delayedEvents;if(!s.length)return a;r.stopPropagationHint=!1;var u=s.length;this.delayedEvents=[];for(var l=0;l<u;l++){var c=s[l],h=c.displayObject,f=c.eventString,p=c.eventData;p.stopsPropagatingAt===h&&(p.stopPropagationHint=!0),this.dispatchEvent(h,f,p)}return a},t.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var o=n.length,a=0;a<o;a++){var s=n[a],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(l.data.originalEvent=r,this.processInteractive(l,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",l),s.pointerType==="touch")this.emit("touchstart",l);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var c=s.button===2;this.emit(c?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(r,n,i){var o=r.data,a=r.data.identifier;if(i){if(n.trackedPointers[a]||(n.trackedPointers[a]=new xg(a)),this.dispatchEvent(n,"pointerdown",r),o.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var s=o.button===2;s?n.trackedPointers[a].rightDown=!0:n.trackedPointers[a].leftDown=!0,this.dispatchEvent(n,s?"rightdown":"mousedown",r)}}},t.prototype.onPointerComplete=function(r,n,i){for(var o=this.normalizeToPointerData(r),a=o.length,s=r.target!==this.interactionDOMElement?"outside":"",u=0;u<a;u++){var l=o[u],c=this.getInteractionDataForPointerId(l),h=this.configureInteractionEventForDOMEvent(this.eventData,l,c);if(h.data.originalEvent=r,this.processInteractive(h,this.lastObjectRendered,i,n||!s),this.emit(n?"pointercancel":"pointerup"+s,h),l.pointerType==="mouse"||l.pointerType==="pen"){var f=l.button===2;this.emit(f?"rightup"+s:"mouseup"+s,h)}else l.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+s,h),this.releaseInteractionDataForPointerId(l.pointerId))}},t.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(r,n){var i=r.data,o=r.data.identifier;n.trackedPointers[o]!==void 0&&(delete n.trackedPointers[o],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},t.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},t.prototype.processPointerUp=function(r,n,i){var o=r.data,a=r.data.identifier,s=n.trackedPointers[a],u=o.pointerType==="touch",l=o.pointerType==="mouse"||o.pointerType==="pen",c=!1;if(l){var h=o.button===2,f=xg.FLAGS,p=h?f.RIGHT_DOWN:f.LEFT_DOWN,d=s!==void 0&&s.flags&p;i?(this.dispatchEvent(n,h?"rightup":"mouseup",r),d&&(this.dispatchEvent(n,h?"rightclick":"click",r),c=!0)):d&&this.dispatchEvent(n,h?"rightupoutside":"mouseupoutside",r),s&&(h?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),u&&this.dispatchEvent(n,"touchend",r),s&&((!l||c)&&this.dispatchEvent(n,"pointertap",r),u&&(this.dispatchEvent(n,"tap",r),s.over=!1))):s&&(this.dispatchEvent(n,"pointerupoutside",r),u&&this.dispatchEvent(n,"touchendoutside",r)),s&&s.none&&delete n.trackedPointers[a]},t.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,o=0;o<i;o++){var a=n[o],s=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,s);u.data.originalEvent=r,this.processInteractive(u,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",u),a.pointerType==="touch"&&this.emit("touchmove",u),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mousemove",u)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(r,n,i){var o=r.data,a=o.pointerType==="touch",s=o.pointerType==="mouse"||o.pointerType==="pen";s&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),a&&this.dispatchEvent(n,"touchmove",r),s&&this.dispatchEvent(n,"mousemove",r))},t.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,this.processInteractive(a,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",a),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",a):this.releaseInteractionDataForPointerId(o.identifier)}},t.prototype.processPointerOverOut=function(r,n,i){var o=r.data,a=r.data.identifier,s=o.pointerType==="mouse"||o.pointerType==="pen",u=n.trackedPointers[a];i&&!u&&(u=n.trackedPointers[a]=new xg(a)),u!==void 0&&(i&&this.mouseOverRenderer?(u.over||(u.over=!0,this.delayDispatchEvent(n,"pointerover",r),s&&this.delayDispatchEvent(n,"mouseover",r)),s&&this.cursor===null&&(this.cursor=n.cursor)):u.over&&(u.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),s&&this.dispatchEvent(n,"mouseout",r),u.none&&delete n.trackedPointers[a]))},t.prototype.onPointerOver=function(r){var n=this.normalizeToPointerData(r),i=n[0],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",a),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",a)},t.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===dm||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new q2,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},t.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},t.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},t.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,o=r.changedTouches.length;i<o;i++){var a=r.changedTouches[i];typeof a.button>"u"&&(a.button=r.touches.length?1:0),typeof a.buttons>"u"&&(a.buttons=r.touches.length?1:0),typeof a.isPrimary>"u"&&(a.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,n.push(a)}else if(r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof window.PointerEvent))){var s=r;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=dm),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,n.push(s)}else n.push(r);return n},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t})(af);/*!
* @pixi/runner - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/runner is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var _n=(function(){function e(t){this.items=[],this._name=t,this._aliasCount=0}return e.prototype.emit=function(t,r,n,i,o,a,s,u){if(arguments.length>8)throw new Error("max arguments reached");var l=this,c=l.name,h=l.items;this._aliasCount++;for(var f=0,p=h.length;f<p;f++)h[f][c](t,r,n,i,o,a,s,u);return h===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},e.prototype.remove=function(t){var r=this.items.indexOf(t);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},e.prototype.contains=function(t){return this.items.indexOf(t)!==-1},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e})();Object.defineProperties(_n.prototype,{dispatch:{value:_n.prototype.emit},run:{value:_n.prototype.emit}});/*!
* @pixi/core - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/core is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/lt.PREFER_ENV=Wi.any?$o.WEBGL:$o.WEBGL2;lt.STRICT_TEXTURE_CACHE=!1;var a0=[];function v9(e,t){if(!e)return null;var r="";if(typeof e=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);n&&(r=n[1].toLowerCase())}for(var i=a0.length-1;i>=0;--i){var o=a0[i];if(o.test&&o.test(e,r))return new o(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Z2=function(e,t){return Z2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Z2(e,t)};function Ht(e,t){Z2(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Wc=(function(){function e(t,r){t===void 0&&(t=0),r===void 0&&(r=0),this._width=t,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new _n("setRealSize"),this.onUpdate=new _n("update"),this.onError=new _n("onError")}return e.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},e.prototype.resize=function(t,r){(t!==this._width||r!==this._height)&&(this._width=t,this._height=r,this.onResize.emit(t,r))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(t,r,n){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(t,r){return!1},e})(),Wv=(function(e){Ht(t,e);function t(r,n){var i=this,o=n||{},a=o.width,s=o.height;if(!a||!s)throw new Error("BufferResource width or height invalid");return i=e.call(this,a,s)||this,i.data=r,i}return t.prototype.upload=function(r,n,i){var o=r.gl;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ra.UNPACK),i.width===n.width&&i.height===n.height?o.texSubImage2D(n.target,0,0,0,n.width,n.height,n.format,n.type,this.data):(i.width=n.width,i.height=n.height,o.texImage2D(n.target,0,i.internalFormat,n.width,n.height,0,n.format,i.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},t})(Wc),jK={scaleMode:Uo.NEAREST,format:Vc.RGBA,alphaMode:Ra.NPM},xr=(function(e){Ht(t,e);function t(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=e.call(this)||this;n=n||{};var o=n.alphaMode,a=n.mipmap,s=n.anisotropicLevel,u=n.scaleMode,l=n.width,c=n.height,h=n.wrapMode,f=n.format,p=n.type,d=n.target,m=n.resolution,v=n.resourceOptions;return r&&!(r instanceof Wc)&&(r=v9(r,v),r.internal=!0),i.width=l||0,i.height=c||0,i.resolution=m||lt.RESOLUTION,i.mipmap=a!==void 0?a:lt.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:lt.ANISOTROPIC_LEVEL,i.wrapMode=h||lt.WRAP_MODE,i.scaleMode=u!==void 0?u:lt.SCALE_MODE,i.format=f||Vc.RGBA,i.type=p||Wr.UNSIGNED_BYTE,i.target=d||gs.TEXTURE_2D,i.alphaMode=o!==void 0?o:Ra.UNPACK,n.premultiplyAlpha!==void 0&&(i.premultiplyAlpha=n.premultiplyAlpha),i.uid=Nl(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=l>0&&c>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},t.prototype.setSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=r,this.height=n,this._refreshPOT(),this.update(),this},t.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=r/this.resolution,this.height=n/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=V2(this.realWidth)&&V2(this.realHeight)},t.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=this.width*n/r,this.height=this.height*n/r,this.emit("update",this)),this._refreshPOT(),this)},t.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(r){this.emit("error",this,r)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete zi[this.cacheId],delete ui[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(r,n,i){i===void 0&&(i=lt.STRICT_TEXTURE_CACHE);var o=typeof r=="string",a=null;o?a=r:(r._pixiId||(r._pixiId="pixiid_"+Nl()),a=r._pixiId);var s=zi[a];if(o&&i&&!s)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return s||(s=new t(r,n),s.cacheId=a,t.addToCache(s,a)),s},t.fromBuffer=function(r,n,i,o){r=r||new Float32Array(n*i*4);var a=new Wv(r,{width:n,height:i}),s=r instanceof Float32Array?Wr.FLOAT:Wr.UNSIGNED_BYTE;return new t(a,Object.assign(jK,o||{width:n,height:i,type:s}))},t.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),zi[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),zi[n]=r)},t.removeFromCache=function(r){if(typeof r=="string"){var n=zi[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete zi[r],n}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)delete zi[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},t._globalBatch=0,t})(af),b9=(function(e){Ht(t,e);function t(r,n){var i=this,o=n||{},a=o.width,s=o.height;i=e.call(this,a,s)||this,i.items=[],i.itemDirtyIds=[];for(var u=0;u<r;u++){var l=new xr;i.items.push(l),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return t.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof Wc?this.addResourceAt(r[i],i):this.addResourceAt(v9(r[i],n),i))},t.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},t.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},t.prototype.unbind=function(r){e.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},t.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(o){return o.resource}).filter(function(o){return o}),i=n.map(function(o){return o.load()});return this._load=Promise.all(i).then(function(){var o=r.items[0],a=o.realWidth,s=o.realHeight;return r.resize(a,s),Promise.resolve(r)}),this._load},t})(Wc),cN=(function(e){Ht(t,e);function t(r,n){var i=this,o=n||{},a=o.width,s=o.height,u,l;return Array.isArray(r)?(u=r,l=r.length):l=r,i=e.call(this,l,{width:a,height:s})||this,u&&i.initFromArray(u,n),i}return t.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=gs.TEXTURE_2D_ARRAY},t.prototype.upload=function(r,n,i){var o=this,a=o.length,s=o.itemDirtyIds,u=o.items,l=r.gl;i.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,n.format,this._width,this._height,a,0,n.format,n.type,null);for(var c=0;c<a;c++){var h=u[c];s[c]<h.dirtyId&&(s[c]=h.dirtyId,h.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,c,h.resource.width,h.resource.height,1,n.format,n.type,h.resource.source))}return!0},t})(b9),Da=(function(e){Ht(t,e);function t(r){var n=this,i=r,o=i.naturalWidth||i.videoWidth||i.width,a=i.naturalHeight||i.videoHeight||i.height;return n=e.call(this,o,a)||this,n.source=r,n.noSubImage=!1,n}return t.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=ZD(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},t.prototype.upload=function(r,n,i,o){var a=r.gl,s=n.realWidth,u=n.realHeight;return o=o||this.source,a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ra.UNPACK),!this.noSubImage&&n.target===a.TEXTURE_2D&&i.width===s&&i.height===u?a.texSubImage2D(a.TEXTURE_2D,0,0,0,n.format,n.type,o):(i.width=s,i.height=u,a.texImage2D(n.target,0,n.format,n.format,n.type,o)),!0},t.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t})(Wc),_9=(function(e){Ht(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.test=function(r){var n=window.OffscreenCanvas;return n&&r instanceof n?!0:r instanceof HTMLCanvasElement},t})(Da),hN=(function(e){Ht(t,e);function t(r,n){var i=this,o=n||{},a=o.width,s=o.height,u=o.autoLoad,l=o.linkBaseTexture;if(r&&r.length!==t.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=e.call(this,6,{width:a,height:s})||this;for(var c=0;c<t.SIDES;c++)i.items[c].target=gs.TEXTURE_CUBE_MAP_POSITIVE_X+c;return i.linkBaseTexture=l!==!1,r&&i.initFromArray(r,n),u!==!1&&i.load(),i}return t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=gs.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(r,n,i){if(i===void 0&&(i=this.linkBaseTexture),!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=gs.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},t.prototype.upload=function(r,n,i){for(var o=this.itemDirtyIds,a=0;a<t.SIDES;a++){var s=this.items[a];o[a]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(r,s,i),o[a]=s.dirtyId):o[a]<-1&&(r.gl.texImage2D(s.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),o[a]=-1))}return!0},t.test=function(r){return Array.isArray(r)&&r.length===t.SIDES},t.SIDES=6,t})(b9),w9=(function(e){Ht(t,e);function t(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var o=new Image;Da.crossOrigin(o,r,n.crossorigin),o.src=r,r=o}return i=e.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:lt.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,n.premultiplyAlpha!==void 0&&(i.premultiplyAlpha=n.premultiplyAlpha),i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,o){var a=n.source;n.url=a.src;var s=function(){n.destroyed||(a.onload=null,a.onerror=null,n.resize(a.width,a.height),n._load=null,n.createBitmap?i(n.process()):i(n))};a.complete&&a.src?s():(a.onload=s,a.onerror=function(u){o(u),n.onError.emit(u)})}),this._load)},t.prototype.process=function(){var r=this,n=this.source;return this._process!==null?this._process:this.bitmap!==null||!window.createImageBitmap?Promise.resolve(this):(this._process=window.createImageBitmap(n,0,0,n.width,n.height,{premultiplyAlpha:this.alphaMode===Ra.UNPACK?"premultiply":"none"}).then(function(i){return r.destroyed?Promise.reject():(r.bitmap=i,r.update(),r._process=null,Promise.resolve(r))}),this._process)},t.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var o=!0,a=n._glTextures;for(var s in a){var u=a[s];if(u!==i&&u.dirtyId!==n.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},t})(Da),fN=(function(e){Ht(t,e);function t(r,n){var i=this;return n=n||{},i=e.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},/^\<svg/.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var r=this,n=new Image;Da.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,o=n.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var a=i*r.scale,s=o*r.scale;(r._overrideWidth||r._overrideHeight)&&(a=r._overrideWidth||r._overrideHeight/o*i,s=r._overrideHeight||r._overrideWidth/i*o),a=Math.round(a),s=Math.round(s);var u=r.source;u.width=a,u.height=s,u._pixiId="canvas_"+Nl(),u.getContext("2d").drawImage(n,0,0,i,o,0,0,a,s),r._resolve(),r._resolve=null}}},t.getSize=function(r){var n=t.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(r,n){return n==="svg"||typeof r=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(r)||typeof r=="string"&&r.indexOf("<svg")===0},t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t})(Da),pN=(function(e){Ht(t,e);function t(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var a=r[0].src||r[0];Da.crossOrigin(o,a,n.crossorigin);for(var s=0;s<r.length;++s){var u=document.createElement("source"),l=r[s],c=l.src,h=l.mime;c=c||r[s];var f=c.split("?").shift().toLowerCase(),p=f.substr(f.lastIndexOf(".")+1);h=h||t.MIME_TYPES[p]||"video/"+p,u.src=c,u.type=h,o.appendChild(u)}r=o}return i=e.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return t.prototype.update=function(r){if(!this.destroyed){var n=cn.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},t.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},t.prototype._isSourcePlaying=function(){var r=this.source;return r.currentTime>0&&r.paused===!1&&r.ended===!1&&r.readyState>2},t.prototype._isSourceReady=function(){var r=this.source;return r.readyState===3||r.readyState===4},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(cn.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(cn.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&cn.shared.remove(this.update,this);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(cn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(cn.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),t.test=function(r,n){return r instanceof HTMLVideoElement||t.TYPES.indexOf(n)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t})(Da),dN=(function(e){Ht(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.test=function(r){return!!window.createImageBitmap&&r instanceof ImageBitmap},t})(Da);a0.push(w9,dN,_9,pN,fN,Wv,hN,cN);var LK={Resource:Wc,BaseImageResource:Da,INSTALLED:a0,autoDetectResource:v9,AbstractMultiResource:b9,ArrayResource:cN,BufferResource:Wv,CanvasResource:_9,CubeResource:hN,ImageResource:w9,SVGResource:fN,VideoResource:pN,ImageBitmapResource:dN},mi=(function(){function e(t){this.renderer=t}return e.prototype.destroy=function(){this.renderer=null},e})(),BK=(function(e){Ht(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.upload=function(r,n,i){var o=r.gl;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ra.UNPACK),i.width===n.width&&i.height===n.height?o.texSubImage2D(n.target,0,0,0,n.width,n.height,n.format,n.type,this.data):(i.width=n.width,i.height=n.height,o.texImage2D(n.target,0,r.context.webGLVersion===1?o.DEPTH_COMPONENT:o.DEPTH_COMPONENT16,n.width,n.height,0,n.format,n.type,this.data)),!0},t})(Wv),s0=(function(){function e(t,r){this.width=Math.ceil(t||100),this.height=Math.ceil(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new _n("disposeFramebuffer"),this.multisample=Rl.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(t,r){return t===void 0&&(t=0),this.colorTextures[t]=r||new xr(null,{scaleMode:Uo.NEAREST,resolution:1,mipmap:Gc.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(t){return this.depthTexture=t||new xr(new BK(null,{width:this.width,height:this.height}),{scaleMode:Uo.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Gc.OFF,format:Vc.DEPTH_COMPONENT,type:Wr.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(t,r){if(t=Math.ceil(t),r=Math.ceil(r),!(t===this.width&&r===this.height)){this.width=t,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],o=i.resolution;i.setSize(t/o,r/o)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,r/o)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e})(),ld=(function(e){Ht(t,e);function t(r){var n=this;if(typeof r=="number"){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];r={width:i,height:o,scaleMode:a,resolution:s}}n=e.call(this,null,r)||this;var u=r||{},l=u.width,c=u.height;return n.mipmap=0,n.width=Math.ceil(l)||100,n.height=Math.ceil(c)||100,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new s0(n.width*n.resolution,n.height*n.resolution).addColorTexture(0,n),n.maskStack=[],n.filterStack=[{}],n}return t.prototype.resize=function(r,n){r=Math.ceil(r),n=Math.ceil(n),this.framebuffer.resize(r*this.resolution,n*this.resolution)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t})(xr),T9=(function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(t,r,n){var i=r.width,o=r.height;if(n){var a=t.width/2/i,s=t.height/2/o,u=t.x/i+a,l=t.y/o+s;n=Er.add(n,Er.NW),this.x0=u+a*Er.uX(n),this.y0=l+s*Er.uY(n),n=Er.add(n,2),this.x1=u+a*Er.uX(n),this.y1=l+s*Er.uY(n),n=Er.add(n,2),this.x2=u+a*Er.uX(n),this.y2=l+s*Er.uY(n),n=Er.add(n,2),this.x3=u+a*Er.uX(n),this.y3=l+s*Er.uY(n)}else this.x0=t.x/i,this.y0=t.y/o,this.x1=(t.x+t.width)/i,this.y1=t.y/o,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/o,this.x3=t.x/i,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e})(),tA=new T9,Ot=(function(e){Ht(t,e);function t(r,n,i,o,a,s){var u=e.call(this)||this;if(u.noFrame=!1,n||(u.noFrame=!0,n=new ar(0,0,1,1)),r instanceof t&&(r=r.baseTexture),u.baseTexture=r,u._frame=n,u.trim=o,u.valid=!1,u._uvs=tA,u.uvMatrix=null,u.orig=i||n,u._rotate=Number(a||0),a===!0)u._rotate=2;else if(u._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return u.defaultAnchor=s?new hn(s.x,s.y):new hn(0,0),u._updateID=0,u.textureCacheIds=[],r.valid?u.noFrame?r.valid&&u.onBaseTextureUpdated(r):u.frame=n:r.once("loaded",u.onBaseTextureUpdated,u),u.noFrame&&r.on("update",u.onBaseTextureUpdated,u),u}return t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture;n&&n.url&&ui[n.url]&&t.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},t.prototype.updateUvs=function(){this._uvs===tA&&(this._uvs=new T9),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=lt.STRICT_TEXTURE_CACHE);var o=typeof r=="string",a=null;o?a=r:(r._pixiId||(r._pixiId="pixiid_"+Nl()),a=r._pixiId);var s=ui[a];if(o&&i&&!s)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return s||(n.resolution||(n.resolution=Cd(r)),s=new t(new xr(r,n)),s.baseTexture.cacheId=a,xr.addToCache(s.baseTexture,a),t.addToCache(s,a)),s},t.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n?.resourceOptions),o=t.from(r,Object.assign({resourceOptions:i},n),!1),a=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):a.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(r,n,i,o){return new t(xr.fromBuffer(r,n,i,o))},t.fromLoader=function(r,n,i){var o=new w9(r);o.url=n;var a=new xr(o,{scaleMode:lt.SCALE_MODE,resolution:Cd(n)}),s=new t(a);return i||(i=n),xr.addToCache(s.baseTexture,i),t.addToCache(s,i),i!==n&&(xr.addToCache(s.baseTexture,n),t.addToCache(s,n)),s},t.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),ui[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),ui[n]=r)},t.removeFromCache=function(r){if(typeof r=="string"){var n=ui[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete ui[r],n}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)ui[r.textureCacheIds[o]]===r&&delete ui[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,o=r.width,a=r.height,s=n+o>this.baseTexture.width,u=i+a>this.baseTexture.height;if(s||u){var l=s&&u?"and":"or",c="X: "+n+" + "+o+" = "+(n+o)+" > "+this.baseTexture.width,h="Y: "+i+" + "+a+" = "+(i+a)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(c+" "+l+" "+h))}this.valid=o&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t})(af);function FK(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Ot(new xr(new _9(e)))}function Xv(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}Ot.EMPTY=new Ot(new xr);Xv(Ot.EMPTY);Xv(Ot.EMPTY.baseTexture);Ot.WHITE=FK();Xv(Ot.WHITE);Xv(Ot.WHITE.baseTexture);var jl=(function(e){Ht(t,e);function t(r,n){var i=this,o=null;if(!(r instanceof ld)){var a=arguments[1],s=arguments[2],u=arguments[3],l=arguments[4];console.warn("Please use RenderTexture.create("+a+", "+s+") instead of the ctor directly."),o=arguments[0],n=null,r=new ld({width:a,height:s,scaleMode:u,resolution:l})}return i=e.call(this,r,n)||this,i.legacyRenderer=o,i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),t.prototype.resize=function(r,n,i){i===void 0&&(i=!0),r=Math.ceil(r),n=Math.ceil(n),this.valid=r>0&&n>0,this._frame.width=this.orig.width=r,this._frame.height=this.orig.height=n,i&&this.baseTexture.resize(r,n),this.updateUvs()},t.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},t.create=function(r){return typeof r=="number"&&(r={width:r,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new t(new ld(r))},t})(Ot),mN=(function(){function e(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(t,r){var n=new ld(Object.assign({width:t,height:r,resolution:1},this.textureOptions));return new jl(n)},e.prototype.getOptimalTexture=function(t,r,n){n===void 0&&(n=1);var i=e.SCREEN_KEY;t*=n,r*=n,(!this.enableFullScreen||t!==this._pixelsWidth||r!==this._pixelsHeight)&&(t=Pd(t),r=Pd(r),i=(t&65535)<<16|r&65535),this.texturePool[i]||(this.texturePool[i]=[]);var o=this.texturePool[i].pop();return o||(o=this.createTexture(t,r)),o.filterPoolKey=i,o.setResolution(n),o},e.prototype.getFilterTexture=function(t,r){var n=this.getOptimalTexture(t.width,t.height,r||t.resolution);return n.filterFrame=t.filterFrame,n},e.prototype.returnTexture=function(t){var r=t.filterPoolKey;t.filterFrame=null,this.texturePool[r].push(t)},e.prototype.returnFilterTexture=function(t){this.returnTexture(t)},e.prototype.clear=function(t){if(t=t!==!1,t)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){var r=e.SCREEN_KEY,n=this.texturePool[r];if(this.enableFullScreen=t.width>0&&t.height>0,n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},e.SCREEN_KEY="screen",e})(),Q2=(function(){function e(t,r,n,i,o,a,s){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=5126),this.buffer=t,this.size=r,this.normalized=n,this.type=i,this.stride=o,this.start=a,this.instance=s}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,r,n,i,o){return new e(t,r,n,i,o)},e})(),zK=0,un=(function(){function e(t,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=zK++,this.disposeRunner=new _n("disposeBuffer")}return e.prototype.update=function(t){this.data=t||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e})();function gN(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}var HK={Float32Array,Uint32Array,Int32Array,Uint8Array};function UK(e,t){for(var r=0,n=0,i={},o=0;o<e.length;o++)n+=t[o],r+=e[o].length;for(var a=new ArrayBuffer(r*4),s=null,u=0,o=0;o<e.length;o++){var l=t[o],c=e[o],h=gN(c);i[h]||(i[h]=new HK[h](a)),s=i[h];for(var f=0;f<c.length;f++){var p=(f/l|0)*n+u,d=f%l;s[p+d]=c[f]}u+=l}return new Float32Array(a)}var rA={5126:4,5123:2,5121:1},VK=0,GK={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},sf=(function(){function e(t,r){t===void 0&&(t=[]),r===void 0&&(r={}),this.buffers=t,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=VK++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new _n("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(t,r,n,i,o,a,s,u){if(n===void 0&&(n=0),i===void 0&&(i=!1),u===void 0&&(u=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof un||(r instanceof Array&&(r=new Float32Array(r)),r=new un(r));var l=t.split("|");if(l.length>1){for(var c=0;c<l.length;c++)this.addAttribute(l[c],r,n,i,o);return this}var h=this.buffers.indexOf(r);return h===-1&&(this.buffers.push(r),h=this.buffers.length-1),this.attributes[t]=new Q2(h,n,i,o,a,s,u),this.instanced=this.instanced||u,this},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},e.prototype.addIndex=function(t){return t instanceof un||(t instanceof Array&&(t=new Uint16Array(t)),t=new un(t)),t.index=!0,this.indexBuffer=t,this.buffers.indexOf(t)===-1&&this.buffers.push(t),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var t=[],r=[],n=new un,i;for(i in this.attributes){var o=this.attributes[i],a=this.buffers[o.buffer];t.push(a.data),r.push(o.size*rA[o.type]/4),o.buffer=0}for(n.data=UK(t,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var t in this.attributes){var r=this.attributes[t],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,r=0;r<this.buffers.length;r++)t.buffers[r]=new un(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];t.attributes[r]=new Q2(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},e.merge=function(t){for(var r=new e,n=[],i=[],o=[],a,s=0;s<t.length;s++){a=t[s];for(var u=0;u<a.buffers.length;u++)i[u]=i[u]||0,i[u]+=a.buffers[u].data.length,o[u]=0}for(var s=0;s<a.buffers.length;s++)n[s]=new GK[gN(a.buffers[s].data)](i[s]),r.buffers[s]=new un(n[s]);for(var s=0;s<t.length;s++){a=t[s];for(var u=0;u<a.buffers.length;u++)n[u].set(a.buffers[u].data,o[u]),o[u]+=a.buffers[u].data.length}if(r.attributes=a.attributes,a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)],r.indexBuffer.index=!0;for(var l=0,c=0,h=0,f=0,s=0;s<a.buffers.length;s++)if(a.buffers[s]!==a.indexBuffer){f=s;break}for(var s in a.attributes){var p=a.attributes[s];(p.buffer|0)===f&&(c+=p.size*rA[p.type]/4)}for(var s=0;s<t.length;s++){for(var d=t[s].indexBuffer.data,u=0;u<d.length;u++)r.indexBuffer.data[u+h]+=l;l+=a.buffers[f].data.length/c,h+=d.length}}return r},e})(),yN=(function(e){Ht(t,e);function t(){var r=e.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return t})(sf),x9=(function(e){Ht(t,e);function t(){var r=e.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new un(r.vertices),r.uvBuffer=new un(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return t.prototype.map=function(r,n){var i=0,o=0;return this.uvs[0]=i,this.uvs[1]=o,this.uvs[2]=i+n.width/r.width,this.uvs[3]=o,this.uvs[4]=i+n.width/r.width,this.uvs[5]=o+n.height/r.height,this.uvs[6]=i,this.uvs[7]=o+n.height/r.height,i=n.x,o=n.y,this.vertices[0]=i,this.vertices[1]=o,this.vertices[2]=i+n.width,this.vertices[3]=o,this.vertices[4]=i+n.width,this.vertices[5]=o+n.height,this.vertices[6]=i,this.vertices[7]=o+n.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t})(sf),YK=0,ys=(function(){function e(t,r){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=YK++,this.static=!!r}return e.prototype.update=function(){this.dirtyId++},e.prototype.add=function(t,r,n){this.uniforms[t]=new e(r,n)},e.from=function(t,r){return new e(t,r)},e})(),vN=(function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new ar,this.destinationFrame=new ar,this.filters=[]}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e})(),bN=(function(e){Ht(t,e);function t(r){var n=e.call(this,r)||this;return n.defaultFilterStack=[{}],n.texturePool=new mN,n.texturePool.setScreenSize(r.view),n.statePool=[],n.quad=new yN,n.quadUv=new x9,n.tempRect=new ar,n.activeState={},n.globalUniforms=new ys({outputFrame:n.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),n.forceClear=!1,n.useMaxPadding=!1,n}return t.prototype.push=function(r,n){for(var i=this.renderer,o=this.defaultFilterStack,a=this.statePool.pop()||new vN,s=n[0].resolution,u=n[0].padding,l=n[0].autoFit,c=n[0].legacy,h=1;h<n.length;h++){var f=n[h];s=Math.min(s,f.resolution),u=this.useMaxPadding?Math.max(u,f.padding):u+f.padding,l=l&&f.autoFit,c=c||f.legacy}o.length===1&&(this.defaultFilterStack[0].renderTexture=i.renderTexture.current),o.push(a),a.resolution=s,a.legacy=c,a.target=r,a.sourceFrame.copyFrom(r.filterArea||r.getBounds(!0)),a.sourceFrame.pad(u),l&&a.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),a.sourceFrame.ceil(s),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,s),a.filters=n,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var p=this.tempRect;p.width=a.sourceFrame.width,p.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,i.renderTexture.bind(a.renderTexture,a.sourceFrame,p),i.renderTexture.clear()},t.prototype.pop=function(){var r=this.defaultFilterStack,n=r.pop(),i=n.filters;this.activeState=n;var o=this.globalUniforms.uniforms;o.outputFrame=n.sourceFrame,o.resolution=n.resolution;var a=o.inputSize,s=o.inputPixel,u=o.inputClamp;if(a[0]=n.destinationFrame.width,a[1]=n.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],s[0]=a[0]*n.resolution,s[1]=a[1]*n.resolution,s[2]=1/s[0],s[3]=1/s[1],u[0]=.5*s[2],u[1]=.5*s[3],u[2]=n.sourceFrame.width*a[2]-.5*s[2],u[3]=n.sourceFrame.height*a[3]-.5*s[3],n.legacy){var l=o.filterArea;l[0]=n.destinationFrame.width,l[1]=n.destinationFrame.height,l[2]=n.sourceFrame.x,l[3]=n.sourceFrame.y,o.filterClamp=o.inputClamp}this.globalUniforms.update();var c=r[r.length-1];if(n.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),i.length===1)i[0].apply(this,n.renderTexture,c.renderTexture,co.BLEND,n),this.returnFilterTexture(n.renderTexture);else{var h=n.renderTexture,f=this.getOptimalFilterTexture(h.width,h.height,n.resolution);f.filterFrame=h.filterFrame;var p=0;for(p=0;p<i.length-1;++p){i[p].apply(this,h,f,co.CLEAR,n);var d=h;h=f,f=d}i[p].apply(this,h,c.renderTexture,co.BLEND,n),this.returnFilterTexture(h),this.returnFilterTexture(f)}n.clear(),this.statePool.push(n)},t.prototype.bindAndClear=function(r,n){if(n===void 0&&(n=co.CLEAR),r&&r.filterFrame){var i=this.tempRect;i.width=r.filterFrame.width,i.height=r.filterFrame.height,this.renderer.renderTexture.bind(r,r.filterFrame,i)}else this.renderer.renderTexture.bind(r);typeof n=="boolean"&&(n=n?co.CLEAR:co.BLEND,Ae("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(n===co.CLEAR||n===co.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},t.prototype.applyFilter=function(r,n,i,o){var a=this.renderer;this.bindAndClear(i,o),r.uniforms.uSampler=n,r.uniforms.filterGlobals=this.globalUniforms,a.state.set(r.state),a.shader.bind(r),r.legacy?(this.quadUv.map(n._frame,n.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(Xi.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(Xi.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(r,n){var i=this.activeState,o=i.sourceFrame,a=i.destinationFrame,s=n._texture.orig,u=r.set(a.width,0,0,a.height,o.x,o.y),l=n.worldTransform.copyTo($r.TEMP_MATRIX);return l.invert(),u.prepend(l),u.scale(1/s.width,1/s.height),u.translate(n.anchor.x,n.anchor.y),u},t.prototype.destroy=function(){this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(r,n,i){return i===void 0&&(i=1),this.texturePool.getOptimalTexture(r,n,i)},t.prototype.getFilterTexture=function(r,n){if(typeof r=="number"){var i=r;r=n,n=i}r=r||this.activeState.renderTexture;var o=this.texturePool.getOptimalTexture(r.width,r.height,n||r.resolution);return o.filterFrame=r.filterFrame,o},t.prototype.returnFilterTexture=function(r){this.texturePool.returnTexture(r)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t})(mi),a1=(function(){function e(t){this.renderer=t}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(t){},e})(),_N=(function(e){Ht(t,e);function t(r){var n=e.call(this,r)||this;return n.emptyRenderer=new a1(r),n.currentRenderer=n.emptyRenderer,n}return t.prototype.setObjectRenderer=function(r){this.currentRenderer!==r&&(this.currentRenderer.stop(),this.currentRenderer=r,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(r,n){for(var i=this.renderer.texture.boundTextures,o=n-1;o>=0;--o)r[o]=i[o]||null,r[o]&&(r[o]._batchLocation=o)},t.prototype.boundArray=function(r,n,i,o){for(var a=r.elements,s=r.ids,u=r.count,l=0,c=0;c<u;c++){var h=a[c],f=h._batchLocation;if(f>=0&&f<o&&n[f]===h){s[c]=f;continue}for(;l<o;){var p=n[l];if(p&&p._batchEnabled===i&&p._batchLocation===l){l++;continue}s[c]=l,h._batchLocation=l,n[l]=h;break}}},t})(mi),nA=0,wN=(function(e){Ht(t,e);function t(r){var n=e.call(this,r)||this;return n.webGLVersion=1,n.extensions={},n.supports={uint32Indices:!1},n.handleContextLost=n.handleContextLost.bind(n),n.handleContextRestored=n.handleContextRestored.bind(n),r.view.addEventListener("webglcontextlost",n.handleContextLost,!1),r.view.addEventListener("webglcontextrestored",n.handleContextRestored,!1),n}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(r){this.gl=r,this.renderer.gl=r,this.renderer.CONTEXT_UID=nA++,r.isContextLost()&&r.getExtension("WEBGL_lose_context")&&r.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(r){this.gl=r,this.validateContext(r),this.renderer.gl=r,this.renderer.CONTEXT_UID=nA++,this.renderer.runners.contextChange.emit(r)},t.prototype.initFromOptions=function(r){var n=this.createContext(this.renderer.view,r);this.initFromContext(n)},t.prototype.createContext=function(r,n){var i;if(lt.PREFER_ENV>=$o.WEBGL2&&(i=r.getContext("webgl2",n)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=r.getContext("webgl",n)||r.getContext("experimental-webgl",n),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var r=this.gl;this.webGLVersion===1?Object.assign(this.extensions,{drawBuffers:r.getExtension("WEBGL_draw_buffers"),depthTexture:r.getExtension("WEBGL_depth_texture"),loseContext:r.getExtension("WEBGL_lose_context"),vertexArrayObject:r.getExtension("OES_vertex_array_object")||r.getExtension("MOZ_OES_vertex_array_object")||r.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:r.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:r.getExtension("OES_element_index_uint"),floatTexture:r.getExtension("OES_texture_float"),floatTextureLinear:r.getExtension("OES_texture_float_linear"),textureHalfFloat:r.getExtension("OES_texture_half_float"),textureHalfFloatLinear:r.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,{anisotropicFiltering:r.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:r.getExtension("EXT_color_buffer_float"),floatTextureLinear:r.getExtension("OES_texture_float_linear")})},t.prototype.handleContextLost=function(r){r.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var r=this.renderer.view;r.removeEventListener("webglcontextlost",this.handleContextLost),r.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(r){var n=r.getContextAttributes(),i="WebGL2RenderingContext"in window&&r instanceof window.WebGL2RenderingContext;i&&(this.webGLVersion=2),n.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var o=i||!!r.getExtension("OES_element_index_uint");this.supports.uint32Indices=o,o||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t})(mi),TN=(function(){function e(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=Rl.NONE,this.msaaBuffer=null,this.blitFramebuffer=null}return e})(),WK=new ar,xN=(function(e){Ht(t,e);function t(r){var n=e.call(this,r)||this;return n.managedFramebuffers=[],n.unknownFramebuffer=new s0(10,10),n.msaaSamples=null,n}return t.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ar,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var n=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;lt.PREFER_ENV===$o.WEBGL_LEGACY&&(n=null,i=null),n?r.drawBuffers=function(o){return n.drawBuffersWEBGL(o)}:(this.hasMRT=!1,r.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=r.getInternalformatParameter(r.RENDERBUFFER,r.RGBA8,r.SAMPLES)},t.prototype.bind=function(r,n){var i=this.gl;if(r){var o=r.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(r);this.current!==r&&(this.current=r,i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer)),o.dirtyId!==r.dirtyId&&(o.dirtyId=r.dirtyId,o.dirtyFormat!==r.dirtyFormat?(o.dirtyFormat=r.dirtyFormat,this.updateFramebuffer(r)):o.dirtySize!==r.dirtySize&&(o.dirtySize=r.dirtySize,this.resizeFramebuffer(r)));for(var a=0;a<r.colorTextures.length;a++){var s=r.colorTextures[a];this.renderer.texture.unbind(s.parentTextureArray||s)}r.depthTexture&&this.renderer.texture.unbind(r.depthTexture),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,r.width,r.height)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(r,n,i,o){var a=this.viewport;(a.width!==i||a.height!==o||a.x!==r||a.y!==n)&&(a.x=r,a.y=n,a.width=i,a.height=o,this.gl.viewport(r,n,i,o))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(r,n,i,o,a){a===void 0&&(a=Od.COLOR|Od.DEPTH);var s=this.gl;s.clearColor(r,n,i,o),s.clear(a)},t.prototype.initFramebuffer=function(r){var n=this.gl,i=new TN(n.createFramebuffer());return i.multisample=this.detectSamples(r.multisample),r.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(r),r.disposeRunner.add(this),i},t.prototype.resizeFramebuffer=function(r){var n=this.gl,i=r.glFramebuffers[this.CONTEXT_UID];i.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r.width,r.height));for(var o=r.colorTextures,a=0;a<o.length;a++)this.renderer.texture.bind(o[a],0);r.depthTexture&&this.renderer.texture.bind(r.depthTexture,0)},t.prototype.updateFramebuffer=function(r){var n=this.gl,i=r.glFramebuffers[this.CONTEXT_UID],o=r.colorTextures,a=o.length;n.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&(i.msaaBuffer=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,r.width,r.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer));for(var s=[],u=0;u<a;u++)if(!(u===0&&i.multisample>1)){var l=r.colorTextures[u],c=l.parentTextureArray||l;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+u,l.target,c._glTextures[this.CONTEXT_UID].texture,0),s.push(n.COLOR_ATTACHMENT0+u)}if(s.length>1&&n.drawBuffers(s),r.depthTexture){var h=this.writeDepthTexture;if(h){var f=r.depthTexture;this.renderer.texture.bind(f,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,0)}}!i.stencil&&(r.stencil||r.depth)&&(i.stencil=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r.width,r.height),r.depthTexture||n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil))},t.prototype.detectSamples=function(r){var n=this.msaaSamples,i=Rl.NONE;if(r<=1||n===null)return i;for(var o=0;o<n.length;o++)if(n[o]<=r){i=n[o];break}return i===1&&(i=Rl.NONE),i},t.prototype.blit=function(r,n,i){var o=this,a=o.current,s=o.renderer,u=o.gl,l=o.CONTEXT_UID;if(s.context.webGLVersion===2&&a){var c=a.glFramebuffers[l];if(c){if(!r){if(c.multisample<=1)return;c.blitFramebuffer||(c.blitFramebuffer=new s0(a.width,a.height),c.blitFramebuffer.addColorTexture(0,a.colorTextures[0])),r=c.blitFramebuffer,r.width=a.width,r.height=a.height}n||(n=WK,n.width=a.width,n.height=a.height),i||(i=n);var h=n.width===i.width&&n.height===i.height;this.bind(r),u.bindFramebuffer(u.READ_FRAMEBUFFER,c.framebuffer),u.blitFramebuffer(n.x,n.y,n.width,n.height,i.x,i.y,i.width,i.height,u.COLOR_BUFFER_BIT,h?u.NEAREST:u.LINEAR)}}},t.prototype.disposeFramebuffer=function(r,n){var i=r.glFramebuffers[this.CONTEXT_UID],o=this.gl;if(i){delete r.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(r);a>=0&&this.managedFramebuffers.splice(a,1),r.disposeRunner.remove(this),n||(o.deleteFramebuffer(i.framebuffer),i.stencil&&o.deleteRenderbuffer(i.stencil))}},t.prototype.disposeAll=function(r){var n=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<n.length;i++)this.disposeFramebuffer(n[i],r)},t.prototype.forceStencil=function(){var r=this.current;if(r){var n=r.glFramebuffers[this.CONTEXT_UID];if(!(!n||n.stencil)){r.enableStencil();var i=r.width,o=r.height,a=this.gl,s=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,s),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,i,o),n.stencil=s,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,s)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new ar},t})(mi),XK=(function(){function e(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return e})(),J_={5126:4,5123:2,5121:1},EN=(function(e){Ht(t,e);function t(r){var n=e.call(this,r)||this;return n._activeGeometry=null,n._activeVao=null,n.hasVao=!0,n.hasInstance=!0,n.canUseUInt32ElementIndex=!1,n.managedGeometries={},n.managedBuffers={},n}return t.prototype.contextChange=function(){this.disposeAll(!0);var r=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){var i=this.renderer.context.extensions.vertexArrayObject;lt.PREFER_ENV===$o.WEBGL_LEGACY&&(i=null),i?(r.createVertexArray=function(){return i.createVertexArrayOES()},r.bindVertexArray=function(a){return i.bindVertexArrayOES(a)},r.deleteVertexArray=function(a){return i.deleteVertexArrayOES(a)}):(this.hasVao=!1,r.createVertexArray=function(){return null},r.bindVertexArray=function(){return null},r.deleteVertexArray=function(){return null})}if(n.webGLVersion!==2){var o=r.getExtension("ANGLE_instanced_arrays");o?(r.vertexAttribDivisor=function(a,s){return o.vertexAttribDivisorANGLE(a,s)},r.drawElementsInstanced=function(a,s,u,l,c){return o.drawElementsInstancedANGLE(a,s,u,l,c)},r.drawArraysInstanced=function(a,s,u,l){return o.drawArraysInstancedANGLE(a,s,u,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex},t.prototype.bind=function(r,n){n=n||this.renderer.shader.shader;var i=this.gl,o=r.glVertexArrayObjects[this.CONTEXT_UID],a=!1;o||(this.managedGeometries[r.id]=r,r.disposeRunner.add(this),r.glVertexArrayObjects[this.CONTEXT_UID]=o={},a=!0);var s=o[n.program.id]||this.initGeometryVao(r,n.program,a);this._activeGeometry=r,this._activeVao!==s&&(this._activeVao=s,this.hasVao?i.bindVertexArray(s):this.activateVao(r,n.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var r=this._activeGeometry,n=this.gl,i=0;i<r.buffers.length;i++){var o=r.buffers[i],a=o._glBuffers[this.CONTEXT_UID];if(o._updateID!==a.updateID){a.updateID=o._updateID;var s=o.index?n.ELEMENT_ARRAY_BUFFER:n.ARRAY_BUFFER;if(n.bindBuffer(s,a.buffer),this._boundBuffer=a,a.byteLength>=o.data.byteLength)n.bufferSubData(s,0,o.data);else{var u=o.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;a.byteLength=o.data.byteLength,n.bufferData(s,o.data,u)}}}},t.prototype.checkCompatibility=function(r,n){var i=r.attributes,o=n.attributeData;for(var a in o)if(!i[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},t.prototype.getSignature=function(r,n){var i=r.attributes,o=n.attributeData,a=["g",r.id];for(var s in i)o[s]&&a.push(s);return a.join("-")},t.prototype.initGeometryVao=function(r,n,i){i===void 0&&(i=!0),this.checkCompatibility(r,n);var o=this.gl,a=this.CONTEXT_UID,s=this.getSignature(r,n),u=r.glVertexArrayObjects[this.CONTEXT_UID],l=u[s];if(l)return u[n.id]=l,l;var c=r.buffers,h=r.attributes,f={},p={};for(var d in c)f[d]=0,p[d]=0;for(var d in h)!h[d].size&&n.attributeData[d]?h[d].size=n.attributeData[d].size:h[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),f[h[d].buffer]+=h[d].size*J_[h[d].type];for(var d in h){var m=h[d],v=m.size;m.stride===void 0&&(f[m.buffer]===v*J_[m.type]?m.stride=0:m.stride=f[m.buffer]),m.start===void 0&&(m.start=p[m.buffer],p[m.buffer]+=v*J_[m.type])}l=o.createVertexArray(),o.bindVertexArray(l);for(var b=0;b<c.length;b++){var g=c[b];g._glBuffers[a]||(g._glBuffers[a]=new XK(o.createBuffer()),this.managedBuffers[g.id]=g,g.disposeRunner.add(this)),i&&g._glBuffers[a].refCount++}return this.activateVao(r,n),this._activeVao=l,u[n.id]=l,u[s]=l,l},t.prototype.disposeBuffer=function(r,n){if(this.managedBuffers[r.id]){delete this.managedBuffers[r.id];var i=r._glBuffers[this.CONTEXT_UID],o=this.gl;r.disposeRunner.remove(this),i&&(n||o.deleteBuffer(i.buffer),delete r._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeGeometry=function(r,n){if(this.managedGeometries[r.id]){delete this.managedGeometries[r.id];var i=r.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,a=r.buffers;if(r.disposeRunner.remove(this),!!i){for(var s=0;s<a.length;s++){var u=a[s]._glBuffers[this.CONTEXT_UID];u.refCount--,u.refCount===0&&!n&&this.disposeBuffer(a[s],n)}if(!n){for(var l in i)if(l[0]==="g"){var c=i[l];this._activeVao===c&&this.unbind(),o.deleteVertexArray(c)}}delete r.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(r){for(var n=Object.keys(this.managedGeometries),i=0;i<n.length;i++)this.disposeGeometry(this.managedGeometries[n[i]],r);n=Object.keys(this.managedBuffers);for(var i=0;i<n.length;i++)this.disposeBuffer(this.managedBuffers[n[i]],r)},t.prototype.activateVao=function(r,n){var i=this.gl,o=this.CONTEXT_UID,a=r.buffers,s=r.attributes;r.indexBuffer&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,r.indexBuffer._glBuffers[o].buffer);var u=null;for(var l in s){var c=s[l],h=a[c.buffer],f=h._glBuffers[o];if(n.attributeData[l]){u!==f&&(i.bindBuffer(i.ARRAY_BUFFER,f.buffer),u=f);var p=n.attributeData[l].location;if(i.enableVertexAttribArray(p),i.vertexAttribPointer(p,c.size,c.type||i.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)i.vertexAttribDivisor(p,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(r,n,i,o){var a=this.gl,s=this._activeGeometry;if(s.indexBuffer){var u=s.indexBuffer.data.BYTES_PER_ELEMENT,l=u===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?s.instanced?a.drawElementsInstanced(r,n||s.indexBuffer.data.length,l,(i||0)*u,o||1):a.drawElements(r,n||s.indexBuffer.data.length,l,(i||0)*u):console.warn("unsupported index buffer type: uint32")}else s.instanced?a.drawArraysInstanced(r,i,n||s.getSize(),o||1):a.drawArrays(r,i,n||s.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t})(mi),SN=(function(){function e(t){t===void 0&&(t=null),this.type=li.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=li.NONE,this.autoDetect=!0),this._target=null},e.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e})();function iA(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}function kN(e,t,r,n){var i=iA(e,e.VERTEX_SHADER,t),o=iA(e,e.FRAGMENT_SHADER,r),a=e.createProgram();if(e.attachShader(a,i),e.attachShader(a,o),n)for(var s in n)e.bindAttribLocation(a,n[s],s);return e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||(e.getShaderParameter(i,e.COMPILE_STATUS)||(console.warn(t),console.error(e.getShaderInfoLog(i))),e.getShaderParameter(o,e.COMPILE_STATUS)||(console.warn(r),console.error(e.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(a,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),e.getProgramInfoLog(a)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(a)),e.deleteProgram(a),a=null),e.deleteShader(i),e.deleteShader(o),a}function ew(e){for(var t=new Array(e),r=0;r<t.length;r++)t[r]=!1;return t}function ON(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return ew(2*t);case"bvec3":return ew(3*t);case"bvec4":return ew(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var PN={},Vf=PN;function CN(){if(Vf===PN||Vf&&Vf.isContextLost()){var e=document.createElement("canvas"),t=void 0;lt.PREFER_ENV>=$o.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Vf=t}return Vf}var gm;function $K(){if(!gm){gm=go.MEDIUM;var e=CN();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);gm=t.precision?go.HIGH:go.MEDIUM}}return gm}function oA(e,t,r){if(e.substring(0,9)!=="precision"){var n=t;return t===go.HIGH&&r!==go.HIGH&&(n=go.MEDIUM),"precision "+n+` float;
`+e}else if(r!==go.HIGH&&e.substring(0,15)==="precision highp")return e.replace("precision highp","precision mediump");return e}var qK={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function KK(e){return qK[e]}var ym=null,aA={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function sA(e,t){if(!ym){var r=Object.keys(aA);ym={};for(var n=0;n<r.length;++n){var i=r[n];ym[e[i]]=aA[i]}}return ym[t]}var Eg=[{test:function(e){return e.type==="float"&&e.size===1},code:function(e){return`
            if(uv["`+e+'"] !== ud["'+e+`"].value)
            {
                ud["`+e+'"].value = uv["'+e+`"]
                gl.uniform1f(ud["`+e+'"].location, uv["'+e+`"])
            }
            `}},{test:function(e){return(e.type==="sampler2D"||e.type==="samplerCube"||e.type==="sampler2DArray")&&e.size===1&&!e.isArray},code:function(e){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+e+`"], t);

            if(ud["`+e+`"].value !== t)
            {
                ud["`+e+`"].value = t;
                gl.uniform1i(ud["`+e+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(e,t){return e.type==="mat3"&&e.size===1&&t.a!==void 0},code:function(e){return`
            gl.uniformMatrix3fv(ud["`+e+'"].location, false, uv["'+e+`"].toArray(true));
            `}},{test:function(e,t){return e.type==="vec2"&&e.size===1&&t.x!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+e+`"].location, v.x, v.y);
                }`}},{test:function(e){return e.type==="vec2"&&e.size===1},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+e+`"].location, v[0], v[1]);
                }
            `}},{test:function(e,t){return e.type==="vec4"&&e.size===1&&t.width!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+e+`"].location, v.x, v.y, v.width, v.height)
                }`}},{test:function(e){return e.type==="vec4"&&e.size===1},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+e+`"].location, v[0], v[1], v[2], v[3])
                }`}}],ZK={float:`
    if(cv !== v)
    {
        cv.v = v;
        gl.uniform1f(location, v)
    }`,vec2:`
    if(cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},QK={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function JK(e,t){var r=[`
        var v = null;
        var cv = null
        var t = 0;
        var gl = renderer.gl
    `];for(var n in e.uniforms){var i=t[n];if(!i){e.uniforms[n].group&&r.push(`
                    renderer.shader.syncUniformGroup(uv["`+n+`"], syncData);
                `);continue}for(var o=e.uniforms[n],a=!1,s=0;s<Eg.length;s++)if(Eg[s].test(i,o)){r.push(Eg[s].code(n,o)),a=!0;break}if(!a){var u=i.size===1?ZK:QK,l=u[i.type].replace("location",'ud["'+n+'"].location');r.push(`
            cv = ud["`+n+`"].value;
            v = uv["`+n+`"];
            `+l+";")}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}var eZ=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function tZ(e){for(var t="",r=0;r<e;++r)r>0&&(t+=`
else `),r<e-1&&(t+="if(test == "+r+".0){}");return t}function AN(e,t){if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=t.createShader(t.FRAGMENT_SHADER);;){var n=eZ.replace(/%forloop%/gi,tZ(e));if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))e=e/2|0;else break}return e}var Gf;function rZ(){if(typeof Gf=="boolean")return Gf;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");Gf=e({a:"b"},"a","b")===!0}catch{Gf=!1}return Gf}var nZ=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,iZ=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,oZ=0,vm={},s1=(function(){function e(t,r,n){n===void 0&&(n="pixi-shader"),this.id=oZ++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),vm[n]?(vm[n]++,n+="-"+vm[n]):vm[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=oA(this.vertexSrc,lt.PRECISION_VERTEX,go.HIGH),this.fragmentSrc=oA(this.fragmentSrc,lt.PRECISION_FRAGMENT,$K())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return e.prototype.extractData=function(t,r){var n=CN();if(n){var i=kN(n,t,r);this.attributeData=this.getAttributeData(i,n),this.uniformData=this.getUniformData(i,n),n.deleteProgram(i)}else this.uniformData={},this.attributeData={}},e.prototype.getAttributeData=function(t,r){for(var n={},i=[],o=r.getProgramParameter(t,r.ACTIVE_ATTRIBUTES),a=0;a<o;a++){var s=r.getActiveAttrib(t,a),u=sA(r,s.type),l={type:u,name:s.name,size:KK(u),location:0};n[s.name]=l,i.push(l)}i.sort(function(c,h){return c.name>h.name?1:-1});for(var a=0;a<i.length;a++)i[a].location=a;return n},e.prototype.getUniformData=function(t,r){for(var n={},i=r.getProgramParameter(t,r.ACTIVE_UNIFORMS),o=0;o<i;o++){var a=r.getActiveUniform(t,o),s=a.name.replace(/\[.*?\]$/,""),u=a.name.match(/\[.*?\]$/),l=sA(r,a.type);n[s]={type:l,size:a.size,isArray:u,value:ON(l,a.size)}}return n},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return iZ},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return nZ},enumerable:!1,configurable:!0}),e.from=function(t,r,n){var i=t+r,o=Y2[i];return o||(Y2[i]=o=new e(t,r,n)),o},e})(),ws=(function(){function e(t,r){this.program=t,r?r instanceof ys?this.uniformGroup=r:this.uniformGroup=new ys(r):this.uniformGroup=new ys({});for(var n in t.uniformData)this.uniformGroup.uniforms[n]instanceof Array&&(this.uniformGroup.uniforms[n]=new Float32Array(this.uniformGroup.uniforms[n]))}return e.prototype.checkUniformExists=function(t,r){if(r.uniforms[t])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,r,n){var i=s1.from(t,r);return new e(i,n)},e})(),tw=0,rw=1,nw=2,iw=3,ow=4,ks=(function(){function e(){this.data=0,this.blendMode=dt.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(this.data&1<<tw)},set:function(t){!!(this.data&1<<tw)!==t&&(this.data^=1<<tw)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(this.data&1<<rw)},set:function(t){!!(this.data&1<<rw)!==t&&(this.data^=1<<rw)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(this.data&1<<nw)},set:function(t){!!(this.data&1<<nw)!==t&&(this.data^=1<<nw)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(this.data&1<<iw)},set:function(t){!!(this.data&1<<iw)!==t&&(this.data^=1<<iw)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<ow)},set:function(t){!!(this.data&1<<ow)!==t&&(this.data^=1<<ow)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==dt.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e})(),aZ=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,sZ=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,za=(function(e){Ht(t,e);function t(r,n,i){var o=this,a=s1.from(r||t.defaultVertexSrc,n||t.defaultFragmentSrc);return o=e.call(this,a,i)||this,o.padding=0,o.resolution=lt.FILTER_RESOLUTION,o.enabled=!0,o.autoFit=!0,o.legacy=!!o.program.attributeData.aTextureCoord,o.state=new ks,o}return t.prototype.apply=function(r,n,i,o,a){r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return aZ},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return sZ},enumerable:!1,configurable:!0}),t})(ws),lZ=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,uZ=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,lA=new $r,$v=(function(){function e(t,r){this._texture=t,this.mapCoord=new $r,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(t,r){r===void 0&&(r=t);for(var n=this.mapCoord,i=0;i<t.length;i+=2){var o=t[i],a=t[i+1];r[i]=o*n.a+a*n.c+n.tx,r[i+1]=o*n.b+a*n.d+n.ty}return r},e.prototype.update=function(t){var r=this._texture;if(!r||!r.valid||!t&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,o=r.trim;o&&(lA.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(lA));var a=r.baseTexture,s=this.uClampFrame,u=this.clampMargin/a.resolution,l=this.clampOffset;return s[0]=(r._frame.x+u+l)/a.width,s[1]=(r._frame.y+u+l)/a.height,s[2]=(r._frame.x+r._frame.width-u+l)/a.width,s[3]=(r._frame.y+r._frame.height-u+l)/a.height,this.uClampOffset[0]=l/a.realWidth,this.uClampOffset[1]=l/a.realHeight,this.isSimple=r._frame.width===a.width&&r._frame.height===a.height&&r.rotate===0,!0},e})(),MN=(function(e){Ht(t,e);function t(r){var n=this,i=new $r;return n=e.call(this,lZ,uZ)||this,r.renderable=!1,n.maskSprite=r,n.maskMatrix=i,n}return t.prototype.apply=function(r,n,i,o){var a=this.maskSprite,s=a._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new $v(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,a).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,r.applyFilter(this,n,i,o))},t})(za),IN=(function(e){Ht(t,e);function t(r){var n=e.call(this,r)||this;return n.enableScissor=!1,n.alphaMaskPool=[],n.maskDataPool=[],n.maskStack=[],n.alphaMaskIndex=0,n}return t.prototype.setMaskStack=function(r){this.maskStack=r,this.renderer.scissor.setMaskStack(r),this.renderer.stencil.setMaskStack(r)},t.prototype.push=function(r,n){var i=n;if(!i.isMaskData){var o=this.maskDataPool.pop()||new SN;o.pooled=!0,o.maskObject=n,i=o}switch(i.autoDetect&&this.detect(i),i.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),i._target=r,i.type){case li.SCISSOR:this.maskStack.push(i),this.renderer.scissor.push(i);break;case li.STENCIL:this.maskStack.push(i),this.renderer.stencil.push(i);break;case li.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i),this.maskStack.push(i);break}},t.prototype.pop=function(r){var n=this.maskStack.pop();if(!(!n||n._target!==r)){switch(n.type){case li.SCISSOR:this.renderer.scissor.pop();break;case li.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case li.SPRITE:this.popSpriteMask();break}n.reset(),n.pooled&&this.maskDataPool.push(n)}},t.prototype.detect=function(r){var n=r.maskObject;if(n.isSprite){r.type=li.SPRITE;return}if(r.type=li.STENCIL,this.enableScissor&&n.isFastRect&&n.isFastRect()){var i=n.worldTransform,o=Math.atan2(i.b,i.a),a=Math.atan2(i.d,i.c);o=Math.round(o*(180/Math.PI)*100),a=Math.round(a*(180/Math.PI)*100)-o,o=(o%9e3+9e3)%9e3,a=(a%18e3+18e3)%18e3,o===0&&a===9e3&&(r.type=li.SCISSOR)}},t.prototype.pushSpriteMask=function(r){var n=r.maskObject,i=r._target,o=this.alphaMaskPool[this.alphaMaskIndex];o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new MN(n)]),o[0].resolution=this.renderer.resolution,o[0].maskSprite=n;var a=i.filterArea;i.filterArea=n.getBounds(!0),this.renderer.filter.push(i,o),i.filterArea=a,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},t})(mi),RN=(function(e){Ht(t,e);function t(r){var n=e.call(this,r)||this;return n.maskStack=[],n.glConst=0,n}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(r){var n=this.renderer.gl,i=this.getStackLength();this.maskStack=r;var o=this.getStackLength();o!==i&&(o===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.maskStack=null},t})(mi),DN=(function(e){Ht(t,e);function t(r){var n=e.call(this,r)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return t.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},t.prototype.push=function(r){var n=r.maskObject;n.renderable=!0;var i=r._scissorRect,o=n.getBounds(!0),a=this.renderer.gl;n.renderable=!1,i?o.fit(i):a.enable(a.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=o,this._useCurrent()},t.prototype.pop=function(){var r=this.renderer.gl;this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},t.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n=this.renderer.renderTexture.current,i=this.renderer.projection,o=i.transform,a=i.sourceFrame,s=i.destinationFrame,u=n?n.resolution:this.renderer.resolution,l=(r.x-a.x)*u+s.x,c=(r.y-a.y)*u+s.y,h=r.width*u,f=r.height*u;o&&(l+=o.tx*u,c+=o.ty*u),n||(c=this.renderer.height-f-c),this.renderer.gl.scissor(l,c,h,f)},t})(RN),NN=(function(e){Ht(t,e);function t(r){var n=e.call(this,r)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return t.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},t.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,o=r._stencilCounter;o===0&&(this.renderer.framebuffer.forceStencil(),i.enable(i.STENCIL_TEST)),r._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,o,this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},t.prototype.pop=function(r){var n=this.renderer.gl;this.getStackLength()===0?(n.disable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),n.clearStencil(0)):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.getStackLength(),this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},t})(RN),jN=(function(e){Ht(t,e);function t(r){var n=e.call(this,r)||this;return n.destinationFrame=null,n.sourceFrame=null,n.defaultFrame=null,n.projectionMatrix=new $r,n.transform=null,n}return t.prototype.update=function(r,n,i,o){this.destinationFrame=r||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||r,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,o),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(r,n,i,o){var a=this.projectionMatrix,s=o?-1:1;a.identity(),a.a=1/n.width*2,a.d=s*(1/n.height*2),a.tx=-1-n.x*a.a,a.ty=-s-n.y*a.d},t.prototype.setTransform=function(r){},t})(mi),Ys=new ar,Yf=new ar,Wf=new ar,LN=(function(e){Ht(t,e);function t(r){var n=e.call(this,r)||this;return n.clearColor=r._backgroundColorRgba,n.defaultMaskStack=[],n.current=null,n.sourceFrame=new ar,n.destinationFrame=new ar,n}return t.prototype.bind=function(r,n,i){r===void 0&&(r=null);var o=this.renderer;this.current=r;var a,s,u;r?(a=r.baseTexture,u=a.resolution,n||(Ys.width=r.frame.width,Ys.height=r.frame.height,n=Ys),i||(Yf.x=r.frame.x,Yf.y=r.frame.y,Yf.width=n.width,Yf.height=n.height,i=Yf),s=a.framebuffer):(u=o.resolution,n||(Ys.width=o.screen.width,Ys.height=o.screen.height,n=Ys),i||(i=Ys,i.width=n.width,i.height=n.height)),Wf.x=i.x*u,Wf.y=i.y*u,Wf.width=i.width*u,Wf.height=i.height*u,this.renderer.framebuffer.bind(s,Wf),this.renderer.projection.update(i,n,u,!s),r?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(i)},t.prototype.clear=function(r,n){this.current?r=r||this.current.baseTexture.clearColor:r=r||this.clearColor,this.renderer.framebuffer.clear(r[0],r[1],r[2],r[3],n)},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t})(mi),cZ=(function(){function e(){}return e})(),BN=(function(){function e(t,r){this.program=t,this.uniformData=r,this.uniformGroups={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},e})(),hZ=0,uA={textureCount:0},FN=(function(e){Ht(t,e);function t(r){var n=e.call(this,r)||this;return n.destroyed=!1,n.systemCheck(),n.gl=null,n.shader=null,n.program=null,n.cache={},n.id=hZ++,n}return t.prototype.systemCheck=function(){if(!rZ())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(r){this.gl=r,this.reset()},t.prototype.bind=function(r,n){r.uniforms.globals=this.renderer.globalUniforms;var i=r.program,o=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(r);return this.shader=r,this.program!==i&&(this.program=i,this.gl.useProgram(o.program)),n||(uA.textureCount=0,this.syncUniformGroup(r.uniformGroup,uA)),o},t.prototype.setUniforms=function(r){var n=this.shader.program,i=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(i.uniformData,r,this.renderer)},t.prototype.syncUniformGroup=function(r,n){var i=this.getglProgram();(!r.static||r.dirtyId!==i.uniformGroups[r.id])&&(i.uniformGroups[r.id]=r.dirtyId,this.syncUniforms(r,i,n))},t.prototype.syncUniforms=function(r,n,i){var o=r.syncUniforms[this.shader.program.id]||this.createSyncGroups(r);o(n.uniformData,r.uniforms,this.renderer,i)},t.prototype.createSyncGroups=function(r){var n=this.getSignature(r,this.shader.program.uniformData);return this.cache[n]||(this.cache[n]=JK(r,this.shader.program.uniformData)),r.syncUniforms[this.shader.program.id]=this.cache[n],r.syncUniforms[this.shader.program.id]},t.prototype.getSignature=function(r,n){var i=r.uniforms,o=[];for(var a in i)o.push(a),n[a]&&o.push(n[a].type);return o.join("-")},t.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateShader=function(r){var n=this.gl,i=r.program,o={};for(var a in i.attributeData)o[a]=i.attributeData[a].location;var s=kN(n,i.vertexSrc,i.fragmentSrc,o),u={};for(var a in i.uniformData){var l=i.uniformData[a];u[a]={location:n.getUniformLocation(s,a),value:ON(l.type,l.size)}}var c=new BN(s,u);return i.glPrograms[this.renderer.CONTEXT_UID]=c,c},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.destroyed=!0},t})(mi);function fZ(e,t){return t===void 0&&(t=[]),t[dt.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.ADD]=[e.ONE,e.ONE],t[dt.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.NONE]=[0,0],t[dt.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[dt.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dt.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[dt.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[dt.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[dt.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[dt.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[dt.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[dt.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[dt.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[dt.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}var pZ=0,dZ=1,mZ=2,gZ=3,yZ=4,zN=(function(e){Ht(t,e);function t(r){var n=e.call(this,r)||this;return n.gl=null,n.stateId=0,n.polygonOffset=0,n.blendMode=dt.NONE,n._blendEq=!1,n.map=[],n.map[pZ]=n.setBlend,n.map[dZ]=n.setOffset,n.map[mZ]=n.setCullFace,n.map[gZ]=n.setDepthTest,n.map[yZ]=n.setFrontFace,n.checks=[],n.defaultState=new ks,n.defaultState.blend=!0,n}return t.prototype.contextChange=function(r){this.gl=r,this.blendModes=fZ(r),this.set(this.defaultState),this.reset()},t.prototype.set=function(r){if(r=r||this.defaultState,this.stateId!==r.data){for(var n=this.stateId^r.data,i=0;n;)n&1&&this.map[i].call(this,!!(r.data&1<<i)),n=n>>1,i++;this.stateId=r.data}for(var i=0;i<this.checks.length;i++)this.checks[i](this,r)},t.prototype.forceState=function(r){r=r||this.defaultState;for(var n=0;n<this.map.length;n++)this.map[n].call(this,!!(r.data&1<<n));for(var n=0;n<this.checks.length;n++)this.checks[n](this,r);this.stateId=r.data},t.prototype.setBlend=function(r){this.updateCheck(t.checkBlendMode,r),this.gl[r?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(r){this.updateCheck(t.checkPolygonOffset,r),this.gl[r?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(r){this.gl[r?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setCullFace=function(r){this.gl[r?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(r){this.gl.frontFace(this.gl[r?"CW":"CCW"])},t.prototype.setBlendMode=function(r){if(r!==this.blendMode){this.blendMode=r;var n=this.blendModes[r],i=this.gl;n.length===2?i.blendFunc(n[0],n[1]):i.blendFuncSeparate(n[0],n[1],n[2],n[3]),n.length===6?(this._blendEq=!0,i.blendEquationSeparate(n[4],n[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},t.prototype.setPolygonOffset=function(r,n){this.gl.polygonOffset(r,n)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(r,n){var i=this.checks.indexOf(r);n&&i===-1?this.checks.push(r):!n&&i!==-1&&this.checks.splice(i,1)},t.checkBlendMode=function(r,n){r.setBlendMode(n.blendMode)},t.checkPolygonOffset=function(r,n){r.setPolygonOffset(1,n.polygonOffset)},t})(mi),HN=(function(e){Ht(t,e);function t(r){var n=e.call(this,r)||this;return n.count=0,n.checkCount=0,n.maxIdle=lt.GC_MAX_IDLE,n.checkCountMax=lt.GC_MAX_CHECK_COUNT,n.mode=lt.GC_MODE,n}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==o0.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var r=this.renderer.texture,n=r.managedTextures,i=!1,o=0;o<n.length;o++){var a=n[o];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(r.destroyTexture(a,!0),n[o]=null,i=!0)}if(i){for(var s=0,o=0;o<n.length;o++)n[o]!==null&&(n[s++]=n[o]);n.length=s}},t.prototype.unload=function(r){var n=this.renderer.texture,i=r._texture;i&&!i.framebuffer&&n.destroyTexture(i);for(var o=r.children.length-1;o>=0;o--)this.unload(r.children[o])},t})(mi),Sg=(function(){function e(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121}return e})(),UN=(function(e){Ht(t,e);function t(r){var n=e.call(this,r)||this;return n.boundTextures=[],n.currentLocation=-1,n.managedTextures=[],n._unknownBoundTextures=!1,n.unknownTexture=new xr,n}return t.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var n=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(var i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};var o=new Sg(r.createTexture());r.bindTexture(r.TEXTURE_2D,o.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[r.TEXTURE_2D]=o,this.emptyTextures[r.TEXTURE_CUBE_MAP]=new Sg(r.createTexture()),r.bindTexture(r.TEXTURE_CUBE_MAP,this.emptyTextures[r.TEXTURE_CUBE_MAP].texture);for(var i=0;i<6;i++)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,null);r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,r.LINEAR);for(var i=0;i<this.boundTextures.length;i++)this.bind(null,i)},t.prototype.bind=function(r,n){n===void 0&&(n=0);var i=this.gl;if(r){if(r=r.castToBaseTexture(),r.parentTextureArray)return;if(r.valid){r.touched=this.renderer.textureGC.count;var o=r._glTextures[this.CONTEXT_UID]||this.initTexture(r);this.boundTextures[n]!==r&&(this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),i.bindTexture(r.target,o.texture)),o.dirtyId!==r.dirtyId&&(this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),this.updateTexture(r)),this.boundTextures[n]=r}}else this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[n]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]=this.unknownTexture},t.prototype.unbind=function(r){var n=this,i=n.gl,o=n.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<o.length;a++)o[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<o.length;a++)o[a]===r&&(this.currentLocation!==a&&(i.activeTexture(i.TEXTURE0+a),this.currentLocation=a),i.bindTexture(r.target,this.emptyTextures[r.target].texture),o[a]=null)},t.prototype.initTexture=function(r){var n=new Sg(this.gl.createTexture());return n.dirtyId=-1,r._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(r),r.on("dispose",this.destroyTexture,this),n},t.prototype.initTextureType=function(r,n){if(n.internalFormat=r.format,n.type=r.type,this.webGLVersion===2){var i=this.renderer.gl;r.type===i.FLOAT&&r.format===i.RGBA&&(n.internalFormat=i.RGBA32F),r.type===Wr.HALF_FLOAT&&(n.type=i.HALF_FLOAT),n.type===i.HALF_FLOAT&&r.format===i.RGBA&&(n.internalFormat=i.RGBA16F)}},t.prototype.updateTexture=function(r){var n=r._glTextures[this.CONTEXT_UID];if(n){var i=this.renderer;if(this.initTextureType(r,n),!(r.resource&&r.resource.upload(i,r,n))){var o=r.realWidth,a=r.realHeight,s=i.gl;(n.width!==o||n.height!==a||n.dirtyId<0)&&(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,o,a,0,r.format,n.type,null))}r.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(r),n.dirtyId=r.dirtyId}},t.prototype.destroyTexture=function(r,n){var i=this.gl;if(r=r.castToBaseTexture(),r._glTextures[this.CONTEXT_UID]&&(this.unbind(r),i.deleteTexture(r._glTextures[this.CONTEXT_UID].texture),r.off("dispose",this.destroyTexture,this),delete r._glTextures[this.CONTEXT_UID],!n)){var o=this.managedTextures.indexOf(r);o!==-1&&kl(this.managedTextures,o,1)}},t.prototype.updateTextureStyle=function(r){var n=r._glTextures[this.CONTEXT_UID];n&&((r.mipmap===Gc.POW2||this.webGLVersion!==2)&&!r.isPowerOfTwo?n.mipmap=!1:n.mipmap=r.mipmap>=1,this.webGLVersion!==2&&!r.isPowerOfTwo?n.wrapMode=Oa.CLAMP:n.wrapMode=r.wrapMode,r.resource&&r.resource.style(this.renderer,r,n)||this.setStyle(r,n),n.dirtyStyleId=r.dirtyStyleId)},t.prototype.setStyle=function(r,n){var i=this.gl;if(n.mipmap&&i.generateMipmap(r.target),i.texParameteri(r.target,i.TEXTURE_WRAP_S,n.wrapMode),i.texParameteri(r.target,i.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){i.texParameteri(r.target,i.TEXTURE_MIN_FILTER,r.scaleMode===Uo.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var o=this.renderer.context.extensions.anisotropicFiltering;if(o&&r.anisotropicLevel>0&&r.scaleMode===Uo.LINEAR){var a=Math.min(r.anisotropicLevel,i.getParameter(o.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(r.target,o.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else i.texParameteri(r.target,i.TEXTURE_MIN_FILTER,r.scaleMode===Uo.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(r.target,i.TEXTURE_MAG_FILTER,r.scaleMode===Uo.LINEAR?i.LINEAR:i.NEAREST)},t})(mi),vZ={FilterSystem:bN,BatchSystem:_N,ContextSystem:wN,FramebufferSystem:xN,GeometrySystem:EN,MaskSystem:IN,ScissorSystem:DN,StencilSystem:NN,ProjectionSystem:jN,RenderTextureSystem:LN,ShaderSystem:FN,StateSystem:zN,TextureGCSystem:HN,TextureSystem:UN},aw=new $r,VN=(function(e){Ht(t,e);function t(r,n){r===void 0&&(r=Uc.UNKNOWN);var i=e.call(this)||this;return n=Object.assign({},lt.RENDER_OPTIONS,n),n.roundPixels&&(lt.ROUND_PIXELS=n.roundPixels,Ae("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),i.options=n,i.type=r,i.screen=new ar(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||lt.RESOLUTION,i.transparent=n.transparent,i.autoDensity=n.autoDensity||n.autoResize||!1,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,0],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i._lastObjectRendered=null,i.plugins={},i}return t.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(r,n){this.screen.width=r,this.screen.height=n,this.view.width=r*this.resolution,this.view.height=n*this.resolution,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=n+"px"),this.emit("resize",r,n)},t.prototype.generateTexture=function(r,n,i,o){o=o||r.getLocalBounds(null,!0),o.width===0&&(o.width=1),o.height===0&&(o.height=1);var a=jl.create({width:o.width|0,height:o.height|0,scaleMode:n,resolution:i});return aw.tx=-o.x,aw.ty=-o.y,this.render(r,a,!1,aw,!!r.parent),a},t.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=Uc.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=c9(r),Dl(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),t})(af),Ha=(function(e){Ht(t,e);function t(r){var n=e.call(this,Uc.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new _n("destroy"),contextChange:new _n("contextChange"),reset:new _n("reset"),update:new _n("update"),postrender:new _n("postrender"),prerender:new _n("prerender"),resize:new _n("resize")},n.globalUniforms=new ys({projectionMatrix:new $r},!0),n.addSystem(IN,"mask").addSystem(wN,"context").addSystem(zN,"state").addSystem(FN,"shader").addSystem(UN,"texture").addSystem(EN,"geometry").addSystem(xN,"framebuffer").addSystem(DN,"scissor").addSystem(NN,"stencil").addSystem(jN,"projection").addSystem(HN,"textureGC").addSystem(bN,"filter").addSystem(LN,"renderTexture").addSystem(_N,"batch"),n.initPlugins(t.__plugins),r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.transparent,antialias:r.antialias,premultipliedAlpha:n.transparent&&n.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,GD(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return t.create=function(r){if(YD())return new t(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.addSystem=function(r,n){n||(n=r.name);var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var o in this.runners)this.runners[o].add(i);return this},t.prototype.render=function(r,n,i,o,a){if(this.renderingToScreen=!n,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(n||(this._lastObjectRendered=r),!a){var s=r.enableTempParent();r.updateTransform(),r.disableTempParent(s)}this.renderTexture.bind(n),this.batch.currentRenderer.start(),(i!==void 0?i:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),n&&n.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.resize=function(r,n){e.prototype.resize.call(this,r,n),this.runners.resize.emit(r,n)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();e.prototype.destroy.call(this,r),this.gl=null},t.registerPlugin=function(r,n){t.__plugins=t.__plugins||{},t.__plugins[r]=n},t})(VN);function GN(e){return Ha.create(e)}var YN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,E9=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,l0=(function(){function e(){this.texArray=null,this.blend=0,this.type=Xi.TRIANGLES,this.start=0,this.size=0,this.data=null}return e})(),u0=(function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},e})(),WN=(function(){function e(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(t){return this[t+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},e})(),XN=(function(e){Ht(t,e);function t(r){var n=e.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=ks.for2d(),n.size=lt.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return t.prototype.contextChange=function(){var r=this.renderer.gl;lt.PREFER_ENV===$o.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),lt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=AN(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var r=t._drawCallPool,n=t._textureArrayPool,i=this.size/4,o=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new l0);for(;n.length<o;)n.push(new u0);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},t.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,o=t._textureArrayPool,a=this.renderer.batch,s=this._tempBoundTextures,u=this.renderer.textureGC.count,l=++xr._globalBatch,c=0,h=o[0],f=0;a.copyBoundTextures(s,i);for(var p=0;p<this._bufferSize;++p){var d=n[p];n[p]=null,d._batchEnabled!==l&&(h.count>=i&&(a.boundArray(h,s,l,i),this.buildDrawCalls(h,f,p),f=p,h=o[++c],++l),d._batchEnabled=l,d.touched=u,h.elements[h.count++]=d)}h.count>0&&(a.boundArray(h,s,l,i),this.buildDrawCalls(h,f,this._bufferSize),++c,++l);for(var p=0;p<s.length;p++)s[p]=null;xr._globalBatch=l},t.prototype.buildDrawCalls=function(r,n,i){var o=this,a=o._bufferedElements,s=o._attributeBuffer,u=o._indexBuffer,l=o.vertexSize,c=t._drawCallPool,h=this._dcIndex,f=this._aIndex,p=this._iIndex,d=c[h];d.start=this._iIndex,d.texArray=r;for(var m=n;m<i;++m){var v=a[m],b=v._texture.baseTexture,g=f9[b.alphaMode?1:0][v.blendMode];a[m]=null,n<m&&d.blend!==g&&(d.size=p-d.start,n=m,d=c[++h],d.texArray=r,d.start=p),this.packInterleavedGeometry(v,s,u,f,p),f+=v.vertexData.length/2*l,p+=v.indices.length,d.blend=g}n<i&&(d.size=p-d.start,++h),this._dcIndex=h,this._aIndex=f,this._iIndex=p},t.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},t.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,o=r._indexBuffer;lt.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,o=n.state,a=t._drawCallPool,s=null,u=0;u<r;u++){var l=a[u],c=l.texArray,h=l.type,f=l.size,p=l.start,d=l.blend;s!==c&&(s=c,this.bindAndClearTexArray(c)),this.state.blendMode=d,o.set(this.state),i.drawElements(h,f,i.UNSIGNED_SHORT,p*2)}},t.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),lt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(r){var n=Pd(Math.ceil(r/8)),i=G2(n),o=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._aBuffers[o];return a||(this._aBuffers[o]=a=new WN(o*this.vertexSize*4)),a},t.prototype.getIndexBuffer=function(r){var n=Pd(Math.ceil(r/12)),i=G2(n),o=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._iBuffers[i];return a||(this._iBuffers[i]=a=new Uint16Array(o)),a},t.prototype.packInterleavedGeometry=function(r,n,i,o,a){for(var s=n.uint32View,u=n.float32View,l=o/this.vertexSize,c=r.uvs,h=r.indices,f=r.vertexData,p=r._texture.baseTexture._batchLocation,d=Math.min(r.worldAlpha,1),m=d<1&&r._texture.baseTexture.alphaMode?Yv(r._tintRGB,d):r._tintRGB+(d*255<<24),v=0;v<f.length;v+=2)u[o++]=f[v],u[o++]=f[v+1],u[o++]=c[v],u[o++]=c[v+1],s[o++]=m,u[o++]=p;for(var v=0;v<h.length;v++)i[a++]=l+h[v]},t._drawCallPool=[],t._textureArrayPool=[],t})(a1),$N=(function(){function e(t,r){if(this.vertexSrc=t,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(t){if(!this.programCache[t]){for(var r=new Int32Array(t),n=0;n<t;n++)r[n]=n;this.defaultGroupCache[t]=ys.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+t),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new s1(this.vertexSrc,i)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new $r,default:this.defaultGroupCache[t]};return new ws(this.programCache[t],o)},e.prototype.generateSampleSrc=function(t){var r="";r+=`
`,r+=`
`;for(var n=0;n<t;n++)n>0&&(r+=`
else `),n<t-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},e})(),S9=(function(e){Ht(t,e);function t(r){r===void 0&&(r=!1);var n=e.call(this)||this;return n._buffer=new un(null,r,!1),n._indexBuffer=new un(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,Wr.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,Wr.FLOAT).addAttribute("aColor",n._buffer,4,!0,Wr.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,Wr.FLOAT).addIndex(n._indexBuffer),n}return t})(sf),cA=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,hA=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,qN=(function(){function e(){}return e.create=function(t){var r=Object.assign({vertex:cA,fragment:hA,geometryClass:S9,vertexSize:6},t),n=r.vertex,i=r.fragment,o=r.vertexSize,a=r.geometryClass;return(function(s){Ht(u,s);function u(l){var c=s.call(this,l)||this;return c.shaderGenerator=new $N(n,i),c.geometryClass=a,c.vertexSize=o,c}return u})(XN)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return cA},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return hA},enumerable:!1,configurable:!0}),e})(),KN=qN.create();/*!
* @pixi/app - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/app is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var l1=(function(){function e(t){var r=this;t=Object.assign({forceCanvas:!1},t),this.renderer=GN(t),this.stage=new wo,e._plugins.forEach(function(n){n.init.call(r,t)})}return e.registerPlugin=function(t){e._plugins.push(t)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,r){var n=this,i=e._plugins.slice(0);i.reverse(),i.forEach(function(o){o.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null},e})();l1._plugins=[];var bZ=(function(){function e(){}return e.init=function(t){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){window.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===window)n=window.innerWidth,i=window.innerHeight;else{var o=r._resizeTo,a=o.clientWidth,s=o.clientHeight;n=a,i=s}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},e.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e})();l1.registerPlugin(bZ);/*!
* @pixi/extract - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/extract is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var fA=new ar,pA=4,ZN=(function(){function e(t){this.renderer=t,t.extract=this}return e.prototype.image=function(t,r,n){var i=new Image;return i.src=this.base64(t,r,n),i},e.prototype.base64=function(t,r,n){return this.canvas(t).toDataURL(r,n)},e.prototype.canvas=function(t){var r=this.renderer,n,i,o=!1,a,s=!1;t&&(t instanceof jl?a=t:(a=this.renderer.generateTexture(t),s=!0)),a?(n=a.baseTexture.resolution,i=a.frame,o=!1,r.renderTexture.bind(a)):(n=this.renderer.resolution,o=!0,i=fA,i.width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var u=Math.floor(i.width*n+1e-4),l=Math.floor(i.height*n+1e-4),c=new W2(u,l,1),h=new Uint8Array(pA*u*l),f=r.gl;f.readPixels(i.x*n,i.y*n,u,l,f.RGBA,f.UNSIGNED_BYTE,h);var p=c.context.getImageData(0,0,u,l);if(e.arrayPostDivide(h,p.data),c.context.putImageData(p,0,0),o){var d=new W2(c.width,c.height,1);d.context.scale(1,-1),d.context.drawImage(c.canvas,0,-l),c.destroy(),c=d}return s&&a.destroy(!0),c.canvas},e.prototype.pixels=function(t){var r=this.renderer,n,i,o,a=!1;t&&(t instanceof jl?o=t:(o=this.renderer.generateTexture(t),a=!0)),o?(n=o.baseTexture.resolution,i=o.frame,r.renderTexture.bind(o)):(n=r.resolution,i=fA,i.width=r.width,i.height=r.height,r.renderTexture.bind(null));var s=i.width*n,u=i.height*n,l=new Uint8Array(pA*s*u),c=r.gl;return c.readPixels(i.x*n,i.y*n,s,u,c.RGBA,c.UNSIGNED_BYTE,l),a&&o.destroy(!0),e.arrayPostDivide(l,l),l},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e.arrayPostDivide=function(t,r){for(var n=0;n<t.length;n+=4){var i=r[n+3]=t[n+3];i!==0?(r[n]=Math.round(Math.min(t[n]*255/i,255)),r[n+1]=Math.round(Math.min(t[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(t[n+2]*255/i,255))):(r[n]=t[n],r[n+1]=t[n+1],r[n+2]=t[n+2])}},e})(),dA,mA;function _Z(){return mA||(mA=1,dA=(e,t={})=>{if(!e)return;const r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[t.strictMode?"strict":"loose"].exec(e),i={};let o=14;for(;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(a,s,u){s&&(i[r.q.name][s]=u)}),i}),dA}var wZ=_Z();const QN=Gv(wZ);class bm{constructor(t,r=!1,n){this._fn=t,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}detach(){return this._owner===null?!1:(this._owner.detach(this),!0)}}function gA(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}class _a{constructor(){this._head=this._tail=void 0}handlers(t=!1){let r=this._head;if(t)return!!r;const n=[];for(;r;)n.push(r),r=r._next;return n}has(t){if(!(t instanceof bm))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}dispatch(){let t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}add(t,r=null){if(typeof t!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return gA(this,new bm(t,!1,r))}once(t,r=null){if(typeof t!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return gA(this,new bm(t,!0,r))}detach(t){if(!(t instanceof bm))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,t._next===null&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}detachAll(){let t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}/*!
* resource-loader - v3.0.1
* https://github.com/pixijs/pixi-sound
* Compiled Tue, 02 Jul 2019 14:06:18 UTC
*
* resource-loader is licensed under the MIT license.
* http://www.opensource.org/licenses/mit-license
*/function Ws(){}function yA(e,t,r,n){var i=0,o=e.length;(function a(s){if(s||i===o){r&&r(s);return}setTimeout(function(){t(e[i++],a)},1)})()}function TZ(e){return function(){if(e===null)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function xZ(e,t){if(t==null)t=1;else if(t===0)throw new Error("Concurrency must not be zero");var r=0,n={_tasks:[],concurrency:t,saturated:Ws,unsaturated:Ws,buffer:t/4,empty:Ws,drain:Ws,error:Ws,started:!1,paused:!1,push:function(a,s){i(a,!1,s)},kill:function(){r=0,n.drain=Ws,n.started=!1,n._tasks=[]},unshift:function(a,s){i(a,!0,s)},process:function(){for(;!n.paused&&r<n.concurrency&&n._tasks.length;){var a=n._tasks.shift();n._tasks.length===0&&n.empty(),r+=1,r===n.concurrency&&n.saturated(),e(a.data,TZ(o(a)))}},length:function(){return n._tasks.length},running:function(){return r},idle:function(){return n._tasks.length+r===0},pause:function(){n.paused!==!0&&(n.paused=!0)},resume:function(){if(n.paused!==!1){n.paused=!1;for(var a=1;a<=n.concurrency;a++)n.process()}}};function i(a,s,u){if(u!=null&&typeof u!="function")throw new Error("task callback must be a function");if(n.started=!0,a==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var l={data:a,callback:typeof u=="function"?u:Ws};s?n._tasks.unshift(l):n._tasks.push(l),setTimeout(function(){return n.process()},1)}function o(a){return function(){r-=1,a.callback.apply(a,arguments),arguments[0]!=null&&n.error(arguments[0],a.data),r<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}}return n}function EZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JN(e,t,r){return t&&EZ(e.prototype,t),e}var SZ=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),_m=null,kZ=0,vA=200,OZ=204,PZ=1223,CZ=2;function AZ(){}var yt=(function(){e.setExtensionLoadType=function(r,n){bA(e._loadTypeMap,r,n)},e.setExtensionXhrType=function(r,n){bA(e._xhrTypeMap,r,n)};function e(r,n,i){if(typeof r!="string"||typeof n!="string")throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,n.indexOf("data:")===0),this.name=r,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=i.crossOrigin===!0?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=AZ,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new _a,this.onProgress=new _a,this.onComplete=new _a,this.onAfterMiddleware=new _a}var t=e.prototype;return t.complete=function(){this._clearEvents(),this._finish()},t.abort=function(r){if(!this.error){if(this.error=new Error(r),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.load=function(r){var n=this;if(!this.isLoading){if(this.isComplete){r&&setTimeout(function(){return r(n)},1);return}else r&&this.onComplete.once(r);switch(this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:SZ&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t._hasFlag=function(r){return(this._flags&r)!==0},t._setFlag=function(r,n){this._flags=n?this._flags|r:this._flags&~r},t._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t._loadElement=function(r){this.metadata.loadElement?this.data=this.metadata.loadElement:r==="image"&&typeof window.Image<"u"?this.data=new Image:this.data=document.createElement(r),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadSourceElement=function(r){if(this.metadata.loadElement?this.data=this.metadata.loadElement:r==="audio"&&typeof window.Audio<"u"?this.data=new Audio:this.data=document.createElement(r),this.data===null){this.abort("Unsupported element: "+r);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var n=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(r,this.url[i],Array.isArray(n)?n[i]:n));else{var o=this.metadata.mimeType;this.data.appendChild(this._createSource(r,this.url,Array.isArray(o)?o[0]:o))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XMLHttpRequest;r.open("GET",this.url,!0),r.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?r.responseType=e.XHR_RESPONSE_TYPE.TEXT:r.responseType=this.xhrType,r.addEventListener("error",this._boundXhrOnError,!1),r.addEventListener("timeout",this._boundXhrOnTimeout,!1),r.addEventListener("abort",this._boundXhrOnAbort,!1),r.addEventListener("progress",this._boundOnProgress,!1),r.addEventListener("load",this._boundXhrOnLoad,!1),r.send()},t._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XDomainRequest;r.timeout=this.timeout||5e3,r.onerror=this._boundXhrOnError,r.ontimeout=this._boundXhrOnTimeout,r.onprogress=this._boundOnProgress,r.onload=this._boundXhrOnLoad,r.open("GET",this.url,!0),setTimeout(function(){return r.send()},1)},t._createSource=function(r,n,i){i||(i=r+"/"+this._getExtension(n));var o=document.createElement("source");return o.src=n,o.type=i,o},t._onError=function(r){this.abort("Failed to load element using: "+r.target.nodeName)},t._onProgress=function(r){r&&r.lengthComputable&&this.onProgress.dispatch(this,r.loaded/r.total)},t._onTimeout=function(){this.abort("Load timed out.")},t._xhrOnError=function(){var r=this.xhr;this.abort(sw(r)+" Request failed. Status: "+r.status+', text: "'+r.statusText+'"')},t._xhrOnTimeout=function(){var r=this.xhr;this.abort(sw(r)+" Request timed out.")},t._xhrOnAbort=function(){var r=this.xhr;this.abort(sw(r)+" Request was aborted by the user.")},t._xhrOnLoad=function(){var r=this.xhr,n="",i=typeof r.status>"u"?vA:r.status;(r.responseType===""||r.responseType==="text"||typeof r.responseType>"u")&&(n=r.responseText),i===kZ&&(n.length>0||r.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?i=vA:i===PZ&&(i=OZ);var o=i/100|0;if(o===CZ)if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=e.TYPE.JSON}catch(u){this.abort("Error trying to parse loaded json: "+u);return}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var a=new DOMParser;this.data=a.parseFromString(n,"text/xml")}else{var s=document.createElement("div");s.innerHTML=n,this.data=s}this.type=e.TYPE.XML}catch(u){this.abort("Error trying to parse loaded xml: "+u);return}else this.data=r.response||n;else{this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL);return}this.complete()},t._determineCrossOrigin=function(r,n){if(r.indexOf("data:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";n=n||window.location,_m||(_m=document.createElement("a")),_m.href=r,r=QN(_m.href,{strictMode:!0});var i=!r.port&&n.port===""||r.port===n.port,o=r.protocol?r.protocol+":":"";return r.host!==n.hostname||!i||o!==n.protocol?"anonymous":""},t._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},t._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},t._getExtension=function(){var r=this.url,n="";if(this.isDataUrl){var i=r.indexOf("/");n=r.substring(i+1,r.indexOf(";",i))}else{var o=r.indexOf("?"),a=r.indexOf("#"),s=Math.min(o>-1?o:r.length,a>-1?a:r.length);r=r.substring(0,s),n=r.substring(r.lastIndexOf(".")+1)}return n.toLowerCase()},t._getMimeFromXhrType=function(r){switch(r){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},JN(e,[{key:"isDataUrl",get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e})();yt.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4};yt.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};yt.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};yt.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};yt._loadTypeMap={gif:yt.LOAD_TYPE.IMAGE,png:yt.LOAD_TYPE.IMAGE,bmp:yt.LOAD_TYPE.IMAGE,jpg:yt.LOAD_TYPE.IMAGE,jpeg:yt.LOAD_TYPE.IMAGE,tif:yt.LOAD_TYPE.IMAGE,tiff:yt.LOAD_TYPE.IMAGE,webp:yt.LOAD_TYPE.IMAGE,tga:yt.LOAD_TYPE.IMAGE,svg:yt.LOAD_TYPE.IMAGE,"svg+xml":yt.LOAD_TYPE.IMAGE,mp3:yt.LOAD_TYPE.AUDIO,ogg:yt.LOAD_TYPE.AUDIO,wav:yt.LOAD_TYPE.AUDIO,mp4:yt.LOAD_TYPE.VIDEO,webm:yt.LOAD_TYPE.VIDEO};yt._xhrTypeMap={xhtml:yt.XHR_RESPONSE_TYPE.DOCUMENT,html:yt.XHR_RESPONSE_TYPE.DOCUMENT,htm:yt.XHR_RESPONSE_TYPE.DOCUMENT,xml:yt.XHR_RESPONSE_TYPE.DOCUMENT,tmx:yt.XHR_RESPONSE_TYPE.DOCUMENT,svg:yt.XHR_RESPONSE_TYPE.DOCUMENT,tsx:yt.XHR_RESPONSE_TYPE.DOCUMENT,gif:yt.XHR_RESPONSE_TYPE.BLOB,png:yt.XHR_RESPONSE_TYPE.BLOB,bmp:yt.XHR_RESPONSE_TYPE.BLOB,jpg:yt.XHR_RESPONSE_TYPE.BLOB,jpeg:yt.XHR_RESPONSE_TYPE.BLOB,tif:yt.XHR_RESPONSE_TYPE.BLOB,tiff:yt.XHR_RESPONSE_TYPE.BLOB,webp:yt.XHR_RESPONSE_TYPE.BLOB,tga:yt.XHR_RESPONSE_TYPE.BLOB,json:yt.XHR_RESPONSE_TYPE.JSON,text:yt.XHR_RESPONSE_TYPE.TEXT,txt:yt.XHR_RESPONSE_TYPE.TEXT,ttf:yt.XHR_RESPONSE_TYPE.BUFFER,otf:yt.XHR_RESPONSE_TYPE.BUFFER};yt.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function bA(e,t,r){t&&t.indexOf(".")===0&&(t=t.substring(1)),t&&(e[t]=r)}function sw(e){return e.toString().replace("object ","")}var MZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function IZ(e){for(var t="",r=0;r<e.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)r<e.length?n[o]=e.charCodeAt(r++)&255:n[o]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var a=r-(e.length-1);switch(a){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var s=0;s<i.length;++s)t+=MZ.charAt(i[s])}return t}var _A=window.URL||window.webkitURL;function RZ(e,t){if(!e.data){t();return}if(e.xhr&&e.xhrType===yt.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof e.data=="string"){var r=e.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){e.data=new Image,e.data.src="data:"+r+";base64,"+IZ(e.xhr.responseText),e.type=yt.TYPE.IMAGE,e.data.onload=function(){e.data.onload=null,t()};return}}else if(e.data.type.indexOf("image")===0){var n=_A.createObjectURL(e.data);e.blob=e.data,e.data=new Image,e.data.src=n,e.type=yt.TYPE.IMAGE,e.data.onload=function(){_A.revokeObjectURL(n),e.data.onload=null,t()};return}}t()}var DZ={parsing:RZ},lw=100,NZ=/(#[\w-]+)?$/,Pa=(function(){function e(r,n){var i=this;r===void 0&&(r=""),n===void 0&&(n=10),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(s,u){return i._loadResource(s,u)},this._queue=xZ(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new _a,this.onError=new _a,this.onLoad=new _a,this.onStart=new _a,this.onComplete=new _a;for(var o=0;o<e._defaultBeforeMiddleware.length;++o)this.pre(e._defaultBeforeMiddleware[o]);for(var a=0;a<e._defaultAfterMiddleware.length;++a)this.use(e._defaultAfterMiddleware[a])}var t=e.prototype;return t.add=function(r,n,i,o){if(Array.isArray(r)){for(var a=0;a<r.length;++a)this.add(r[a]);return this}if(typeof r=="object"&&(o=n||r.callback||r.onComplete,i=r,n=r.url,r=r.name||r.key||r.url),typeof n!="string"&&(o=i,i=n,n=r),typeof n!="string")throw new Error("No url passed to add resource to loader.");if(typeof i=="function"&&(o=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[r])throw new Error('Resource named "'+r+'" already exists.');if(n=this._prepareUrl(n),this.resources[r]=new yt(r,n,i),typeof o=="function"&&this.resources[r].onAfterMiddleware.once(o),this.loading){for(var s=i.parentResource,u=[],l=0;l<s.children.length;++l)s.children[l].isComplete||u.push(s.children[l]);var c=s.progressChunk*(u.length+1),h=c/(u.length+2);s.children.push(this.resources[r]),s.progressChunk=h;for(var f=0;f<u.length;++f)u[f].progressChunk=h;this.resources[r].progressChunk=h}return this._queue.push(this.resources[r]),this},t.pre=function(r){return this._beforeMiddleware.push(r),this},t.use=function(r){return this._afterMiddleware.push(r),this},t.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var r in this.resources){var n=this.resources[r];n._onLoadBinding&&n._onLoadBinding.detach(),n.isLoading&&n.abort()}return this.resources={},this},t.load=function(r){if(typeof r=="function"&&this.onComplete.once(r),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var n=this._queue._tasks.length,i=lw/n,o=0;o<this._queue._tasks.length;++o)this._queue._tasks[o].data.progressChunk=i;this._onStart(),this._queue.resume()}return this},t._prepareUrl=function(r){var n=QN(r,{strictMode:!0}),i;if(n.protocol||!n.path||r.indexOf("//")===0?i=r:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&r.charAt(0)!=="/"?i=this.baseUrl+"/"+r:i=this.baseUrl+r,this.defaultQueryString){var o=NZ.exec(i)[0];i=i.substr(0,i.length-o.length),i.indexOf("?")!==-1?i+="&"+this.defaultQueryString:i+="?"+this.defaultQueryString,i+=o}return i},t._loadResource=function(r,n){var i=this;r._dequeue=n,yA(this._beforeMiddleware,function(o,a){o.call(i,r,function(){a(r.isComplete?{}:null)})},function(){r.isComplete?i._onLoad(r):(r._onLoadBinding=r.onComplete.once(i._onLoad,i),r.load())})},t._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t._onComplete=function(){this.progress=lw,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t._onLoad=function(r){var n=this;r._onLoadBinding=null,this._resourcesParsing.push(r),r._dequeue(),yA(this._afterMiddleware,function(i,o){i.call(n,r,o)},function(){r.onAfterMiddleware.dispatch(r),n.progress=Math.min(lw,n.progress+r.progressChunk),n.onProgress.dispatch(n,r),r.error?n.onError.dispatch(r.error,n,r):n.onLoad.dispatch(n,r),n._resourcesParsing.splice(n._resourcesParsing.indexOf(r),1),n._queue.idle()&&n._resourcesParsing.length===0&&n._onComplete()})},JN(e,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(r){this._queue.concurrency=r}}]),e})();Pa._defaultBeforeMiddleware=[];Pa._defaultAfterMiddleware=[];Pa.pre=function(e){return Pa._defaultBeforeMiddleware.push(e),Pa};Pa.use=function(e){return Pa._defaultAfterMiddleware.push(e),Pa};/*!
* @pixi/loaders - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/loaders is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var ud=yt;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var J2=function(e,t){return J2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},J2(e,t)};function jZ(e,t){J2(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ej=(function(){function e(){}return e.use=function(t,r){t.data&&t.type===yt.TYPE.IMAGE&&(t.texture=Ot.fromLoader(t.data,t.url,t.name)),r()},e})(),Ll=(function(e){jZ(t,e);function t(r,n){for(var i=e.call(this,r,n)||this,o=0;o<t._plugins.length;++o){var a=t._plugins[o],s=a.pre,u=a.use;s&&i.pre(s),u&&i.use(u)}return i._protected=!1,i}return t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var r=t._shared;return r||(r=new t,r._protected=!0,t._shared=r),r},enumerable:!1,configurable:!0}),t.registerPlugin=function(r){return t._plugins.push(r),r.add&&r.add(),t},t._plugins=[],t})(Pa);Ll.registerPlugin({use:DZ.parsing});Ll.registerPlugin(ej);var tj=(function(){function e(){}return e.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Ll.shared:new Ll},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e})();/*!
* @pixi/particles - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/particles is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var e5=function(e,t){return e5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},e5(e,t)};function rj(e,t){e5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var LZ=(function(e){rj(t,e);function t(r,n,i,o){r===void 0&&(r=1500),i===void 0&&(i=16384),o===void 0&&(o=!1);var a=e.call(this)||this,s=16384;return i>s&&(i=s),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=i,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=dt.NORMAL,a.autoResize=o,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return t.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,Dl(r,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},t.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t})(wo),wA=(function(){function e(t,r,n){this.geometry=new sf,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var o=t[i];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||Wr.FLOAT,offset:o.offset},r[i]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var t=this.geometry,r=0;this.indexBuffer=new un(XD(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new un(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=a,a+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new un(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];t.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===Wr.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];t.addAttribute(i.attributeName,this.staticBuffer,0,i.type===Wr.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},e.prototype.uploadDynamic=function(t,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var o=this.dynamicProperties[i];o.uploadFunction(t,r,n,o.type===Wr.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(t,r,n){for(var i=0;i<this.staticProperties.length;i++){var o=this.staticProperties[i];o.uploadFunction(t,r,n,o.type===Wr.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e})(),BZ=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,FZ=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,nj=(function(e){rj(t,e);function t(r){var n=e.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new $r,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Wr.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=ws.from(FZ,BZ,{}),n.state=ks.for2d(),n}return t.prototype.render=function(r){var n=r.children,i=r._maxSize,o=r._batchSize,a=this.renderer,s=n.length;if(s!==0){s>i&&!r.autoResize&&(s=i);var u=r._buffers;u||(u=r._buffers=this.generateBuffers(r));var l=n[0]._texture.baseTexture;this.state.blendMode=p9(r.blendMode,l.alphaMode),a.state.set(this.state);var c=a.gl,h=r.worldTransform.copyTo(this.tempMatrix);h.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=WD(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,l.alphaMode),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);for(var f=!1,p=0,d=0;p<s;p+=o,d+=1){var m=s-p;m>o&&(m=o),d>=u.length&&u.push(this._generateOneMoreBuffer(r));var v=u[d];v.uploadDynamic(n,p,m);var b=r._bufferUpdateIDs[d]||0;f=f||v._updateID<b,f&&(v._updateID=r._updateID,v.uploadStatic(n,p,m)),a.geometry.bind(v.geometry),c.drawElements(c.TRIANGLES,m*6,c.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,o=r._batchSize,a=r._properties,s=0;s<i;s+=o)n.push(new wA(this.properties,a,o));return n},t.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new wA(this.properties,i,n)},t.prototype.uploadVertices=function(r,n,i,o,a,s){for(var u=0,l=0,c=0,h=0,f=0;f<i;++f){var p=r[n+f],d=p._texture,m=p.scale.x,v=p.scale.y,b=d.trim,g=d.orig;b?(l=b.x-p.anchor.x*g.width,u=l+b.width,h=b.y-p.anchor.y*g.height,c=h+b.height):(u=g.width*(1-p.anchor.x),l=g.width*-p.anchor.x,c=g.height*(1-p.anchor.y),h=g.height*-p.anchor.y),o[s]=l*m,o[s+1]=h*v,o[s+a]=u*m,o[s+a+1]=h*v,o[s+a*2]=u*m,o[s+a*2+1]=c*v,o[s+a*3]=l*m,o[s+a*3+1]=c*v,s+=a*4}},t.prototype.uploadPosition=function(r,n,i,o,a,s){for(var u=0;u<i;u++){var l=r[n+u].position;o[s]=l.x,o[s+1]=l.y,o[s+a]=l.x,o[s+a+1]=l.y,o[s+a*2]=l.x,o[s+a*2+1]=l.y,o[s+a*3]=l.x,o[s+a*3+1]=l.y,s+=a*4}},t.prototype.uploadRotation=function(r,n,i,o,a,s){for(var u=0;u<i;u++){var l=r[n+u].rotation;o[s]=l,o[s+a]=l,o[s+a*2]=l,o[s+a*3]=l,s+=a*4}},t.prototype.uploadUvs=function(r,n,i,o,a,s){for(var u=0;u<i;++u){var l=r[n+u]._texture._uvs;l?(o[s]=l.x0,o[s+1]=l.y0,o[s+a]=l.x1,o[s+a+1]=l.y1,o[s+a*2]=l.x2,o[s+a*2+1]=l.y2,o[s+a*3]=l.x3,o[s+a*3+1]=l.y3,s+=a*4):(o[s]=0,o[s+1]=0,o[s+a]=0,o[s+a+1]=0,o[s+a*2]=0,o[s+a*2+1]=0,o[s+a*3]=0,o[s+a*3+1]=0,s+=a*4)}},t.prototype.uploadTint=function(r,n,i,o,a,s){for(var u=0;u<i;++u){var l=r[n+u],c=l._texture.baseTexture.alphaMode>0,h=l.alpha,f=h<1&&c?Yv(l._tintRGB,h):l._tintRGB+(h*255<<24);o[s]=f,o[s+a]=f,o[s+a*2]=f,o[s+a*3]=f,s+=a*4}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t})(a1);/*!
* @pixi/graphics - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/graphics is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var xa;(function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"})(xa||(xa={}));var Ea;(function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"})(Ea||(Ea={}));var Xc={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(t===void 0&&(t=20),!this.adaptive||!e||isNaN(e))return t;var r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},k9=(function(){function e(){this.color=16777215,this.alpha=1,this.texture=Ot.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Ot.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e})();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var t5=function(e,t){return t5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},t5(e,t)};function qv(e,t){t5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var O9={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var r=e.points,n=e.holes,i=t.points,o=t.indices;if(r.length>=6){for(var a=[],s=0;s<n.length;s++){var u=n[s];a.push(r.length/2),r=r.concat(u.points)}var l=l9(r,a,2);if(!l)return;for(var c=i.length/2,s=0;s<l.length;s+=3)o.push(l[s]+c),o.push(l[s+1]+c),o.push(l[s+2]+c);for(var s=0;s<r.length;s++)i.push(r[s])}}},r5={build:function(e){var t=e.shape,r=e.points,n=t.x,i=t.y,o,a;if(r.length=0,e.type===Nr.CIRC)o=t.radius,a=t.radius;else{var s=e.shape;o=s.width,a=s.height}if(!(o===0||a===0)){var u=Math.floor(30*Math.sqrt(t.radius))||Math.floor(15*Math.sqrt(o+a));u/=2.3;for(var l=Math.PI*2/u,c=0;c<u-.5;c++)r.push(n+Math.sin(-l*c)*o,i+Math.cos(-l*c)*a);r.push(r[0],r[1])}},triangulate:function(e,t){var r=e.points,n=t.points,i=t.indices,o=n.length/2,a=o,s=e.shape,u=e.matrix,l=s.x,c=s.y;n.push(e.matrix?u.a*l+u.c*c+u.tx:l,e.matrix?u.b*l+u.d*c+u.ty:c);for(var h=0;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(o++,a,o)}},ij={build:function(e){var t=e.shape,r=t.x,n=t.y,i=t.width,o=t.height,a=e.points;a.length=0,a.push(r,n,r+i,n,r+i,n+o,r,n+o)},triangulate:function(e,t){var r=e.points,n=t.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Su(e,t,r){var n=t-e;return e+n*r}function wm(e,t,r,n,i,o,a){a===void 0&&(a=[]);for(var s=20,u=a,l=0,c=0,h=0,f=0,p=0,d=0,m=0,v=0;m<=s;++m)v=m/s,l=Su(e,r,v),c=Su(t,n,v),h=Su(r,i,v),f=Su(n,o,v),p=Su(l,h,v),d=Su(c,f,v),u.push(p,d);return u}var oj={build:function(e){var t=e.shape,r=e.points,n=t.x,i=t.y,o=t.width,a=t.height,s=Math.max(0,Math.min(t.radius,Math.min(o,a)/2));r.length=0,s?(wm(n,i+s,n,i,n+s,i,r),wm(n+o-s,i,n+o,i,n+o,i+s,r),wm(n+o,i+a-s,n+o,i+a,n+o-s,i+a,r),wm(n+s,i+a,n,i+a,n,i+a-s,r)):r.push(n,i,n+o,i,n+o,i+a,n,i+a)},triangulate:function(e,t){for(var r=e.points,n=t.points,i=t.indices,o=n.length/2,a=l9(r,null,2),s=0,u=a.length;s<u;s+=3)i.push(a[s]+o),i.push(a[s+1]+o),i.push(a[s+2]+o);for(var s=0,u=r.length;s<u;s++)n.push(r[s],r[++s])}};function TA(e,t,r,n,i,o,a,s){var u=e-r*i,l=t-n*i,c=e+r*o,h=t+n*o,f,p;a?(f=n,p=-r):(f=-n,p=r);var d=u+f,m=l+p,v=c+f,b=h+p;return s.push(d,m),s.push(v,b),2}function ku(e,t,r,n,i,o,a,s){var u=r-e,l=n-t,c=Math.atan2(u,l),h=Math.atan2(i-e,o-t);s&&c<h?c+=Math.PI*2:!s&&c>h&&(h+=Math.PI*2);var f=c,p=h-c,d=Math.abs(p),m=Math.sqrt(u*u+l*l),v=(15*d*Math.sqrt(m)/Math.PI>>0)+1,b=p/v;if(f+=b,s){a.push(e,t),a.push(r,n);for(var g=1,y=f;g<v;g++,y+=b)a.push(e,t),a.push(e+Math.sin(y)*m,t+Math.cos(y)*m);a.push(e,t),a.push(i,o)}else{a.push(r,n),a.push(e,t);for(var g=1,y=f;g<v;g++,y+=b)a.push(e+Math.sin(y)*m,t+Math.cos(y)*m),a.push(e,t);a.push(i,o),a.push(e,t)}return v*2}function zZ(e,t){var r=e.shape,n=e.points||r.points.slice(),i=t.closePointEps;if(n.length!==0){var o=e.lineStyle,a=new hn(n[0],n[1]),s=new hn(n[n.length-2],n[n.length-1]),u=r.type!==Nr.POLY||r.closeStroke,l=Math.abs(a.x-s.x)<i&&Math.abs(a.y-s.y)<i;if(u){n=n.slice(),l&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var c=(a.x+s.x)*.5,h=(s.y+a.y)*.5;n.unshift(c,h),n.push(c,h)}var f=t.points,p=n.length/2,d=n.length,m=f.length/2,v=o.width/2,b=v*v,g=o.miterLimit*o.miterLimit,y=n[0],_=n[1],w=n[2],T=n[3],O=0,E=0,S=-(_-T),A=y-w,M=0,H=0,N=Math.sqrt(S*S+A*A);S/=N,A/=N,S*=v,A*=v;var k=o.alignment,R=(1-k)*2,B=k*2;u||(o.cap===Ea.ROUND?d+=ku(y-S*(R-B)*.5,_-A*(R-B)*.5,y-S*R,_-A*R,y+S*B,_+A*B,f,!0)+2:o.cap===Ea.SQUARE&&(d+=TA(y,_,S,A,R,B,!0,f))),f.push(y-S*R,_-A*R),f.push(y+S*B,_+A*B);for(var z=1;z<p-1;++z){y=n[(z-1)*2],_=n[(z-1)*2+1],w=n[z*2],T=n[z*2+1],O=n[(z+1)*2],E=n[(z+1)*2+1],S=-(_-T),A=y-w,N=Math.sqrt(S*S+A*A),S/=N,A/=N,S*=v,A*=v,M=-(T-E),H=w-O,N=Math.sqrt(M*M+H*H),M/=N,H/=N,M*=v,H*=v;var U=w-y,V=_-T,W=w-O,te=E-T,re=V*W-te*U,X=re<0;if(Math.abs(re)<.1){f.push(w-S*R,T-A*R),f.push(w+S*B,T+A*B);continue}var $=(-S+y)*(-A+T)-(-S+w)*(-A+_),ee=(-M+O)*(-H+T)-(-M+w)*(-H+E),le=(U*ee-W*$)/re,fe=(te*$-V*ee)/re,Ee=(le-w)*(le-w)+(fe-T)*(fe-T),ce=w+(le-w)*R,Se=T+(fe-T)*R,Oe=w-(le-w)*B,he=T-(fe-T)*B,Pe=Math.min(U*U+V*V,W*W+te*te),Fe=X?R:B,We=Pe+Fe*Fe*b,et=Ee<=We;et?o.join===xa.BEVEL||Ee/b>g?(X?(f.push(ce,Se),f.push(w+S*B,T+A*B),f.push(ce,Se),f.push(w+M*B,T+H*B)):(f.push(w-S*R,T-A*R),f.push(Oe,he),f.push(w-M*R,T-H*R),f.push(Oe,he)),d+=2):o.join===xa.ROUND?X?(f.push(ce,Se),f.push(w+S*B,T+A*B),d+=ku(w,T,w+S*B,T+A*B,w+M*B,T+H*B,f,!0)+4,f.push(ce,Se),f.push(w+M*B,T+H*B)):(f.push(w-S*R,T-A*R),f.push(Oe,he),d+=ku(w,T,w-S*R,T-A*R,w-M*R,T-H*R,f,!1)+4,f.push(w-M*R,T-H*R),f.push(Oe,he)):(f.push(ce,Se),f.push(Oe,he)):(f.push(w-S*R,T-A*R),f.push(w+S*B,T+A*B),o.join===xa.BEVEL||Ee/b>g||(o.join===xa.ROUND?X?d+=ku(w,T,w+S*B,T+A*B,w+M*B,T+H*B,f,!0)+2:d+=ku(w,T,w-S*R,T-A*R,w-M*R,T-H*R,f,!1)+2:(X?(f.push(Oe,he),f.push(Oe,he)):(f.push(ce,Se),f.push(ce,Se)),d+=2)),f.push(w-M*R,T-H*R),f.push(w+M*B,T+H*B),d+=2)}y=n[(p-2)*2],_=n[(p-2)*2+1],w=n[(p-1)*2],T=n[(p-1)*2+1],S=-(_-T),A=y-w,N=Math.sqrt(S*S+A*A),S/=N,A/=N,S*=v,A*=v,f.push(w-S*R,T-A*R),f.push(w+S*B,T+A*B),u||(o.cap===Ea.ROUND?d+=ku(w-S*(R-B)*.5,T-A*(R-B)*.5,w-S*R,T-A*R,w+S*B,T+A*B,f,!1)+2:o.cap===Ea.SQUARE&&(d+=TA(w,T,S,A,R,B,!1,f)));for(var He=t.indices,$e=Xc.epsilon*Xc.epsilon,z=m;z<d+m-2;++z)y=f[z*2],_=f[z*2+1],w=f[(z+1)*2],T=f[(z+1)*2+1],O=f[(z+2)*2],E=f[(z+2)*2+1],!(Math.abs(y*(T-E)+w*(E-_)+O*(_-T))<$e)&&He.push(z,z+1,z+2)}}function HZ(e,t){var r=0,n=e.shape,i=e.points||n.points,o=n.type!==Nr.POLY||n.closeStroke;if(i.length!==0){var a=t.points,s=t.indices,u=i.length/2,l=a.length/2,c=l;for(a.push(i[0],i[1]),r=1;r<u;r++)a.push(i[r*2],i[r*2+1]),s.push(c,c+1),c++;o&&s.push(c,l)}}function n5(e,t){e.lineStyle.native?HZ(e,t):zZ(e,t)}var aj=(function(e){qv(t,e);function t(r,n,i,o,a,s){s===void 0&&(s=0);var u=this;a=a||o/2;for(var l=-1*Math.PI/2+s,c=i*2,h=Yc/c,f=[],p=0;p<c;p++){var d=p%2?a:o,m=p*h+l;f.push(r+d*Math.cos(m),n+d*Math.sin(m))}return u=e.call(this,f)||this,u}return t})(Oc),i5=(function(){function e(){}return e.curveTo=function(t,r,n,i,o,a){var s=a[a.length-2],u=a[a.length-1],l=u-r,c=s-t,h=i-r,f=n-t,p=Math.abs(l*f-c*h);if(p<1e-8||o===0)return(a[a.length-2]!==t||a[a.length-1]!==r)&&a.push(t,r),null;var d=l*l+c*c,m=h*h+f*f,v=l*h+c*f,b=o*Math.sqrt(d)/p,g=o*Math.sqrt(m)/p,y=b*v/d,_=g*v/m,w=b*f+g*c,T=b*h+g*l,O=c*(g+y),E=l*(g+y),S=f*(b+_),A=h*(b+_),M=Math.atan2(E-T,O-w),H=Math.atan2(A-T,S-w);return{cx:w+t,cy:T+r,radius:o,startAngle:M,endAngle:H,anticlockwise:c*h>f*l}},e.arc=function(t,r,n,i,o,a,s,u,l){for(var c=s-a,h=Xc._segmentsCount(Math.abs(c)*o,Math.ceil(Math.abs(c)/Yc)*40),f=c/(h*2),p=f*2,d=Math.cos(f),m=Math.sin(f),v=h-1,b=v%1/v,g=0;g<=v;++g){var y=g+b*g,_=f+a+p*y,w=Math.cos(_),T=-Math.sin(_);l.push((d*w+m*T)*o+n,(d*-T+m*w)*o+i)}},e})(),sj=(function(){function e(){}return e.curveLength=function(t,r,n,i,o,a,s,u){for(var l=10,c=0,h=0,f=0,p=0,d=0,m=0,v=0,b=0,g=0,y=0,_=0,w=t,T=r,O=1;O<=l;++O)h=O/l,f=h*h,p=f*h,d=1-h,m=d*d,v=m*d,b=v*t+3*m*h*n+3*d*f*o+p*s,g=v*r+3*m*h*i+3*d*f*a+p*u,y=w-b,_=T-g,w=b,T=g,c+=Math.sqrt(y*y+_*_);return c},e.curveTo=function(t,r,n,i,o,a,s){var u=s[s.length-2],l=s[s.length-1];s.length-=2;var c=Xc._segmentsCount(e.curveLength(u,l,t,r,n,i,o,a)),h=0,f=0,p=0,d=0,m=0;s.push(u,l);for(var v=1,b=0;v<=c;++v)b=v/c,h=1-b,f=h*h,p=f*h,d=b*b,m=d*b,s.push(p*u+3*f*b*t+3*h*d*n+m*o,p*l+3*f*b*r+3*h*d*i+m*a)},e})(),lj=(function(){function e(){}return e.curveLength=function(t,r,n,i,o,a){var s=t-2*n+o,u=r-2*i+a,l=2*n-2*t,c=2*i-2*r,h=4*(s*s+u*u),f=4*(s*l+u*c),p=l*l+c*c,d=2*Math.sqrt(h+f+p),m=Math.sqrt(h),v=2*h*m,b=2*Math.sqrt(p),g=f/m;return(v*d+m*f*(d-b)+(4*p*h-f*f)*Math.log((2*m+g+d)/(g+b)))/(4*v)},e.curveTo=function(t,r,n,i,o){for(var a=o[o.length-2],s=o[o.length-1],u=Xc._segmentsCount(e.curveLength(a,s,t,r,n,i)),l=0,c=0,h=1;h<=u;++h){var f=h/u;l=a+(t-a)*f,c=s+(r-s)*f,o.push(l+(t+(n-t)*f-l)*f,c+(r+(i-r)*f-c)*f)}},e})(),uj=(function(){function e(){this.reset()}return e.prototype.begin=function(t,r,n){this.reset(),this.style=t,this.start=r,this.attribStart=n},e.prototype.end=function(t,r){this.attribSize=r-this.attribStart,this.size=t-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e})(),Xs,kg=(Xs={},Xs[Nr.POLY]=O9,Xs[Nr.CIRC]=r5,Xs[Nr.ELIP]=r5,Xs[Nr.RECT]=ij,Xs[Nr.RREC]=oj,Xs),o5=[],jp=[],UZ={buildPoly:O9,buildCircle:r5,buildRectangle:ij,buildRoundedRectangle:oj,FILL_COMMANDS:kg,BATCH_POOL:o5,DRAW_CALL_POOL:jp,buildLine:n5,Star:aj,ArcUtils:i5,BezierUtils:sj,QuadraticUtils:lj,BatchPart:uj},a5=(function(){function e(t,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.shape=t,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e})(),Ou=new hn,VZ=new Ad,cj=(function(e){qv(t,e);function t(){var r=e.call(this)||this;return r.uvsFloat32=null,r.indicesUint16=null,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.dirty=0,r.batchDirty=-1,r.cacheDirty=-1,r.clearDirty=0,r.drawCalls=[],r.batches=[],r.shapeIndex=0,r._bounds=new Ad,r.boundsDirty=-1,r.boundsPadding=0,r.batchable=!1,r.indicesUint16=null,r.uvsFloat32=null,r.closePointEps=1e-4,r}return Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),jp.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),o5.push(n)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(r,n,i,o){n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=null);var a=new a5(r,n,i,o);return this.graphicsData.push(a),this.dirty++,this},t.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new a5(r,null,null,n),o=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=o.lineStyle,o.holes.push(i),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var o=n[i];if(o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(r,Ou):Ou.copyFrom(r),o.shape.contains(Ou.x,Ou.y))){var a=!1;if(o.holes)for(var s=0;s<o.holes.length;s++){var u=o.holes[s];if(u.shape.contains(Ou.x,Ou.y)){a=!0;break}}if(!a)return!0}}return!1},t.prototype.updateBatches=function(r){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,o=null,a=null;this.batches.length>0&&(o=this.batches[this.batches.length-1],a=o.style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var u=i[s],l=u.fillStyle,c=u.lineStyle,h=kg[u.type];h.build(u),u.matrix&&this.transformPoints(u.points,u.matrix);for(var f=0;f<2;f++){var p=f===0?l:c;if(p.visible){var d=p.texture.baseTexture,m=this.indices.length,v=this.points.length/2;d.wrapMode=Oa.REPEAT,f===0?this.processFill(u):this.processLine(u);var b=this.points.length/2-v;b!==0&&(o&&!this._compareStyles(a,p)&&(o.end(m,v),o=null),o||(o=o5.pop()||new uj,o.begin(p,m,v),this.batches.push(o),a=p),this.addUvs(this.points,n,p.texture,v,b,p.matrix))}}}var g=this.indices.length,y=this.points.length/2;if(o&&o.end(g,y),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var _=y>65535&&r;this.indicesUint16=_?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},t.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],o=i.fillStyle,a=i.lineStyle;if(o&&!o.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var o=r[n],a=0;a<o.size;a++){var s=o.start+a;this.indicesUint16[s]=this.indicesUint16[s]-o.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<t.BATCHABLE_SIZE*2},t.prototype.buildDrawCalls=function(){for(var r=++xr._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),jp.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,o=this.textureIds,a=jp.pop();a||(a=new l0,a.texArray=new u0),a.texArray.count=0,a.start=0,a.size=0,a.type=Xi.TRIANGLES;var s=0,u=null,l=0,c=!1,h=Xi.TRIANGLES,f=0;this.drawCalls.push(a);for(var n=0;n<this.batches.length;n++){var p=this.batches[n],d=8,m=p.style,v=m.texture.baseTexture;c!==!!m.native&&(c=!!m.native,h=c?Xi.LINES:Xi.TRIANGLES,u=null,s=d,r++),u!==v&&(u=v,v._batchEnabled!==r&&(s===d&&(r++,s=0,a.size>0&&(a=jp.pop(),a||(a=new l0,a.texArray=new u0),this.drawCalls.push(a)),a.start=f,a.size=0,a.texArray.count=0,a.type=h),v.touched=1,v._batchEnabled=r,v._batchLocation=s,v.wrapMode=10497,a.texArray.elements[a.texArray.count++]=v,s++)),a.size+=p.size,f+=p.size,l=v._batchLocation,this.addColors(i,m.color,m.alpha,p.attribSize,p.attribStart),this.addTextureIds(o,l,p.attribSize,p.attribStart)}xr._globalBatch=r,this.packAttributes()},t.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,o=this.textureIds,a=new ArrayBuffer(r.length*3*4),s=new Float32Array(a),u=new Uint32Array(a),l=0,c=0;c<r.length/2;c++)s[l++]=r[c*2],s[l++]=r[c*2+1],s[l++]=n[c*2],s[l++]=n[c*2+1],u[l++]=i[c],s[l++]=o[c];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(r){if(r.holes.length)this.processHoles(r.holes),O9.triangulate(r,this);else{var n=kg[r.type];n.triangulate(r,this)}},t.prototype.processLine=function(r){n5(r,this);for(var n=0;n<r.holes.length;n++)n5(r.holes[n],this)},t.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],o=kg[i.type];o.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},t.prototype.calculateBounds=function(){var r=this._bounds,n=VZ,i=$r.IDENTITY;this._bounds.clear(),n.clear();for(var o=0;o<this.graphicsData.length;o++){var a=this.graphicsData[o],s=a.shape,u=a.type,l=a.lineStyle,c=a.matrix||$r.IDENTITY,h=0;if(l&&l.visible){var f=l.alignment;h=l.width,u===Nr.POLY?h=h*(.5+Math.abs(.5-f)):h=h*Math.max(0,f)}if(i!==c&&(n.isEmpty()||(r.addBoundsMatrix(n,i),n.clear()),i=c),u===Nr.RECT||u===Nr.RREC){var p=s;n.addFramePad(p.x,p.y,p.x+p.width,p.y+p.height,h,h)}else if(u===Nr.CIRC){var d=s;n.addFramePad(d.x,d.y,d.x,d.y,d.radius+h,d.radius+h)}else if(u===Nr.ELIP){var m=s;n.addFramePad(m.x,m.y,m.x,m.y,m.width+h,m.height+h)}else{var v=s;r.addVerticesMatrix(i,v.points,0,v.points.length,h,h)}}n.isEmpty()||r.addBoundsMatrix(n,i),r.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var o=r[i*2],a=r[i*2+1];r[i*2]=n.a*o+n.c*a+n.tx,r[i*2+1]=n.b*o+n.d*a+n.ty}},t.prototype.addColors=function(r,n,i,o,a){a===void 0&&(a=0);var s=(n>>16)+(n&65280)+((n&255)<<16),u=Yv(s,i);r.length=Math.max(r.length,a+o);for(var l=0;l<o;l++)r[a+l]=u},t.prototype.addTextureIds=function(r,n,i,o){o===void 0&&(o=0),r.length=Math.max(r.length,o+i);for(var a=0;a<i;a++)r[o+a]=n},t.prototype.addUvs=function(r,n,i,o,a,s){s===void 0&&(s=null);for(var u=0,l=n.length,c=i.frame;u<a;){var h=r[(o+u)*2],f=r[(o+u)*2+1];if(s){var p=s.a*h+s.c*f+s.tx;f=s.b*h+s.d*f+s.ty,h=p}u++,n.push(h/c.width,f/c.height)}var d=i.baseTexture;(c.width<d.width||c.height<d.height)&&this.adjustUvs(n,i,l,a)},t.prototype.adjustUvs=function(r,n,i,o){for(var a=n.baseTexture,s=1e-6,u=i+o*2,l=n.frame,c=l.width/a.width,h=l.height/a.height,f=l.x/l.width,p=l.y/l.height,d=Math.floor(r[i]+s),m=Math.floor(r[i+1]+s),v=i+2;v<u;v+=2)d=Math.min(d,Math.floor(r[v]+s)),m=Math.min(m,Math.floor(r[v+1]+s));f-=d,p-=m;for(var v=i;v<u;v+=2)r[v]=(r[v]+f)*c,r[v+1]=(r[v+1]+p)*h},t.BATCHABLE_SIZE=100,t})(S9),hj=(function(e){qv(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=Ea.BUTT,r.join=xa.MITER,r.miterLimit=10,r}return t.prototype.clone=function(){var r=new t;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t})(k9),GZ=new Float32Array(3),uw={},P9=(function(e){qv(t,e);function t(r){r===void 0&&(r=null);var n=e.call(this)||this;return n._geometry=r||new cj,n._geometry.refCount++,n.shader=null,n.state=ks.for2d(),n._fillStyle=new k9,n._lineStyle=new hj,n._matrix=null,n._holeMode=!1,n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n.pluginName="batch",n._transformID=-1,n.tint=16777215,n.blendMode=dt.NORMAL,n}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(r){if(r===void 0&&(r=null),typeof r=="number"){var n=arguments;r={width:n[0]||0,color:n[1]||0,alpha:n[2]!==void 0?n[2]:1,alignment:n[3]!==void 0?n[3]:.5,native:!!n[4]}}return this.lineTextureStyle(r)},t.prototype.lineTextureStyle=function(r){if(typeof r=="number"){Ae("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var n=arguments,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],l=n[5],c=n[6];r={width:i,texture:o,color:a,alpha:s,matrix:u,alignment:l,native:c},Object.keys(r).forEach(function(f){return r[f]===void 0&&delete r[f]})}r=Object.assign({width:0,texture:Ot.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Ea.BUTT,join:xa.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var h=r.width>0&&r.alpha>0;return h?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:h},r)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new Oc,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new Oc,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},t.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,o=i[i.length-2],a=i[i.length-1];return(o!==r||a!==n)&&i.push(r,n),this},t.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},t.prototype.quadraticCurveTo=function(r,n,i,o){this._initCurve();var a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),lj.curveTo(r,n,i,o,a),this},t.prototype.bezierCurveTo=function(r,n,i,o,a,s){return this._initCurve(),sj.curveTo(r,n,i,o,a,s,this.currentPath.points),this},t.prototype.arcTo=function(r,n,i,o,a){this._initCurve(r,n);var s=this.currentPath.points,u=i5.curveTo(r,n,i,o,a,s);if(u){var l=u.cx,c=u.cy,h=u.radius,f=u.startAngle,p=u.endAngle,d=u.anticlockwise;this.arc(l,c,h,f,p,d)}return this},t.prototype.arc=function(r,n,i,o,a,s){if(s===void 0&&(s=!1),o===a)return this;!s&&a<=o?a+=Yc:s&&o<=a&&(o+=Yc);var u=a-o;if(u===0)return this;var l=r+Math.cos(o)*i,c=n+Math.sin(o)*i,h=this._geometry.closePointEps,f=this.currentPath?this.currentPath.points:null;if(f){var p=Math.abs(f[f.length-2]-l),d=Math.abs(f[f.length-1]-c);p<h&&d<h||f.push(l,c)}else this.moveTo(l,c),f=this.currentPath.points;return i5.arc(l,c,r,n,i,o,a,s,f),this},t.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:Ot.WHITE,color:r,alpha:n})},t.prototype.beginTextureFill=function(r){if(r instanceof Ot){Ae("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var n=arguments,i=n[0],o=n[1],a=n[2],s=n[3];r={texture:i,color:o,alpha:a,matrix:s},Object.keys(r).forEach(function(l){return r[l]===void 0&&delete r[l]})}r=Object.assign({texture:Ot.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var u=r.alpha>0;return u?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:u},r)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(r,n,i,o){return this.drawShape(new ar(r,n,i,o))},t.prototype.drawRoundedRect=function(r,n,i,o,a){return this.drawShape(new rN(r,n,i,o,a))},t.prototype.drawCircle=function(r,n,i){return this.drawShape(new eN(r,n,i))},t.prototype.drawEllipse=function(r,n,i,o){return this.drawShape(new tN(r,n,i,o))},t.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var o,a=!0,s=n[0];s.points?(a=s.closeStroke,o=s.points):Array.isArray(n[0])?o=n[0]:o=n;var u=new Oc(o);return u.closeStroke=a,this.drawShape(u),this},t.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.drawStar=function(r,n,i,o,a,s){return s===void 0&&(s=0),this.drawPolygon(new aj(r,n,i,o,a,s))},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===Nr.RECT&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},t.prototype._render=function(r){this.finishPoly();var n=this._geometry,i=r.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},t.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var o=0;o<i;o++){var a=r.batches[o],s=a.style.color,u=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),l=new Float32Array(r.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),c=new Uint16Array(r.indicesUint16.buffer,a.start*2,a.size),h={vertexData:u,blendMode:n,indices:c,uvs:l,_batchRGB:Dl(s),_tintRGB:s,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[o]=h}},t.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var o=this.batches[n];o.worldAlpha=this.worldAlpha*o.alpha,r.plugins[this.pluginName].render(o)}}},t.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,o=this.tint,a=this.worldAlpha,s=n.uniforms,u=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(o>>16&255)/255*a,s.tint[1]=(o>>8&255)/255*a,s.tint[2]=(o&255)/255*a,s.tint[3]=a,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var l=0,c=u.length;l<c;l++)this._renderDrawCallDirect(r,i.drawCalls[l])},t.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,o=n.type,a=n.size,s=n.start,u=i.count,l=0;l<u;l++)r.texture.bind(i.elements[l],l);r.geometry.draw(o,a,s)},t.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!uw[i]){for(var o=r.plugins.batch.MAX_TEXTURES,a=new Int32Array(o),s=0;s<o;s++)a[s]=s;var u={tint:new Float32Array([1,1,1,1]),translationMatrix:new $r,default:ys.from({uSamplers:a},!0)},l=r.plugins[i]._shader.program;uw[i]=new ws(l,u)}n=uw[i]}return n},t.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,o=n.minY,a=n.maxX,s=n.maxY;this._bounds.addFrame(this.transform,i,o,a,s)}},t.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=Dl(this.tint,GZ),n=0;n<this.batches.length;n++){var i=this.batches[n],o=i._batchRGB,a=r[0]*o[0]*255,s=r[1]*o[1]*255,u=r[2]*o[2]*255,l=(a<<16)+(s<<8)+(u|0);i._tintRGB=(l>>16)+(l&65280)+((l&255)<<16)}}},t.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,s=n.d,u=n.tx,l=n.ty,c=this._geometry.points,h=this.vertexData,f=0,p=0;p<c.length;p+=2){var d=c[p],m=c[p+1];h[f++]=i*d+a*m+u,h[f++]=s*m+o*d+l}}},t.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0),this},t.prototype.setMatrix=function(r){return this._matrix=r,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,r)},t._TEMP_POINT=new hn,t})(wo);/*!
* @pixi/sprite - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/sprite is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var s5=function(e,t){return s5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},s5(e,t)};function YZ(e,t){s5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Xf=new hn,WZ=new Uint16Array([0,1,2,0,2,3]),lf=(function(e){YZ(t,e);function t(r){var n=e.call(this)||this;return n._anchor=new wl(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=dt.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||Ot.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=WZ,n.pluginName="batch",n.isSprite=!0,n._roundPixels=lt.ROUND_PIXELS,n}return t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=_l(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=_l(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,s=n.d,u=n.tx,l=n.ty,c=this.vertexData,h=r.trim,f=r.orig,p=this._anchor,d=0,m=0,v=0,b=0;if(h?(m=h.x-p._x*f.width,d=m+h.width,b=h.y-p._y*f.height,v=b+h.height):(m=-p._x*f.width,d=m+f.width,b=-p._y*f.height,v=b+f.height),c[0]=i*m+a*b+u,c[1]=s*b+o*m+l,c[2]=i*d+a*b+u,c[3]=s*b+o*d+l,c[4]=i*d+a*v+u,c[5]=s*v+o*d+l,c[6]=i*m+a*v+u,c[7]=s*v+o*m+l,this._roundPixels)for(var g=lt.RESOLUTION,y=0;y<c.length;++y)c[y]=Math.round((c[y]*g|0)/g)}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,o=this._anchor,a=this.transform.worldTransform,s=a.a,u=a.b,l=a.c,c=a.d,h=a.tx,f=a.ty,p=-o._x*i.width,d=p+i.width,m=-o._y*i.height,v=m+i.height;n[0]=s*p+l*m+h,n[1]=c*m+u*p+f,n[2]=s*d+l*m+h,n[3]=c*m+u*d+f,n[4]=s*d+l*v+h,n[5]=c*v+u*d+f,n[6]=s*p+l*v+h,n[7]=c*v+u*p+f},t.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new ar),r=this._localBoundsRect),this._bounds.getRectangle(r)):e.prototype.getLocalBounds.call(this,r)},t.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,Xf);var n=this._texture.orig.width,i=this._texture.orig.height,o=-n*this.anchor.x,a=0;return Xf.x>=o&&Xf.x<o+n&&(a=-i*this.anchor.y,Xf.y>=a&&Xf.y<a+i)},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},t.from=function(r,n){var i=r instanceof Ot?r:Ot.from(r,n);return new t(i)},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=_l(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=_l(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||Ot.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t})(wo);/*!
* @pixi/text - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/text is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var l5=function(e,t){return l5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},l5(e,t)};function XZ(e,t){l5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var $c;(function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})($c||($c={}));var cw={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:$c.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},$Z=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Bl=(function(){function e(t){this.styleID=0,this.reset(),fw(this,t,t)}return e.prototype.clone=function(){var t={};return fw(t,this,cw),new e(t)},e.prototype.reset=function(){fw(this,cw,cw)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var r=hw(t);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(t){var r=hw(t);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){qZ(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var r=hw(t);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var t=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&$Z.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+r.join(",")},e})();function xA(e){return typeof e=="number"?c9(e):(typeof e=="string"&&e.indexOf("0x")===0&&(e=e.replace("0x","#")),e)}function hw(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=xA(e[t]);return e}else return xA(e)}function qZ(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function fw(e,t,r){for(var n in r)Array.isArray(t[n])?e[n]=t[n].slice():e[n]=t[n]}var Qi=(function(){function e(t,r,n,i,o,a,s,u,l){this.text=t,this.style=r,this.width=n,this.height=i,this.lines=o,this.lineWidths=a,this.lineHeight=s,this.maxLineWidth=u,this.fontProperties=l}return e.measureText=function(t,r,n,i){i===void 0&&(i=e._canvas),n=n??r.wordWrap;var o=r.toFontString(),a=e.measureFont(o);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);var s=i.getContext("2d");s.font=o;for(var u=n?e.wordWrap(t,r,i):t,l=u.split(/(?:\r\n|\r|\n)/),c=new Array(l.length),h=0,f=0;f<l.length;f++){var p=s.measureText(l[f]).width+(l[f].length-1)*r.letterSpacing;c[f]=p,h=Math.max(h,p)}var d=h+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var m=r.lineHeight||a.fontSize+r.strokeThickness,v=Math.max(m,a.fontSize+r.strokeThickness)+(l.length-1)*(m+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new e(t,r,d,v,l,c,m+r.leading,h,a)},e.wordWrap=function(t,r,n){n===void 0&&(n=e._canvas);for(var i=n.getContext("2d"),o=0,a="",s="",u=Object.create(null),l=r.letterSpacing,c=r.whiteSpace,h=e.collapseSpaces(c),f=e.collapseNewlines(c),p=!h,d=r.wordWrapWidth+l,m=e.tokenize(t),v=0;v<m.length;v++){var b=m[v];if(e.isNewline(b)){if(!f){s+=e.addLine(a),p=!h,a="",o=0;continue}b=" "}if(h){var g=e.isBreakingSpace(b),y=e.isBreakingSpace(a[a.length-1]);if(g&&y)continue}var _=e.getFromCache(b,l,u,i);if(_>d)if(a!==""&&(s+=e.addLine(a),a="",o=0),e.canBreakWords(b,r.breakWords))for(var w=e.wordWrapSplit(b),T=0;T<w.length;T++){for(var O=w[T],E=1;w[T+E];){var S=w[T+E],A=O[O.length-1];if(!e.canBreakChars(A,S,b,T,r.breakWords))O+=S;else break;E++}T+=O.length-1;var M=e.getFromCache(O,l,u,i);M+o>d&&(s+=e.addLine(a),p=!1,a="",o=0),a+=O,o+=M}else{a.length>0&&(s+=e.addLine(a),a="",o=0);var H=v===m.length-1;s+=e.addLine(b,!H),p=!1,a="",o=0}else _+o>d&&(p=!1,s+=e.addLine(a),a="",o=0),(a.length>0||!e.isBreakingSpace(b)||p)&&(a+=b,o+=_)}return s+=e.addLine(a,!1),s},e.addLine=function(t,r){return r===void 0&&(r=!0),t=e.trimRight(t),t=r?t+`
`:t,t},e.getFromCache=function(t,r,n,i){var o=n[t];if(typeof o!="number"){var a=t.length*r;o=i.measureText(t).width+a,n[t]=o}return o},e.collapseSpaces=function(t){return t==="normal"||t==="pre-line"},e.collapseNewlines=function(t){return t==="normal"},e.trimRight=function(t){if(typeof t!="string")return"";for(var r=t.length-1;r>=0;r--){var n=t[r];if(!e.isBreakingSpace(n))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return typeof t!="string"?!1:e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t){return typeof t!="string"?!1:e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var r=[],n="";if(typeof t!="string")return r;for(var i=0;i<t.length;i++){var o=t[i];if(e.isBreakingSpace(o)||e.isNewline(o)){n!==""&&(r.push(n),n=""),r.push(o);continue}n+=o}return n!==""&&r.push(n),r},e.canBreakWords=function(t,r){return r},e.canBreakChars=function(t,r,n,i,o){return!0},e.wordWrapSplit=function(t){return t.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var r={ascent:0,descent:0,fontSize:0},n=e._canvas,i=e._context;i.font=t;var o=e.METRICS_STRING+e.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),u=2*s;s=s*e.BASELINE_MULTIPLIER|0,n.width=a,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,a,u),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var l=i.getImageData(0,0,a,u).data,c=l.length,h=a*4,f=0,p=0,d=!1;for(f=0;f<s;++f){for(var m=0;m<h;m+=4)if(l[p+m]!==255){d=!0;break}if(!d)p+=h;else break}for(r.ascent=s-f,p=c-h,d=!1,f=u;f>s;--f){for(var m=0;m<h;m+=4)if(l[p+m]!==255){d=!0;break}if(!d)p-=h;else break}return r.descent=f-s,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r},e.clearMetrics=function(t){t===void 0&&(t=""),t?delete e._fonts[t]:e._fonts={}},e})(),c0=(function(){try{var e=new OffscreenCanvas(0,0),t=e.getContext("2d");return t&&t.measureText?e:document.createElement("canvas")}catch{return document.createElement("canvas")}})();c0.width=c0.height=10;Qi._canvas=c0;Qi._context=c0.getContext("2d");Qi._fonts={};Qi.METRICS_STRING="|ÉqÅ";Qi.BASELINE_SYMBOL="M";Qi.BASELINE_MULTIPLIER=1.4;Qi._newlines=[10,13];Qi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var KZ={texture:!0,children:!1,baseTexture:!0},C9=(function(e){XZ(t,e);function t(r,n,i){var o=this,a=!1;i||(i=document.createElement("canvas"),a=!0),i.width=3,i.height=3;var s=Ot.from(i);return s.orig=new ar,s.trim=new ar,o=e.call(this,s)||this,o._ownCanvas=a,o.canvas=i,o.context=o.canvas.getContext("2d"),o._resolution=lt.RESOLUTION,o._autoResolution=!0,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=r,o.style=n,o.localStyleID=-1,o}return t.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,o=Qi.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.width,s=o.height,u=o.lines,l=o.lineHeight,c=o.lineWidths,h=o.maxLineWidth,f=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,a)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,s)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var p,d,m=n.dropShadow?2:1,v=0;v<m;++v){var b=n.dropShadow&&v===0,g=b?Math.ceil(Math.max(1,s)+n.padding*2):0,y=g*this._resolution;if(b){i.fillStyle="black",i.strokeStyle="black";var _=n.dropShadowColor,w=Dl(typeof _=="number"?_:h9(_)),T=n.dropShadowBlur*this._resolution,O=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+w[0]*255+","+w[1]*255+","+w[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=T,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*O,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*O+y}else i.fillStyle=this._generateFillStyle(n,u,o),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;for(var E=0;E<u.length;E++)p=n.strokeThickness/2,d=n.strokeThickness/2+E*l+f.ascent,n.align==="right"?p+=h-c[E]:n.align==="center"&&(p+=(h-c[E])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(u[E],p+n.padding,d+n.padding-g,!0),n.fill&&this.drawLetterSpacing(u[E],p+n.padding,d+n.padding-g)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(r,n,i,o){o===void 0&&(o=!1);var a=this._style,s=a.letterSpacing;if(s===0){o?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var u=n,l=Array.from?Array.from(r):r.split(""),c=this.context.measureText(r).width,h=0,f=0;f<l.length;++f){var p=l[f];o?this.context.strokeText(p,u,i):this.context.fillText(p,u,i),h=this.context.measureText(r.substring(f+1)).width,u+=c-h+s,c=h}},t.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=qD(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,o=this._style,a=o.trim?0:o.padding,s=i.baseTexture;i.trim.width=i._frame.width=Math.ceil(r.width/this._resolution),i.trim.height=i._frame.height=Math.ceil(r.height/this._resolution),i.trim.x=-a,i.trim.y=-a,i.orig.width=i._frame.width-a*2,i.orig.height=i._frame.height-a*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,r)},t.prototype.getLocalBounds=function(r){return this.updateText(!0),e.prototype.getLocalBounds.call(this,r)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(r,n,i){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var a,s=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,l=Math.ceil(this.canvas.width/this._resolution)-s-u*2,c=Math.ceil(this.canvas.height/this._resolution)-s-u*2,h=o.slice(),f=r.fillGradientStops.slice();if(!f.length)for(var p=h.length+1,d=1;d<p;++d)f.push(d/p);if(h.unshift(o[0]),f.unshift(0),h.push(o[o.length-1]),f.push(1),r.fillGradientType===$c.LINEAR_VERTICAL){a=this.context.createLinearGradient(l/2,u,l/2,c+u);for(var m=0,v=i.fontProperties.fontSize+r.strokeThickness,b=v/c,d=0;d<n.length;d++)for(var g=i.lineHeight*d,y=0;y<h.length;y++){var _=0;typeof f[y]=="number"?_=f[y]:_=y/h.length;var w=g/c+_*b,T=Math.max(m,w);T=Math.min(T,1),a.addColorStop(T,h[y]),m=T}}else{a=this.context.createLinearGradient(u,c/2,l+u,c/2);for(var O=h.length+1,E=1,d=0;d<h.length;d++){var S=void 0;typeof f[d]=="number"?S=f[d]:S=E/O,a.addColorStop(S,h[d]),E++}}return a},t.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},KZ,r),e.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=_l(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=_l(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof Bl?this._style=r:this._style=new Bl(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),t})(lf);/*!
* @pixi/prepare - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/prepare is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/lt.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var u5=function(e,t){return u5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},u5(e,t)};function ZZ(e,t){u5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var fj=(function(){function e(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e})();function QZ(e,t){var r=!1;if(e&&e._textures&&e._textures.length){for(var n=0;n<e._textures.length;n++)if(e._textures[n]instanceof Ot){var i=e._textures[n].baseTexture;t.indexOf(i)===-1&&(t.push(i),r=!0)}}return r}function JZ(e,t){if(e.baseTexture instanceof xr){var r=e.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function eQ(e,t){if(e._texture&&e._texture instanceof Ot){var r=e._texture.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function tQ(e,t){return t instanceof C9?(t.updateText(!0),!0):!1}function rQ(e,t){if(t instanceof Bl){var r=t.toFontString();return Qi.measureFont(r),!0}return!1}function nQ(e,t){if(e instanceof C9){t.indexOf(e.style)===-1&&t.push(e.style),t.indexOf(e)===-1&&t.push(e);var r=e._texture.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function iQ(e,t){return e instanceof Bl?(t.indexOf(e)===-1&&t.push(e),!0):!1}var pj=(function(){function e(t){var r=this;this.limiter=new fj(lt.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(nQ),this.registerFindHook(iQ),this.registerFindHook(QZ),this.registerFindHook(JZ),this.registerFindHook(eQ),this.registerUploadHook(tQ),this.registerUploadHook(rQ)}return e.prototype.upload=function(t,r){typeof t=="function"&&(r=t,t=null),t&&this.add(t),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,cn.system.addOnce(this.tick,this,qo.UTILITY))):r&&r()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],r=!1;if(t&&!t._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)cn.system.addOnce(this.tick,this,qo.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var n=0,i=o.length;n<i;n++)o[n]()}},e.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},e.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},e.prototype.add=function(t){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](t,this.queue);r++);if(t instanceof wo)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},e.prototype.destroy=function(){this.ticking&&cn.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e})();function dj(e,t){return t instanceof xr?(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0):!1}function oQ(e,t){if(!(t instanceof P9))return!1;var r=t.geometry;t.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var o=n[i].style.texture;o&&dj(e,o.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function aQ(e,t){return e instanceof P9?(t.push(e),!0):!1}var mj=(function(e){ZZ(t,e);function t(r){var n=e.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(aQ),n.registerUploadHook(dj),n.registerUploadHook(oQ),n}return t})(pj),sQ=(function(){function e(t){this.maxMilliseconds=t,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e})();/*!
* @pixi/spritesheet - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/spritesheet is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var gj=(function(){function e(t,r,n){n===void 0&&(n=null),this._texture=t instanceof Ot?t:null,this.baseTexture=t instanceof xr?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(t){t===void 0&&(t=null);var r=this.data.meta.scale,n=Cd(t,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var r=t,n=e.BATCH_SIZE;r-t<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],o=this._frames[i],a=o.frame;if(a){var s=null,u=null,l=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,c=new ar(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);o.rotated?s=new ar(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):s=new ar(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(u=new ar(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new Ot(this.baseTexture,s,c,u,o.rotated?2:0,o.anchor),Ot.addToCache(this.textures[i],i)}r++}},e.prototype._processAnimations=function(){var t=this.data.animations||{};for(var r in t){this.animations[r]=[];for(var n=0;n<t[r].length;n++){var i=t[r][n];this.animations[r].push(this.textures[i])}}},e.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},e.prototype.destroy=function(t){var r;t===void 0&&(t=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e})(),yj=(function(){function e(){}return e.use=function(t,r){var n=this,i=t.name+"_image";if(!t.data||t.type!==ud.TYPE.JSON||!t.data.frames||n.resources[i]){r();return}var o={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},a=e.getResourcePath(t,n.baseUrl);n.add(i,a,o,function(s){if(s.error){r(s.error);return}var u=new gj(s.texture,t.data,t.url);u.parse(function(){t.spritesheet=u,t.textures=u.textures,r()})})},e.getResourcePath=function(t,r){return t.isDataUrl?t.data.meta.image:VD.resolve(t.url.replace(r,""),t.data.meta.image)},e})();/*!
* @pixi/sprite-tiling - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/sprite-tiling is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var c5=function(e,t){return c5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},c5(e,t)};function vj(e,t){c5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var $f=new hn,lQ=(function(e){vj(t,e);function t(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var o=e.call(this,r)||this;return o.tileTransform=new m9,o._width=n,o._height=i,o.uvMatrix=o.texture.uvMatrix||new $v(r),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),o=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,o)},t.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new ar),r=this._localBoundsRect),this._bounds.getRectangle(r)):e.prototype.getLocalBounds.call(this,r)},t.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,$f);var n=this._width,i=this._height,o=-n*this.anchor._x;if($f.x>=o&&$f.x<o+n){var a=-i*this.anchor._y;if($f.y>=a&&$f.y<a+i)return!0}return!1},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},t.from=function(r,n){return typeof n=="number"&&(Ae("5.3.0","TilingSprite.from use options instead of width and height args"),n={width:n,height:arguments[2]}),new t(Ot.from(r,n),n.width,n.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),t})(lf),EA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,uQ=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture2D(uSampler, coord);
    gl_FragColor = texSample * uColor;
}
`,cQ=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,Tm=new $r,bj=(function(e){vj(t,e);function t(r){var n=e.call(this,r)||this,i={globals:n.renderer.globalUniforms};return n.shader=ws.from(EA,uQ,i),n.simpleShader=ws.from(EA,cQ,i),n.quad=new x9,n.state=ks.for2d(),n}return t.prototype.render=function(r){var n=this.renderer,i=this.quad,o=i.vertices;o[0]=o[6]=r._width*-r.anchor.x,o[1]=o[3]=r._height*-r.anchor.y,o[2]=o[4]=r._width*(1-r.anchor.x),o[5]=o[7]=r._height*(1-r.anchor.y),r.uvRespectAnchor&&(o=i.uvs,o[0]=o[6]=-r.anchor.x,o[1]=o[3]=-r.anchor.y,o[2]=o[4]=1-r.anchor.x,o[5]=o[7]=1-r.anchor.y),i.invalidate();var a=r._texture,s=a.baseTexture,u=r.tileTransform.localTransform,l=r.uvMatrix,c=s.isPowerOfTwo&&a.frame.width===s.width&&a.frame.height===s.height;c&&(s._glTextures[n.CONTEXT_UID]?c=s.wrapMode!==Oa.CLAMP:s.wrapMode===Oa.CLAMP&&(s.wrapMode=Oa.REPEAT));var h=c?this.simpleShader:this.shader,f=a.width,p=a.height,d=r._width,m=r._height;Tm.set(u.a*f/d,u.b*f/m,u.c*p/d,u.d*p/m,u.tx/d,u.ty/m),Tm.invert(),c?Tm.prepend(l.mapCoord):(h.uniforms.uMapCoord=l.mapCoord.toArray(!0),h.uniforms.uClampFrame=l.uClampFrame,h.uniforms.uClampOffset=l.uClampOffset),h.uniforms.uTransform=Tm.toArray(!0),h.uniforms.uColor=d9(r.tint,r.worldAlpha,h.uniforms.uColor,s.alphaMode),h.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),h.uniforms.uSampler=a,n.shader.bind(h),n.geometry.bind(i),this.state.blendMode=p9(r.blendMode,s.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t})(a1);/*!
* @pixi/mesh - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/mesh is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var h5=function(e,t){return h5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},h5(e,t)};function A9(e,t){h5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var _j=(function(){function e(t,r){this.uvBuffer=t,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(t){if(!(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},e})(),pw=new hn,SA=new Oc,qc=(function(e){A9(t,e);function t(r,n,i,o){o===void 0&&(o=Xi.TRIANGLES);var a=e.call(this)||this;return a.geometry=r,r.refCount++,a.shader=n,a.state=i||ks.for2d(),a.drawMode=o,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=0,a._transformID=-1,a._roundPixels=lt.ROUND_PIXELS,a.batchUvs=null,a}return Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this.shader.tint},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),t.prototype._render=function(r){var n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Xi.TRIANGLES&&n.length<t.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},t.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.program.uniformData.translationMatrix&&(n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(r){var n=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var i=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[i]),r.plugins[i].render(this)},t.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0].data;if(!(r.vertexDirtyId===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));for(var i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,c=i.ty,h=this.vertexData,f=0;f<h.length/2;f++){var p=n[f*2],d=n[f*2+1];h[f*2]=o*p+s*d+l,h[f*2+1]=a*p+u*d+c}if(this._roundPixels)for(var m=lt.RESOLUTION,f=0;f<h.length;++f)h[f]=Math.round((h[f]*m|0)/m);this.vertexDirty=r.vertexDirtyId}},t.prototype.calculateUvs=function(){var r=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new _j(r,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,pw);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=SA.points,o=this.geometry.getIndex().data,a=o.length,s=this.drawMode===4?3:1,u=0;u+2<a;u+=s){var l=o[u]*2,c=o[u+1]*2,h=o[u+2]*2;if(i[0]=n[l],i[1]=n[l+1],i[2]=n[c],i[3]=n[c+1],i[4]=n[h],i[5]=n[h+1],SA.contains(pw.x,pw.y))return!0}return!1},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this.geometry.refCount--,this.geometry.refCount===0&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t})(wo),hQ=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,fQ=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,u1=(function(e){A9(t,e);function t(r,n){var i=this,o={uSampler:r,alpha:1,uTextureMatrix:$r.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(o,n.uniforms),i=e.call(this,n.program||s1.from(fQ,hQ),o)||this,i._colorDirty=!1,i.uvMatrix=new $v(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;d9(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t})(ws),c1=(function(e){A9(t,e);function t(r,n,i){var o=e.call(this)||this,a=new un(r),s=new un(n,!0),u=new un(i,!0,!0);return o.addAttribute("aVertexPosition",a,2,!1,Wr.FLOAT).addAttribute("aTextureCoord",s,2,!1,Wr.FLOAT).addIndex(u),o._updateId=-1,o}return Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t})(sf);/*!
* @pixi/text-bitmap - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/text-bitmap is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var f5=function(e,t){return f5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},f5(e,t)};function pQ(e,t){f5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Md=(function(){function e(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]}return e})(),dQ=(function(){function e(){}return e.test=function(t){return typeof t=="string"&&t.indexOf("info face=")===0},e.parse=function(t){var r=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var i in r){var o=r[i].match(/^[a-z]+/gm)[0],a=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var u in a){var l=a[u].split("="),c=l[0],h=l[1].replace(/"/gm,""),f=parseFloat(h),p=isNaN(f)?h:f;s[c]=p}n[o].push(s)}var d=new Md;return n.info.forEach(function(m){return d.info.push({face:m.face,size:parseInt(m.size,10)})}),n.common.forEach(function(m){return d.common.push({lineHeight:parseInt(m.lineHeight,10)})}),n.page.forEach(function(m){return d.page.push({id:parseInt(m.id,10),file:m.file})}),n.char.forEach(function(m){return d.char.push({id:parseInt(m.id,10),page:parseInt(m.page,10),x:parseInt(m.x,10),y:parseInt(m.y,10),width:parseInt(m.width,10),height:parseInt(m.height,10),xoffset:parseInt(m.xoffset,10),yoffset:parseInt(m.yoffset,10),xadvance:parseInt(m.xadvance,10)})}),n.kerning.forEach(function(m){return d.kerning.push({first:parseInt(m.first,10),second:parseInt(m.second,10),amount:parseInt(m.amount,10)})}),d},e})(),p5=(function(){function e(){}return e.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},e.parse=function(t){for(var r=new Md,n=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),a=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),u=0;u<n.length;u++)r.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(var u=0;u<i.length;u++)r.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(var u=0;u<o.length;u++)r.page.push({id:parseInt(o[u].getAttribute("id"),10)||0,file:o[u].getAttribute("file")});for(var u=0;u<a.length;u++){var l=a[u];r.char.push({id:parseInt(l.getAttribute("id"),10),page:parseInt(l.getAttribute("page"),10)||0,x:parseInt(l.getAttribute("x"),10),y:parseInt(l.getAttribute("y"),10),width:parseInt(l.getAttribute("width"),10),height:parseInt(l.getAttribute("height"),10),xoffset:parseInt(l.getAttribute("xoffset"),10),yoffset:parseInt(l.getAttribute("yoffset"),10),xadvance:parseInt(l.getAttribute("xadvance"),10)})}for(var u=0;u<s.length;u++)r.kerning.push({first:parseInt(s[u].getAttribute("first"),10),second:parseInt(s[u].getAttribute("second"),10),amount:parseInt(s[u].getAttribute("amount"),10)});return r},e})(),mQ=(function(){function e(){}return e.test=function(t){if(typeof t=="string"&&t.indexOf("<font>")>-1){var r=new self.DOMParser().parseFromString(t,"text/xml");return p5.test(r)}return!1},e.parse=function(t){var r=new window.DOMParser().parseFromString(t,"text/xml");return p5.parse(r)},e})(),dw=[dQ,p5,mQ];function wj(e){for(var t=0;t<dw.length;t++)if(dw[t].test(e))return dw[t];return null}function gQ(e,t,r,n,i,o){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var s,u=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,c=Math.ceil(e.width/n)-u-l*2,h=Math.ceil(e.height/n)-u-l*2,f=a.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var d=f.length+1,m=1;m<d;++m)p.push(m/d);if(f.unshift(a[0]),p.unshift(0),f.push(a[a.length-1]),p.push(1),r.fillGradientType===$c.LINEAR_VERTICAL){s=t.createLinearGradient(c/2,l,c/2,h+l);for(var v=0,b=o.fontProperties.fontSize+r.strokeThickness,g=b/h,m=0;m<i.length;m++)for(var y=o.lineHeight*m,_=0;_<f.length;_++){var w=0;typeof p[_]=="number"?w=p[_]:w=_/f.length;var T=y/h+w*g,O=Math.max(v,T);O=Math.min(O,1),s.addColorStop(O,f[_]),v=O}}else{s=t.createLinearGradient(l,h/2,c+l,h/2);for(var E=f.length+1,S=1,m=0;m<f.length;m++){var A=void 0;typeof p[m]=="number"?A=p[m]:A=S/E,s.addColorStop(A,f[m]),S++}}return s}function yQ(e,t,r,n,i,o,a){var s=r.text,u=r.fontProperties;t.translate(n,i),t.scale(o,o);var l=a.strokeThickness/2,c=-(a.strokeThickness/2);if(t.font=a.toFontString(),t.lineWidth=a.strokeThickness,t.textBaseline=a.textBaseline,t.lineJoin=a.lineJoin,t.miterLimit=a.miterLimit,t.fillStyle=gQ(e,t,a,o,[s],r),t.strokeStyle=a.stroke,a.dropShadow){var h=a.dropShadowColor,f=Dl(typeof h=="number"?h:h9(h)),p=a.dropShadowBlur*o,d=a.dropShadowDistance*o;t.shadowColor="rgba("+f[0]*255+","+f[1]*255+","+f[2]*255+","+a.dropShadowAlpha+")",t.shadowBlur=p,t.shadowOffsetX=Math.cos(a.dropShadowAngle)*d,t.shadowOffsetY=Math.sin(a.dropShadowAngle)*d}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;a.stroke&&a.strokeThickness&&t.strokeText(s,l,c+r.lineHeight-u.descent),a.fill&&t.fillText(s,l,c+r.lineHeight-u.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function vQ(e){typeof e=="string"&&(e=[e]);for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var s=o,u=a;s<=u;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,i.split(""))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}var us=(function(){function e(t,r,n){var i=t.info[0],o=t.common[0],a=t.page[0],s=Cd(a.file),u={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=o.lineHeight/s,this.chars={},this.pageTextures=u;for(var l=0;l<t.page.length;l++){var c=t.page[l],h=c.id,f=c.file;u[h]=r instanceof Array?r[l]:r[f]}for(var l=0;l<t.char.length;l++){var p=t.char[l],h=p.id,d=p.page,m=t.char[l],v=m.x,b=m.y,g=m.width,y=m.height,_=m.xoffset,w=m.yoffset,T=m.xadvance;v/=s,b/=s,g/=s,y/=s,_/=s,w/=s,T/=s;var O=new ar(v+u[d].frame.x/s,b+u[d].frame.y/s,g,y);this.chars[h]={xOffset:_,yOffset:w,xAdvance:T,kerning:{},texture:new Ot(u[d].baseTexture,O),page:d}}for(var l=0;l<t.kerning.length;l++){var E=t.kerning[l],S=E.first,A=E.second,M=E.amount;S/=s,A/=s,M/=s,this.chars[A]&&(this.chars[A].kerning[S]=M)}}return e.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},e.install=function(t,r,n){var i;if(t instanceof Md)i=t;else{var o=wj(t);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(t)}r instanceof Ot&&(r=[r]);var a=new e(i,r,n);return e.available[a.font]=a,a},e.uninstall=function(t){var r=e.available[t];if(!r)throw new Error("No font found named '"+t+"'");r.destroy(),delete e.available[t]},e.from=function(t,r,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,n),o=i.chars,a=i.padding,s=i.resolution,u=i.textureWidth,l=i.textureHeight,c=vQ(o),h=r instanceof Bl?r:new Bl(r),f=u,p=new Md;p.info[0]={face:h.fontFamily,size:h.fontSize},p.common[0]={lineHeight:h.fontSize};for(var d=0,m=0,v,b,g,y=0,_=[],w=0;w<c.length;w++){v||(v=document.createElement("canvas"),v.width=u,v.height=l,b=v.getContext("2d"),g=new xr(v,{resolution:s}),_.push(new Ot(g)),p.page.push({id:_.length-1,file:""}));var T=Qi.measureText(c[w],h,!1,v),O=T.width,E=Math.ceil(T.height),S=Math.ceil((h.fontStyle==="italic"?2:1)*O);if(m>=l-E*s){if(m===0)throw new Error("[BitmapFont] textureHeight "+l+"px is "+("too small for "+h.fontSize+"px fonts"));--w,v=null,b=null,g=null,m=0,d=0,y=0;continue}if(y=Math.max(E+T.fontProperties.descent,y),S*s+d>=f){--w,m+=y*s,m=Math.ceil(m),d=0,y=0;continue}yQ(v,b,T,d,m,s,h);var A=T.text.charCodeAt(0);p.char.push({id:A,page:_.length-1,x:d/s,y:m/s,width:S,height:E,xoffset:0,yoffset:0,xadvance:Math.ceil(O-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0))}),d+=(S+2*a)*s,d=Math.ceil(d)}var M=new e(p,_,!0);return e.available[t]!==void 0&&e.uninstall(t),e.available[t]=M,M},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e})(),kA=[],OA=[],bQ=(function(e){pQ(t,e);function t(r,n){n===void 0&&(n={});var i=e.call(this)||this;i._tint=16777215,n.font&&(Ae("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),i._upgradeStyle(n));var o=Object.assign({},t.styleDefaults,n),a=o.align,s=o.tint,u=o.maxWidth,l=o.letterSpacing,c=o.fontName,h=o.fontSize;if(!us.available[c])throw new Error('Missing BitmapFont "'+c+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=s,i._fontName=c,i._fontSize=h||us.available[c].size,i._text=r,i._maxWidth=u,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new wl(function(){i.dirty=!0},i,0,0),i._roundPixels=lt.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return t.prototype.updateText=function(){for(var r,n=us.available[this._fontName],i=this._fontSize/n.size,o=new hn,a=[],s=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=u.length,c=this._maxWidth*n.size/this._fontSize,h=null,f=0,p=0,d=0,m=-1,v=0,b=0,g=0,y=0;y<l;y++){var _=u.charCodeAt(y),w=u.charAt(y);if(/(?:\s)/.test(w)&&(m=y,v=f),w==="\r"||w===`
`){s.push(f),p=Math.max(p,f),++d,++b,o.x=0,o.y+=n.lineHeight,h=null;continue}var T=n.chars[_];if(T){h&&T.kerning[h]&&(o.x+=T.kerning[h]);var O=OA.pop()||{texture:Ot.EMPTY,line:0,charCode:0,position:new hn};O.texture=T.texture,O.line=d,O.charCode=_,O.position.x=o.x+T.xOffset+this._letterSpacing/2,O.position.y=o.y+T.yOffset,a.push(O),o.x+=T.xAdvance+this._letterSpacing,f=o.x,g=Math.max(g,T.yOffset+T.texture.height),h=_,m!==-1&&c>0&&o.x>c&&(++b,kl(a,1+m-b,1+y-m),y=m,m=-1,s.push(v),p=Math.max(p,v),d++,o.x=0,o.y+=n.lineHeight,h=null)}}var E=u.charAt(u.length-1);E!=="\r"&&E!==`
`&&(/(?:\s)/.test(E)&&(f=v),s.push(f),p=Math.max(p,f));for(var S=[],y=0;y<=d;y++){var A=0;this._align==="right"?A=p-s[y]:this._align==="center"&&(A=(p-s[y])/2),S.push(A)}for(var M=a.length,H={},N=[],k=this._activePagesMeshData,y=0;y<k.length;y++)kA.push(k[y]);for(var y=0;y<M;y++){var R=a[y].texture,B=R.baseTexture.uid;if(!H[B]){var z=kA.pop();if(!z){var U=new c1,V=new u1(Ot.EMPTY),W=new qc(U,V);z={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:W,vertices:null,uvs:null,indices:null}}z.index=0,z.indexCount=0,z.vertexCount=0,z.uvsCount=0,z.total=0;var te=this._textureCache;te[B]=te[B]||new Ot(R.baseTexture),z.mesh.texture=te[B],z.mesh.tint=this._tint,N.push(z),H[B]=z}H[B].total++}for(var y=0;y<k.length;y++)N.indexOf(k[y])===-1&&this.removeChild(k[y].mesh);for(var y=0;y<N.length;y++)N[y].mesh.parent!==this&&this.addChild(N[y].mesh);this._activePagesMeshData=N;for(var y in H){var z=H[y],re=z.total;if(!(((r=z.indices)===null||r===void 0?void 0:r.length)>6*re)||z.vertices.length<qc.BATCHABLE_SIZE*2)z.vertices=new Float32Array(8*re),z.uvs=new Float32Array(8*re),z.indices=new Uint16Array(6*re);else for(var X=z.total,$=z.vertices,ee=X*4*2;ee<$.length;ee++)$[ee]=0;z.mesh.size=6*re}for(var y=0;y<M;y++){var w=a[y],le=w.position.x+S[w.line];this._roundPixels&&(le=Math.round(le));var fe=le*i,Ee=w.position.y*i,R=w.texture,ce=H[R.baseTexture.uid],Se=R.frame,Oe=R._uvs,he=ce.index++;ce.indices[he*6+0]=0+he*4,ce.indices[he*6+1]=1+he*4,ce.indices[he*6+2]=2+he*4,ce.indices[he*6+3]=0+he*4,ce.indices[he*6+4]=2+he*4,ce.indices[he*6+5]=3+he*4,ce.vertices[he*8+0]=fe,ce.vertices[he*8+1]=Ee,ce.vertices[he*8+2]=fe+Se.width*i,ce.vertices[he*8+3]=Ee,ce.vertices[he*8+4]=fe+Se.width*i,ce.vertices[he*8+5]=Ee+Se.height*i,ce.vertices[he*8+6]=fe,ce.vertices[he*8+7]=Ee+Se.height*i,ce.uvs[he*8+0]=Oe.x0,ce.uvs[he*8+1]=Oe.y0,ce.uvs[he*8+2]=Oe.x1,ce.uvs[he*8+3]=Oe.y1,ce.uvs[he*8+4]=Oe.x2,ce.uvs[he*8+5]=Oe.y2,ce.uvs[he*8+6]=Oe.x3,ce.uvs[he*8+7]=Oe.y3}this._textWidth=p*i,this._textHeight=(o.y+n.lineHeight)*i;for(var y in H){var z=H[y];if(this.anchor.x!==0||this.anchor.y!==0)for(var Pe=0,Fe=this._textWidth*this.anchor.x,We=this._textHeight*this.anchor.y,et=0;et<z.total;et++)z.vertices[Pe++]-=Fe,z.vertices[Pe++]-=We,z.vertices[Pe++]-=Fe,z.vertices[Pe++]-=We,z.vertices[Pe++]-=Fe,z.vertices[Pe++]-=We,z.vertices[Pe++]-=Fe,z.vertices[Pe++]-=We;this._maxLineHeight=g*i;var He=z.mesh.geometry.getBuffer("aVertexPosition"),$e=z.mesh.geometry.getBuffer("aTextureCoord"),vt=z.mesh.geometry.getIndex();He.data=z.vertices,$e.data=z.uvs,vt.data=z.indices,He.update(),$e.update(),vt.update()}for(var y=0;y<a.length;y++)OA.push(a[y])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!us.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype._upgradeStyle=function(r){if(typeof r.font=="string"){var n=r.font.split(" ");r.fontName=n.length===1?n[0]:n.slice(1).join(" "),n.length>=2&&(r.fontSize=parseInt(n[0],10))}else r.fontName=r.font.name,r.fontSize=typeof r.font.size=="number"?r.font.size:parseInt(r.font.size,10)},t.prototype.destroy=function(r){var n=this._textureCache;for(var i in n){var o=n[i];o.destroy(),delete n[i]}this._textureCache=null,e.prototype.destroy.call(this,r)},t.registerFont=function(r,n){return Ae("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),us.install(r,n)},Object.defineProperty(t,"fonts",{get:function(){return Ae("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),us.available},enumerable:!1,configurable:!0}),t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t})(wo),Tj=(function(){function e(){}return e.add=function(){ud.setExtensionXhrType("fnt",ud.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){var n=wj(t.data);if(!n){r();return}for(var i=e.getBaseUrl(this,t),o=n.parse(t.data),a={},s=function(m){a[m.metadata.pageFile]=m.texture,Object.keys(a).length===o.page.length&&(t.bitmapFont=us.install(o,a,!0),r())},u=0;u<o.page.length;++u){var l=o.page[u].file,c=i+l,h=!1;for(var f in this.resources){var p=this.resources[f];if(p.url===c){p.metadata.pageFile=l,p.texture?s(p):p.onAfterMiddleware.add(s),h=!0;break}}if(!h){var d={crossOrigin:t.crossOrigin,loadType:ud.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},t.metadata.imageMetadata),parentResource:t};this.add(c,d,s)}}},e.getBaseUrl=function(t,r){var n=r.isDataUrl?"":e.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),t.baseUrl&&n&&t.baseUrl.charAt(t.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(t.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},e.dirname=function(t){var r=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===t?".":r===""?"/":r},e})();/*!
* @pixi/filter-alpha - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/filter-alpha is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var d5=function(e,t){return d5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},d5(e,t)};function _Q(e,t){d5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var wQ=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,TQ=(function(e){_Q(t,e);function t(r){r===void 0&&(r=1);var n=e.call(this,YN,wQ,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),t})(za);/*!
* @pixi/filter-blur - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/filter-blur is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var m5=function(e,t){return m5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},m5(e,t)};function xj(e,t){m5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var xQ=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function EQ(e,t){var r=Math.ceil(e/2),n=xQ,i="",o;t?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<e;a++){var s=o.replace("%index%",a.toString());s=s.replace("%sampleIndex%",a-(r-1)+".0"),i+=s,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",e.toString()),n}var SQ={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},kQ=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function OQ(e){for(var t=SQ[e],r=t.length,n=kQ,i="",o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",a,s=0;s<e;s++){var u=o.replace("%index%",s.toString());a=s,s>=r&&(a=e-s-1),u=u.replace("%value%",t[a].toString()),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",e.toString()),n}var PA;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(PA||(PA={}));var CA;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(CA||(CA={}));var AA;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(AA||(AA={}));var MA;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(MA||(MA={}));var IA;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(IA||(IA={}));var RA;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(RA||(RA={}));var DA;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(DA||(DA={}));var NA;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(NA||(NA={}));var jA;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(jA||(jA={}));var LA;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(LA||(LA={}));var BA;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON"})(BA||(BA={}));var FA;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(FA||(FA={}));var Id;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(Id||(Id={}));var zA;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(zA||(zA={}));var HA;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(HA||(HA={}));var UA;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(UA||(UA={}));var VA;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(VA||(VA={}));var g5=(function(e){xj(t,e);function t(r,n,i,o,a){n===void 0&&(n=8),i===void 0&&(i=4),o===void 0&&(o=lt.FILTER_RESOLUTION),a===void 0&&(a=5);var s=this,u=EQ(a,r),l=OQ(a);return s=e.call(this,u,l)||this,s.horizontal=r,s.resolution=o,s._quality=0,s.quality=i,s.blur=n,s}return t.prototype.apply=function(r,n,i,o){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,o);else{var a=r.getFilterTexture(),s=r.renderer,u=n,l=a;this.state.blend=!1,r.applyFilter(this,u,l,Id.CLEAR);for(var c=1;c<this.passes-1;c++){r.bindAndClear(u,Id.BLIT),this.uniforms.uSampler=l;var h=l;l=u,u=h,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,l,i,o),r.returnFilterTexture(a)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),t})(za),PQ=(function(e){xj(t,e);function t(r,n,i,o){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=lt.FILTER_RESOLUTION),o===void 0&&(o=5);var a=e.call(this)||this;return a.blurXFilter=new g5(!0,r,n,i,o),a.blurYFilter=new g5(!1,r,n,i,o),a.resolution=i,a.quality=n,a.blur=r,a.repeatEdgePixels=!1,a}return t.prototype.apply=function(r,n,i,o){var a=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(a&&s){var u=r.getFilterTexture();this.blurXFilter.apply(r,n,u,Id.CLEAR),this.blurYFilter.apply(r,u,i,o),r.returnFilterTexture(u)}else s?this.blurYFilter.apply(r,n,i,o):this.blurXFilter.apply(r,n,i,o)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),t})(za);/*!
* @pixi/filter-color-matrix - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/filter-color-matrix is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var y5=function(e,t){return y5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},y5(e,t)};function CQ(e,t){y5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var AQ=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,v5=(function(e){CQ(t,e);function t(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=e.call(this,E9,AQ,n)||this,r.alpha=1,r}return t.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},t.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},t.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},t.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),o=Math.sin(r),a=Math.sqrt,s=1/3,u=a(s),l=i+(1-i)*s,c=s*(1-i)-u*o,h=s*(1-i)+u*o,f=s*(1-i)+u*o,p=i+s*(1-i),d=s*(1-i)-u*o,m=s*(1-i)-u*o,v=s*(1-i)+u*o,b=i+s*(1-i),g=[l,c,h,0,0,f,p,d,0,0,m,v,b,0,0,0,0,0,1,0];this._loadMatrix(g,n)},t.prototype.contrast=function(r,n){var i=(r||0)+1,o=-.5*(i-1),a=[i,0,0,0,o,0,i,0,0,o,0,0,i,0,o,0,0,0,1,0];this._loadMatrix(a,n)},t.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,o=(i-1)*-.5,a=[i,o,o,0,0,o,i,o,0,0,o,o,i,0,0,0,0,0,1,0];this._loadMatrix(a,n)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.colorTone=function(r,n,i,o,a){r=r||.2,n=n||.15,i=i||16770432,o=o||3375104;var s=(i>>16&255)/255,u=(i>>8&255)/255,l=(i&255)/255,c=(o>>16&255)/255,h=(o>>8&255)/255,f=(o&255)/255,p=[.3,.59,.11,0,0,s,u,l,r,0,c,h,f,n,0,s-c,u-h,l-f,0,0];this._loadMatrix(p,a)},t.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),t})(za);v5.prototype.grayscale=v5.prototype.greyscale;/*!
* @pixi/filter-displacement - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/filter-displacement is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var b5=function(e,t){return b5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},b5(e,t)};function MQ(e,t){b5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var IQ=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,RQ=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,DQ=(function(e){MQ(t,e);function t(r,n){var i=this,o=new $r;return r.renderable=!1,i=e.call(this,RQ,IQ,{mapSampler:r._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=o,n==null&&(n=20),i.scale=new hn(n,n),i}return t.prototype.apply=function(r,n,i,o){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var a=this.maskSprite.worldTransform,s=Math.sqrt(a.a*a.a+a.b*a.b),u=Math.sqrt(a.c*a.c+a.d*a.d);s!==0&&u!==0&&(this.uniforms.rotation[0]=a.a/s,this.uniforms.rotation[1]=a.b/s,this.uniforms.rotation[2]=a.c/u,this.uniforms.rotation[3]=a.d/u),r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),t})(za);/*!
* @pixi/filter-fxaa - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/filter-fxaa is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var _5=function(e,t){return _5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},_5(e,t)};function NQ(e,t){_5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var jQ=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputPixel;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,LQ=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputPixel;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,BQ=(function(e){NQ(t,e);function t(){return e.call(this,jQ,LQ)||this}return t})(za);/*!
* @pixi/filter-noise - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/filter-noise is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var w5=function(e,t){return w5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},w5(e,t)};function FQ(e,t){w5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var zQ=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,HQ=(function(e){FQ(t,e);function t(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=e.call(this,E9,zQ,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),t})(za);/*!
* @pixi/mixin-cache-as-bitmap - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var Ej=new $r;qr.prototype._cacheAsBitmap=!1;qr.prototype._cacheData=null;var UQ=(function(){function e(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return e})();Object.defineProperties(qr.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t;e?(this._cacheData||(this._cacheData=new UQ),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}});qr.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};qr.prototype._initCachedDisplayObject=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.alpha;this.alpha=1,e.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters){var n=this.filters[0].padding;r.pad(n)}r.ceil(lt.RESOLUTION);var i=e.renderTexture.current,o=e.renderTexture.sourceFrame.clone(),a=e.renderTexture.destinationFrame.clone(),s=e.projection.transform,u=jl.create({width:r.width,height:r.height}),l="cacheAsBitmap_"+Nl();this._cacheData.textureCacheId=l,xr.addToCache(u.baseTexture,l),Ot.addToCache(u,l);var c=this.transform.localTransform.copyTo(Ej).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,u,!0,c,!1),e.projection.transform=s,e.renderTexture.bind(i,o,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new lf(u);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=t,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)}};qr.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};qr.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var n=e.context,i=e._projTransform;t.ceil(lt.RESOLUTION);var o=jl.create({width:t.width,height:t.height}),a="cacheAsBitmap_"+Nl();this._cacheData.textureCacheId=a,xr.addToCache(o.baseTexture,a),Ot.addToCache(o,a);var s=Ej;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=t.x,s.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,o,!0,s,!1),e.context=n,e._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var u=new lf(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(t.x/t.width),u.anchor.y=-(t.y/t.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}};qr.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};qr.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};qr.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,xr.removeFromCache(this._cacheData.textureCacheId),Ot.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};qr.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
* @pixi/mixin-get-child-by-name - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/mixin-get-child-by-name is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/qr.prototype.name=null;wo.prototype.getChildByName=function(e,t){for(var r=0,n=this.children.length;r<n;r++)if(this.children[r].name===e)return this.children[r];if(t)for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r];if(i.getChildByName){var o=this.children[r].getChildByName(e,!0);if(o)return o}}return null};/*!
* @pixi/mixin-get-global-position - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/mixin-get-global-position is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/qr.prototype.getGlobalPosition=function(e,t){return e===void 0&&(e=new hn),t===void 0&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};/*!
* @pixi/mesh-extras - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/mesh-extras is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var T5=function(e,t){return T5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},T5(e,t)};function uf(e,t){T5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Sj=(function(e){uf(t,e);function t(r,n,i,o){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),o===void 0&&(o=10);var a=e.call(this)||this;return a.segWidth=i,a.segHeight=o,a.width=r,a.height=n,a.build(),a}return t.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],o=[],a=this.segWidth-1,s=this.segHeight-1,u=this.width/a,l=this.height/s,c=0;c<r;c++){var h=c%this.segWidth,f=c/this.segWidth|0;n.push(h*u,f*l),i.push(h/a,f/s)}for(var p=a*s,c=0;c<p;c++){var d=c%a,m=c/a|0,v=m*this.segWidth+d,b=m*this.segWidth+d+1,g=(m+1)*this.segWidth+d,y=(m+1)*this.segWidth+d+1;o.push(v,b,g,b,y,g)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t})(c1),kj=(function(e){uf(t,e);function t(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var o=e.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return o.points=n,o._width=r,o.textureScale=i,o.build(),o}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),o=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),o.data=new Uint16Array((r.length-1)*6));var a=i.data,s=o.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;for(var u=0,l=r[0],c=this._width*this.textureScale,h=r.length,f=0;f<h;f++){var p=f*4;if(this.textureScale>0){var d=l.x-r[f].x,m=l.y-r[f].y,v=Math.sqrt(d*d+m*m);l=r[f],u+=v/c}else u=f/(h-1);a[p]=u,a[p+1]=0,a[p+2]=u,a[p+3]=1}for(var b=0,f=0;f<h-1;f++){var p=f*2;s[b++]=p,s[b++]=p+1,s[b++]=p+2,s[b++]=p+2,s[b++]=p+1,s[b++]=p+3}i.update(),o.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,o=0,a=0,s=this.buffers[0].data,u=r.length,l=0;l<u;l++){var c=r[l],h=l*4;l<r.length-1?i=r[l+1]:i=c,a=-(i.x-n.x),o=i.y-n.y;var f=Math.sqrt(o*o+a*a),p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;o/=f,a/=f,o*=p,a*=p,s[h]=c.x+o,s[h+1]=c.y+a,s[h+2]=c.x-o,s[h+3]=c.y-a,n=c}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t})(c1),VQ=(function(e){uf(t,e);function t(r,n,i){i===void 0&&(i=0);var o=this,a=new kj(r.height,n,i),s=new u1(r);return i>0&&(r.baseTexture.wrapMode=Oa.REPEAT),o=e.call(this,a,s)||this,o.autoUpdate=!0,o}return t.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),e.prototype._render.call(this,r)},t})(qc),Oj=(function(e){uf(t,e);function t(r,n,i){var o=this,a=new Sj(r.width,r.height,n,i),s=new u1(Ot.WHITE);return o=e.call(this,a,s)||this,o.texture=r,o}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry;r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build()},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,r)},t.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,r)},t})(qc),GQ=(function(e){uf(t,e);function t(r,n,i,o,a){r===void 0&&(r=Ot.EMPTY);var s=this,u=new c1(n,i,o);u.getBuffer("aVertexPosition").static=!1;var l=new u1(r);return s=e.call(this,u,l,null,a)||this,s.autoUpdate=!0,s}return Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),t.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,r)},t})(qc),xm=10,YQ=(function(e){uf(t,e);function t(r,n,i,o,a){n===void 0&&(n=xm),i===void 0&&(i=xm),o===void 0&&(o=xm),a===void 0&&(a=xm);var s=e.call(this,Ot.WHITE,4,4)||this;return s._origWidth=r.orig.width,s._origHeight=r.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=o,s._topHeight=i,s._bottomHeight=a,s.texture=r,s}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},t.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},t.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,o=this._height>i?1:this._height/i,a=Math.min(n,o);return a},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,o=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=o*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t})(Oj);/*!
* @pixi/sprite-animated - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/sprite-animated is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var x5=function(e,t){return x5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},x5(e,t)};function WQ(e,t){x5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var XQ=(function(e){WQ(t,e);function t(r,n){n===void 0&&(n=!0);var i=e.call(this,r[0]instanceof Ot?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return t.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(cn.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(cn.shared.add(this.update,this,qo.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=n/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];var a=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},t.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(r){this.stop(),e.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Ot.from(r[i]));return new t(n)},t.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Ot.from(r[i]));return new t(n)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof Ot)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(cn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(cn.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t})(lf);/*!
* pixi.js - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* pixi.js is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var E5=function(e,t){return E5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},E5(e,t)};function GA(e,t){E5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ge="5.0.0";function $Q(){var e=this;Object.defineProperties(e,{SVG_SIZE:{get:function(){return Ae(Ge,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),e.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return Ae(Ge,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),e.Transform}},TransformBase:{get:function(){return Ae(Ge,"PIXI.TransformBase class has been removed, use PIXI.Transform"),e.Transform}},TRANSFORM_MODE:{get:function(){return Ae(Ge,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return Ae(Ge,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),e.Renderer}},CanvasRenderTarget:{get:function(){return Ae(Ge,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),e.utils.CanvasRenderTarget}},loader:{get:function(){return Ae(Ge,"PIXI.loader instance has moved to PIXI.Loader.shared"),e.Loader.shared}},FilterManager:{get:function(){return Ae(Ge,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),e.systems.FilterSystem}},CanvasTinter:{get:function(){return Ae("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),e.canvasUtils}},GroupD8:{get:function(){return Ae("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),e.groupD8}}}),e.accessibility={},Object.defineProperties(e.accessibility,{AccessibilityManager:{get:function(){return Ae("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),e.AccessibilityManager}}}),e.interaction={},Object.defineProperties(e.interaction,{InteractionManager:{get:function(){return Ae("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),e.InteractionManager}},InteractionData:{get:function(){return Ae("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),e.InteractionData}},InteractionEvent:{get:function(){return Ae("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),e.InteractionEvent}}}),e.prepare={},Object.defineProperties(e.prepare,{BasePrepare:{get:function(){return Ae("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),e.BasePrepare}},Prepare:{get:function(){return Ae("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),e.Prepare}},CanvasPrepare:{get:function(){return Ae("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),e.CanvasPrepare}}}),e.extract={},Object.defineProperties(e.extract,{Extract:{get:function(){return Ae("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),e.Extract}},CanvasExtract:{get:function(){return Ae("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),e.CanvasExtract}}}),e.extras={},Object.defineProperties(e.extras,{TilingSprite:{get:function(){return Ae(Ge,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),e.TilingSprite}},TilingSpriteRenderer:{get:function(){return Ae(Ge,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),e.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return Ae(Ge,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),e.AnimatedSprite}},BitmapText:{get:function(){return Ae(Ge,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),e.BitmapText}}}),e.TilingSprite.fromFrame=function(h,f,p){return Ae("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),e.TilingSprite.from(h,{width:f,height:p})},e.TilingSprite.fromImage=function(h,f,p,d){return d===void 0&&(d={}),Ae("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),d&&typeof d!="object"&&(d={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),d.width=f,d.height=p,e.TilingSprite.from(h,d)},Object.defineProperties(e.utils,{getSvgSize:{get:function(){return Ae(Ge,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),e.resources.SVGResource.getSize}}}),e.mesh={},Object.defineProperties(e.mesh,{Mesh:{get:function(){return Ae(Ge,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),e.SimpleMesh}},NineSlicePlane:{get:function(){return Ae(Ge,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),e.NineSlicePlane}},Plane:{get:function(){return Ae(Ge,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),e.SimplePlane}},Rope:{get:function(){return Ae(Ge,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),e.SimpleRope}},RawMesh:{get:function(){return Ae(Ge,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),e.Mesh}},CanvasMeshRenderer:{get:function(){return Ae(Ge,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),e.CanvasMeshRenderer}},MeshRenderer:{get:function(){return Ae(Ge,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),e.MeshRenderer}}}),e.particles={},Object.defineProperties(e.particles,{ParticleContainer:{get:function(){return Ae(Ge,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),e.ParticleContainer}},ParticleRenderer:{get:function(){return Ae(Ge,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),e.ParticleRenderer}}}),e.ticker={},Object.defineProperties(e.ticker,{Ticker:{get:function(){return Ae(Ge,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),e.Ticker}},shared:{get:function(){return Ae(Ge,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),e.Ticker.shared}}}),e.loaders={},Object.defineProperties(e.loaders,{Loader:{get:function(){return Ae(Ge,"PIXI.loaders.Loader class has moved to PIXI.Loader"),e.Loader}},Resource:{get:function(){return Ae(Ge,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),e.LoaderResource}},bitmapFontParser:{get:function(){return Ae(Ge,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),e.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){Ae(Ge,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return Ae(Ge,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),e.SpritesheetLoader.use}},getResourcePath:{get:function(){return Ae(Ge,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),e.SpritesheetLoader.getResourcePath}}}),e.Loader.addPixiMiddleware=function(h){return Ae(Ge,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),e.loaders.Loader.registerPlugin({use:h()})};var t=function(h){return"on"+h.charAt(0).toUpperCase()+h.slice(1)};Object.assign(e.Loader.prototype,{on:function(h){var f=t(h);Ae(Ge,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+f+".add")},once:function(h){var f=t(h);Ae(Ge,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+f+".once")},off:function(h){var f=t(h);Ae(Ge,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+f+".detach")}}),Object.defineProperty(e.extract,"WebGLExtract",{get:function(){return Ae(Ge,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),e.Extract}}),Object.defineProperty(e.prepare,"WebGLPrepare",{get:function(){return Ae(Ge,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),e.Prepare}}),e.Container.prototype._renderWebGL=function(h){Ae(Ge,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(h)},e.Container.prototype.renderWebGL=function(h){Ae(Ge,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(h)},e.DisplayObject.prototype.renderWebGL=function(h){Ae(Ge,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(h)},e.Container.prototype.renderAdvancedWebGL=function(h){Ae(Ge,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(h)},Object.defineProperties(e.settings,{TRANSFORM_MODE:{get:function(){return Ae(Ge,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){Ae(Ge,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var r=e.BaseTexture;r.prototype.loadSource=function(h){Ae(Ge,"PIXI.BaseTexture.loadSource method has been deprecated");var f=e.resources.autoDetectResource(h);f.internal=!0,this.setResource(f),this.update()};var n=!1;Object.defineProperties(r.prototype,{hasLoaded:{get:function(){return Ae(Ge,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var h;return Ae(Ge,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),(h=this.resource)===null||h===void 0?void 0:h.url},set:function(h){Ae(Ge,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=h)}},source:{get:function(){return Ae(Ge,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(h){Ae(Ge,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=h)}},premultiplyAlpha:{get:function(){return Ae("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode!==0},set:function(h){Ae("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(h)}},_id:{get:function(){return n||(Ae("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),n=!0),this._batchLocation},set:function(h){this._batchLocation=h}}}),r.fromImage=function(h,f,p,d){Ae(Ge,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var m={scale:d,crossorigin:f};return r.from(h,{scaleMode:p,resourceOptions:m})},r.fromCanvas=function(h,f){return Ae(Ge,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),r.from(h,{scaleMode:f})},r.fromSVG=function(h,f,p,d){Ae(Ge,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var m={scale:d,crossorigin:f};return r.from(h,{scaleMode:p,resourceOptions:m})},Object.defineProperties(e.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return Ae("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode!==0},set:function(h){Ae("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(h)}}}),e.Point.prototype.copy=function(h){return Ae(Ge,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(h)},e.ObservablePoint.prototype.copy=function(h){return Ae(Ge,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(h)},e.Rectangle.prototype.copy=function(h){return Ae(Ge,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(h)},e.Matrix.prototype.copy=function(h){return Ae(Ge,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(h)},e.systems.StateSystem.prototype.setState=function(h){return Ae("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(h)},Object.assign(e.systems.FilterSystem.prototype,{getRenderTarget:function(h,f){return Ae(Ge,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,f)},returnRenderTarget:function(h){Ae(Ge,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(h)},calculateScreenSpaceMatrix:function(h){Ae(Ge,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var f=h.identity(),p=this.activeState,d=p.sourceFrame,m=p.destinationFrame;return f.translate(d.x/m.width,d.y/m.height),f.scale(m.width,m.height),f},calculateNormalizedScreenSpaceMatrix:function(h){Ae(Ge,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var f=this.activeState,p=f.sourceFrame,d=f.destinationFrame,m=h.identity();m.translate(p.x/d.width,p.y/d.height);var v=d.width/p.width,b=d.height/p.height;return m.scale(v,b),m}}),Object.defineProperties(e.RenderTexture.prototype,{sourceFrame:{get:function(){return Ae(Ge,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return Ae(Ge,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var i=(function(h){GA(f,h);function f(p,d,m,v){var b=this;return Ae(Ge,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),b=h.call(this,!0,p,d,m,v)||this,b}return f})(e.filters.BlurFilterPass),o=(function(h){GA(f,h);function f(p,d,m,v){var b=this;return Ae(Ge,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),b=h.call(this,!1,p,d,m,v)||this,b}return f})(e.filters.BlurFilterPass);Object.assign(e.filters,{BlurXFilter:i,BlurYFilter:o});var a=e.Sprite,s=e.Texture,u=e.Graphics;u.prototype.generateCanvasTexture||(u.prototype.generateCanvasTexture=function(){Ae(Ge,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(u.prototype,"graphicsData",{get:function(){return Ae(Ge,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}});function l(h,f,p,d){return Ae(Ge,"PIXI.Sprite."+h+" method is deprecated, use PIXI.Sprite.from"),a.from(f,{resourceOptions:{scale:d,crossorigin:p}})}a.fromImage=l.bind(null,"fromImage"),a.fromSVG=l.bind(null,"fromSVG"),a.fromCanvas=l.bind(null,"fromCanvas"),a.fromVideo=l.bind(null,"fromVideo"),a.fromFrame=l.bind(null,"fromFrame");function c(h,f,p,d){return Ae(Ge,"PIXI.Texture."+h+" method is deprecated, use PIXI.Texture.from"),s.from(f,{resourceOptions:{scale:d,crossorigin:p}})}s.fromImage=c.bind(null,"fromImage"),s.fromSVG=c.bind(null,"fromSVG"),s.fromCanvas=c.bind(null,"fromCanvas"),s.fromVideo=c.bind(null,"fromVideo"),s.fromFrame=c.bind(null,"fromFrame"),Object.defineProperty(e.AbstractRenderer.prototype,"autoResize",{get:function(){return Ae(Ge,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(h){Ae(Ge,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=h}}),Object.defineProperty(e.Renderer.prototype,"textureManager",{get:function(){return Ae(Ge,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),e.utils.mixins={mixin:function(){Ae(Ge,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){Ae(Ge,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){Ae(Ge,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(e.BitmapText.prototype,"font",{get:function(){return Ae("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(h){if(Ae("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),!!h){var f={font:h};this._upgradeStyle(f),f.fontSize=f.fontSize||e.BitmapFont.available[f.fontName].size,this._fontName=f.fontName,this._fontSize=f.fontSize,this.dirty=!0}}})}Ha.registerPlugin("accessibility",oN);Ha.registerPlugin("extract",ZN);Ha.registerPlugin("interaction",uN);Ha.registerPlugin("particle",nj);Ha.registerPlugin("prepare",mj);Ha.registerPlugin("batch",KN);Ha.registerPlugin("tilingSprite",bj);Ll.registerPlugin(Tj);Ll.registerPlugin(yj);l1.registerPlugin(aN);l1.registerPlugin(tj);var Pj="5.3.12",qQ={AlphaFilter:TQ,BlurFilter:PQ,BlurFilterPass:g5,ColorMatrixFilter:v5,DisplacementFilter:DQ,FXAAFilter:BQ,NoiseFilter:HQ};const Cj=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return Ra},AbstractBatchRenderer:XN,AbstractRenderer:VN,AccessibilityManager:oN,AnimatedSprite:XQ,AppLoaderPlugin:tj,Application:l1,Attribute:Q2,get BLEND_MODES(){return dt},get BUFFER_BITS(){return Od},BasePrepare:pj,BaseRenderTexture:ld,BaseTexture:xr,BatchDrawCall:l0,BatchGeometry:S9,BatchPluginFactory:qN,BatchRenderer:KN,BatchShaderGenerator:$N,BatchTextureArray:u0,BitmapFont:us,BitmapFontData:Md,BitmapFontLoader:Tj,BitmapText:bQ,Bounds:Ad,Buffer:un,get CLEAR_MODES(){return co},Circle:eN,Container:wo,CountLimiter:fj,DEG_TO_RAD:JD,get DRAW_MODES(){return Xi},DisplayObject:qr,get ENV(){return $o},Ellipse:tN,Extract:ZN,get FORMATS(){return Vc},FillStyle:k9,Filter:za,FilterState:vN,Framebuffer:s0,get GC_MODES(){return o0},GLFramebuffer:TN,GLProgram:BN,GLTexture:Sg,GRAPHICS_CURVES:Xc,Geometry:sf,Graphics:P9,GraphicsData:a5,GraphicsGeometry:cj,IGLUniformData:cZ,InteractionData:q2,InteractionEvent:sN,InteractionManager:uN,InteractionTrackingData:xg,get LINE_CAP(){return Ea},get LINE_JOIN(){return xa},LineStyle:hj,Loader:Ll,LoaderResource:ud,get MASK_TYPES(){return li},get MIPMAP_MODES(){return Gc},get MSAA_QUALITY(){return Rl},MaskData:SN,Matrix:$r,Mesh:qc,MeshBatchUvs:_j,MeshGeometry:c1,MeshMaterial:u1,NineSlicePlane:YQ,ObjectRenderer:a1,ObservablePoint:wl,PI_2:Yc,get PRECISION(){return go},ParticleContainer:LZ,ParticleRenderer:nj,PlaneGeometry:Sj,Point:hn,Polygon:Oc,Prepare:mj,Program:s1,Quad:yN,QuadUv:x9,RAD_TO_DEG:QD,get RENDERER_TYPE(){return Uc},Rectangle:ar,RenderTexture:jl,RenderTexturePool:mN,Renderer:Ha,RopeGeometry:kj,RoundedRectangle:rN,Runner:_n,get SCALE_MODES(){return Uo},get SHAPES(){return Nr},Shader:ws,SimpleMesh:GQ,SimplePlane:Oj,SimpleRope:VQ,Sprite:lf,SpriteMaskFilter:MN,Spritesheet:gj,SpritesheetLoader:yj,State:ks,System:mi,get TARGETS(){return gs},get TEXT_GRADIENT(){return $c},get TYPES(){return Wr},TemporaryDisplayObject:y9,Text:C9,TextMetrics:Qi,TextStyle:Bl,Texture:Ot,TextureLoader:ej,TextureMatrix:$v,TextureUvs:T9,Ticker:cn,TickerPlugin:aN,TilingSprite:lQ,TilingSpriteRenderer:bj,TimeLimiter:sQ,Transform:m9,get UPDATE_PRIORITY(){return qo},UniformGroup:ys,VERSION:Pj,ViewableBuffer:WN,get WRAP_MODES(){return Oa},accessibleTarget:iN,autoDetectRenderer:GN,checkMaxIfStatementsInShader:AN,defaultFilterVertex:E9,defaultVertex:YN,filters:qQ,graphicsUtils:UZ,groupD8:Er,interactiveTarget:lN,isMobile:Wi,resources:LK,settings:lt,systems:vZ,uniformParsers:Eg,useDeprecated:$Q,utils:SK},Symbol.toStringTag,{value:"Module"}));(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('._multitrack-header_1yz7l_1,._multitrack-header-focus_1yz7l_2,._multitrack-header-squeazed_1yz7l_3{position:relative;display:flex;justify-content:space-between;height:24px;margin-top:4px;margin-bottom:4px;color:#999;font-size:12px;line-height:24px;vertical-align:middle;border:0;border-radius:3px;background:#e5e5e5;transition:height .15s cubic-bezier(.25,.1,.25,1),margin .15s cubic-bezier(.25,.1,.25,1)}._multitrack-header-dark_1yz7l_20{background:#222}._multitrack-header-focus_1yz7l_2{height:32px;margin-top:0;margin-bottom:0}._multitrack-header-id_1yz7l_30{padding-left:3px}._multitrack-header-id_1yz7l_30:before{content:"ID:";font-weight:700;padding-right:5px}._multitrack-header-left_1yz7l_39{display:flex;flex-grow:1}._multitrack-header-grabber_1yz7l_44,._multitrack-header-grabber-squeazed_1yz7l_45{display:flex;align-items:center;justify-content:center;width:24px;height:100%;cursor:move;border-radius:3px 0 0 3px;transition:background .15s cubic-bezier(.25,.1,.25,1)}._multitrack-header-grabber_1yz7l_44:hover,._multitrack-header-grabber-squeazed_1yz7l_45:hover{background:#999}._multitrack-header-grabber_1yz7l_44:hover div,._multitrack-header-grabber-squeazed_1yz7l_45:hover div{background:#fff}._multitrack-header-grabber_1yz7l_44 div,._multitrack-header-grabber-squeazed_1yz7l_45 div{width:1px;height:50%;margin:1px;background:#999;transition:background .15s cubic-bezier(.25,.1,.25,1)}._multitrack-header-dark_1yz7l_20 ._multitrack-header-grabber_1yz7l_44 div{background:#666}._multitrack-header-grabber-squeazed_1yz7l_45{width:19.2px}._multitrack-header-search_1yz7l_80{position:relative;flex-grow:1;height:100%;margin-right:12px}._multitrack-header-search_1yz7l_80:after{position:absolute;top:3px;bottom:3px;right:-12px;display:block;content:"";width:1px;margin:0 6px;background:#ccc}._multitrack-header-dark_1yz7l_20 ._multitrack-header-search_1yz7l_80:after{background:#666}._multitrack-header-nav-list_1yz7l_102,._multitrack-header_1yz7l_1>nav{display:flex}._multitrack-header-icon_1yz7l_107,._multitrack-header-icon-squeazed_1yz7l_108{width:24px;height:100%;padding:6px;transition:background .15s cubic-bezier(.25,.1,.25,1),color .15s cubic-bezier(.25,.1,.25,1)}._multitrack-header-icon_1yz7l_107 g,._multitrack-header-icon-squeazed_1yz7l_108 g{stroke:#999}._multitrack-header-icon_1yz7l_107:hover,._multitrack-header-icon_1yz7l_107:active,._multitrack-header-icon_1yz7l_107:focus,._multitrack-header-icon-squeazed_1yz7l_108:hover,._multitrack-header-icon-squeazed_1yz7l_108:active,._multitrack-header-icon-squeazed_1yz7l_108:focus{color:#fff;background:#337ab7}._multitrack-header-icon_1yz7l_107:hover g,._multitrack-header-icon_1yz7l_107:active g,._multitrack-header-icon_1yz7l_107:focus g,._multitrack-header-icon-squeazed_1yz7l_108:hover g,._multitrack-header-icon-squeazed_1yz7l_108:active g,._multitrack-header-icon-squeazed_1yz7l_108:focus g{stroke:#fff}._multitrack-header-icon_1yz7l_107:last-child,._multitrack-header-icon-squeazed_1yz7l_108:last-child{border-radius:0 3px 3px 0}._mouse-tool-selection_1yz7l_136{color:#fff;border-radius:3px 0 0 3px;background:#337ab7}._multitrack-header-icon-squeazed_1yz7l_108{width:20px 5;padding-left:3px;padding-right:3px}._button_1wnjn_1{display:flex;align-items:center;box-sizing:border-box;padding:.5em;color:#000;font-size:1em;line-height:1em;border:0;border-radius:2.5px;background:#fff;box-shadow:0 0 0 1px #ccc;transition:transform .15s cubic-bezier(.25,.1,.25,1),box-shadow .15s cubic-bezier(.25,.1,.25,1),background .15s cubic-bezier(.25,.1,.25,1);-webkit-appearance:none}._button_1wnjn_1:hover{background:#f2f2f2;box-shadow:0 0 0 1px #ccc}._button_1wnjn_1:focus{box-shadow:0 0 0 2px #0089ff}._button_1wnjn_1:active{transform:scale(.9)}._button_1wnjn_1:hover,._button_1wnjn_1:focus,._button_1wnjn_1:active{cursor:pointer;outline:none}._button-shortcut_1wnjn_35{padding:.1em 5px;color:#999;font-size:.8em;transition:color .15s cubic-bezier(.25,.1,.25,1)}._cross_2ke8w_1{position:relative;width:1em;height:1em}._cross_2ke8w_1:before,._cross_2ke8w_1:after{content:"";display:block;position:absolute;top:50%;left:0;width:1em;height:1px;background:#000;transform-origin:center}._cross_2ke8w_1:before{-webkit-transform:translate(0,-50%) rotate(45deg);-moz-transform:translate(0,-50%) rotate(45deg);transform:translateY(-50%) rotate(45deg)}._cross_2ke8w_1:after{-webkit-transform:translate(0,-50%) rotate(-45deg);-moz-transform:translate(0,-50%) rotate(-45deg);transform:translateY(-50%) rotate(-45deg)}._modal-background_zzhoe_1{position:absolute;z-index:1000;top:0;right:0;bottom:0;left:0;background:#000a;animation:_fade-in_zzhoe_1 .2s cubic-bezier(.25,.1,.25,1) 1;transition:opacity .2s cubic-bezier(.25,.1,.25,1)}._modal-hide_zzhoe_13{opacity:0}._modal-wrap_zzhoe_17{position:absolute;top:20px;right:20px;bottom:20px;left:20px}._modal-window_zzhoe_25{position:relative;width:100%;max-width:640px;max-height:100%;margin-left:auto;margin-right:auto;color:#000;border-radius:5px;background:#fff;animation:_fade-scale-in_zzhoe_1 .2s cubic-bezier(.25,.1,.25,1) 1}._modal-window-max-height_zzhoe_38{height:100%}._modal-content_zzhoe_42{padding:10px}@keyframes _fade-in_zzhoe_1{0%{opacity:0}to{opacity:1}}@keyframes _fade-scale-in_zzhoe_1{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}._dialog-header_wp50s_1{position:relative;z-index:2;display:flex;justify-content:space-between;margin:0 -10px 10px;padding:0 10px 10px;border-bottom:1px solid #cccccc}._dialog-header_wp50s_1 h3{margin:0;padding:0;font-size:20px;line-height:1em}._dialog-header_wp50s_1 button{font-size:10px}._dialog-main-max-height_wp50s_20{position:absolute;z-index:1;top:40px;right:0;bottom:50px;left:0;padding:10px;overflow:auto}._dialog-footer_wp50s_31,._dialog-footer-max-height_wp50s_31{display:flex;justify-content:space-between;margin:10px -10px 0;padding:10px 10px 0;border-top:1px solid #cccccc}._dialog-footer_wp50s_31 button,._dialog-footer-max-height_wp50s_31 button{font-size:14px}._dialog-footer-max-height_wp50s_31{position:absolute;z-index:2;left:10px;right:10px;bottom:10px}._export-link-dialog-wrapper_p9gxw_1{display:flex}._export-link-dialog-wrapper_p9gxw_1 input{flex-grow:1}._genome-position-search_1l2sx_1,._genome-position-search-focus_1l2sx_2{position:relative;display:flex;align-items:stretch;height:100%;margin-bottom:0;font-size:13.7142857143px;transition:box-shadow .15s cubic-bezier(.25,.1,.25,1),font-size .15s cubic-bezier(.25,.1,.25,1)}._genome-position-search-focus_1l2sx_2{box-shadow:0 0 0 1px #337ab7,0 0 3px 1px #337ab7}._genome-position-search-bar_1l2sx_16{position:relative;box-sizing:border-box;width:100%;height:100%;padding:3px;color:#666;font-size:inherit;line-height:24px;border:0;border-radius:3px 0 0 3px;background:transparent}._genome-position-search-bar_1l2sx_16:focus{outline:none;color:#000}._genome-position-search-dark_1l2sx_34 ._genome-position-search-bar_1l2sx_16:focus{color:#e5e5e5}._genome-position-search-bar-button_1l2sx_38,._genome-position-search-bar-button-focus_1l2sx_39{display:block;height:100%;padding:0 8px!important;color:#999;border:0!important;border-radius:0!important;background:transparent;transition:background .15s cubic-bezier(.25,.1,.25,1),color .15s cubic-bezier(.25,.1,.25,1)}._genome-position-search-bar-button_1l2sx_38:active,._genome-position-search-bar-button_1l2sx_38:focus,._genome-position-search-bar-button_1l2sx_38:hover,._genome-position-search-bar-button-focus_1l2sx_39:active,._genome-position-search-bar-button-focus_1l2sx_39:focus,._genome-position-search-bar-button-focus_1l2sx_39:hover{color:#fff;background:#337ab7}._genome-position-search-bar-button-focus_1l2sx_39{color:#fff;background:#337ab7}._genome-position-search-bar-icon_1l2sx_62,._genome-position-search-bar-icon-focus_1l2sx_63{display:flex;align-items:center;transition:color .15s cubic-bezier(.25,.1,.25,1)}._genome-position-search-bar-icon_1l2sx_62:first-child,._genome-position-search-bar-icon-focus_1l2sx_63:first-child{margin-left:6px;margin-right:2px}._genome-position-search-bar-icon_1l2sx_62 span,._genome-position-search-bar-icon-focus_1l2sx_63 span{display:block;margin-top:-2px}._genome-position-search-bar-icon-focus_1l2sx_63{color:#337ab7}._genome-position-search-bar-suggestions_1l2sx_83{position:fixed;border-radius:3px;box-shadow:0 0 3px #0000001a,0 1px 5px #0000000d;background-color:#fffffff2;border:1px solid rgba(0,0,0,.1);padding:2px 0;font-size:90%;overflow:auto;max-height:50%}._btn_1l2sx_95{display:inline-block;margin-bottom:0;font-size:13.7142857143px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:4px}._btn-sm_1l2sx_116{font-size:12px;line-height:1.5;border-radius:3px}._btn-default_1l2sx_122{color:#666;background-color:#fff;border-color:#ccc}._btn-default_1l2sx_122:hover{color:#000;background:#ccc}._btn-default_1l2sx_122:active,._btn-default_1l2sx_122:focus{color:#fff;border-color:#000;background:#000}._genome-position-search_1l2sx_1 ._btn_1l2sx_95{border-radius:0 3px 3px 0}.plot-type-selected{background-color:#0000ff4d}.plot-type-container{overflow-y:scroll;margin:5px;padding:3px;border:1px solid #aaaaaa;border-radius:5px;max-height:15vh}.plot-type-container-empty{margin:5px;padding:3px 8px;border:1px solid #aaaaaa;background-color:#e8e8e8;border-radius:5px}.plot-type-item{cursor:pointer}.plot-type-item:not(.plot-type-selected):hover{background-color:#3333cc1a}.track-thumbnail{width:30px;height:20px;display:inline-block;margin-right:10;vertical-align:middle}.track-thumbnail>svg{width:20px;height:20px}.tileset-finder-label{font-weight:700}.tileset-finder-search-box{margin-left:10px}.tileset-finder-search-bar{display:flex;margin-left:5px;justify-content:space-between;align-items:center}.tileset-finder-checkbox-tree{margin:5px;padding:3px;border:1px solid #aaaaaa;border-radius:5px}.react-checkbox-tree{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;font-size:16px}.react-checkbox-tree>ol{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.react-checkbox-tree ol{margin:0;padding-left:0;list-style-type:none}.react-checkbox-tree ol ol{padding-left:24px}.react-checkbox-tree button{line-height:normal;color:inherit}.react-checkbox-tree button:disabled{cursor:not-allowed}.react-checkbox-tree .rct-bare-label{cursor:default}.react-checkbox-tree label{margin-bottom:0;cursor:pointer}.react-checkbox-tree label:hover{background:#3333cc1a}.react-checkbox-tree label:active,.react-checkbox-tree label:focus{background:#3333cc26}.react-checkbox-tree:not(.rct-native-display) input{display:none}.react-checkbox-tree.rct-native-display input{margin:0 5px}.react-checkbox-tree .rct-icon{display:inline-block;text-align:center;text-rendering:auto;font-family:"Font Awesome 5 Free",FontAwesome,sans-serif;font-weight:400;font-variant:normal;font-style:normal}.rct-disabled>.rct-text>label{opacity:.75;cursor:not-allowed}.rct-disabled>.rct-text>label:hover{background:transparent}.rct-disabled>.rct-text>label:active{background:transparent}.rct-text{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.rct-options{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-left:.5rem;text-align:right}.rct-option{opacity:.75;border:0;background:none;cursor:pointer;padding:0 4px;font-size:18px}.rct-option:hover{opacity:1}.rct-option+.rct-option{margin-left:2px}.rct-collapse,.rct-checkbox,.rct-node-icon{padding:0 5px}.rct-collapse *,.rct-checkbox *,.rct-node-icon *{display:inline-block;margin:0;width:14px}.rct-collapse{-ms-flex-item-align:stretch;align-self:stretch;border:0;background:none;line-height:normal;color:inherit;font-size:12px}.rct-collapse.rct-collapse-btn{cursor:pointer}.rct-collapse>.rct-icon-expand-close{opacity:.5}.rct-collapse>.rct-icon-expand-close:hover{opacity:1}.rct-native-display .rct-checkbox{display:none}.rct-node-clickable{cursor:pointer}.rct-node-clickable:hover{background:#3333cc1a}.rct-node-clickable:focus{outline:0;background:#33c3}.rct-node-icon{color:#33c}.rct-title{padding:0 5px}.rct-icons-fa4 .rct-icon-expand-close:before{content:""}.rct-icons-fa4 .rct-icon-expand-open:before{content:""}.rct-icons-fa4 .rct-icon-uncheck:before{content:""}.rct-icons-fa4 .rct-icon-check:before{content:""}.rct-icons-fa4 .rct-icon-half-check:before{opacity:.5;content:""}.rct-icons-fa4 .rct-icon-leaf:before{content:""}.rct-icons-fa4 .rct-icon-parent-open:before{content:""}.rct-icons-fa4 .rct-icon-parent-close:before{content:""}.rct-icons-fa4 .rct-icon-expand-all:before{content:""}.rct-icons-fa4 .rct-icon-collapse-all:before{content:""}.rct-icons-fa5 .rct-icon-expand-close:before{font-weight:900;content:""}.rct-icons-fa5 .rct-icon-expand-open:before{font-weight:900;content:""}.rct-icons-fa5 .rct-icon-uncheck:before{content:""}.rct-icons-fa5 .rct-icon-check:before{content:""}.rct-icons-fa5 .rct-icon-half-check:before{opacity:.5;content:""}.rct-icons-fa5 .rct-icon-leaf:before{content:""}.rct-icons-fa5 .rct-icon-parent-open:before{content:""}.rct-icons-fa5 .rct-icon-parent-close:before{content:""}.rct-icons-fa5 .rct-icon-expand-all:before{content:""}.rct-icons-fa5 .rct-icon-collapse-all:before{content:""}.rct-direction-rtl{direction:rtl}.rct-direction-rtl ol ol{padding-right:24px;padding-left:0}.rct-direction-rtl.rct-icons-fa4 .rct-icon-expand-close:before{content:""}.rct-direction-rtl.rct-icons-fa5 .rct-icon-expand-close:before{content:""}._track-control_w7hx2_1,._track-control-vertical_w7hx2_2{position:absolute;z-index:1;display:flex;background:#ffffffbf;right:2px;top:2px;border-radius:2.5px;box-shadow:0 0 0 1px #0000000d,0 0 3px #0000001a;opacity:0;transition:opacity .15s cubic-bezier(.25,.1,.25,1),background .15s cubic-bezier(.25,.1,.25,1),box-shadow .15s cubic-bezier(.25,.1,.25,1)}._track-control-dark_w7hx2_15,._track-control-dark_w7hx2_15 ._track-control-active_w7hx2_16{background:#282828d9}._track-control-vertical_w7hx2_2{flex-direction:column-reverse}._track-control-left_w7hx2_24{left:2px;right:auto}._track-control-active_w7hx2_16,._track-control-vertical-active_w7hx2_30{opacity:1;z-index:1}._track-control-active_w7hx2_16:hover,._track-control-vertical-active_w7hx2_30:hover{background:#fff;box-shadow:0 0 0 1px #0000001a,0 0 3px #0003}._track-control-dark_w7hx2_15._track-control-active_w7hx2_16:hover{background:#222222f2}._track-control-padding-right_w7hx2_48{right:80px}._track-control-button_w7hx2_52{width:20px;height:20px;padding:4px;cursor:pointer;opacity:.66;transition:background .15s cubic-bezier(.25,.1,.25,1),color .15s cubic-bezier(.25,.1,.25,1),opacity .15s cubic-bezier(.25,.1,.25,1)}._track-control-button_w7hx2_52:hover{color:#fff;background:#337ab7;opacity:1}._track-control-button_w7hx2_52:first-child{border-radius:2.5px 0 0 2.5px}._track-control-button_w7hx2_52:last-child{border-radius:0 2.5px 2.5px 0}._track-control-dark_w7hx2_15 ._track-control-button_w7hx2_52{color:#ccc}._track-control-dark_w7hx2_15 ._track-control-button_w7hx2_52:hover{color:#fff;background:#337ab7;opacity:1}._track-control-button-vertical_w7hx2_81:first-child{border-radius:0 0 2.5px 2.5px}._track-control-button-vertical_w7hx2_81:last-child{border-radius:2.5px 2.5px 0 0}._center-track_fiu64_1{position:relative;background:transparent}._center-track-container_fiu64_6{position:absolute;z-index:1}._track-range-selection_5bcsr_1{position:absolute;z-index:-1;opacity:0;transition:opacity .15s cubic-bezier(.25,.1,.25,1)}._track-range-selection-active_5bcsr_8{z-index:1;opacity:1}._track-range-selection-group-inactive_5bcsr_22{display:none}._track-range-selection-group-brush-selection_5bcsr_26{outline:2px solid rgba(0,0,0,.33);fill:#000;fill-opacity:.1}._context-menu_18ock_1{position:fixed;background-color:#fffffff2;border:1px solid rgba(0,0,0,.1);border-radius:3px;font-size:12px;cursor:default;padding:3px;box-shadow:0 0 3px #0000001a,0 1px 5px #0000000d}._context-menu-dark_18ock_12{color:#ccc;background-color:#444444f7}._context-menu-icon_18ock_17{display:inline-block;margin-right:3px;vertical-align:middle}._context-menu-icon_18ock_17>svg{width:30px;height:20px}._context-menu-item_18ock_27{padding:2px;white-space:nowrap;border-radius:2px;transition:background .15s cubic-bezier(.25,.1,.25,1),color .15s cubic-bezier(.25,.1,.25,1)}._context-menu-item_18ock_27:hover{background:#337ab7;color:#fff}._context-menu-hr_18ock_38{margin-top:5px;margin-bottom:5px;border:0;border-top:1px solid rgba(0,0,0,.1)}._play-icon_18ock_45{width:12px;height:12px;position:absolute;right:5px}._context-menu-span_18ock_52{margin-right:20px;vertical-align:middle;display:inline-block;line-height:normal;white-space:nowrap}._context-menu-thumbnail_18ock_60{margin-right:10px;border:1px solid #888888}._context-menu-thumbnail-inline_18ock_65{display:inline-block;margin-right:10px;vertical-align:middle}table.table-track-options{border-collapse:collapse;margin-left:auto;margin-right:auto}td.td-track-options{border:1px solid #fff;outline:none;padding:3px;position:relative;font-family:Roboto,sans-serif;font-size:14px;color:#666}.cell-label{position:absolute;left:0;top:0;margin-left:5px;color:#777}.modal-dialog{position:relative;display:table;overflow-y:auto;overflow-x:auto;width:auto;min-width:300px;margin:auto}._drag-listening-div-active_19gkt_1{z-index:10;box-shadow:inset 0 0 3px red}._gallery-tracks_fbxxi_1{position:relative;top:0;left:0;width:100%;height:100%}._gallery-track_fbxxi_1{position:absolute;box-sizing:border-box;top:0;right:0;bottom:0;left:0}._gallery-sub-track_fbxxi_18,._gallery-invisible-track_fbxxi_19{position:absolute}._tiled-plot_1y7td_1{position:relative;flex:1;overflow:hidden}._horizontalList_1y7td_7{display:flex;width:600px;height:300px;white-space:nowrap}._list_1y7td_14{width:400px;height:600px;overflow:hidden;-webkit-overflow-scrolling:touch}._stylizedList_1y7td_21{position:relative;z-index:0;background-color:#f3f3f3;outline:none}._stylizedItem_1y7td_28{position:relative;display:flex;align-items:center;width:100%;background-color:transparent;-webkit-user-select:none;user-select:none;color:#333;font-weight:400}._stylizedHelper_1y7td_39{box-shadow:0 5px 5px -5px #0003,0 -5px 5px -5px #0003;background-color:#fffc;cursor:row-resize}._stylizedHelper_1y7td_39._horizontalItem_1y7td_44{cursor:col-resize}._horizontalItem_1y7td_44{display:flex;flex-shrink:0;align-items:center;justify-content:center}._resizable-track_1y7td_55{width:100%;height:100%}path._domain_1y7td_60{stroke-width:0px}._top-right-handle_cizw2_1,._bottom-right-handle_cizw2_2{border-right:black solid;border-top:black solid}._top-left-handle_cizw2_7,._bottom-left-handle_cizw2_8{border-left:black solid;border-top:black solid}._top-draggable-handle_cizw2_13,._bottom-draggable-handle_cizw2_14,._left-draggable-handle_cizw2_15,._right-draggable-handle_cizw2_16{position:absolute;opacity:0;transition:transform .15s cubic-bezier(.25,.1,.25,1),opacity .15s cubic-bezier(.25,.1,.25,1)}._draggable-div_cizw2_22{background-color:transparent;box-sizing:border-box}._top-draggable-handle-grabber_cizw2_27,._bottom-draggable-handle-grabber_cizw2_28{width:10px;height:4px;border-top:1px solid black;border-bottom:1px solid black}._top-draggable-handle-grabber_cizw2_27,._bottom-draggable-handle-grabber_cizw2_28{margin:4px 7px}._left-draggable-handle-grabber_cizw2_43,._right-draggable-handle-grabber_cizw2_44{width:4px;height:10px;border-left:1px solid black;border-right:1px solid black}._left-draggable-handle-grabber_cizw2_43,._right-draggable-handle-grabber_cizw2_44{margin:7px 4px}._draggable-div_cizw2_22:hover ._top-draggable-handle_cizw2_13,._draggable-div_cizw2_22:hover ._bottom-draggable-handle_cizw2_14,._draggable-div_cizw2_22:hover ._left-draggable-handle_cizw2_15,._draggable-div_cizw2_22:hover ._right-draggable-handle_cizw2_16{opacity:.5;background:#ffffffbf;box-shadow:0 0 3px 1px #ffffffbf;border-radius:3px}._top-draggable-handle_cizw2_13:hover,._top-draggable-handle_cizw2_13:active,._bottom-draggable-handle_cizw2_14:hover,._bottom-draggable-handle_cizw2_14:active,._left-draggable-handle_cizw2_15:hover,._left-draggable-handle_cizw2_15:active,._right-draggable-handle_cizw2_16:hover,._right-draggable-handle_cizw2_16:active{opacity:1!important;transform:scale(2)}._top-draggable-handle_cizw2_13:hover ._top-draggable-handle-grabber_cizw2_27,._top-draggable-handle_cizw2_13:hover ._bottom-draggable-handle-grabber_cizw2_28,._top-draggable-handle_cizw2_13:hover ._left-draggable-handle-grabber_cizw2_43,._top-draggable-handle_cizw2_13:hover ._right-draggable-handle-grabber_cizw2_44,._top-draggable-handle_cizw2_13:active ._top-draggable-handle-grabber_cizw2_27,._top-draggable-handle_cizw2_13:active ._bottom-draggable-handle-grabber_cizw2_28,._top-draggable-handle_cizw2_13:active ._left-draggable-handle-grabber_cizw2_43,._top-draggable-handle_cizw2_13:active ._right-draggable-handle-grabber_cizw2_44,._bottom-draggable-handle_cizw2_14:hover ._top-draggable-handle-grabber_cizw2_27,._bottom-draggable-handle_cizw2_14:hover ._bottom-draggable-handle-grabber_cizw2_28,._bottom-draggable-handle_cizw2_14:hover ._left-draggable-handle-grabber_cizw2_43,._bottom-draggable-handle_cizw2_14:hover ._right-draggable-handle-grabber_cizw2_44,._bottom-draggable-handle_cizw2_14:active ._top-draggable-handle-grabber_cizw2_27,._bottom-draggable-handle_cizw2_14:active ._bottom-draggable-handle-grabber_cizw2_28,._bottom-draggable-handle_cizw2_14:active ._left-draggable-handle-grabber_cizw2_43,._bottom-draggable-handle_cizw2_14:active ._right-draggable-handle-grabber_cizw2_44,._left-draggable-handle_cizw2_15:hover ._top-draggable-handle-grabber_cizw2_27,._left-draggable-handle_cizw2_15:hover ._bottom-draggable-handle-grabber_cizw2_28,._left-draggable-handle_cizw2_15:hover ._left-draggable-handle-grabber_cizw2_43,._left-draggable-handle_cizw2_15:hover ._right-draggable-handle-grabber_cizw2_44,._left-draggable-handle_cizw2_15:active ._top-draggable-handle-grabber_cizw2_27,._left-draggable-handle_cizw2_15:active ._bottom-draggable-handle-grabber_cizw2_28,._left-draggable-handle_cizw2_15:active ._left-draggable-handle-grabber_cizw2_43,._left-draggable-handle_cizw2_15:active ._right-draggable-handle-grabber_cizw2_44,._right-draggable-handle_cizw2_16:hover ._top-draggable-handle-grabber_cizw2_27,._right-draggable-handle_cizw2_16:hover ._bottom-draggable-handle-grabber_cizw2_28,._right-draggable-handle_cizw2_16:hover ._left-draggable-handle-grabber_cizw2_43,._right-draggable-handle_cizw2_16:hover ._right-draggable-handle-grabber_cizw2_44,._right-draggable-handle_cizw2_16:active ._top-draggable-handle-grabber_cizw2_27,._right-draggable-handle_cizw2_16:active ._bottom-draggable-handle-grabber_cizw2_28,._right-draggable-handle_cizw2_16:active ._left-draggable-handle-grabber_cizw2_43,._right-draggable-handle_cizw2_16:active ._right-draggable-handle-grabber_cizw2_44{box-shadow:0 0 3px 1px #0089ff;background:#0089ff}._top-draggable-handle_cizw2_13,._bottom-draggable-handle_cizw2_14{height:12px;cursor:row-resize}._left-draggable-handle_cizw2_15,._right-draggable-handle_cizw2_16{width:12px;cursor:col-resize}._horizontal-tiled-plot_1bqkg_1,._track-renderer_11dwb_1{position:relative}._track-renderer-element_11dwb_5,._track-renderer-events_11dwb_6{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}._track-renderer-events_11dwb_6{z-index:1}._vertical-tiled-plot_f3ho8_1{position:relative}._view-config-editor-header_1hlm6_1{margin:-10px -10px 0;padding:10px;display:flex;justify-content:space-between;background:#f2f2f2}._view-config-editor-header_1hlm6_1 button{display:flex;align-items:center;font-size:14px;background:#f2f2f2}._view-config-editor-header_1hlm6_1 button:hover{background:#e5e5e5}._view-config-editor-header_1hlm6_1 button:hover span{color:#666}._view-config-editor_1hlm6_1{position:absolute;top:50px;right:0;bottom:0;left:0;margin:1px 0 0;padding:0;overflow:auto;font-size:12.5px;height:calc(100% - 80px)}._view-config-log_1hlm6_34{position:absolute;right:0;bottom:0;left:0;margin:1px 0 0;padding:0;min-height:30px;background:#f2f2f2;transition:height .15s cubic-bezier(.25,.1,.25,1)}._view-config-log-header_1hlm6_46{background:#f2f2f2;border-top:1px solid #cccccc;border-bottom:1px solid #cccccc;padding-left:10px;height:30px;display:flex;align-items:center;cursor:pointer;position:sticky;position:-webkit-sticky;top:0}._view-config-log-msg_1hlm6_60{background:#f2f2f2;overflow:auto;height:calc(100% - 30px)}._view-config-log-msg_1hlm6_60 tr,._view-config-log-msg_1hlm6_60 td{outline:none;vertical-align:top}._view-config-log-msg_1hlm6_60 ._title_1hlm6_70{font-weight:700;padding-left:8px;padding-top:8px;width:100px}._view-config-log-msg_1hlm6_60 ._Warning_1hlm6_76{color:orange}._view-config-log-msg_1hlm6_60 ._Success_1hlm6_79{color:green}._view-config-log-msg_1hlm6_60 ._Error_1hlm6_82{color:red}._view-config-log-msg_1hlm6_60 pre{background:#fff;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}._add-track-position-table_egwog_1{border-collapse:collapse;margin:5px;color:#666}._add-track-position-table-dark_egwog_7{color:#ccc}._add-track-position-other_egwog_11{outline:none}._add-track-position-top-center_egwog_15{min-width:80px;min-height:20px;text-align:center;outline:none;border-top:1px solid #999;border-left:1px solid #999;border-right:1px solid #999;border-radius:2px 2px 0 0}._add-track-position-top-center_egwog_15:hover{color:#fff;background-color:#337ab7}._add-track-position-middle-left_egwog_30{min-width:40px;text-align:center;outline:none;border-top:1px solid #999;border-left:1px solid #999;border-bottom:1px solid #999;border-radius:2px 0 0 2px}._add-track-position-middle-left_egwog_30:hover{background-color:#337ab7;color:#fff}._add-track-position-middle-right_egwog_45{min-width:40px;text-align:center;outline:none;border-top:1px solid #999;border-right:1px solid #999;border-bottom:1px solid #999;border-radius:0 2px 2px 0}._add-track-position-middle-right_egwog_45:hover{background-color:#337ab7;color:#fff}._add-track-position-middle-middle_egwog_60{text-align:center;outline:none;border:1px solid #999;position:relative}._add-track-position-middle-middle_egwog_60:hover{background-color:#337ab7;color:#fff}._add-track-position-middle-middle-full_egwog_72{height:80px;display:flex;flex-direction:column;justify-content:center;align-items:center}._add-track-position-middle-middle-upper-right_egwog_80{width:0;height:0;border-top:30px solid #999;border-left:30px solid transparent;position:absolute;top:0;right:0}._add-track-position-middle-middle-upper-right_egwog_80:hover{border-top:30px solid #337ab7}._add-track-position-middle-middle-lower-left_egwog_94{width:0;height:0;border-bottom:30px solid #999;border-right:30px solid transparent;position:absolute;bottom:0;left:0}._add-track-position-middle-middle-lower-left_egwog_94:hover{border-bottom:30px solid #337ab7}._add-track-position-bottom-middle_egwog_108{min-height:20px;text-align:center;outline:none;border-left:1px solid #999;border-right:1px solid #999;border-bottom:1px solid #999;border-radius:0 0 2px 2px}._add-track-position-bottom-middle_egwog_108:hover{background-color:#337ab7;color:#fff}._add-track-position-span_egwog_123{margin:5px}._higlass_1k7ri_1{position:relative}._higlass-dark-theme_1k7ri_5{background:#000}._higlass-container-overflow_1k7ri_9,._higlass-scroll-container-overflow_1k7ri_10,._higlass-scroll-container-scroll_1k7ri_11{position:absolute;top:0;right:0;bottom:0;left:0}._higlass-scroll-container-overflow_1k7ri_10{overflow:hidden}._higlass-scroll-container-scroll_1k7ri_11{overflow-x:hidden;overflow-y:auto}._higlass-canvas_1k7ri_28{position:absolute;width:100%}._higlass-drawing-surface_1k7ri_33{position:relative;width:100%}._higlass-svg_1k7ri_38{position:absolute;width:100%;height:100%;left:0;top:0;pointer-events:none}._tiled-area_1k7ri_47{display:flex;flex-direction:column;width:100%;height:100%}._track-mouseover-menu_1k7ri_54{position:fixed;z-index:1;margin:17px 0 0 9px;padding:0 .25rem;max-width:50vw;word-wrap:break-word;font-size:.8em;pointer-events:none;background:#fff;border-radius:.25rem;box-shadow:0 0 0 1px #0000001a,0 0 3px #00000013,0 0 7px #0000000d}.react-grid-layout{position:relative;transition:height .2s ease}.react-grid-item{transition:all .2s ease;transition-property:left,top}.react-grid-item img{pointer-events:none;-webkit-user-select:none;user-select:none}.react-grid-item.cssTransforms{transition-property:transform}.react-grid-item.resizing{z-index:1;will-change:width,height}.react-grid-item.react-draggable-dragging{transition:none;z-index:3;will-change:transform}.react-grid-item.dropping{visibility:hidden}.react-grid-item.react-grid-placeholder{background:red;opacity:.2;transition-duration:.1s;z-index:2;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.react-grid-item>.react-resizable-handle{position:absolute;width:20px;height:20px}.react-grid-item>.react-resizable-handle:after{content:"";position:absolute;right:3px;bottom:3px;width:5px;height:5px;border-right:2px solid rgba(0,0,0,.4);border-bottom:2px solid rgba(0,0,0,.4)}.react-resizable-hide>.react-resizable-handle{display:none}.react-grid-item>.react-resizable-handle.react-resizable-handle-sw{bottom:0;left:0;cursor:sw-resize;transform:rotate(90deg)}.react-grid-item>.react-resizable-handle.react-resizable-handle-se{bottom:0;right:0;cursor:se-resize}.react-grid-item>.react-resizable-handle.react-resizable-handle-nw{top:0;left:0;cursor:nw-resize;transform:rotate(180deg)}.react-grid-item>.react-resizable-handle.react-resizable-handle-ne{top:0;right:0;cursor:ne-resize;transform:rotate(270deg)}.react-grid-item>.react-resizable-handle.react-resizable-handle-w,.react-grid-item>.react-resizable-handle.react-resizable-handle-e{top:50%;margin-top:-10px;cursor:ew-resize}.react-grid-item>.react-resizable-handle.react-resizable-handle-w{left:0;transform:rotate(135deg)}.react-grid-item>.react-resizable-handle.react-resizable-handle-e{right:0;transform:rotate(315deg)}.react-grid-item>.react-resizable-handle.react-resizable-handle-n,.react-grid-item>.react-resizable-handle.react-resizable-handle-s{left:50%;margin-left:-10px;cursor:ns-resize}.react-grid-item>.react-resizable-handle.react-resizable-handle-n{top:0;transform:rotate(225deg)}.react-grid-item>.react-resizable-handle.react-resizable-handle-s{bottom:0;transform:rotate(45deg)}.react-resizable{position:relative}.react-resizable-handle{position:absolute;width:20px;height:20px;background-repeat:no-repeat;background-origin:content-box;box-sizing:border-box;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2IDYiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmYwMCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2cHgiIGhlaWdodD0iNnB4Ij48ZyBvcGFjaXR5PSIwLjMwMiI+PHBhdGggZD0iTSA2IDYgTCAwIDYgTCAwIDQuMiBMIDQgNC4yIEwgNC4yIDQuMiBMIDQuMiAwIEwgNiAwIEwgNiA2IEwgNiA2IFoiIGZpbGw9IiMwMDAwMDAiLz48L2c+PC9zdmc+);background-position:bottom right;padding:0 3px 3px 0}.react-resizable-handle-sw{bottom:0;left:0;cursor:sw-resize;transform:rotate(90deg)}.react-resizable-handle-se{bottom:0;right:0;cursor:se-resize}.react-resizable-handle-nw{top:0;left:0;cursor:nw-resize;transform:rotate(180deg)}.react-resizable-handle-ne{top:0;right:0;cursor:ne-resize;transform:rotate(270deg)}.react-resizable-handle-w,.react-resizable-handle-e{top:50%;margin-top:-10px;cursor:ew-resize}.react-resizable-handle-w{left:0;transform:rotate(135deg)}.react-resizable-handle-e{right:0;transform:rotate(315deg)}.react-resizable-handle-n,.react-resizable-handle-s{left:50%;margin-left:-10px;cursor:ns-resize}.react-resizable-handle-n{top:0;transform:rotate(225deg)}.react-resizable-handle-s{bottom:0;transform:rotate(45deg)}code[class*=language-],pre[class*=language-]{color:#393a34;font-family:Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection{background:#b3d4fc}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{background:#b3d4fc}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border:1px solid #dddddd;background-color:#fff}:not(pre)>code[class*=language-]{padding:1px .2em;background:#f8f8f8;border:1px solid #dddddd}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#998;font-style:italic}.token.namespace{opacity:.7}.token.string,.token.attr-value{color:#e3116c}.token.punctuation,.token.operator{color:#393a34}.token.entity,.token.url,.token.symbol,.token.number,.token.boolean,.token.variable,.token.constant,.token.property,.token.regex,.token.inserted{color:#36acaa}.token.atrule,.token.keyword,.token.attr-name,.language-autohotkey .token.selector{color:#00a4db}.token.function,.token.deleted,.language-autohotkey .token.tag{color:#9a050f}.token.tag,.token.selector,.language-autohotkey .token.keyword{color:#00009f}.token.important,.token.function,.token.bold{font-weight:700}.token.italic{font-style:italic}.higlass *{box-sizing:border-box}.higlass .react-resizable-handle{z-index:1}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();function Aj(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Aj(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Gt(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Aj(e))&&(n&&(n+=" "),n+=t);return n}const KQ=Object.freeze(Object.defineProperty({__proto__:null,clsx:Gt,default:Gt},Symbol.toStringTag,{value:"Module"}));var Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Ji(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jo(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Mj={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(typeof window<"u"?window:Le,function(){if(typeof window>"u")return null;var r=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")(),n=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(c){return r.setTimeout(c,20)},i=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||function(c){r.clearTimeout(c)};function o(c,h){var f=Object.prototype.toString.call(c),p=f==="[object Array]"||f==="[object NodeList]"||f==="[object HTMLCollection]"||f==="[object Object]"||typeof jQuery<"u"&&c instanceof jQuery||typeof Elements<"u"&&c instanceof Elements,d=0,m=c.length;if(p)for(;d<m;d++)h(c[d]);else h(c)}function a(c){if(!c.getBoundingClientRect)return{width:c.offsetWidth,height:c.offsetHeight};var h=c.getBoundingClientRect();return{width:Math.round(h.width),height:Math.round(h.height)}}function s(c,h){Object.keys(h).forEach(function(f){c.style[f]=h[f]})}var u=function(c,h){var f=0;function p(){var m=[];this.add=function(g){m.push(g)};var v,b;this.call=function(g){for(v=0,b=m.length;v<b;v++)m[v].call(this,g)},this.remove=function(g){var y=[];for(v=0,b=m.length;v<b;v++)m[v]!==g&&y.push(m[v]);m=y},this.length=function(){return m.length}}function d(m,v){if(m){if(m.resizedAttached){m.resizedAttached.add(v);return}m.resizedAttached=new p,m.resizedAttached.add(v),m.resizeSensor=document.createElement("div"),m.resizeSensor.dir="ltr",m.resizeSensor.className="resize-sensor";var b={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},g={position:"absolute",left:"0px",top:"0px",transition:"0s"};s(m.resizeSensor,b);var y=document.createElement("div");y.className="resize-sensor-expand",s(y,b);var _=document.createElement("div");s(_,g),y.appendChild(_);var w=document.createElement("div");w.className="resize-sensor-shrink",s(w,b);var T=document.createElement("div");s(T,g),s(T,{width:"200%",height:"200%"}),w.appendChild(T),m.resizeSensor.appendChild(y),m.resizeSensor.appendChild(w),m.appendChild(m.resizeSensor);var O=window.getComputedStyle(m),E=O?O.getPropertyValue("position"):null;E!=="absolute"&&E!=="relative"&&E!=="fixed"&&E!=="sticky"&&(m.style.position="relative");var S=!1,A=0,M=a(m),H=0,N=0,k=!0;f=0;var R=function(){var W=m.offsetWidth,te=m.offsetHeight;_.style.width=W+10+"px",_.style.height=te+10+"px",y.scrollLeft=W+10,y.scrollTop=te+10,w.scrollLeft=W+10,w.scrollTop=te+10},B=function(){if(k){var W=m.offsetWidth===0&&m.offsetHeight===0;if(W){f||(f=n(function(){f=0,B()}));return}else k=!1}R()};m.resizeSensor.resetSensor=B;var z=function(){A=0,S&&(H=M.width,N=M.height,m.resizedAttached&&m.resizedAttached.call(M))},U=function(){M=a(m),S=M.width!==H||M.height!==N,S&&!A&&(A=n(z)),B()},V=function(W,te,re){W.attachEvent?W.attachEvent("on"+te,re):W.addEventListener(te,re)};V(y,"scroll",U),V(w,"scroll",U),f=n(function(){f=0,B()})}}o(c,function(m){d(m,h)}),this.detach=function(m){f||(i(f),f=0),u.detach(c,m)},this.reset=function(){c.resizeSensor.resetSensor()}};if(u.reset=function(c){o(c,function(h){h.resizeSensor.resetSensor()})},u.detach=function(c,h){o(c,function(f){f&&(f.resizedAttached&&typeof h=="function"&&(f.resizedAttached.remove(h),f.resizedAttached.length())||f.resizeSensor&&(f.contains(f.resizeSensor)&&f.removeChild(f.resizeSensor),delete f.resizeSensor,delete f.resizedAttached))})},typeof MutationObserver<"u"){var l=new MutationObserver(function(c){for(var h in c)if(c.hasOwnProperty(h))for(var f=c[h].addedNodes,p=0;p<f.length;p++)f[p].resizeSensor&&u.reset(f[p])});document.addEventListener("DOMContentLoaded",function(c){l.observe(document.body,{childList:!0,subtree:!0})})}return u})})(Mj);var Ij=Mj.exports,Rj={exports:{}};(function(e,t){(function(r,n){e.exports=n(Ij)})(typeof window<"u"?window:Le,function(r){var n=function(){var o,a={},s=[];function u(O){O||(O=document.documentElement);var E=window.getComputedStyle(O,null).fontSize;return parseFloat(E)||16}function l(O){if(!O.getBoundingClientRect)return{width:O.offsetWidth,height:O.offsetHeight};var E=O.getBoundingClientRect();return{width:Math.round(E.width),height:Math.round(E.height)}}function c(O,E){var S=E.split(/\d/),A=S[S.length-1];switch(E=parseFloat(E),A){case"px":return E;case"em":return E*u(O);case"rem":return E*u();case"vw":return E*document.documentElement.clientWidth/100;case"vh":return E*document.documentElement.clientHeight/100;case"vmin":case"vmax":var M=document.documentElement.clientWidth/100,H=document.documentElement.clientHeight/100,N=Math[A==="vmin"?"min":"max"];return E*N(M,H);default:return E}}function h(O,E){this.element=O;var S,A,M,H,N,k,R,B,z=["min-width","min-height","max-width","max-height"];this.call=function(){M=l(this.element),k={};for(S in a[E])a[E].hasOwnProperty(S)&&(A=a[E][S],H=c(this.element,A.value),N=A.property==="width"?M.width:M.height,B=A.mode+"-"+A.property,R="",A.mode==="min"&&N>=H&&(R+=A.value),A.mode==="max"&&N<=H&&(R+=A.value),k[B]||(k[B]=""),R&&(" "+k[B]+" ").indexOf(" "+R+" ")===-1&&(k[B]+=" "+R));for(var U in z)z.hasOwnProperty(U)&&(k[z[U]]?this.element.setAttribute(z[U],k[z[U]].substr(1)):this.element.removeAttribute(z[U]))}}function f(O,E){O.elementQueriesSetupInformation||(O.elementQueriesSetupInformation=new h(O,E)),O.elementQueriesSensor||(O.elementQueriesSensor=new r(O,function(){O.elementQueriesSetupInformation.call()}))}function p(O,E,S,A){if(typeof a[O]>"u"){a[O]=[];var M=s.length;o.innerHTML+=`
`+O+" {animation: 0.1s element-queries;}",o.innerHTML+=`
`+O+" > .resize-sensor {min-width: "+M+"px;}",s.push(O)}a[O].push({mode:E,property:S,value:A})}function d(O){var E;if(document.querySelectorAll&&(E=O?O.querySelectorAll.bind(O):document.querySelectorAll.bind(document)),!E&&typeof $$<"u"&&(E=$$),!E&&typeof jQuery<"u"&&(E=jQuery),!E)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return E}function m(O){var E=d(O);for(var S in a)if(a.hasOwnProperty(S))for(var A=E(S,O),M=0,H=A.length;M<H;M++)f(A[M],S)}function v(O){var E=[],S=[],A=[],M=0,H=-1,N=[];for(var k in O.children)if(O.children.hasOwnProperty(k)&&O.children[k].tagName&&O.children[k].tagName.toLowerCase()==="img"){E.push(O.children[k]);var R=O.children[k].getAttribute("min-width")||O.children[k].getAttribute("data-min-width"),B=O.children[k].getAttribute("data-src")||O.children[k].getAttribute("url");A.push(B);var z={minWidth:R};S.push(z),R?O.children[k].style.display="none":(M=E.length-1,O.children[k].style.display="block")}H=M;function U(){var V=!1,W;for(W in E)E.hasOwnProperty(W)&&S[W].minWidth&&O.offsetWidth>S[W].minWidth&&(V=W);if(V||(V=M),H!==V)if(N[V])E[H].style.display="none",E[V].style.display="block",H=V;else{var te=new Image;te.onload=function(){E[V].src=A[V],E[H].style.display="none",E[V].style.display="block",N[V]=!0,H=V},te.src=A[V]}else E[V].src=A[V]}O.resizeSensorInstance=new r(O,U),U()}function b(){for(var O=d(),E=O("[data-responsive-image],[responsive-image]"),S=0,A=E.length;S<A;S++)v(E[S])}var g=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/mgi,y=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/mgi;function _(O){var E,S,A,M;for(O=O.replace(/'/g,'"');(E=g.exec(O))!==null;)for(S=E[1]+E[3],A=E[2];(M=y.exec(A))!==null;)p(S,M[1],M[2],M[3])}function w(O){var E="";if(O)if(typeof O=="string")O=O.toLowerCase(),(O.indexOf("min-width")!==-1||O.indexOf("max-width")!==-1)&&_(O);else for(var S=0,A=O.length;S<A;S++)O[S].type===1?(E=O[S].selectorText||O[S].cssText,(E.indexOf("min-height")!==-1||E.indexOf("max-height")!==-1||E.indexOf("min-width")!==-1||E.indexOf("max-width")!==-1)&&_(E)):O[S].type===4?w(O[S].cssRules||O[S].rules):O[S].type===3&&O[S].styleSheet.hasOwnProperty("cssRules")&&w(O[S].styleSheet.cssRules)}var T=!1;this.init=function(){var O="animationstart";typeof document.documentElement.style.webkitAnimationName<"u"?O="webkitAnimationStart":typeof document.documentElement.style.MozAnimationName<"u"?O="mozanimationstart":typeof document.documentElement.style.OAnimationName<"u"&&(O="oanimationstart"),document.body.addEventListener(O,function(A){var M=A.target,H=M&&window.getComputedStyle(M,null),N=H&&H.getPropertyValue("animation-name"),k=N&&N.indexOf("element-queries")!==-1;if(k){M.elementQueriesSensor=new r(M,function(){M.elementQueriesSetupInformation&&M.elementQueriesSetupInformation.call()});var R=window.getComputedStyle(M.resizeSensor,null),B=R.getPropertyValue("min-width");B=parseInt(B.replace("px","")),f(A.target,s[B])}}),T||(o=document.createElement("style"),o.type="text/css",o.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",o.innerHTML+=`
@keyframes element-queries { 0% { visibility: inherit; } }`,document.getElementsByTagName("head")[0].appendChild(o),T=!0);for(var E=0,S=document.styleSheets.length;E<S;E++)try{document.styleSheets[E].href&&document.styleSheets[E].href.indexOf("file://")===0&&console.warn("CssElementQueries: unable to parse local css files, "+document.styleSheets[E].href),w(document.styleSheets[E].cssRules||document.styleSheets[E].rules||document.styleSheets[E].cssText)}catch{}b()},this.findElementQueriesElements=function(O){m(O)},this.update=function(){this.init()}};n.update=function(){n.instance.update()},n.detach=function(o){o.elementQueriesSetupInformation?(o.elementQueriesSensor.detach(),delete o.elementQueriesSetupInformation,delete o.elementQueriesSensor):o.resizeSensorInstance&&(o.resizeSensorInstance.detach(),delete o.resizeSensorInstance)},n.init=function(){n.instance||(n.instance=new n),n.instance.init()};var i=function(o){if(document.addEventListener)document.addEventListener("DOMContentLoaded",o,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var a=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(o(),clearInterval(a))},10);else window.onload=o};return n.findElementQueriesElements=function(o){n.instance.findElementQueriesElements(o)},n.listen=function(){i(n.init)},n})})(Rj);var ZQ=Rj.exports,h0={ResizeSensor:Ij,ElementQueries:ZQ};function Xr(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function cf(e){let t=e,r=e;e.length===1&&(t=(a,s)=>e(a)-s,r=QQ(e));function n(a,s,u,l){for(u==null&&(u=0),l==null&&(l=a.length);u<l;){const c=u+l>>>1;r(a[c],s)<0?u=c+1:l=c}return u}function i(a,s,u,l){for(u==null&&(u=0),l==null&&(l=a.length);u<l;){const c=u+l>>>1;r(a[c],s)>0?l=c:u=c+1}return u}function o(a,s,u,l){u==null&&(u=0),l==null&&(l=a.length);const c=n(a,s,u,l-1);return c>u&&t(a[c-1],s)>-t(a[c],s)?c-1:c}return{left:n,center:o,right:i}}function QQ(e){return(t,r)=>Xr(e(t),r)}function Dj(e){return e===null?NaN:+e}function*JQ(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const Nj=cf(Xr),Ts=Nj.right,eJ=Nj.left,tJ=cf(Dj).center;function Kv(e,t){let r=0;if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&++r;else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(i=+i)>=i&&++r}return r}function rJ(e){return e.length|0}function nJ(e){return!(e>0)}function iJ(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function oJ(e){return t=>e(...t)}function aJ(...e){const t=typeof e[e.length-1]=="function"&&oJ(e.pop());e=e.map(iJ);const r=e.map(rJ),n=e.length-1,i=new Array(n+1).fill(0),o=[];if(n<0||r.some(nJ))return o;for(;;){o.push(i.map((s,u)=>e[u][s]));let a=n;for(;++i[a]===r[a];){if(a===0)return t?o.map(t):o;i[a--]=0}}}function sJ(e,t){var r=0,n=0;return Float64Array.from(e,t===void 0?i=>r+=+i||0:i=>r+=+t(i,n++,e)||0)}function lJ(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function M9(e,t){let r=0,n,i=0,o=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(n=a-i,i+=n/++r,o+=n*(a-i));else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i))}if(r>1)return o/(r-1)}function I9(e,t){const r=M9(e,t);return r&&Math.sqrt(r)}function Og(e,t){let r,n;if(t===void 0)for(const i of e)i!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(r===void 0?o>=o&&(r=n=o):(r>o&&(r=o),n<o&&(n=o)))}return[r,n]}function uJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fJ(n.key),n)}}function hJ(e,t,r){return t&&cJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fJ(e){var t=pJ(e,"string");return typeof t=="symbol"?t:t+""}function pJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}let Jr=(function(){function e(){uJ(this,e),this._partials=new Float64Array(32),this._n=0}return hJ(e,[{key:"add",value:function(t){const r=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const o=r[i],a=t+o,s=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);s&&(r[n++]=s),t=a}return r[n]=t,this._n=n+1,this}},{key:"valueOf",value:function(){const t=this._partials;let r=this._n,n,i,o,a=0;if(r>0){for(a=t[--r];r>0&&(n=a,i=t[--r],a=n+i,o=i-(a-n),!o););r>0&&(o<0&&t[r-1]<0||o>0&&t[r-1]>0)&&(i=o*2,n=a+i,i==n-a&&(a=n))}return a}}])})();function dJ(e,t){const r=new Jr;if(t===void 0)for(let n of e)(n=+n)&&r.add(n);else{let n=-1;for(let i of e)(i=+t(i,++n,e))&&r.add(i)}return+r}function mJ(e,t){const r=new Jr;let n=-1;return Float64Array.from(e,t===void 0?i=>r.add(+i||0):i=>r.add(+t(i,++n,e)||0))}function jj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yJ(n.key),n)}}function Lj(e,t,r){return t&&gJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yJ(e){var t=vJ(e,"string");return typeof t=="symbol"?t:t+""}function vJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Bj(e,t,r){return t=Fl(t),bJ(e,R9()?Reflect.construct(t,[],Fl(e).constructor):t.apply(e,r))}function bJ(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _J(e)}function _J(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tl(e,t,r,n){var i=S5(Fl(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function S5(){return S5=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=wJ(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},S5.apply(null,arguments)}function wJ(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Fl(e))!==null;);return e}function Fj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rd(e,t)}function f0(e){var t=typeof Map=="function"?new Map:void 0;return f0=function(r){if(r===null||!xJ(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return TJ(r,arguments,Fl(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Rd(n,r)},f0(e)}function TJ(e,t,r){if(R9())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return r&&Rd(i,r.prototype),i}function R9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R9=function(){return!!e})()}function xJ(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function Rd(e,t){return Rd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Rd(e,t)}function Fl(e){return Fl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fl(e)}let p0=(function(e){function t(r,n=Uj){var i;if(jj(this,t),i=Bj(this,t),Object.defineProperties(i,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(const[o,a]of r)i.set(o,a);return i}return Fj(t,e),Lj(t,[{key:"get",value:function(r){return Tl(t,"get",this)([k5(this,r)])}},{key:"has",value:function(r){return Tl(t,"has",this)([k5(this,r)])}},{key:"set",value:function(r,n){return Tl(t,"set",this)([zj(this,r),n])}},{key:"delete",value:function(r){return Tl(t,"delete",this)([Hj(this,r)])}}])})(f0(Map)),EJ=(function(e){function t(r,n=Uj){var i;if(jj(this,t),i=Bj(this,t),Object.defineProperties(i,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(const o of r)i.add(o);return i}return Fj(t,e),Lj(t,[{key:"has",value:function(r){return Tl(t,"has",this)([k5(this,r)])}},{key:"add",value:function(r){return Tl(t,"add",this)([zj(this,r)])}},{key:"delete",value:function(r){return Tl(t,"delete",this)([Hj(this,r)])}}])})(f0(Set));function k5({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function zj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Hj({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(r),e.delete(n)),r}function Uj(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Kc(e){return e}function Vj(e,...t){return hf(e,Kc,Kc,t)}function SJ(e,...t){return hf(e,Array.from,Kc,t)}function Gj(e,t,...r){return hf(e,Kc,t,r)}function kJ(e,t,...r){return hf(e,Array.from,t,r)}function OJ(e,...t){return hf(e,Kc,Yj,t)}function PJ(e,...t){return hf(e,Array.from,Yj,t)}function Yj(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function hf(e,t,r,n){return(function i(o,a){if(a>=n.length)return r(o);const s=new p0,u=n[a++];let l=-1;for(const c of o){const h=u(c,++l,o),f=s.get(h);f?f.push(c):s.set(h,[c])}for(const[c,h]of s)s.set(c,i(h,a));return t(s)})(e,0)}function Wj(e,t){return Array.from(t,r=>e[r])}function O5(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[r=Xr]=t;if(r.length===1||t.length>1){const n=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),n.sort((i,o)=>{for(const a of t){const s=Xr(a[i],a[o]);if(s)return s}})):(r=e.map(r),n.sort((i,o)=>Xr(r[i],r[o]))),Wj(e,n)}return e.sort(r)}function CJ(e,t,r){return(t.length===1?O5(Gj(e,t,r),([n,i],[o,a])=>Xr(i,a)||Xr(n,o)):O5(Vj(e,r),([n,i],[o,a])=>t(i,a)||Xr(n,o))).map(([n])=>n)}var AJ=Array.prototype,MJ=AJ.slice;function Em(e){return function(){return e}}var P5=Math.sqrt(50),C5=Math.sqrt(10),A5=Math.sqrt(2);function zl(e,t,r){var n,i=-1,o,a,s;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(o=e,e=t,t=o),(s=h1(e,t,r))===0||!isFinite(s))return[];if(s>0){let u=Math.round(e/s),l=Math.round(t/s);for(u*s<e&&++u,l*s>t&&--l,a=new Array(o=l-u+1);++i<o;)a[i]=(u+i)*s}else{s=-s;let u=Math.round(e*s),l=Math.round(t*s);for(u/s<e&&++u,l/s>t&&--l,a=new Array(o=l-u+1);++i<o;)a[i]=(u+i)/s}return n&&a.reverse(),a}function h1(e,t,r){var n=(t-e)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,i);return i>=0?(o>=P5?10:o>=C5?5:o>=A5?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=P5?10:o>=C5?5:o>=A5?2:1)}function d0(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/i;return o>=P5?i*=10:o>=C5?i*=5:o>=A5&&(i*=2),t<e?-i:i}function Xj(e,t,r){let n;for(;;){const i=h1(e,t,r);if(i===n||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),n=i}}function $j(e){return Math.ceil(Math.log(Kv(e))/Math.LN2)+1}function YA(){var e=Kc,t=Og,r=$j;function n(i){Array.isArray(i)||(i=Array.from(i));var o,a=i.length,s,u=new Array(a);for(o=0;o<a;++o)u[o]=e(i[o],o,i);var l=t(u),c=l[0],h=l[1],f=r(u,c,h);if(!Array.isArray(f)){const v=h,b=+f;if(t===Og&&([c,h]=Xj(c,h,b)),f=zl(c,h,b),f[f.length-1]>=h)if(v>=h&&t===Og){const g=h1(c,h,b);isFinite(g)&&(g>0?h=(Math.floor(h/g)+1)*g:g<0&&(h=(Math.ceil(h*-g)+1)/-g))}else f.pop()}for(var p=f.length;f[0]<=c;)f.shift(),--p;for(;f[p-1]>h;)f.pop(),--p;var d=new Array(p+1),m;for(o=0;o<=p;++o)m=d[o]=[],m.x0=o>0?f[o-1]:c,m.x1=o<p?f[o]:h;for(o=0;o<a;++o)s=u[o],c<=s&&s<=h&&d[Ts(f,s,0,p)].push(i[o]);return d}return n.value=function(i){return arguments.length?(e=typeof i=="function"?i:Em(i),n):e},n.domain=function(i){return arguments.length?(t=typeof i=="function"?i:Em([i[0],i[1]]),n):t},n.thresholds=function(i){return arguments.length?(r=typeof i=="function"?i:Array.isArray(i)?Em(MJ.call(i)):Em(i),n):r},n}function M5(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function m0(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function D9(e,t,r=0,n=e.length-1,i=Xr){for(;n>r;){if(n-r>600){const u=n-r+1,l=t-r+1,c=Math.log(u),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(u-h)/u)*(l-u/2<0?-1:1),p=Math.max(r,Math.floor(t-l*h/u+f)),d=Math.min(n,Math.floor(t+(u-l)*h/u+f));D9(e,t,p,d,i)}const o=e[t];let a=r,s=n;for(qf(e,r,t),i(e[n],o)>0&&qf(e,r,n);a<s;){for(qf(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[r],o)===0?qf(e,r,s):(++s,qf(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function qf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Dd(e,t,r){if(e=Float64Array.from(JQ(e,r)),!!(n=e.length)){if((t=+t)<=0||n<2)return m0(e);if(t>=1)return M5(e);var n,i=(n-1)*t,o=Math.floor(i),a=M5(D9(e,o).subarray(0,o+1)),s=m0(e.subarray(o+1));return a+(s-a)*(i-o)}}function qj(e,t,r=Dj){if(n=e.length){if((t=+t)<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),a=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function IJ(e,t,r){return Math.ceil((r-t)/(2*(Dd(e,.75)-Dd(e,.25))*Math.pow(Kv(e),-1/3)))}function RJ(e,t,r){return Math.ceil((r-t)/(3.5*I9(e)*Math.pow(Kv(e),-1/3)))}function Kj(e,t){let r,n=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(r<o||r===void 0&&o>=o)&&(r=o,n=i);else for(let o of e)(o=t(o,++i,e))!=null&&(r<o||r===void 0&&o>=o)&&(r=o,n=i);return n}function I5(e,t){let r=0,n=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++r,n+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++r,n+=o)}if(r)return n/r}function N9(e,t){return Dd(e,.5,t)}function*DJ(e){for(const t of e)yield*t}function j9(e){return Array.from(DJ(e))}function Zj(e,t){let r,n=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(r>o||r===void 0&&o>=o)&&(r=o,n=i);else for(let o of e)(o=t(o,++i,e))!=null&&(r>o||r===void 0&&o>=o)&&(r=o,n=i);return n}function NJ(e,t=jJ){const r=[];let n,i=!1;for(const o of e)i&&r.push(t(n,o)),n=o,i=!0;return r}function jJ(e,t){return[e,t]}function Vn(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function LJ(e,t=Xr){let r,n=!1;if(t.length===1){let i;for(const o of e){const a=t(o);(n?Xr(a,i)<0:Xr(a,a)===0)&&(r=o,i=a,n=!0)}}else for(const i of e)(n?t(i,r)<0:t(i,i)===0)&&(r=i,n=!0);return r}function Qj(e,t=Xr){if(t.length===1)return Zj(e,t);let r,n=-1,i=-1;for(const o of e)++i,(n<0?t(o,o)===0:t(o,r)<0)&&(r=o,n=i);return n}function BJ(e,t=Xr){let r,n=!1;if(t.length===1){let i;for(const o of e){const a=t(o);(n?Xr(a,i)>0:Xr(a,a)===0)&&(r=o,i=a,n=!0)}}else for(const i of e)(n?t(i,r)>0:t(i,i)===0)&&(r=i,n=!0);return r}function FJ(e,t=Xr){if(t.length===1)return Kj(e,t);let r,n=-1,i=-1;for(const o of e)++i,(n<0?t(o,o)===0:t(o,r)>0)&&(r=o,n=i);return n}function zJ(e,t){const r=Qj(e,t);return r<0?void 0:r}const HJ=Jj(Math.random);function Jj(e){return function(t,r=0,n=t.length){let i=n-(r=+r);for(;i;){const o=e()*i--|0,a=t[i+r];t[i+r]=t[o+r],t[o+r]=a}return t}}function eL(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let i of e)(i=+t(i,++n,e))&&(r+=i)}return r}function tL(e){if(!(o=e.length))return[];for(var t=-1,r=m0(e,UJ),n=new Array(r);++t<r;)for(var i=-1,o,a=n[t]=new Array(o);++i<o;)a[i]=e[i][t];return n}function UJ(e){return e.length}function VJ(){return tL(arguments)}function GJ(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(const n of e)if(!t(n,++r,e))return!1;return!0}function YJ(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(const n of e)if(t(n,++r,e))return!0;return!1}function WJ(e,t){if(typeof t!="function")throw new TypeError("test is not a function");const r=[];let n=-1;for(const i of e)t(i,++n,e)&&r.push(i);return r}function XJ(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(r,n)=>t(r,n,e))}function $J(e,t,r){if(typeof t!="function")throw new TypeError("reducer is not a function");const n=e[Symbol.iterator]();let i,o,a=-1;if(arguments.length<3){if({done:i,value:r}=n.next(),i)return;++a}for(;{done:i,value:o}=n.next(),!i;)r=t(r,o,++a,e);return r}function qJ(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function KJ(e,...t){e=new Set(e);for(const r of t)for(const n of r)e.delete(n);return e}function ZJ(e,t){const r=t[Symbol.iterator](),n=new Set;for(const i of e){if(n.has(i))return!1;let o,a;for(;({value:o,done:a}=r.next())&&!a;){if(Object.is(i,o))return!1;n.add(o)}}return!0}function QJ(e){return e instanceof Set?e:new Set(e)}function JJ(e,...t){e=new Set(e),t=t.map(QJ);e:for(const r of e)for(const n of t)if(!n.has(r)){e.delete(r);continue e}return e}function rL(e,t){const r=e[Symbol.iterator](),n=new Set;for(const i of t){if(n.has(i))continue;let o,a;for(;{value:o,done:a}=r.next();){if(a)return!1;if(n.add(o),Object.is(i,o))break}}return!0}function eee(e,t){return rL(t,e)}function tee(...e){const t=new Set;for(const r of e)for(const n of r)t.add(n);return t}const ree=Object.freeze(Object.defineProperty({__proto__:null,Adder:Jr,InternMap:p0,InternSet:EJ,ascending:Xr,bin:YA,bisect:Ts,bisectCenter:tJ,bisectLeft:eJ,bisectRight:Ts,bisector:cf,count:Kv,cross:aJ,cumsum:sJ,descending:lJ,deviation:I9,difference:KJ,disjoint:ZJ,every:GJ,extent:Og,fcumsum:mJ,filter:WJ,fsum:dJ,greatest:BJ,greatestIndex:FJ,group:Vj,groupSort:CJ,groups:SJ,histogram:YA,index:OJ,indexes:PJ,intersection:JJ,least:LJ,leastIndex:Qj,map:XJ,max:M5,maxIndex:Kj,mean:I5,median:N9,merge:j9,min:m0,minIndex:Zj,nice:Xj,pairs:NJ,permute:Wj,quantile:Dd,quantileSorted:qj,quickselect:D9,range:Vn,reduce:$J,reverse:qJ,rollup:Gj,rollups:kJ,scan:zJ,shuffle:HJ,shuffler:Jj,some:YJ,sort:O5,subset:eee,sum:eL,superset:rL,thresholdFreedmanDiaconis:IJ,thresholdScott:RJ,thresholdSturges:$j,tickIncrement:h1,tickStep:d0,ticks:zl,transpose:tL,union:tee,variance:M9,zip:VJ},Symbol.toStringTag,{value:"Module"}));function eo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ua(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const R5=Symbol("implicit");function L9(){var e=new p0,t=[],r=[],n=R5;function i(o){let a=e.get(o);if(a===void 0){if(n!==R5)return n;e.set(o,a=t.push(o)-1)}return r[a%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new p0;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return L9(t,r).unknown(n)},eo.apply(i,arguments),i}function f1(){var e=L9().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,a,s=!1,u=0,l=0,c=.5;delete e.unknown;function h(){var f=t().length,p=i<n,d=p?i:n,m=p?n:i;o=(m-d)/Math.max(1,f-u+l*2),s&&(o=Math.floor(o)),d+=(m-d-o*(f-u))*c,a=o*(1-u),s&&(d=Math.round(d),a=Math.round(a));var v=Vn(f).map(function(b){return d+o*b});return r(p?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,h()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,s=!0,h()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(f){return arguments.length?(s=!!f,h()):s},e.padding=function(f){return arguments.length?(u=Math.min(1,l=+f),h()):u},e.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),h()):u},e.paddingOuter=function(f){return arguments.length?(l=+f,h()):l},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},e.copy=function(){return f1(t(),[n,i]).round(s).paddingInner(u).paddingOuter(l).align(c)},eo.apply(h(),arguments)}function nL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nL(t())},e}function nee(){return nL(f1.apply(null,arguments).paddingInner(1))}function ff(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function p1(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Os(){}var Hl=.7,Zc=1/Hl,Pc="\\s*([+-]?\\d+)\\s*",Nd="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iee=/^#([0-9a-f]{3,8})$/,oee=new RegExp("^rgb\\("+[Pc,Pc,Pc]+"\\)$"),aee=new RegExp("^rgb\\("+[Yo,Yo,Yo]+"\\)$"),see=new RegExp("^rgba\\("+[Pc,Pc,Pc,Nd]+"\\)$"),lee=new RegExp("^rgba\\("+[Yo,Yo,Yo,Nd]+"\\)$"),uee=new RegExp("^hsl\\("+[Nd,Yo,Yo]+"\\)$"),cee=new RegExp("^hsla\\("+[Nd,Yo,Yo,Nd]+"\\)$"),WA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ff(Os,di,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:XA,formatHex:XA,formatHsl:hee,formatRgb:$A,toString:$A});function XA(){return this.rgb().formatHex()}function hee(){return iL(this).formatHsl()}function $A(){return this.rgb().formatRgb()}function di(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=iee.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?qA(t):r===3?new Tn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Sm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Sm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oee.exec(e))?new Tn(t[1],t[2],t[3],1):(t=aee.exec(e))?new Tn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=see.exec(e))?Sm(t[1],t[2],t[3],t[4]):(t=lee.exec(e))?Sm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uee.exec(e))?QA(t[1],t[2]/100,t[3]/100,1):(t=cee.exec(e))?QA(t[1],t[2]/100,t[3]/100,t[4]):WA.hasOwnProperty(e)?qA(WA[e]):e==="transparent"?new Tn(NaN,NaN,NaN,0):null}function qA(e){return new Tn(e>>16&255,e>>8&255,e&255,1)}function Sm(e,t,r,n){return n<=0&&(e=t=r=NaN),new Tn(e,t,r,n)}function B9(e){return e instanceof Os||(e=di(e)),e?(e=e.rgb(),new Tn(e.r,e.g,e.b,e.opacity)):new Tn}function Qc(e,t,r,n){return arguments.length===1?B9(e):new Tn(e,t,r,n??1)}function Tn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ff(Tn,Qc,p1(Os,{brighter:function(e){return e=e==null?Zc:Math.pow(Zc,e),new Tn(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Hl:Math.pow(Hl,e),new Tn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KA,formatHex:KA,formatRgb:ZA,toString:ZA}));function KA(){return"#"+mw(this.r)+mw(this.g)+mw(this.b)}function ZA(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function mw(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function QA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Bo(e,t,r,n)}function iL(e){if(e instanceof Bo)return new Bo(e.h,e.s,e.l,e.opacity);if(e instanceof Os||(e=di(e)),!e)return new Bo;if(e instanceof Bo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),a=NaN,s=o-i,u=(o+i)/2;return s?(t===o?a=(r-n)/s+(r<n)*6:r===o?a=(n-t)/s+2:a=(t-r)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Bo(a,s,u,e.opacity)}function oL(e,t,r,n){return arguments.length===1?iL(e):new Bo(e,t,r,n??1)}function Bo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ff(Bo,oL,p1(Os,{brighter:function(e){return e=e==null?Zc:Math.pow(Zc,e),new Bo(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Hl:Math.pow(Hl,e),new Bo(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Tn(gw(e>=240?e-240:e+120,i,n),gw(e,i,n),gw(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function gw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const aL=Math.PI/180,sL=180/Math.PI,g0=18,lL=.96422,uL=1,cL=.82521,hL=4/29,Cc=6/29,fL=3*Cc*Cc,fee=Cc*Cc*Cc;function pL(e){if(e instanceof bo)return new bo(e.l,e.a,e.b,e.opacity);if(e instanceof Vo)return yL(e);e instanceof Tn||(e=B9(e));var t=_w(e.r),r=_w(e.g),n=_w(e.b),i=yw((.2225045*t+.7168786*r+.0606169*n)/uL),o,a;return t===r&&r===n?o=a=i:(o=yw((.4360747*t+.3850649*r+.1430804*n)/lL),a=yw((.0139322*t+.0971045*r+.7141733*n)/cL)),new bo(116*i-16,500*(o-i),200*(i-a),e.opacity)}function pee(e,t){return new bo(e,0,0,t??1)}function dL(e,t,r,n){return arguments.length===1?pL(e):new bo(e,t,r,n??1)}function bo(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}ff(bo,dL,p1(Os,{brighter:function(e){return new bo(this.l+g0*(e??1),this.a,this.b,this.opacity)},darker:function(e){return new bo(this.l-g0*(e??1),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=lL*vw(t),e=uL*vw(e),r=cL*vw(r),new Tn(bw(3.1338561*t-1.6168667*e-.4906146*r),bw(-.9787684*t+1.9161415*e+.033454*r),bw(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function yw(e){return e>fee?Math.pow(e,1/3):e/fL+hL}function vw(e){return e>Cc?e*e*e:fL*(e-hL)}function bw(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function _w(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function mL(e){if(e instanceof Vo)return new Vo(e.h,e.c,e.l,e.opacity);if(e instanceof bo||(e=pL(e)),e.a===0&&e.b===0)return new Vo(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*sL;return new Vo(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function dee(e,t,r,n){return arguments.length===1?mL(e):new Vo(r,t,e,n??1)}function gL(e,t,r,n){return arguments.length===1?mL(e):new Vo(e,t,r,n??1)}function Vo(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function yL(e){if(isNaN(e.h))return new bo(e.l,0,0,e.opacity);var t=e.h*aL;return new bo(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}ff(Vo,gL,p1(Os,{brighter:function(e){return new Vo(this.h,this.c,this.l+g0*(e??1),this.opacity)},darker:function(e){return new Vo(this.h,this.c,this.l-g0*(e??1),this.opacity)},rgb:function(){return yL(this).rgb()}}));var vL=-.14861,F9=1.78277,z9=-.29227,Zv=-.90649,jd=1.97294,JA=jd*Zv,e3=jd*F9,t3=F9*z9-Zv*vL;function mee(e){if(e instanceof Ol)return new Ol(e.h,e.s,e.l,e.opacity);e instanceof Tn||(e=B9(e));var t=e.r/255,r=e.g/255,n=e.b/255,i=(t3*n+JA*t-e3*r)/(t3+JA-e3),o=n-i,a=(jd*(r-i)-z9*o)/Zv,s=Math.sqrt(a*a+o*o)/(jd*i*(1-i)),u=s?Math.atan2(a,o)*sL-120:NaN;return new Ol(u<0?u+360:u,s,i,e.opacity)}function bL(e,t,r,n){return arguments.length===1?mee(e):new Ol(e,t,r,n??1)}function Ol(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ff(Ol,bL,p1(Os,{brighter:function(e){return e=e==null?Zc:Math.pow(Zc,e),new Ol(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Hl:Math.pow(Hl,e),new Ol(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*aL,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),i=Math.sin(e);return new Tn(255*(t+r*(vL*n+F9*i)),255*(t+r*(z9*n+Zv*i)),255*(t+r*(jd*n)),this.opacity)}}));const gee=Object.freeze(Object.defineProperty({__proto__:null,color:di,cubehelix:bL,gray:pee,hcl:gL,hsl:oL,lab:dL,lch:dee,rgb:Qc},Symbol.toStringTag,{value:"Module"})),H9=e=>()=>e;function yee(e,t){return function(r){return e+r*t}}function vee(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function bee(e){return(e=+e)==1?_L:function(t,r){return r-t?vee(t,r,e):H9(isNaN(t)?r:t)}}function _L(e,t){var r=t-e;return r?yee(e,r):H9(isNaN(e)?t:e)}const Jc=(function e(t){var r=bee(t);function n(i,o){var a=r((i=Qc(i)).r,(o=Qc(o)).r),s=r(i.g,o.g),u=r(i.b,o.b),l=_L(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return n.gamma=e,n})(1);function _ee(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function wee(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Tee(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),a;for(a=0;a<n;++a)i[a]=Ql(e[a],t[a]);for(;a<r;++a)o[a]=t[a];return function(s){for(a=0;a<n;++a)o[a]=i[a](s);return o}}function xee(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Hi(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Eee(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Ql(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var D5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ww=new RegExp(D5.source,"g");function See(e){return function(){return e}}function kee(e){return function(t){return e(t)+""}}function U9(e,t){var r=D5.lastIndex=ww.lastIndex=0,n,i,o,a=-1,s=[],u=[];for(e=e+"",t=t+"";(n=D5.exec(e))&&(i=ww.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:Hi(n,i)})),r=ww.lastIndex;return r<t.length&&(o=t.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?kee(u[0].x):See(t):(t=u.length,function(l){for(var c=0,h;c<t;++c)s[(h=u[c]).i]=h.x(l);return s.join("")})}function Ql(e,t){var r=typeof t,n;return t==null||r==="boolean"?H9(t):(r==="number"?Hi:r==="string"?(n=di(t))?(t=n,Jc):U9:t instanceof di?Jc:t instanceof Date?xee:wee(t)?_ee:Array.isArray(t)?Tee:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Eee:Hi)(e,t)}function V9(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var r3=180/Math.PI,wL={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function TL(e,t,r,n,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,u/=s),e*n<t*r&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*r3,skewX:Math.atan(u)*r3,scaleX:a,scaleY:s}}var km;function Oee(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?wL:TL(t.a,t.b,t.c,t.d,t.e,t.f)}function Pee(e){return e==null||(km||(km=document.createElementNS("http://www.w3.org/2000/svg","g")),km.setAttribute("transform",e),!(e=km.transform.baseVal.consolidate()))?wL:(e=e.matrix,TL(e.a,e.b,e.c,e.d,e.e,e.f))}function xL(e,t,r,n){function i(l){return l.length?l.pop()+" ":""}function o(l,c,h,f,p,d){if(l!==h||c!==f){var m=p.push("translate(",null,t,null,r);d.push({i:m-4,x:Hi(l,h)},{i:m-2,x:Hi(c,f)})}else(h||f)&&p.push("translate("+h+t+f+r)}function a(l,c,h,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:h.push(i(h)+"rotate(",null,n)-2,x:Hi(l,c)})):c&&h.push(i(h)+"rotate("+c+n)}function s(l,c,h,f){l!==c?f.push({i:h.push(i(h)+"skewX(",null,n)-2,x:Hi(l,c)}):c&&h.push(i(h)+"skewX("+c+n)}function u(l,c,h,f,p,d){if(l!==h||c!==f){var m=p.push(i(p)+"scale(",null,",",null,")");d.push({i:m-4,x:Hi(l,h)},{i:m-2,x:Hi(c,f)})}else(h!==1||f!==1)&&p.push(i(p)+"scale("+h+","+f+")")}return function(l,c){var h=[],f=[];return l=e(l),c=e(c),o(l.translateX,l.translateY,c.translateX,c.translateY,h,f),a(l.rotate,c.rotate,h,f),s(l.skewX,c.skewX,h,f),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,h,f),l=c=null,function(p){for(var d=-1,m=f.length,v;++d<m;)h[(v=f[d]).i]=v.x(p);return h.join("")}}}var EL=xL(Oee,"px, ","px)","deg)"),SL=xL(Pee,", ",")",")"),Cee=1e-12;function n3(e){return((e=Math.exp(e))+1/e)/2}function Aee(e){return((e=Math.exp(e))-1/e)/2}function Mee(e){return((e=Math.exp(2*e))-1)/(e+1)}const Iee=(function e(t,r,n){function i(o,a){var s=o[0],u=o[1],l=o[2],c=a[0],h=a[1],f=a[2],p=c-s,d=h-u,m=p*p+d*d,v,b;if(m<Cee)b=Math.log(f/l)/t,v=function(O){return[s+O*p,u+O*d,l*Math.exp(t*O*b)]};else{var g=Math.sqrt(m),y=(f*f-l*l+n*m)/(2*l*r*g),_=(f*f-l*l-n*m)/(2*f*r*g),w=Math.log(Math.sqrt(y*y+1)-y),T=Math.log(Math.sqrt(_*_+1)-_);b=(T-w)/t,v=function(O){var E=O*b,S=n3(w),A=l/(r*g)*(S*Mee(t*E+w)-Aee(w));return[s+A*p,u+A*d,l*S/n3(t*E+w)]}}return v.duration=b*1e3*t/Math.SQRT2,v}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,u=s*s;return e(a,s,u)},i})(Math.SQRT2,2,4);function Ree(e,t){t===void 0&&(t=e,e=Ql);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(a){var s=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return o[s](a-s)}}function Dee(e){return function(){return e}}function y0(e){return+e}var i3=[0,1];function Gn(e){return e}function N5(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Dee(isNaN(t)?NaN:.5)}function Nee(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function jee(e,t,r){var n=e[0],i=e[1],o=t[0],a=t[1];return i<n?(n=N5(i,n),o=r(a,o)):(n=N5(n,i),o=r(o,a)),function(s){return o(n(s))}}function Lee(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=N5(e[a],e[a+1]),o[a]=r(t[a],t[a+1]);return function(s){var u=Ts(e,s,1,n)-1;return o[u](i[u](s))}}function d1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Qv(){var e=i3,t=i3,r=Ql,n,i,o,a=Gn,s,u,l;function c(){var f=Math.min(e.length,t.length);return a!==Gn&&(a=Nee(e[0],e[f-1])),s=f>2?Lee:jee,u=l=null,h}function h(f){return f==null||isNaN(f=+f)?o:(u||(u=s(e.map(n),t,r)))(n(a(f)))}return h.invert=function(f){return a(i((l||(l=s(t,e.map(n),Hi)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,y0),c()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),r=V9,c()},h.clamp=function(f){return arguments.length?(a=f?!0:Gn,c()):a!==Gn},h.interpolate=function(f){return arguments.length?(r=f,c()):r},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,p){return n=f,i=p,c()}}function G9(){return Qv()(Gn,Gn)}function Bee(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function v0(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function eh(e){return e=v0(Math.abs(e)),e?e[1]:NaN}function Fee(e,t){return function(r,n){for(var i=r.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>n&&(s=Math.max(1,n-u)),o.push(r.substring(i-=s,i+s)),!((u+=s+1)>n));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function zee(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Hee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function th(e){if(!(t=Hee.exec(e)))throw new Error("invalid format: "+e);var t;return new Jv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}th.prototype=Jv.prototype;function Jv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Jv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Uee(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var kL;function Vee(e,t){var r=v0(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(kL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+v0(e,Math.max(0,t+o-1))[0]}function o3(e,t){var r=v0(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const a3={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Bee,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>o3(e*100,t),r:o3,s:Vee,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function s3(e){return e}var l3=Array.prototype.map,u3=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function OL(e){var t=e.grouping===void 0||e.thousands===void 0?s3:Fee(l3.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?s3:zee(l3.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(h){h=th(h);var f=h.fill,p=h.align,d=h.sign,m=h.symbol,v=h.zero,b=h.width,g=h.comma,y=h.precision,_=h.trim,w=h.type;w==="n"?(g=!0,w="g"):a3[w]||(y===void 0&&(y=12),_=!0,w="g"),(v||f==="0"&&p==="=")&&(v=!0,f="0",p="=");var T=m==="$"?r:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",O=m==="$"?n:/[%p]/.test(w)?a:"",E=a3[w],S=/[defgprs%]/.test(w);y=y===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function A(M){var H=T,N=O,k,R,B;if(w==="c")N=E(M)+N,M="";else{M=+M;var z=M<0||1/M<0;if(M=isNaN(M)?u:E(Math.abs(M),y),_&&(M=Uee(M)),z&&+M==0&&d!=="+"&&(z=!1),H=(z?d==="("?d:s:d==="-"||d==="("?"":d)+H,N=(w==="s"?u3[8+kL/3]:"")+N+(z&&d==="("?")":""),S){for(k=-1,R=M.length;++k<R;)if(B=M.charCodeAt(k),48>B||B>57){N=(B===46?i+M.slice(k+1):M.slice(k))+N,M=M.slice(0,k);break}}}g&&!v&&(M=t(M,1/0));var U=H.length+M.length+N.length,V=U<b?new Array(b-U+1).join(f):"";switch(g&&v&&(M=t(V+M,V.length?b-N.length:1/0),V=""),p){case"<":M=H+M+N+V;break;case"=":M=H+V+M+N;break;case"^":M=V.slice(0,U=V.length>>1)+H+M+N+V.slice(U);break;default:M=V+H+M+N;break}return o(M)}return A.toString=function(){return h+""},A}function c(h,f){var p=l((h=th(h),h.type="f",h)),d=Math.max(-8,Math.min(8,Math.floor(eh(f)/3)))*3,m=Math.pow(10,-d),v=u3[8+d/3];return function(b){return p(m*b)+v}}return{format:l,formatPrefix:c}}var Om,Yn,Jl;PL({thousands:",",grouping:[3],currency:["$",""]});function PL(e){return Om=OL(e),Yn=Om.format,Jl=Om.formatPrefix,Om}function CL(e){return Math.max(0,-eh(Math.abs(e)))}function pf(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(eh(t)/3)))*3-eh(Math.abs(e)))}function AL(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,eh(t)-eh(e))+1}const Gee=Object.freeze(Object.defineProperty({__proto__:null,FormatSpecifier:Jv,get format(){return Yn},formatDefaultLocale:PL,formatLocale:OL,get formatPrefix(){return Jl},formatSpecifier:th,precisionFixed:CL,precisionPrefix:pf,precisionRound:AL},Symbol.toStringTag,{value:"Module"}));function ML(e,t,r,n){var i=d0(e,t,r),o;switch(n=th(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=pf(i,a))&&(n.precision=o),Jl(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=AL(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=CL(i))&&(n.precision=o-(n.type==="%")*2);break}}return Yn(n)}function Ps(e){var t=e.domain;return e.ticks=function(r){var n=t();return zl(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return ML(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,a=n[i],s=n[o],u,l,c=10;for(s<a&&(l=a,a=s,s=l,l=i,i=o,o=l);c-- >0;){if(l=h1(a,s,r),l===u)return n[i]=a,n[o]=s,t(n);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;u=l}return e},e}function Et(){var e=G9();return e.copy=function(){return d1(e,Et())},eo.apply(e,arguments),Ps(e)}function IL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,y0),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return IL(e).unknown(t)},e=arguments.length?Array.from(e,y0):[0,1],Ps(r)}function RL(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],a;return o<i&&(a=r,r=n,n=a,a=i,i=o,o=a),e[r]=t.floor(i),e[n]=t.ceil(o),e}function c3(e){return Math.log(e)}function h3(e){return Math.exp(e)}function Yee(e){return-Math.log(-e)}function Wee(e){return-Math.exp(-e)}function Xee(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $ee(e){return e===10?Xee:e===Math.E?Math.exp:t=>Math.pow(e,t)}function qee(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function f3(e){return(t,r)=>-e(-t,r)}function Y9(e){const t=e(c3,h3),r=t.domain;let n=10,i,o;function a(){return i=qee(n),o=$ee(n),r()[0]<0?(i=f3(i),o=f3(o),e(Yee,Wee)):e(c3,h3),t}return t.base=function(s){return arguments.length?(n=+s,a()):n},t.domain=function(s){return arguments.length?(r(s),a()):r()},t.ticks=s=>{const u=r();let l=u[0],c=u[u.length-1];const h=c<l;h&&([l,c]=[c,l]);let f=i(l),p=i(c),d,m;const v=s==null?10:+s;let b=[];if(!(n%1)&&p-f<v){if(f=Math.floor(f),p=Math.ceil(p),l>0){for(;f<=p;++f)for(d=1;d<n;++d)if(m=f<0?d/o(-f):d*o(f),!(m<l)){if(m>c)break;b.push(m)}}else for(;f<=p;++f)for(d=n-1;d>=1;--d)if(m=f>0?d/o(-f):d*o(f),!(m<l)){if(m>c)break;b.push(m)}b.length*2<v&&(b=zl(l,c,v))}else b=zl(f,p,Math.min(p-f,v)).map(o);return h?b.reverse():b},t.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=th(u)).precision==null&&(u.trim=!0),u=Yn(u)),s===1/0)return u;const l=Math.max(1,n*s/t.ticks().length);return c=>{let h=c/o(Math.round(i(c)));return h*n<n-.5&&(h*=n),h<=l?u(c):""}},t.nice=()=>r(RL(r(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function Cs(){const e=Y9(Qv()).domain([1,10]);return e.copy=()=>d1(e,Cs()).base(e.base()),eo.apply(e,arguments),e}function p3(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function d3(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function W9(e){var t=1,r=e(p3(t),d3(t));return r.constant=function(n){return arguments.length?e(p3(t=+n),d3(t)):t},Ps(r)}function DL(){var e=W9(Qv());return e.copy=function(){return d1(e,DL()).constant(e.constant())},eo.apply(e,arguments)}function m3(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Kee(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Zee(e){return e<0?-e*e:e*e}function X9(e){var t=e(Gn,Gn),r=1;function n(){return r===1?e(Gn,Gn):r===.5?e(Kee,Zee):e(m3(r),m3(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ps(t)}function $9(){var e=X9(Qv());return e.copy=function(){return d1(e,$9()).exponent(e.exponent())},eo.apply(e,arguments),e}function Qee(){return $9.apply(null,arguments).exponent(.5)}function g3(e){return Math.sign(e)*e*e}function Jee(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function NL(){var e=G9(),t=[0,1],r=!1,n;function i(o){var a=Jee(e(o));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(o){return e.invert(g3(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,y0)).map(g3)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return NL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},eo.apply(i,arguments),Ps(i)}function b0(){var e=[],t=[],r=[],n;function i(){var a=0,s=Math.max(1,t.length);for(r=new Array(s-1);++a<s;)r[a-1]=qj(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?n:t[Ts(r,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Xr),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return b0().domain(e).range(t).unknown(n)},eo.apply(o,arguments)}function jL(){var e=0,t=1,r=1,n=[.5],i=[0,1],o;function a(u){return u!=null&&u<=u?i[Ts(n,u,0,r)]:o}function s(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return a}return a.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,s()):[e,t]},a.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,s()):i.slice()},a.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[e,n[0]]:l>=r?[n[r-1],t]:[n[l-1],n[l]]},a.unknown=function(u){return arguments.length&&(o=u),a},a.thresholds=function(){return n.slice()},a.copy=function(){return jL().domain([e,t]).range(i).unknown(o)},eo.apply(Ps(a),arguments)}function LL(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[Ts(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return LL().domain(e).range(t).unknown(r)},eo.apply(i,arguments)}const Tw=new Date,xw=new Date;function en(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const u=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return u;let l;do u.push(l=new Date(+o)),t(o,s),e(o);while(l<o&&o<a);return u},i.filter=o=>en(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),r&&(i.count=(o,a)=>(Tw.setTime(+o),xw.setTime(+a),e(Tw),e(xw),Math.floor(r(Tw,xw))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?a=>n(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const _0=en(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?en(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):_0);_0.range;const Sa=1e3,$i=Sa*60,ka=$i*60,Na=ka*24,q9=Na*7,y3=Na*30,Ew=Na*365,xl=en(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Sa)},(e,t)=>(t-e)/Sa,e=>e.getUTCSeconds());xl.range;const K9=en(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sa)},(e,t)=>{e.setTime(+e+t*$i)},(e,t)=>(t-e)/$i,e=>e.getMinutes());K9.range;const Z9=en(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*$i)},(e,t)=>(t-e)/$i,e=>e.getUTCMinutes());Z9.range;const Q9=en(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sa-e.getMinutes()*$i)},(e,t)=>{e.setTime(+e+t*ka)},(e,t)=>(t-e)/ka,e=>e.getHours());Q9.range;const J9=en(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ka)},(e,t)=>(t-e)/ka,e=>e.getUTCHours());J9.range;const m1=en(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$i)/Na,e=>e.getDate()-1);m1.range;const eb=en(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Na,e=>e.getUTCDate()-1);eb.range;const BL=en(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Na,e=>Math.floor(e/Na));BL.range;function eu(e){return en(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*$i)/q9)}const tb=eu(0),w0=eu(1),ete=eu(2),tte=eu(3),rh=eu(4),rte=eu(5),nte=eu(6);tb.range;w0.range;ete.range;tte.range;rh.range;rte.range;nte.range;function tu(e){return en(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/q9)}const rb=tu(0),T0=tu(1),ite=tu(2),ote=tu(3),nh=tu(4),ate=tu(5),ste=tu(6);rb.range;T0.range;ite.range;ote.range;nh.range;ate.range;ste.range;const eO=en(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());eO.range;const tO=en(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());tO.range;const ja=en(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ja.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:en(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ja.range;const La=en(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());La.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:en(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});La.range;function FL(e,t,r,n,i,o){const a=[[xl,1,Sa],[xl,5,5*Sa],[xl,15,15*Sa],[xl,30,30*Sa],[o,1,$i],[o,5,5*$i],[o,15,15*$i],[o,30,30*$i],[i,1,ka],[i,3,3*ka],[i,6,6*ka],[i,12,12*ka],[n,1,Na],[n,2,2*Na],[r,1,q9],[t,1,y3],[t,3,3*y3],[e,1,Ew]];function s(l,c,h){const f=c<l;f&&([l,c]=[c,l]);const p=h&&typeof h.range=="function"?h:u(l,c,h),d=p?p.range(l,+c+1):[];return f?d.reverse():d}function u(l,c,h){const f=Math.abs(c-l)/h,p=cf(([,,v])=>v).right(a,f);if(p===a.length)return e.every(d0(l/Ew,c/Ew,h));if(p===0)return _0.every(Math.max(d0(l,c,h),1));const[d,m]=a[f/a[p-1][2]<a[p][2]/f?p-1:p];return d.every(m)}return[s,u]}const[lte,ute]=FL(La,tO,rb,BL,J9,Z9),[cte,hte]=FL(ja,eO,tb,m1,Q9,K9);function Sw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function kw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Kf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function fte(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,u=e.shortMonths,l=Zf(i),c=Qf(i),h=Zf(o),f=Qf(o),p=Zf(a),d=Qf(a),m=Zf(s),v=Qf(s),b=Zf(u),g=Qf(u),y={a:z,A:U,b:V,B:W,c:null,d:x3,e:x3,f:Nte,g:Yte,G:Xte,H:Ite,I:Rte,j:Dte,L:zL,m:jte,M:Lte,p:te,q:re,Q:k3,s:O3,S:Bte,u:Fte,U:zte,V:Hte,w:Ute,W:Vte,x:null,X:null,y:Gte,Y:Wte,Z:$te,"%":S3},_={a:X,A:$,b:ee,B:le,c:null,d:E3,e:E3,f:Qte,g:lre,G:cre,H:qte,I:Kte,j:Zte,L:UL,m:Jte,M:ere,p:fe,q:Ee,Q:k3,s:O3,S:tre,u:rre,U:nre,V:ire,w:ore,W:are,x:null,X:null,y:sre,Y:ure,Z:hre,"%":S3},w={a:A,A:M,b:H,B:N,c:k,d:w3,e:w3,f:Pte,g:_3,G:b3,H:T3,I:T3,j:Ete,L:Ote,m:xte,M:Ste,p:S,q:Tte,Q:Ate,s:Mte,S:kte,u:yte,U:vte,V:bte,w:gte,W:_te,x:R,X:B,y:_3,Y:b3,Z:wte,"%":Cte};y.x=T(r,y),y.X=T(n,y),y.c=T(t,y),_.x=T(r,_),_.X=T(n,_),_.c=T(t,_);function T(ce,Se){return function(Oe){var he=[],Pe=-1,Fe=0,We=ce.length,et,He,$e;for(Oe instanceof Date||(Oe=new Date(+Oe));++Pe<We;)ce.charCodeAt(Pe)===37&&(he.push(ce.slice(Fe,Pe)),(He=v3[et=ce.charAt(++Pe)])!=null?et=ce.charAt(++Pe):He=et==="e"?" ":"0",($e=Se[et])&&(et=$e(Oe,He)),he.push(et),Fe=Pe+1);return he.push(ce.slice(Fe,Pe)),he.join("")}}function O(ce,Se){return function(Oe){var he=Kf(1900,void 0,1),Pe=E(he,ce,Oe+="",0),Fe,We;if(Pe!=Oe.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Se&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Fe=kw(Kf(he.y,0,1)),We=Fe.getUTCDay(),Fe=We>4||We===0?T0.ceil(Fe):T0(Fe),Fe=eb.offset(Fe,(he.V-1)*7),he.y=Fe.getUTCFullYear(),he.m=Fe.getUTCMonth(),he.d=Fe.getUTCDate()+(he.w+6)%7):(Fe=Sw(Kf(he.y,0,1)),We=Fe.getDay(),Fe=We>4||We===0?w0.ceil(Fe):w0(Fe),Fe=m1.offset(Fe,(he.V-1)*7),he.y=Fe.getFullYear(),he.m=Fe.getMonth(),he.d=Fe.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),We="Z"in he?kw(Kf(he.y,0,1)).getUTCDay():Sw(Kf(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(We+5)%7:he.w+he.U*7-(We+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,kw(he)):Sw(he)}}function E(ce,Se,Oe,he){for(var Pe=0,Fe=Se.length,We=Oe.length,et,He;Pe<Fe;){if(he>=We)return-1;if(et=Se.charCodeAt(Pe++),et===37){if(et=Se.charAt(Pe++),He=w[et in v3?Se.charAt(Pe++):et],!He||(he=He(ce,Oe,he))<0)return-1}else if(et!=Oe.charCodeAt(he++))return-1}return he}function S(ce,Se,Oe){var he=l.exec(Se.slice(Oe));return he?(ce.p=c.get(he[0].toLowerCase()),Oe+he[0].length):-1}function A(ce,Se,Oe){var he=p.exec(Se.slice(Oe));return he?(ce.w=d.get(he[0].toLowerCase()),Oe+he[0].length):-1}function M(ce,Se,Oe){var he=h.exec(Se.slice(Oe));return he?(ce.w=f.get(he[0].toLowerCase()),Oe+he[0].length):-1}function H(ce,Se,Oe){var he=b.exec(Se.slice(Oe));return he?(ce.m=g.get(he[0].toLowerCase()),Oe+he[0].length):-1}function N(ce,Se,Oe){var he=m.exec(Se.slice(Oe));return he?(ce.m=v.get(he[0].toLowerCase()),Oe+he[0].length):-1}function k(ce,Se,Oe){return E(ce,t,Se,Oe)}function R(ce,Se,Oe){return E(ce,r,Se,Oe)}function B(ce,Se,Oe){return E(ce,n,Se,Oe)}function z(ce){return a[ce.getDay()]}function U(ce){return o[ce.getDay()]}function V(ce){return u[ce.getMonth()]}function W(ce){return s[ce.getMonth()]}function te(ce){return i[+(ce.getHours()>=12)]}function re(ce){return 1+~~(ce.getMonth()/3)}function X(ce){return a[ce.getUTCDay()]}function $(ce){return o[ce.getUTCDay()]}function ee(ce){return u[ce.getUTCMonth()]}function le(ce){return s[ce.getUTCMonth()]}function fe(ce){return i[+(ce.getUTCHours()>=12)]}function Ee(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Se=T(ce+="",y);return Se.toString=function(){return ce},Se},parse:function(ce){var Se=O(ce+="",!1);return Se.toString=function(){return ce},Se},utcFormat:function(ce){var Se=T(ce+="",_);return Se.toString=function(){return ce},Se},utcParse:function(ce){var Se=O(ce+="",!0);return Se.toString=function(){return ce},Se}}}var v3={"-":"",_:" ",0:"0"},pn=/^\s*\d+/,pte=/^%/,dte=/[\\^$*+?|[\]().{}]/g;function ir(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function mte(e){return e.replace(dte,"\\$&")}function Zf(e){return new RegExp("^(?:"+e.map(mte).join("|")+")","i")}function Qf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function gte(e,t,r){var n=pn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function yte(e,t,r){var n=pn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function vte(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function bte(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function _te(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function b3(e,t,r){var n=pn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function _3(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function wte(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Tte(e,t,r){var n=pn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function xte(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function w3(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Ete(e,t,r){var n=pn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function T3(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Ste(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function kte(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Ote(e,t,r){var n=pn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Pte(e,t,r){var n=pn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Cte(e,t,r){var n=pte.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Ate(e,t,r){var n=pn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Mte(e,t,r){var n=pn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function x3(e,t){return ir(e.getDate(),t,2)}function Ite(e,t){return ir(e.getHours(),t,2)}function Rte(e,t){return ir(e.getHours()%12||12,t,2)}function Dte(e,t){return ir(1+m1.count(ja(e),e),t,3)}function zL(e,t){return ir(e.getMilliseconds(),t,3)}function Nte(e,t){return zL(e,t)+"000"}function jte(e,t){return ir(e.getMonth()+1,t,2)}function Lte(e,t){return ir(e.getMinutes(),t,2)}function Bte(e,t){return ir(e.getSeconds(),t,2)}function Fte(e){var t=e.getDay();return t===0?7:t}function zte(e,t){return ir(tb.count(ja(e)-1,e),t,2)}function HL(e){var t=e.getDay();return t>=4||t===0?rh(e):rh.ceil(e)}function Hte(e,t){return e=HL(e),ir(rh.count(ja(e),e)+(ja(e).getDay()===4),t,2)}function Ute(e){return e.getDay()}function Vte(e,t){return ir(w0.count(ja(e)-1,e),t,2)}function Gte(e,t){return ir(e.getFullYear()%100,t,2)}function Yte(e,t){return e=HL(e),ir(e.getFullYear()%100,t,2)}function Wte(e,t){return ir(e.getFullYear()%1e4,t,4)}function Xte(e,t){var r=e.getDay();return e=r>=4||r===0?rh(e):rh.ceil(e),ir(e.getFullYear()%1e4,t,4)}function $te(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ir(t/60|0,"0",2)+ir(t%60,"0",2)}function E3(e,t){return ir(e.getUTCDate(),t,2)}function qte(e,t){return ir(e.getUTCHours(),t,2)}function Kte(e,t){return ir(e.getUTCHours()%12||12,t,2)}function Zte(e,t){return ir(1+eb.count(La(e),e),t,3)}function UL(e,t){return ir(e.getUTCMilliseconds(),t,3)}function Qte(e,t){return UL(e,t)+"000"}function Jte(e,t){return ir(e.getUTCMonth()+1,t,2)}function ere(e,t){return ir(e.getUTCMinutes(),t,2)}function tre(e,t){return ir(e.getUTCSeconds(),t,2)}function rre(e){var t=e.getUTCDay();return t===0?7:t}function nre(e,t){return ir(rb.count(La(e)-1,e),t,2)}function VL(e){var t=e.getUTCDay();return t>=4||t===0?nh(e):nh.ceil(e)}function ire(e,t){return e=VL(e),ir(nh.count(La(e),e)+(La(e).getUTCDay()===4),t,2)}function ore(e){return e.getUTCDay()}function are(e,t){return ir(T0.count(La(e)-1,e),t,2)}function sre(e,t){return ir(e.getUTCFullYear()%100,t,2)}function lre(e,t){return e=VL(e),ir(e.getUTCFullYear()%100,t,2)}function ure(e,t){return ir(e.getUTCFullYear()%1e4,t,4)}function cre(e,t){var r=e.getUTCDay();return e=r>=4||r===0?nh(e):nh.ceil(e),ir(e.getUTCFullYear()%1e4,t,4)}function hre(){return"+0000"}function S3(){return"%"}function k3(e){return+e}function O3(e){return Math.floor(+e/1e3)}var Pu,GL,YL;fre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fre(e){return Pu=fte(e),GL=Pu.format,Pu.parse,YL=Pu.utcFormat,Pu.utcParse,Pu}function pre(e){return new Date(e)}function dre(e){return e instanceof Date?+e:+new Date(+e)}function rO(e,t,r,n,i,o,a,s,u,l){var c=G9(),h=c.invert,f=c.domain,p=l(".%L"),d=l(":%S"),m=l("%I:%M"),v=l("%I %p"),b=l("%a %d"),g=l("%b %d"),y=l("%B"),_=l("%Y");function w(T){return(u(T)<T?p:s(T)<T?d:a(T)<T?m:o(T)<T?v:n(T)<T?i(T)<T?b:g:r(T)<T?y:_)(T)}return c.invert=function(T){return new Date(h(T))},c.domain=function(T){return arguments.length?f(Array.from(T,dre)):f().map(pre)},c.ticks=function(T){var O=f();return e(O[0],O[O.length-1],T??10)},c.tickFormat=function(T,O){return O==null?w:l(O)},c.nice=function(T){var O=f();return(!T||typeof T.range!="function")&&(T=t(O[0],O[O.length-1],T??10)),T?f(RL(O,T)):c},c.copy=function(){return d1(c,rO(e,t,r,n,i,o,a,s,u,l))},c}function mre(){return eo.apply(rO(cte,hte,ja,eO,tb,m1,Q9,K9,xl,GL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gre(){return eo.apply(rO(lte,ute,La,tO,rb,eb,J9,Z9,xl,YL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nb(){var e=0,t=1,r,n,i,o,a=Gn,s=!1,u;function l(h){return h==null||isNaN(h=+h)?u:a(i===0?.5:(h=(o(h)-r)*i,s?Math.max(0,Math.min(1,h)):h))}l.domain=function(h){return arguments.length?([e,t]=h,r=o(e=+e),n=o(t=+t),i=r===n?0:1/(n-r),l):[e,t]},l.clamp=function(h){return arguments.length?(s=!!h,l):s},l.interpolator=function(h){return arguments.length?(a=h,l):a};function c(h){return function(f){var p,d;return arguments.length?([p,d]=f,a=h(p,d),l):[a(0),a(1)]}}return l.range=c(Ql),l.rangeRound=c(V9),l.unknown=function(h){return arguments.length?(u=h,l):u},function(h){return o=h,r=h(e),n=h(t),i=r===n?0:1/(n-r),l}}function As(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function WL(){var e=Ps(nb()(Gn));return e.copy=function(){return As(e,WL())},Ua.apply(e,arguments)}function XL(){var e=Y9(nb()).domain([1,10]);return e.copy=function(){return As(e,XL()).base(e.base())},Ua.apply(e,arguments)}function $L(){var e=W9(nb());return e.copy=function(){return As(e,$L()).constant(e.constant())},Ua.apply(e,arguments)}function nO(){var e=X9(nb());return e.copy=function(){return As(e,nO()).exponent(e.exponent())},Ua.apply(e,arguments)}function yre(){return nO.apply(null,arguments).exponent(.5)}function qL(){var e=[],t=Gn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ts(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Xr),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>Dd(e,o/n))},r.copy=function(){return qL(t).domain(e)},Ua.apply(r,arguments)}function ib(){var e=0,t=.5,r=1,n=1,i,o,a,s,u,l=Gn,c,h=!1,f;function p(m){return isNaN(m=+m)?f:(m=.5+((m=+c(m))-o)*(n*m<n*o?s:u),l(h?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,i=c(e=+e),o=c(t=+t),a=c(r=+r),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),n=o<i?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(h=!!m,p):h},p.interpolator=function(m){return arguments.length?(l=m,p):l};function d(m){return function(v){var b,g,y;return arguments.length?([b,g,y]=v,l=Ree(m,[b,g,y]),p):[l(0),l(.5),l(1)]}}return p.range=d(Ql),p.rangeRound=d(V9),p.unknown=function(m){return arguments.length?(f=m,p):f},function(m){return c=m,i=m(e),o=m(t),a=m(r),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),n=o<i?-1:1,p}}function KL(){var e=Ps(ib()(Gn));return e.copy=function(){return As(e,KL())},Ua.apply(e,arguments)}function ZL(){var e=Y9(ib()).domain([.1,1,10]);return e.copy=function(){return As(e,ZL()).base(e.base())},Ua.apply(e,arguments)}function QL(){var e=W9(ib());return e.copy=function(){return As(e,QL()).constant(e.constant())},Ua.apply(e,arguments)}function iO(){var e=X9(ib());return e.copy=function(){return As(e,iO()).exponent(e.exponent())},Ua.apply(e,arguments)}function vre(){return iO.apply(null,arguments).exponent(.5)}const bre=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:f1,scaleDiverging:KL,scaleDivergingLog:ZL,scaleDivergingPow:iO,scaleDivergingSqrt:vre,scaleDivergingSymlog:QL,scaleIdentity:IL,scaleImplicit:R5,scaleLinear:Et,scaleLog:Cs,scaleOrdinal:L9,scalePoint:nee,scalePow:$9,scaleQuantile:b0,scaleQuantize:jL,scaleRadial:NL,scaleSequential:WL,scaleSequentialLog:XL,scaleSequentialPow:nO,scaleSequentialQuantile:qL,scaleSequentialSqrt:yre,scaleSequentialSymlog:$L,scaleSqrt:Qee,scaleSymlog:DL,scaleThreshold:LL,scaleTime:mre,scaleUtc:gre,tickFormat:ML},Symbol.toStringTag,{value:"Module"}));var j5="http://www.w3.org/1999/xhtml";const L5={svg:"http://www.w3.org/2000/svg",xhtml:j5,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ru(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),L5.hasOwnProperty(t)?{space:L5[t],local:e}:e}function _re(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===j5&&t.documentElement.namespaceURI===j5?t.createElement(e):t.createElementNS(r,e)}}function wre(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ob(e){var t=ru(e);return(t.local?wre:_re)(t)}function Tre(){}function g1(e){return e==null?Tre:function(){return this.querySelector(e)}}function xre(e){typeof e!="function"&&(e=g1(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=new Array(a),u,l,c=0;c<a;++c)(u=o[c])&&(l=e.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new Rn(n,this._parents)}function oO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ere(){return[]}function ab(e){return e==null?Ere:function(){return this.querySelectorAll(e)}}function Sre(e){return function(){var t=e.apply(this,arguments);return t==null?[]:oO(t)}}function kre(e){typeof e=="function"?e=Sre(e):e=ab(e);for(var t=this._groups,r=t.length,n=[],i=[],o=0;o<r;++o)for(var a=t[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&(n.push(e.call(u,u.__data__,l,a)),i.push(u));return new Rn(n,i)}function sb(e){return function(){return this.matches(e)}}function JL(e){return function(t){return t.matches(e)}}var Ore=Array.prototype.find;function Pre(e){return function(){return Ore.call(this.children,e)}}function Cre(){return this.firstElementChild}function Are(e){return this.select(e==null?Cre:Pre(typeof e=="function"?e:JL(e)))}var Mre=Array.prototype.filter;function Ire(){return this.children}function Rre(e){return function(){return Mre.call(this.children,e)}}function Dre(e){return this.selectAll(e==null?Ire:Rre(typeof e=="function"?e:JL(e)))}function Nre(e){typeof e!="function"&&(e=sb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=[],u,l=0;l<a;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&s.push(u);return new Rn(n,this._parents)}function eB(e){return new Array(e.length)}function jre(){return new Rn(this._enter||this._groups.map(eB),this._parents)}function x0(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}x0.prototype={constructor:x0,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Lre(e){return function(){return e}}function Bre(e,t,r,n,i,o){for(var a=0,s,u=t.length,l=o.length;a<l;++a)(s=t[a])?(s.__data__=o[a],n[a]=s):r[a]=new x0(e,o[a]);for(;a<u;++a)(s=t[a])&&(i[a]=s)}function Fre(e,t,r,n,i,o,a){var s,u,l=new Map,c=t.length,h=o.length,f=new Array(c),p;for(s=0;s<c;++s)(u=t[s])&&(f[s]=p=a.call(u,u.__data__,s,t)+"",l.has(p)?i[s]=u:l.set(p,u));for(s=0;s<h;++s)p=a.call(e,o[s],s,o)+"",(u=l.get(p))?(n[s]=u,u.__data__=o[s],l.delete(p)):r[s]=new x0(e,o[s]);for(s=0;s<c;++s)(u=t[s])&&l.get(f[s])===u&&(i[s]=u)}function zre(e){return e.__data__}function Hre(e,t){if(!arguments.length)return Array.from(this,zre);var r=t?Fre:Bre,n=this._parents,i=this._groups;typeof e!="function"&&(e=Lre(e));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=n[l],h=i[l],f=h.length,p=oO(e.call(c,c&&c.__data__,l,n)),d=p.length,m=s[l]=new Array(d),v=a[l]=new Array(d),b=u[l]=new Array(f);r(c,h,m,v,b,p,t);for(var g=0,y=0,_,w;g<d;++g)if(_=m[g]){for(g>=y&&(y=g+1);!(w=v[y])&&++y<d;);_._next=w||null}}return a=new Rn(a,n),a._enter=s,a._exit=u,a}function Ure(){return new Rn(this._exit||this._groups.map(eB),this._parents)}function Vre(e,t,r){var n=this.enter(),i=this,o=this.exit();return n=typeof e=="function"?e(n):n.append(e+""),t!=null&&(i=t(i)),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function Gre(e){if(!(e instanceof Rn))throw new Error("invalid merge");for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),a=new Array(n),s=0;s<o;++s)for(var u=t[s],l=r[s],c=u.length,h=a[s]=new Array(c),f,p=0;p<c;++p)(f=u[p]||l[p])&&(h[p]=f);for(;s<n;++s)a[s]=t[s];return new Rn(a,this._parents)}function Yre(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,o=n[i],a;--i>=0;)(a=n[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Wre(e){e||(e=Xre);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var a=r[o],s=a.length,u=i[o]=new Array(s),l,c=0;c<s;++c)(l=a[c])&&(u[c]=l);u.sort(t)}return new Rn(i,this._parents).order()}function Xre(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function $re(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function qre(){return Array.from(this)}function Kre(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length;i<o;++i){var a=n[i];if(a)return a}return null}function Zre(){let e=0;for(const t of this)++e;return e}function Qre(){return!this.node()}function Jre(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function ene(e){return function(){this.removeAttribute(e)}}function tne(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rne(e,t){return function(){this.setAttribute(e,t)}}function nne(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ine(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function one(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function ane(e,t){var r=ru(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?tne:ene:typeof t=="function"?r.local?one:ine:r.local?nne:rne)(r,t))}function aO(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function sne(e){return function(){this.style.removeProperty(e)}}function lne(e,t,r){return function(){this.style.setProperty(e,t,r)}}function une(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function cne(e,t,r){return arguments.length>1?this.each((t==null?sne:typeof t=="function"?une:lne)(e,t,r??"")):Zi(this.node(),e)}function Zi(e,t){return e.style.getPropertyValue(t)||aO(e).getComputedStyle(e,null).getPropertyValue(t)}function hne(e){return function(){delete this[e]}}function fne(e,t){return function(){this[e]=t}}function pne(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function dne(e,t){return arguments.length>1?this.each((t==null?hne:typeof t=="function"?pne:fne)(e,t)):this.node()[e]}function tB(e){return e.trim().split(/^|\s+/)}function sO(e){return e.classList||new rB(e)}function rB(e){this._node=e,this._names=tB(e.getAttribute("class")||"")}rB.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function nB(e,t){for(var r=sO(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function iB(e,t){for(var r=sO(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function mne(e){return function(){nB(this,e)}}function gne(e){return function(){iB(this,e)}}function yne(e,t){return function(){(t.apply(this,arguments)?nB:iB)(this,e)}}function vne(e,t){var r=tB(e+"");if(arguments.length<2){for(var n=sO(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?yne:t?mne:gne)(r,t))}function bne(){this.textContent=""}function _ne(e){return function(){this.textContent=e}}function wne(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Tne(e){return arguments.length?this.each(e==null?bne:(typeof e=="function"?wne:_ne)(e)):this.node().textContent}function xne(){this.innerHTML=""}function Ene(e){return function(){this.innerHTML=e}}function Sne(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function kne(e){return arguments.length?this.each(e==null?xne:(typeof e=="function"?Sne:Ene)(e)):this.node().innerHTML}function One(){this.nextSibling&&this.parentNode.appendChild(this)}function Pne(){return this.each(One)}function Cne(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ane(){return this.each(Cne)}function Mne(e){var t=typeof e=="function"?e:ob(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ine(){return null}function Rne(e,t){var r=typeof e=="function"?e:ob(e),n=t==null?Ine:typeof t=="function"?t:g1(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Dne(){var e=this.parentNode;e&&e.removeChild(this)}function Nne(){return this.each(Dne)}function jne(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Lne(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Bne(e){return this.select(e?Lne:jne)}function Fne(e){return arguments.length?this.property("__data__",e):this.node().__data__}function zne(e){return function(t){e.call(this,t,this.__data__)}}function Hne(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function Une(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,o;r<i;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function Vne(e,t,r){return function(){var n=this.__on,i,o=zne(t);if(n){for(var a=0,s=n.length;a<s;++a)if((i=n[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=t;return}}this.addEventListener(e.type,o,r),i={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(i):this.__on=[i]}}function Gne(e,t,r){var n=Hne(e+""),i,o=n.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<o;++i)if((a=n[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?Vne:Une,i=0;i<o;++i)this.each(s(n[i],t,r));return this}function oB(e,t,r){var n=aO(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Yne(e,t){return function(){return oB(this,e,t)}}function Wne(e,t){return function(){return oB(this,e,t.apply(this,arguments))}}function Xne(e,t){return this.each((typeof t=="function"?Wne:Yne)(e,t))}function*$ne(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length,a;i<o;++i)(a=n[i])&&(yield a)}var lO=[null];function Rn(e,t){this._groups=e,this._parents=t}function xo(){return new Rn([[document.documentElement]],lO)}function qne(){return this}Rn.prototype=xo.prototype={constructor:Rn,select:xre,selectAll:kre,selectChild:Are,selectChildren:Dre,filter:Nre,data:Hre,enter:jre,exit:Ure,join:Vre,merge:Gre,selection:qne,order:Yre,sort:Wre,call:$re,nodes:qre,node:Kre,size:Zre,empty:Qre,each:Jre,attr:ane,style:cne,property:dne,classed:vne,text:Tne,html:kne,raise:Pne,lower:Ane,append:Mne,insert:Rne,remove:Nne,clone:Bne,datum:Fne,on:Gne,dispatch:Xne,[Symbol.iterator]:$ne};function ut(e){return typeof e=="string"?new Rn([[document.querySelector(e)]],[document.documentElement]):new Rn([[e]],lO)}function Kne(e){return ut(ob(e).call(document.documentElement))}var Zne=0;function aB(){return new B5}function B5(){this._="@"+(++Zne).toString(36)}B5.prototype=aB.prototype={constructor:B5,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function sB(e){let t;for(;t=e.sourceEvent;)e=t;return e}function sr(e,t){if(e=sB(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function Qne(e,t){return e.target&&(e=sB(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,r=>sr(r,t))}function Jne(e){return typeof e=="string"?new Rn([document.querySelectorAll(e)],[document.documentElement]):new Rn([e==null?[]:oO(e)],lO)}const eie=Object.freeze(Object.defineProperty({__proto__:null,create:Kne,creator:ob,local:aB,matcher:sb,namespace:ru,namespaces:L5,pointer:sr,pointers:Qne,select:ut,selectAll:Jne,selection:xo,selector:g1,selectorAll:ab,style:Zi,window:aO},Symbol.toStringTag,{value:"Module"}));var lB={exports:{}},tie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rie=tie,nie=rie;function uB(){}function cB(){}cB.resetWarningCache=uB;var iie=function(){function e(n,i,o,a,s,u){if(u!==nie){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:cB,resetWarningCache:uB};return r.PropTypes=r,r};lB.exports=iie();var Va=lB.exports;const j=Ji(Va),hB=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch{return{postMessage:()=>{}}}})(),uO=(e,t)=>t?e.toLowerCase():e,fB=(e,{caseInsensitive:t}={})=>(r,n,i=1/0)=>{const o=uO(r,t);return e[o]||(e[o]=[],e.__times__[o]=[]),e[o].push(n),e.__times__[o].push(+i||1/0),{event:o,handler:n}},cO=(e,{caseInsensitive:t}={})=>(r,n)=>{typeof r=="object"&&(n=r.handler,r=r.event);const i=uO(r,t);if(!e[i])return;const o=e[i].indexOf(n);o===-1||o>=e[i].length||(e[i].splice(o,1),e.__times__[i].splice(o,1))},P3=(e,t)=>()=>{e.forEach(r=>r(t))},pB=(e,{isGlobal:t,caseInsensitive:r,async:n}={})=>{const i=cO(e);return(o,a,s={})=>{const u=uO(o,r);if(!e[u])return;const l=[...e[u]];if(l.forEach((c,h)=>{--e.__times__[u][h]<1&&i(u,c)}),(s.async!==void 0?s.async:n)?setTimeout(P3(l,a),0):P3(l,a)(),t&&!s.isNoGlobalBroadcast)try{hB.postMessage({event:u,news:a})}catch(c){if(c instanceof DOMException)console.warn(`Could not broadcast '${u}' globally. Payload is not clonable.`);else throw c}}},dB=e=>()=>{Object.keys(e).filter(t=>t[0]!=="_").forEach(t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]})},mB=()=>({__times__:{}}),lb=(e={})=>{const t=e.async||!1,r=e.caseInsensitive||!1,n=e.stack||mB();return n.__times__||(n.__times__={}),{publish:pB(n,{async:t,caseInsensitive:r}),subscribe:fB(n,{caseInsensitive:r}),unsubscribe:cO(n,{caseInsensitive:r}),clear:dB(n),stack:n}},Jf=mB(),cd={publish:pB(Jf,{isGlobal:!0}),subscribe:fB(Jf),unsubscribe:cO(Jf),clear:dB(Jf),stack:Jf};hB.onmessage=({data:{event:e,news:t}})=>cd.publish(e,t,{isNoGlobalBroadcast:!0});var gB={exports:{}},y1={},E0={exports:{}};E0.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",h="[object Date]",f="[object Error]",p="[object Function]",d="[object GeneratorFunction]",m="[object Map]",v="[object Number]",b="[object Null]",g="[object Object]",y="[object Promise]",_="[object Proxy]",w="[object RegExp]",T="[object Set]",O="[object String]",E="[object Symbol]",S="[object Undefined]",A="[object WeakMap]",M="[object ArrayBuffer]",H="[object DataView]",N="[object Float32Array]",k="[object Float64Array]",R="[object Int8Array]",B="[object Int16Array]",z="[object Int32Array]",U="[object Uint8Array]",V="[object Uint8ClampedArray]",W="[object Uint16Array]",te="[object Uint32Array]",re=/[\\^$.*+?()[\]{}|]/g,X=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,ee={};ee[N]=ee[k]=ee[R]=ee[B]=ee[z]=ee[U]=ee[V]=ee[W]=ee[te]=!0,ee[s]=ee[u]=ee[M]=ee[c]=ee[H]=ee[h]=ee[f]=ee[p]=ee[m]=ee[v]=ee[g]=ee[w]=ee[T]=ee[O]=ee[A]=!1;var le=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,fe=typeof self=="object"&&self&&self.Object===Object&&self,Ee=le||fe||Function("return this")(),ce=t&&!t.nodeType&&t,Se=ce&&!0&&e&&!e.nodeType&&e,Oe=Se&&Se.exports===ce,he=Oe&&le.process,Pe=(function(){try{return he&&he.binding&&he.binding("util")}catch{}})(),Fe=Pe&&Pe.isTypedArray;function We(ne,me){for(var Ce=-1,Ze=ne==null?0:ne.length,yr=0,At=[];++Ce<Ze;){var wr=ne[Ce];me(wr,Ce,ne)&&(At[yr++]=wr)}return At}function et(ne,me){for(var Ce=-1,Ze=me.length,yr=ne.length;++Ce<Ze;)ne[yr+Ce]=me[Ce];return ne}function He(ne,me){for(var Ce=-1,Ze=ne==null?0:ne.length;++Ce<Ze;)if(me(ne[Ce],Ce,ne))return!0;return!1}function $e(ne,me){for(var Ce=-1,Ze=Array(ne);++Ce<ne;)Ze[Ce]=me(Ce);return Ze}function vt(ne){return function(me){return ne(me)}}function Ct(ne,me){return ne.has(me)}function Lt(ne,me){return ne?.[me]}function Ye(ne){var me=-1,Ce=Array(ne.size);return ne.forEach(function(Ze,yr){Ce[++me]=[yr,Ze]}),Ce}function _e(ne,me){return function(Ce){return ne(me(Ce))}}function K(ne){var me=-1,Ce=Array(ne.size);return ne.forEach(function(Ze){Ce[++me]=Ze}),Ce}var oe=Array.prototype,ue=Function.prototype,q=Object.prototype,ae=Ee["__core-js_shared__"],ge=ue.toString,be=q.hasOwnProperty,Re=(function(){var ne=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||"");return ne?"Symbol(src)_1."+ne:""})(),je=q.toString,ze=RegExp("^"+ge.call(be).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=Oe?Ee.Buffer:void 0,nt=Ee.Symbol,Tt=Ee.Uint8Array,Xe=q.propertyIsEnumerable,Ut=oe.splice,C=nt?nt.toStringTag:void 0,L=Object.getOwnPropertySymbols,G=qe?qe.isBuffer:void 0,se=_e(Object.keys,Object),de=Ja(Ee,"DataView"),Q=Ja(Ee,"Map"),J=Ja(Ee,"Promise"),ve=Ja(Ee,"Set"),pe=Ja(Ee,"WeakMap"),De=Ja(Object,"create"),Ve=Gr(de),Ke=Gr(Q),ke=Gr(J),ye=Gr(ve),xe=Gr(pe),Y=nt?nt.prototype:void 0,Z=Y?Y.valueOf:void 0;function ie(ne){var me=-1,Ce=ne==null?0:ne.length;for(this.clear();++me<Ce;){var Ze=ne[me];this.set(Ze[0],Ze[1])}}function we(){this.__data__=De?De(null):{},this.size=0}function Te(ne){var me=this.has(ne)&&delete this.__data__[ne];return this.size-=me?1:0,me}function Ue(ne){var me=this.__data__;if(De){var Ce=me[ne];return Ce===n?void 0:Ce}return be.call(me,ne)?me[ne]:void 0}function Be(ne){var me=this.__data__;return De?me[ne]!==void 0:be.call(me,ne)}function mt(ne,me){var Ce=this.__data__;return this.size+=this.has(ne)?0:1,Ce[ne]=De&&me===void 0?n:me,this}ie.prototype.clear=we,ie.prototype.delete=Te,ie.prototype.get=Ue,ie.prototype.has=Be,ie.prototype.set=mt;function bt(ne){var me=-1,Ce=ne==null?0:ne.length;for(this.clear();++me<Ce;){var Ze=ne[me];this.set(Ze[0],Ze[1])}}function gt(){this.__data__=[],this.size=0}function at(ne){var me=this.__data__,Ce=no(me,ne);if(Ce<0)return!1;var Ze=me.length-1;return Ce==Ze?me.pop():Ut.call(me,Ce,1),--this.size,!0}function Bt(ne){var me=this.__data__,Ce=no(me,ne);return Ce<0?void 0:me[Ce][1]}function rr(ne){return no(this.__data__,ne)>-1}function ht(ne,me){var Ce=this.__data__,Ze=no(Ce,ne);return Ze<0?(++this.size,Ce.push([ne,me])):Ce[Ze][1]=me,this}bt.prototype.clear=gt,bt.prototype.delete=at,bt.prototype.get=Bt,bt.prototype.has=rr,bt.prototype.set=ht;function qt(ne){var me=-1,Ce=ne==null?0:ne.length;for(this.clear();++me<Ce;){var Ze=ne[me];this.set(Ze[0],Ze[1])}}function Yt(){this.size=0,this.__data__={hash:new ie,map:new(Q||bt),string:new ie}}function Mt(ne){var me=wu(this,ne).delete(ne);return this.size-=me?1:0,me}function nr(ne){return wu(this,ne).get(ne)}function Vr(ne){return wu(this,ne).has(ne)}function Wt(ne,me){var Ce=wu(this,ne),Ze=Ce.size;return Ce.set(ne,me),this.size+=Ce.size==Ze?0:1,this}qt.prototype.clear=Yt,qt.prototype.delete=Mt,qt.prototype.get=nr,qt.prototype.has=Vr,qt.prototype.set=Wt;function Ne(ne){var me=-1,Ce=ne==null?0:ne.length;for(this.__data__=new qt;++me<Ce;)this.add(ne[me])}function F(ne){return this.__data__.set(ne,n),this}function it(ne){return this.__data__.has(ne)}Ne.prototype.add=Ne.prototype.push=F,Ne.prototype.has=it;function St(ne){var me=this.__data__=new bt(ne);this.size=me.size}function pr(){this.__data__=new bt,this.size=0}function It(ne){var me=this.__data__,Ce=me.delete(ne);return this.size=me.size,Ce}function cr(ne){return this.__data__.get(ne)}function xn(ne){return this.__data__.has(ne)}function bi(ne,me){var Ce=this.__data__;if(Ce instanceof bt){var Ze=Ce.__data__;if(!Q||Ze.length<r-1)return Ze.push([ne,me]),this.size=++Ce.size,this;Ce=this.__data__=new qt(Ze)}return Ce.set(ne,me),this.size=Ce.size,this}St.prototype.clear=pr,St.prototype.delete=It,St.prototype.get=cr,St.prototype.has=xn,St.prototype.set=bi;function Kr(ne,me){var Ce=Ro(ne),Ze=!Ce&&j_(ne),yr=!Ce&&!Ze&&zf(ne),At=!Ce&&!Ze&&!yr&&lm(ne),wr=Ce||Ze||yr||At,Yr=wr?$e(ne.length,String):[],Zr=Yr.length;for(var dr in ne)be.call(ne,dr)&&!(wr&&(dr=="length"||yr&&(dr=="offset"||dr=="parent")||At&&(dr=="buffer"||dr=="byteLength"||dr=="byteOffset")||R_(dr,Zr)))&&Yr.push(dr);return Yr}function no(ne,me){for(var Ce=ne.length;Ce--;)if(om(ne[Ce][0],me))return Ce;return-1}function _u(ne,me,Ce){var Ze=me(ne);return Ro(ne)?Ze:et(Ze,Ce(ne))}function Ao(ne){return ne==null?ne===void 0?S:b:C&&C in Object(ne)?M_(ne):Ff(ne)}function Mo(ne){return Vs(ne)&&Ao(ne)==s}function nm(ne,me,Ce,Ze,yr){return ne===me?!0:ne==null||me==null||!Vs(ne)&&!Vs(me)?ne!==ne&&me!==me:im(ne,me,Ce,Ze,nm,yr)}function im(ne,me,Ce,Ze,yr,At){var wr=Ro(ne),Yr=Ro(me),Zr=wr?u:Io(ne),dr=Yr?u:Io(me);Zr=Zr==s?g:Zr,dr=dr==s?g:dr;var Nn=Zr==g,wi=dr==g,rn=Zr==dr;if(rn&&zf(ne)){if(!zf(me))return!1;wr=!0,Nn=!1}if(rn&&!Nn)return At||(At=new St),wr||lm(ne)?Ri(ne,me,Ce,Ze,yr,At):C_(ne,me,Zr,Ce,Ze,yr,At);if(!(Ce&i)){var Jn=Nn&&be.call(ne,"__wrapped__"),ei=wi&&be.call(me,"__wrapped__");if(Jn||ei){var Ti=Jn?ne.value():ne,io=ei?me.value():me;return At||(At=new St),yr(Ti,io,Ce,Ze,At)}}return rn?(At||(At=new St),A_(ne,me,Ce,Ze,yr,At)):!1}function P_(ne){if(!sm(ne)||N_(ne))return!1;var me=am(ne)?ze:X;return me.test(Gr(ne))}function _i(ne){return Vs(ne)&&Us(ne.length)&&!!ee[Ao(ne)]}function Lf(ne){if(!Bf(ne))return se(ne);var me=[];for(var Ce in Object(ne))be.call(ne,Ce)&&Ce!="constructor"&&me.push(Ce);return me}function Ri(ne,me,Ce,Ze,yr,At){var wr=Ce&i,Yr=ne.length,Zr=me.length;if(Yr!=Zr&&!(wr&&Zr>Yr))return!1;var dr=At.get(ne);if(dr&&At.get(me))return dr==me;var Nn=-1,wi=!0,rn=Ce&o?new Ne:void 0;for(At.set(ne,me),At.set(me,ne);++Nn<Yr;){var Jn=ne[Nn],ei=me[Nn];if(Ze)var Ti=wr?Ze(ei,Jn,Nn,me,ne,At):Ze(Jn,ei,Nn,ne,me,At);if(Ti!==void 0){if(Ti)continue;wi=!1;break}if(rn){if(!He(me,function(io,oa){if(!Ct(rn,oa)&&(Jn===io||yr(Jn,io,Ce,Ze,At)))return rn.push(oa)})){wi=!1;break}}else if(!(Jn===ei||yr(Jn,ei,Ce,Ze,At))){wi=!1;break}}return At.delete(ne),At.delete(me),wi}function C_(ne,me,Ce,Ze,yr,At,wr){switch(Ce){case H:if(ne.byteLength!=me.byteLength||ne.byteOffset!=me.byteOffset)return!1;ne=ne.buffer,me=me.buffer;case M:return!(ne.byteLength!=me.byteLength||!At(new Tt(ne),new Tt(me)));case c:case h:case v:return om(+ne,+me);case f:return ne.name==me.name&&ne.message==me.message;case w:case O:return ne==me+"";case m:var Yr=Ye;case T:var Zr=Ze&i;if(Yr||(Yr=K),ne.size!=me.size&&!Zr)return!1;var dr=wr.get(ne);if(dr)return dr==me;Ze|=o,wr.set(ne,me);var Nn=Ri(Yr(ne),Yr(me),Ze,yr,At,wr);return wr.delete(ne),Nn;case E:if(Z)return Z.call(ne)==Z.call(me)}return!1}function A_(ne,me,Ce,Ze,yr,At){var wr=Ce&i,Yr=Di(ne),Zr=Yr.length,dr=Di(me),Nn=dr.length;if(Zr!=Nn&&!wr)return!1;for(var wi=Zr;wi--;){var rn=Yr[wi];if(!(wr?rn in me:be.call(me,rn)))return!1}var Jn=At.get(ne);if(Jn&&At.get(me))return Jn==me;var ei=!0;At.set(ne,me),At.set(me,ne);for(var Ti=wr;++wi<Zr;){rn=Yr[wi];var io=ne[rn],oa=me[rn];if(Ze)var um=wr?Ze(oa,io,rn,me,ne,At):Ze(io,oa,rn,ne,me,At);if(!(um===void 0?io===oa||yr(io,oa,Ce,Ze,At):um)){ei=!1;break}Ti||(Ti=rn=="constructor")}if(ei&&!Ti){var Tu=ne.constructor,xu=me.constructor;Tu!=xu&&"constructor"in ne&&"constructor"in me&&!(typeof Tu=="function"&&Tu instanceof Tu&&typeof xu=="function"&&xu instanceof xu)&&(ei=!1)}return At.delete(ne),At.delete(me),ei}function Di(ne){return _u(ne,F_,I_)}function wu(ne,me){var Ce=ne.__data__;return D_(me)?Ce[typeof me=="string"?"string":"hash"]:Ce.map}function Ja(ne,me){var Ce=Lt(ne,me);return P_(Ce)?Ce:void 0}function M_(ne){var me=be.call(ne,C),Ce=ne[C];try{ne[C]=void 0;var Ze=!0}catch{}var yr=je.call(ne);return Ze&&(me?ne[C]=Ce:delete ne[C]),yr}var I_=L?function(ne){return ne==null?[]:(ne=Object(ne),We(L(ne),function(me){return Xe.call(ne,me)}))}:z_,Io=Ao;(de&&Io(new de(new ArrayBuffer(1)))!=H||Q&&Io(new Q)!=m||J&&Io(J.resolve())!=y||ve&&Io(new ve)!=T||pe&&Io(new pe)!=A)&&(Io=function(ne){var me=Ao(ne),Ce=me==g?ne.constructor:void 0,Ze=Ce?Gr(Ce):"";if(Ze)switch(Ze){case Ve:return H;case Ke:return m;case ke:return y;case ye:return T;case xe:return A}return me});function R_(ne,me){return me=me??a,!!me&&(typeof ne=="number"||$.test(ne))&&ne>-1&&ne%1==0&&ne<me}function D_(ne){var me=typeof ne;return me=="string"||me=="number"||me=="symbol"||me=="boolean"?ne!=="__proto__":ne===null}function N_(ne){return!!Re&&Re in ne}function Bf(ne){var me=ne&&ne.constructor,Ce=typeof me=="function"&&me.prototype||q;return ne===Ce}function Ff(ne){return je.call(ne)}function Gr(ne){if(ne!=null){try{return ge.call(ne)}catch{}try{return ne+""}catch{}}return""}function om(ne,me){return ne===me||ne!==ne&&me!==me}var j_=Mo((function(){return arguments})())?Mo:function(ne){return Vs(ne)&&be.call(ne,"callee")&&!Xe.call(ne,"callee")},Ro=Array.isArray;function L_(ne){return ne!=null&&Us(ne.length)&&!am(ne)}var zf=G||H_;function B_(ne,me){return nm(ne,me)}function am(ne){if(!sm(ne))return!1;var me=Ao(ne);return me==p||me==d||me==l||me==_}function Us(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=a}function sm(ne){var me=typeof ne;return ne!=null&&(me=="object"||me=="function")}function Vs(ne){return ne!=null&&typeof ne=="object"}var lm=Fe?vt(Fe):_i;function F_(ne){return L_(ne)?Kr(ne):Lf(ne)}function z_(){return[]}function H_(){return!1}e.exports=B_})(E0,E0.exports);var ub=E0.exports;const cb=Jo(KQ);var Xt={},oie=function(e,t,r){return e===t?!0:e.className===t.className&&r(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&r(e.verticalCompact,t.verticalCompact)&&r(e.compactType,t.compactType)&&r(e.layout,t.layout)&&r(e.margin,t.margin)&&r(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.allowOverlap===t.allowOverlap&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&r(e.resizeHandles,t.resizeHandles)&&r(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&r(e.droppingItem,t.droppingItem)&&r(e.innerRef,t.innerRef)};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.bottom=hO;Xt.childrenEqual=uie;Xt.cloneLayout=vB;Xt.cloneLayoutItem=Pl;Xt.collides=hb;Xt.compact=_B;Xt.compactItem=wB;Xt.compactType=vie;Xt.correctBounds=TB;Xt.fastPositionEqual=hie;Xt.fastRGLPropsEqual=void 0;Xt.getAllCollisions=xB;Xt.getFirstCollision=Ac;Xt.getLayoutItem=fO;Xt.getStatics=pO;Xt.modifyLayout=bB;Xt.moveElement=H5;Xt.moveElementAwayFromCollision=U5;Xt.noop=void 0;Xt.perc=pie;Xt.setTopLeft=mie;Xt.setTransform=die;Xt.sortLayoutItems=dO;Xt.sortLayoutItemsByColRow=SB;Xt.sortLayoutItemsByRowCol=EB;Xt.synchronizeLayoutWithChildren=gie;Xt.validateLayout=yie;Xt.withLayoutItem=lie;var aie=yB(ub),F5=yB(P);function yB(e){return e&&e.__esModule?e:{default:e}}function C3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function A3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(r),!0).forEach(function(n){sie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hO(e){for(var t=0,r,n=0,i=e.length;n<i;n++)r=e[n].y+e[n].h,r>t&&(t=r);return t}function vB(e){for(var t=Array(e.length),r=0,n=e.length;r<n;r++)t[r]=Pl(e[r]);return t}function bB(e,t){for(var r=Array(e.length),n=0,i=e.length;n<i;n++)t.i===e[n].i?r[n]=t:r[n]=e[n];return r}function lie(e,t,r){var n=fO(e,t);return n?(n=r(Pl(n)),e=bB(e,n),[e,n]):[e,null]}function Pl(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:!!e.moved,static:!!e.static,isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}function uie(e,t){return(0,aie.default)(F5.default.Children.map(e,function(r){return r?.key}),F5.default.Children.map(t,function(r){return r?.key}))}var cie=oie;Xt.fastRGLPropsEqual=cie;function hie(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height}function hb(e,t){return!(e.i===t.i||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function _B(e,t,r){for(var n=pO(e),i=dO(e,t),o=Array(e.length),a=0,s=i.length;a<s;a++){var u=Pl(i[a]);u.static||(u=wB(n,u,t,r,i),n.push(u)),o[e.indexOf(i[a])]=u,u.moved=!1}return o}var fie={x:"w",y:"h"};function z5(e,t,r,n){var i=fie[n];t[n]+=1;for(var o=e.map(function(u){return u.i}).indexOf(t.i),a=o+1;a<e.length;a++){var s=e[a];if(!s.static){if(s.y>t.y+t.h)break;hb(t,s)&&z5(e,s,r+t[i],n)}}t[n]=r}function wB(e,t,r,n,i){var o=r==="vertical",a=r==="horizontal";if(o)for(t.y=Math.min(hO(e),t.y);t.y>0&&!Ac(e,t);)t.y--;else if(a)for(;t.x>0&&!Ac(e,t);)t.x--;for(var s;s=Ac(e,t);)a?z5(i,t,s.x+s.w,"x"):z5(i,t,s.y+s.h,"y"),a&&t.x+t.w>n&&(t.x=n-t.w,t.y++);return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function TB(e,t){for(var r=pO(e),n=0,i=e.length;n<i;n++){var o=e[n];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),!o.static)r.push(o);else for(;Ac(r,o);)o.y++}return e}function fO(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r].i===t)return e[r]}function Ac(e,t){for(var r=0,n=e.length;r<n;r++)if(hb(e[r],t))return e[r]}function xB(e,t){return e.filter(function(r){return hb(r,t)})}function pO(e){return e.filter(function(t){return t.static})}function H5(e,t,r,n,i,o,a,s,u){if(t.static&&t.isDraggable!==!0||t.y===n&&t.x===r)return e;"Moving element ".concat(t.i," to [").concat(String(r),",").concat(String(n),"] from [").concat(t.x,",").concat(t.y,"]");var l=t.x,c=t.y;typeof r=="number"&&(t.x=r),typeof n=="number"&&(t.y=n),t.moved=!0;var h=dO(e,a),f=a==="vertical"&&typeof n=="number"?c>=n:a==="horizontal"&&typeof r=="number"?l>=r:!1;f&&(h=h.reverse());var p=xB(h,t),d=p.length>0;if(d&&u)return vB(e);if(d&&o)return"Collision prevented on ".concat(t.i,", reverting."),t.x=l,t.y=c,t.moved=!1,e;for(var m=0,v=p.length;m<v;m++){var b=p[m];"Resolving collision between ".concat(t.i," at [").concat(t.x,",").concat(t.y,"] and ").concat(b.i," at [").concat(b.x,",").concat(b.y,"]"),!b.moved&&(b.static?e=U5(e,b,t,i,a):e=U5(e,t,b,i,a))}return e}function U5(e,t,r,n,i,o){var a=i==="horizontal",s=i!=="horizontal",u=t.static;if(n){n=!1;var l={x:a?Math.max(t.x-r.w,0):r.x,y:s?Math.max(t.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"};if(!Ac(e,l))return"Doing reverse collision on ".concat(r.i," up to [").concat(l.x,",").concat(l.y,"]."),H5(e,r,a?l.x:void 0,s?l.y:void 0,n,u,i)}return H5(e,r,a?r.x+1:void 0,s?r.y+1:void 0,n,u,i)}function pie(e){return e*100+"%"}function die(e){var t=e.top,r=e.left,n=e.width,i=e.height,o="translate(".concat(r,"px,").concat(t,"px)");return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:"".concat(n,"px"),height:"".concat(i,"px"),position:"absolute"}}function mie(e){var t=e.top,r=e.left,n=e.width,i=e.height;return{top:"".concat(t,"px"),left:"".concat(r,"px"),width:"".concat(n,"px"),height:"".concat(i,"px"),position:"absolute"}}function dO(e,t){return t==="horizontal"?SB(e):t==="vertical"?EB(e):e}function EB(e){return e.slice(0).sort(function(t,r){return t.y>r.y||t.y===r.y&&t.x>r.x?1:t.y===r.y&&t.x===r.x?0:-1})}function SB(e){return e.slice(0).sort(function(t,r){return t.x>r.x||t.x===r.x&&t.y>r.y?1:-1})}function gie(e,t,r,n,i){e=e||[];var o=[];F5.default.Children.forEach(t,function(s){if(s?.key!=null){var u=fO(e,String(s.key));if(u)o.push(Pl(u));else{var l=s.props["data-grid"]||s.props._grid;l?o.push(Pl(A3(A3({},l),{},{i:s.key}))):o.push(Pl({w:1,h:1,x:0,y:hO(o),i:String(s.key)}))}}});var a=TB(o,{cols:r});return i?a:_B(a,n,r)}function yie(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout",r=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var n=0,i=e.length;n<i;n++)for(var o=e[n],a=0;a<r.length;a++)if(typeof o[r[a]]!="number")throw new Error("ReactGridLayout: "+t+"["+n+"]."+r[a]+" must be a number!")}function vie(e){var t=e||{},r=t.verticalCompact,n=t.compactType;return r===!1?null:n}var bie=function(){};Xt.noop=bie;var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.calcGridColWidth=fb;Ga.calcGridItemPosition=_ie;Ga.calcGridItemWHPx=V5;Ga.calcWH=Tie;Ga.calcXY=wie;Ga.clamp=Ld;function fb(e){var t=e.margin,r=e.containerPadding,n=e.containerWidth,i=e.cols;return(n-t[0]*(i-1)-r[0]*2)/i}function V5(e,t,r){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*r):e}function _ie(e,t,r,n,i,o){var a=e.margin,s=e.containerPadding,u=e.rowHeight,l=fb(e),c={};return o&&o.resizing?(c.width=Math.round(o.resizing.width),c.height=Math.round(o.resizing.height)):(c.width=V5(n,l,a[0]),c.height=V5(i,u,a[1])),o&&o.dragging?(c.top=Math.round(o.dragging.top),c.left=Math.round(o.dragging.left)):(c.top=Math.round((u+a[1])*r+s[1]),c.left=Math.round((l+a[0])*t+s[0])),c}function wie(e,t,r,n,i){var o=e.margin,a=e.cols,s=e.rowHeight,u=e.maxRows,l=fb(e),c=Math.round((r-o[0])/(l+o[0])),h=Math.round((t-o[1])/(s+o[1]));return c=Ld(c,0,a-n),h=Ld(h,0,u-i),{x:c,y:h}}function Tie(e,t,r,n,i){var o=e.margin,a=e.maxRows,s=e.cols,u=e.rowHeight,l=fb(e),c=Math.round((t+o[0])/(l+o[0])),h=Math.round((r+o[1])/(u+o[1]));return c=Ld(c,0,s-n),h=Ld(h,0,a-i),{w:c,h}}function Ld(e,t,r){return Math.max(Math.min(e,r),t)}var pb={},db={exports:{}},kB={},Br={},ea={};Object.defineProperty(ea,"__esModule",{value:!0});ea.dontSetMe=Oie;ea.findInArray=xie;ea.int=kie;ea.isFunction=Eie;ea.isNum=Sie;function xie(e,t){for(let r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function Eie(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Sie(e){return typeof e=="number"&&!isNaN(e)}function kie(e){return parseInt(e,10)}function Oie(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}var nu={};Object.defineProperty(nu,"__esModule",{value:!0});nu.browserPrefixToKey=PB;nu.browserPrefixToStyle=Pie;nu.default=void 0;nu.getPrefix=OB;const Ow=["Moz","Webkit","O","ms"];function OB(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const r=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!r||t in r)return"";for(let n=0;n<Ow.length;n++)if(PB(t,Ow[n])in r)return Ow[n];return""}function PB(e,t){return t?"".concat(t).concat(Cie(e)):e}function Pie(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function Cie(e){let t="",r=!0;for(let n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):e[n]==="-"?r=!0:t+=e[n];return t}nu.default=OB();Object.defineProperty(Br,"__esModule",{value:!0});Br.addClassName=MB;Br.addEvent=Iie;Br.addUserSelectStyles=Vie;Br.createCSSTransform=Fie;Br.createSVGTransform=zie;Br.getTouch=Hie;Br.getTouchIdentifier=Uie;Br.getTranslation=mO;Br.innerHeight=jie;Br.innerWidth=Lie;Br.matchesSelector=AB;Br.matchesSelectorAndParentsTo=Mie;Br.offsetXYFromParent=Bie;Br.outerHeight=Die;Br.outerWidth=Nie;Br.removeClassName=IB;Br.removeEvent=Rie;Br.removeUserSelectStyles=Gie;var Mi=ea,M3=Aie(nu);function CB(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(CB=function(n){return n?r:t})(e)}function Aie(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=CB(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}let Pm="";function AB(e,t){return Pm||(Pm=(0,Mi.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,Mi.isFunction)(e[r])})),(0,Mi.isFunction)(e[Pm])?e[Pm](t):!1}function Mie(e,t,r){let n=e;do{if(AB(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1}function Iie(e,t,r,n){if(!e)return;const i={capture:!0,...n};e.addEventListener?e.addEventListener(t,r,i):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}function Rie(e,t,r,n){if(!e)return;const i={capture:!0,...n};e.removeEventListener?e.removeEventListener(t,r,i):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}function Die(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Mi.int)(r.borderTopWidth),t+=(0,Mi.int)(r.borderBottomWidth),t}function Nie(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Mi.int)(r.borderLeftWidth),t+=(0,Mi.int)(r.borderRightWidth),t}function jie(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Mi.int)(r.paddingTop),t-=(0,Mi.int)(r.paddingBottom),t}function Lie(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Mi.int)(r.paddingLeft),t-=(0,Mi.int)(r.paddingRight),t}function Bie(e,t,r){const n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-n.left)/r,o=(e.clientY+t.scrollTop-n.top)/r;return{x:i,y:o}}function Fie(e,t){const r=mO(e,t,"px");return{[(0,M3.browserPrefixToKey)("transform",M3.default)]:r}}function zie(e,t){return mO(e,t,"")}function mO(e,t,r){let{x:n,y:i}=e,o="translate(".concat(n).concat(r,",").concat(i).concat(r,")");if(t){const a="".concat(typeof t.x=="string"?t.x:t.x+r),s="".concat(typeof t.y=="string"?t.y:t.y+r);o="translate(".concat(a,", ").concat(s,")")+o}return o}function Hie(e,t){return e.targetTouches&&(0,Mi.findInArray)(e.targetTouches,r=>t===r.identifier)||e.changedTouches&&(0,Mi.findInArray)(e.changedTouches,r=>t===r.identifier)}function Uie(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function Vie(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&MB(e.body,"react-draggable-transparent-selection")}function Gie(e){if(e)try{if(e.body&&IB(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function MB(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function IB(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var ta={};Object.defineProperty(ta,"__esModule",{value:!0});ta.canDragX=Xie;ta.canDragY=$ie;ta.createCoreData=Kie;ta.createDraggableData=Zie;ta.getBoundPosition=Yie;ta.getControlPosition=qie;ta.snapToGrid=Wie;var Si=ea,_c=Br;function Yie(e,t,r){if(!e.props.bounds)return[t,r];let{bounds:n}=e.props;n=typeof n=="string"?n:Qie(n);const i=gO(e);if(typeof n=="string"){const{ownerDocument:o}=i,a=o.defaultView;let s;if(n==="parent"?s=i.parentNode:s=o.querySelector(n),!(s instanceof a.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');const u=s,l=a.getComputedStyle(i),c=a.getComputedStyle(u);n={left:-i.offsetLeft+(0,Si.int)(c.paddingLeft)+(0,Si.int)(l.marginLeft),top:-i.offsetTop+(0,Si.int)(c.paddingTop)+(0,Si.int)(l.marginTop),right:(0,_c.innerWidth)(u)-(0,_c.outerWidth)(i)-i.offsetLeft+(0,Si.int)(c.paddingRight)-(0,Si.int)(l.marginRight),bottom:(0,_c.innerHeight)(u)-(0,_c.outerHeight)(i)-i.offsetTop+(0,Si.int)(c.paddingBottom)-(0,Si.int)(l.marginBottom)}}return(0,Si.isNum)(n.right)&&(t=Math.min(t,n.right)),(0,Si.isNum)(n.bottom)&&(r=Math.min(r,n.bottom)),(0,Si.isNum)(n.left)&&(t=Math.max(t,n.left)),(0,Si.isNum)(n.top)&&(r=Math.max(r,n.top)),[t,r]}function Wie(e,t,r){const n=Math.round(t/e[0])*e[0],i=Math.round(r/e[1])*e[1];return[n,i]}function Xie(e){return e.props.axis==="both"||e.props.axis==="x"}function $ie(e){return e.props.axis==="both"||e.props.axis==="y"}function qie(e,t,r){const n=typeof t=="number"?(0,_c.getTouch)(e,t):null;if(typeof t=="number"&&!n)return null;const i=gO(r),o=r.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,_c.offsetXYFromParent)(n||e,o,r.props.scale)}function Kie(e,t,r){const n=!(0,Si.isNum)(e.lastX),i=gO(e);return n?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:i,deltaX:t-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:r}}function Zie(e,t){const r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function Qie(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function gO(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var mb={},gb={};Object.defineProperty(gb,"__esModule",{value:!0});gb.default=Jie;function Jie(){}function eoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function toe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,noe(n.key),n)}}function roe(e,t,r){return t&&toe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function noe(e){var t=ioe(e,"string");return typeof t=="symbol"?t:t+""}function ioe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ooe(e,t,r){return t=S0(t),aoe(e,RB()?Reflect.construct(t,r||[],S0(e).constructor):t.apply(e,r))}function aoe(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return soe(e)}function soe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RB=function(){return!!e})()}function S0(e){return S0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S0(e)}function loe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G5(e,t)}function G5(e,t){return G5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},G5(e,t)}Object.defineProperty(mb,"__esModule",{value:!0});mb.default=void 0;var Pw=coe(P),ti=yO(Va),uoe=yO(Xo),Sn=Br,es=ta,Cw=ea,ep=yO(gb);function yO(e){return e&&e.__esModule?e:{default:e}}function DB(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(DB=function(n){return n?r:t})(e)}function coe(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=DB(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function Ln(e,t,r){return t=hoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hoe(e){var t=foe(e,"string");return typeof t=="symbol"?t:String(t)}function foe(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const so={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ts=so.mouse,yb=(function(e){function t(){var r;return eoe(this,t),r=ooe(this,t,arguments),Ln(r,"dragging",!1),Ln(r,"lastX",NaN),Ln(r,"lastY",NaN),Ln(r,"touchIdentifier",null),Ln(r,"mounted",!1),Ln(r,"handleDragStart",n=>{if(r.props.onMouseDown(n),!r.props.allowAnyClick&&typeof n.button=="number"&&n.button!==0)return!1;const i=r.findDOMNode();if(!i||!i.ownerDocument||!i.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:o}=i;if(r.props.disabled||!(n.target instanceof o.defaultView.Node)||r.props.handle&&!(0,Sn.matchesSelectorAndParentsTo)(n.target,r.props.handle,i)||r.props.cancel&&(0,Sn.matchesSelectorAndParentsTo)(n.target,r.props.cancel,i))return;n.type==="touchstart"&&n.preventDefault();const a=(0,Sn.getTouchIdentifier)(n);r.touchIdentifier=a;const s=(0,es.getControlPosition)(n,a,r);if(s==null)return;const{x:u,y:l}=s,c=(0,es.createCoreData)(r,u,l);(0,ep.default)("DraggableCore: handleDragStart: %j",c),(0,ep.default)("calling",r.props.onStart),!(r.props.onStart(n,c)===!1||r.mounted===!1)&&(r.props.enableUserSelectHack&&(0,Sn.addUserSelectStyles)(o),r.dragging=!0,r.lastX=u,r.lastY=l,(0,Sn.addEvent)(o,ts.move,r.handleDrag),(0,Sn.addEvent)(o,ts.stop,r.handleDragStop))}),Ln(r,"handleDrag",n=>{const i=(0,es.getControlPosition)(n,r.touchIdentifier,r);if(i==null)return;let{x:o,y:a}=i;if(Array.isArray(r.props.grid)){let u=o-r.lastX,l=a-r.lastY;if([u,l]=(0,es.snapToGrid)(r.props.grid,u,l),!u&&!l)return;o=r.lastX+u,a=r.lastY+l}const s=(0,es.createCoreData)(r,o,a);if((0,ep.default)("DraggableCore: handleDrag: %j",s),r.props.onDrag(n,s)===!1||r.mounted===!1){try{r.handleDragStop(new MouseEvent("mouseup"))}catch{const u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(u)}return}r.lastX=o,r.lastY=a}),Ln(r,"handleDragStop",n=>{if(!r.dragging)return;const i=(0,es.getControlPosition)(n,r.touchIdentifier,r);if(i==null)return;let{x:o,y:a}=i;if(Array.isArray(r.props.grid)){let l=o-r.lastX||0,c=a-r.lastY||0;[l,c]=(0,es.snapToGrid)(r.props.grid,l,c),o=r.lastX+l,a=r.lastY+c}const s=(0,es.createCoreData)(r,o,a);if(r.props.onStop(n,s)===!1||r.mounted===!1)return!1;const u=r.findDOMNode();u&&r.props.enableUserSelectHack&&(0,Sn.removeUserSelectStyles)(u.ownerDocument),(0,ep.default)("DraggableCore: handleDragStop: %j",s),r.dragging=!1,r.lastX=NaN,r.lastY=NaN,u&&((0,ep.default)("DraggableCore: Removing handlers"),(0,Sn.removeEvent)(u.ownerDocument,ts.move,r.handleDrag),(0,Sn.removeEvent)(u.ownerDocument,ts.stop,r.handleDragStop))}),Ln(r,"onMouseDown",n=>(ts=so.mouse,r.handleDragStart(n))),Ln(r,"onMouseUp",n=>(ts=so.mouse,r.handleDragStop(n))),Ln(r,"onTouchStart",n=>(ts=so.touch,r.handleDragStart(n))),Ln(r,"onTouchEnd",n=>(ts=so.touch,r.handleDragStop(n))),r}return loe(t,e),roe(t,[{key:"componentDidMount",value:function(){this.mounted=!0;const r=this.findDOMNode();r&&(0,Sn.addEvent)(r,so.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;const r=this.findDOMNode();if(r){const{ownerDocument:n}=r;(0,Sn.removeEvent)(n,so.mouse.move,this.handleDrag),(0,Sn.removeEvent)(n,so.touch.move,this.handleDrag),(0,Sn.removeEvent)(n,so.mouse.stop,this.handleDragStop),(0,Sn.removeEvent)(n,so.touch.stop,this.handleDragStop),(0,Sn.removeEvent)(r,so.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Sn.removeUserSelectStyles)(n)}}},{key:"findDOMNode",value:function(){var r,n;return(r=this.props)!==null&&r!==void 0&&r.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:uoe.default.findDOMNode(this)}},{key:"render",value:function(){return Pw.cloneElement(Pw.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])})(Pw.Component);mb.default=yb;Ln(yb,"displayName","DraggableCore");Ln(yb,"propTypes",{allowAnyClick:ti.default.bool,children:ti.default.node.isRequired,disabled:ti.default.bool,enableUserSelectHack:ti.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ti.default.arrayOf(ti.default.number),handle:ti.default.string,cancel:ti.default.string,nodeRef:ti.default.object,onStart:ti.default.func,onDrag:ti.default.func,onStop:ti.default.func,onMouseDown:ti.default.func,scale:ti.default.number,className:Cw.dontSetMe,style:Cw.dontSetMe,transform:Cw.dontSetMe});Ln(yb,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){function t(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")}function r(k,R){for(var B=0;B<R.length;B++){var z=R[B];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(k,i(z.key),z)}}function n(k,R,B){return R&&r(k.prototype,R),B&&r(k,B),Object.defineProperty(k,"prototype",{writable:!1}),k}function i(k){var R=o(k,"string");return typeof R=="symbol"?R:R+""}function o(k,R){if(typeof k!="object"||!k)return k;var B=k[Symbol.toPrimitive];if(B!==void 0){var z=B.call(k,R);if(typeof z!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(k)}function a(k,R,B){return R=c(R),s(k,l()?Reflect.construct(R,B||[],c(k).constructor):R.apply(k,B))}function s(k,R){if(R&&(typeof R=="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(k)}function u(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function l(){try{var k=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l=function(){return!!k})()}function c(k){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},c(k)}function h(k,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(R&&R.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),R&&f(k,R)}function f(k,R){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,z){return B.__proto__=z,B},f(k,R)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return _.default}}),e.default=void 0;var p=E(P),d=T(Va),m=T(Xo),v=T(cb),b=Br,g=ta,y=ea,_=T(mb),w=T(gb);function T(k){return k&&k.__esModule?k:{default:k}}function O(k){if(typeof WeakMap!="function")return null;var R=new WeakMap,B=new WeakMap;return(O=function(z){return z?B:R})(k)}function E(k,R){if(k&&k.__esModule)return k;if(k===null||typeof k!="object"&&typeof k!="function")return{default:k};var B=O(R);if(B&&B.has(k))return B.get(k);var z={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in k)if(V!=="default"&&Object.prototype.hasOwnProperty.call(k,V)){var W=U?Object.getOwnPropertyDescriptor(k,V):null;W&&(W.get||W.set)?Object.defineProperty(z,V,W):z[V]=k[V]}return z.default=k,B&&B.set(k,z),z}function S(){return S=Object.assign?Object.assign.bind():function(k){for(var R=1;R<arguments.length;R++){var B=arguments[R];for(var z in B)Object.prototype.hasOwnProperty.call(B,z)&&(k[z]=B[z])}return k},S.apply(this,arguments)}function A(k,R,B){return R=M(R),R in k?Object.defineProperty(k,R,{value:B,enumerable:!0,configurable:!0,writable:!0}):k[R]=B,k}function M(k){var R=H(k,"string");return typeof R=="symbol"?R:String(R)}function H(k,R){if(typeof k!="object"||k===null)return k;var B=k[Symbol.toPrimitive];if(B!==void 0){var z=B.call(k,R);if(typeof z!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(k)}let N=(function(k){function R(B){var z;return t(this,R),z=a(this,R,[B]),A(z,"onDragStart",(U,V)=>{if((0,w.default)("Draggable: onDragStart: %j",V),z.props.onStart(U,(0,g.createDraggableData)(z,V))===!1)return!1;z.setState({dragging:!0,dragged:!0})}),A(z,"onDrag",(U,V)=>{if(!z.state.dragging)return!1;(0,w.default)("Draggable: onDrag: %j",V);const W=(0,g.createDraggableData)(z,V),te={x:W.x,y:W.y,slackX:0,slackY:0};if(z.props.bounds){const{x:re,y:X}=te;te.x+=z.state.slackX,te.y+=z.state.slackY;const[$,ee]=(0,g.getBoundPosition)(z,te.x,te.y);te.x=$,te.y=ee,te.slackX=z.state.slackX+(re-te.x),te.slackY=z.state.slackY+(X-te.y),W.x=te.x,W.y=te.y,W.deltaX=te.x-z.state.x,W.deltaY=te.y-z.state.y}if(z.props.onDrag(U,W)===!1)return!1;z.setState(te)}),A(z,"onDragStop",(U,V)=>{if(!z.state.dragging||z.props.onStop(U,(0,g.createDraggableData)(z,V))===!1)return!1;(0,w.default)("Draggable: onDragStop: %j",V);const W={dragging:!1,slackX:0,slackY:0};if(z.props.position){const{x:te,y:re}=z.props.position;W.x=te,W.y=re}z.setState(W)}),z.state={dragging:!1,dragged:!1,x:B.position?B.position.x:B.defaultPosition.x,y:B.position?B.position.y:B.defaultPosition.y,prevPropsPosition:{...B.position},slackX:0,slackY:0,isElementSVG:!1},B.position&&!(B.onDrag||B.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),z}return h(R,k),n(R,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var B,z;return(B=(z=this.props)===null||z===void 0||(z=z.nodeRef)===null||z===void 0?void 0:z.current)!==null&&B!==void 0?B:m.default.findDOMNode(this)}},{key:"render",value:function(){const{axis:B,bounds:z,children:U,defaultPosition:V,defaultClassName:W,defaultClassNameDragging:te,defaultClassNameDragged:re,position:X,positionOffset:$,scale:ee,...le}=this.props;let fe={},Ee=null;const ce=!X||this.state.dragging,Se=X||V,Oe={x:(0,g.canDragX)(this)&&ce?this.state.x:Se.x,y:(0,g.canDragY)(this)&&ce?this.state.y:Se.y};this.state.isElementSVG?Ee=(0,b.createSVGTransform)(Oe,$):fe=(0,b.createCSSTransform)(Oe,$);const he=(0,v.default)(U.props.className||"",W,{[te]:this.state.dragging,[re]:this.state.dragged});return p.createElement(_.default,S({},le,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),p.cloneElement(p.Children.only(U),{className:he,style:{...U.props.style,...fe},transform:Ee}))}}],[{key:"getDerivedStateFromProps",value:(function(B,z){let{position:U}=B,{prevPropsPosition:V}=z;return U&&(!V||U.x!==V.x||U.y!==V.y)?((0,w.default)("Draggable: getDerivedStateFromProps %j",{position:U,prevPropsPosition:V}),{x:U.x,y:U.y,prevPropsPosition:{...U}}):null})}])})(p.Component);e.default=N,A(N,"displayName","Draggable"),A(N,"propTypes",{..._.default.propTypes,axis:d.default.oneOf(["both","x","y","none"]),bounds:d.default.oneOfType([d.default.shape({left:d.default.number,right:d.default.number,top:d.default.number,bottom:d.default.number}),d.default.string,d.default.oneOf([!1])]),defaultClassName:d.default.string,defaultClassNameDragging:d.default.string,defaultClassNameDragged:d.default.string,defaultPosition:d.default.shape({x:d.default.number,y:d.default.number}),positionOffset:d.default.shape({x:d.default.oneOfType([d.default.number,d.default.string]),y:d.default.oneOfType([d.default.number,d.default.string])}),position:d.default.shape({x:d.default.number,y:d.default.number}),className:y.dontSetMe,style:y.dontSetMe,transform:y.dontSetMe}),A(N,"defaultProps",{..._.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(kB);const{default:NB,DraggableCore:poe}=kB;db.exports=NB;db.exports.default=NB;db.exports.DraggableCore=poe;var jB=db.exports,vb={exports:{}},v1={},vO={};vO.__esModule=!0;vO.cloneElement=boe;var doe=moe(P);function moe(e){return e&&e.__esModule?e:{default:e}}function I3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function R3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(r),!0).forEach(function(n){goe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function goe(e,t,r){return t=yoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yoe(e){var t=voe(e,"string");return typeof t=="symbol"?t:String(t)}function voe(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function boe(e,t){return t.style&&e.props.style&&(t.style=R3(R3({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),doe.default.cloneElement(e,t)}var b1={};b1.__esModule=!0;b1.resizableProps=void 0;var Rt=_oe(Va);function _oe(e){return e&&e.__esModule?e:{default:e}}var woe={axis:Rt.default.oneOf(["both","x","y","none"]),className:Rt.default.string,children:Rt.default.element.isRequired,draggableOpts:Rt.default.shape({allowAnyClick:Rt.default.bool,cancel:Rt.default.string,children:Rt.default.node,disabled:Rt.default.bool,enableUserSelectHack:Rt.default.bool,offsetParent:Rt.default.node,grid:Rt.default.arrayOf(Rt.default.number),handle:Rt.default.string,nodeRef:Rt.default.object,onStart:Rt.default.func,onDrag:Rt.default.func,onStop:Rt.default.func,onMouseDown:Rt.default.func,scale:Rt.default.number}),height:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if(n.axis==="both"||n.axis==="y"){var i;return(i=Rt.default.number).isRequired.apply(i,t)}return Rt.default.number.apply(Rt.default,t)},handle:Rt.default.oneOfType([Rt.default.node,Rt.default.func]),handleSize:Rt.default.arrayOf(Rt.default.number),lockAspectRatio:Rt.default.bool,maxConstraints:Rt.default.arrayOf(Rt.default.number),minConstraints:Rt.default.arrayOf(Rt.default.number),onResizeStop:Rt.default.func,onResizeStart:Rt.default.func,onResize:Rt.default.func,resizeHandles:Rt.default.arrayOf(Rt.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:Rt.default.number,width:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if(n.axis==="both"||n.axis==="x"){var i;return(i=Rt.default.number).isRequired.apply(i,t)}return Rt.default.number.apply(Rt.default,t)}};b1.resizableProps=woe;v1.__esModule=!0;v1.default=void 0;var tp=koe(P),Toe=jB,xoe=vO,Eoe=b1,Soe=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function LB(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(LB=function(n){return n?r:t})(e)}function koe(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=LB(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function Y5(){return Y5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y5.apply(this,arguments)}function Ooe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(n){Poe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Poe(e,t,r){return t=Coe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Coe(e){var t=Aoe(e,"string");return typeof t=="symbol"?t:String(t)}function Aoe(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Moe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,W5(e,t)}function W5(e,t){return W5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},W5(e,t)}var bO=(function(e){Moe(t,e);function t(){for(var n,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,n.handleRefs={},n.lastHandleRect=null,n.slack=null,n}var r=t.prototype;return r.componentWillUnmount=function(){this.resetData()},r.resetData=function(){this.lastHandleRect=this.slack=null},r.runConstraints=function(n,i){var o=this.props,a=o.minConstraints,s=o.maxConstraints,u=o.lockAspectRatio;if(!a&&!s&&!u)return[n,i];if(u){var l=this.props.width/this.props.height,c=n-this.props.width,h=i-this.props.height;Math.abs(c)>Math.abs(h*l)?i=n/l:n=i*l}var f=n,p=i,d=this.slack||[0,0],m=d[0],v=d[1];return n+=m,i+=v,a&&(n=Math.max(a[0],n),i=Math.max(a[1],i)),s&&(n=Math.min(s[0],n),i=Math.min(s[1],i)),this.slack=[m+(f-n),v+(p-i)],[n,i]},r.resizeHandler=function(n,i){var o=this;return function(a,s){var u=s.node,l=s.deltaX,c=s.deltaY;n==="onResizeStart"&&o.resetData();var h=(o.props.axis==="both"||o.props.axis==="x")&&i!=="n"&&i!=="s",f=(o.props.axis==="both"||o.props.axis==="y")&&i!=="e"&&i!=="w";if(!(!h&&!f)){var p=i[0],d=i[i.length-1],m=u.getBoundingClientRect();if(o.lastHandleRect!=null){if(d==="w"){var v=m.left-o.lastHandleRect.left;l+=v}if(p==="n"){var b=m.top-o.lastHandleRect.top;c+=b}}o.lastHandleRect=m,d==="w"&&(l=-l),p==="n"&&(c=-c);var g=o.props.width+(h?l/o.props.transformScale:0),y=o.props.height+(f?c/o.props.transformScale:0),_=o.runConstraints(g,y);g=_[0],y=_[1];var w=g!==o.props.width||y!==o.props.height,T=typeof o.props[n]=="function"?o.props[n]:null,O=n==="onResize"&&!w;T&&!O&&(a.persist==null||a.persist(),T(a,{node:u,size:{width:g,height:y},handle:i})),n==="onResizeStop"&&o.resetData()}}},r.renderResizeHandle=function(n,i){var o=this.props.handle;if(!o)return tp.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+n,ref:i});if(typeof o=="function")return o(n,i);var a=typeof o.type=="string",s=Aw({ref:i},a?{}:{handleAxis:n});return tp.cloneElement(o,s)},r.render=function(){var n=this,i=this.props,o=i.children,a=i.className,s=i.draggableOpts;i.width,i.height,i.handle,i.handleSize,i.lockAspectRatio,i.axis,i.minConstraints,i.maxConstraints,i.onResize,i.onResizeStop,i.onResizeStart;var u=i.resizeHandles;i.transformScale;var l=Ooe(i,Soe);return(0,xoe.cloneElement)(o,Aw(Aw({},l),{},{className:(a?a+" ":"")+"react-resizable",children:[].concat(o.props.children,u.map(function(c){var h,f=(h=n.handleRefs[c])!=null?h:n.handleRefs[c]=tp.createRef();return tp.createElement(Toe.DraggableCore,Y5({},s,{nodeRef:f,key:"resizableHandle-"+c,onStop:n.resizeHandler("onResizeStop",c),onStart:n.resizeHandler("onResizeStart",c),onDrag:n.resizeHandler("onResize",c)}),n.renderResizeHandle(c,f))}))}))},t})(tp.Component);v1.default=bO;bO.propTypes=Eoe.resizableProps;bO.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var bb={};bb.__esModule=!0;bb.default=void 0;var Mw=joe(P),Ioe=BB(Va),Roe=BB(v1),Doe=b1,Noe=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function BB(e){return e&&e.__esModule?e:{default:e}}function FB(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(FB=function(n){return n?r:t})(e)}function joe(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=FB(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function X5(){return X5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X5.apply(this,arguments)}function N3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function k0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(r),!0).forEach(function(n){Loe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Loe(e,t,r){return t=Boe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Boe(e){var t=Foe(e,"string");return typeof t=="symbol"?t:String(t)}function Foe(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zoe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Hoe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$5(e,t)}function $5(e,t){return $5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},$5(e,t)}var zB=(function(e){Hoe(t,e);function t(){for(var n,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,n.state={width:n.props.width,height:n.props.height,propsWidth:n.props.width,propsHeight:n.props.height},n.onResize=function(s,u){var l=u.size;n.props.onResize?(s.persist==null||s.persist(),n.setState(l,function(){return n.props.onResize&&n.props.onResize(s,u)})):n.setState(l)},n}t.getDerivedStateFromProps=function(n,i){return i.propsWidth!==n.width||i.propsHeight!==n.height?{width:n.width,height:n.height,propsWidth:n.width,propsHeight:n.height}:null};var r=t.prototype;return r.render=function(){var n=this.props,i=n.handle,o=n.handleSize;n.onResize;var a=n.onResizeStart,s=n.onResizeStop,u=n.draggableOpts,l=n.minConstraints,c=n.maxConstraints,h=n.lockAspectRatio,f=n.axis;n.width,n.height;var p=n.resizeHandles,d=n.style,m=n.transformScale,v=zoe(n,Noe);return Mw.createElement(Roe.default,{axis:f,draggableOpts:u,handle:i,handleSize:o,height:this.state.height,lockAspectRatio:h,maxConstraints:c,minConstraints:l,onResizeStart:a,onResize:this.onResize,onResizeStop:s,resizeHandles:p,transformScale:m,width:this.state.width},Mw.createElement("div",X5({},v,{style:k0(k0({},d),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t})(Mw.Component);bb.default=zB;zB.propTypes=k0(k0({},Doe.resizableProps),{},{children:Ioe.default.element});vb.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};vb.exports.Resizable=v1.default;vb.exports.ResizableBox=bb.default;var Uoe=vb.exports,Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.resizeHandleType=Ca.resizeHandleAxesType=Ca.default=void 0;var Dt=HB(Va),Voe=HB(P);function HB(e){return e&&e.__esModule?e:{default:e}}var UB=Dt.default.arrayOf(Dt.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));Ca.resizeHandleAxesType=UB;var VB=Dt.default.oneOfType([Dt.default.node,Dt.default.func]);Ca.resizeHandleType=VB;var Goe={className:Dt.default.string,style:Dt.default.object,width:Dt.default.number,autoSize:Dt.default.bool,cols:Dt.default.number,draggableCancel:Dt.default.string,draggableHandle:Dt.default.string,verticalCompact:function(e){e.verticalCompact},compactType:Dt.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;t!==void 0&&Xt.validateLayout(t,"layout")},margin:Dt.default.arrayOf(Dt.default.number),containerPadding:Dt.default.arrayOf(Dt.default.number),rowHeight:Dt.default.number,maxRows:Dt.default.number,isBounded:Dt.default.bool,isDraggable:Dt.default.bool,isResizable:Dt.default.bool,allowOverlap:Dt.default.bool,preventCollision:Dt.default.bool,useCSSTransforms:Dt.default.bool,transformScale:Dt.default.number,isDroppable:Dt.default.bool,resizeHandles:UB,resizeHandle:VB,onLayoutChange:Dt.default.func,onDragStart:Dt.default.func,onDrag:Dt.default.func,onDragStop:Dt.default.func,onResizeStart:Dt.default.func,onResize:Dt.default.func,onResizeStop:Dt.default.func,onDrop:Dt.default.func,droppingItem:Dt.default.shape({i:Dt.default.string.isRequired,w:Dt.default.number.isRequired,h:Dt.default.number.isRequired}),children:function(e,t){var r=e[t],n={};Voe.default.Children.forEach(r,function(i){if(i?.key!=null){if(n[i.key])throw new Error('Duplicate child key "'+i.key+'" found! This will cause problems in ReactGridLayout.');n[i.key]=!0}})},innerRef:Dt.default.any};Ca.default=Goe;function q5(e){"@babel/helpers - typeof";return q5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q5(e)}Object.defineProperty(pb,"__esModule",{value:!0});pb.default=void 0;var Cu=_O(P),or=_O(Va),Yoe=jB,Woe=Uoe,rp=Xt,mn=Ga,j3=Ca,Xoe=_O(cb);function _O(e){return e&&e.__esModule?e:{default:e}}function L3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(r),!0).forEach(function(n){ho(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qoe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Koe(e,t,r){return t&&qoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K5(e,t)}function K5(e,t){return K5=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},K5(e,t)}function Qoe(e){var t=eae();return function(){var r=O0(e),n;if(t){var i=O0(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Joe(this,n)}}function Joe(e,t){if(t&&(q5(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ni(e)}function Ni(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O0(e){return O0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},O0(e)}function ho(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wO=(function(e){Zoe(r,e);var t=Qoe(r);function r(){var n;$oe(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),ho(Ni(n),"state",{resizing:null,dragging:null,className:""}),ho(Ni(n),"elementRef",Cu.default.createRef()),ho(Ni(n),"onDragStart",function(s,u){var l=u.node,c=n.props,h=c.onDragStart,f=c.transformScale;if(h){var p={top:0,left:0},d=l.offsetParent;if(d){var m=d.getBoundingClientRect(),v=l.getBoundingClientRect(),b=v.left/f,g=m.left/f,y=v.top/f,_=m.top/f;p.left=b-g+d.scrollLeft,p.top=y-_+d.scrollTop,n.setState({dragging:p});var w=(0,mn.calcXY)(n.getPositionParams(),p.top,p.left,n.props.w,n.props.h),T=w.x,O=w.y;return h.call(Ni(n),n.props.i,T,O,{e:s,node:l,newPosition:p})}}}),ho(Ni(n),"onDrag",function(s,u){var l=u.node,c=u.deltaX,h=u.deltaY,f=n.props.onDrag;if(f){if(!n.state.dragging)throw new Error("onDrag called before onDragStart.");var p=n.state.dragging.top+h,d=n.state.dragging.left+c,m=n.props,v=m.isBounded,b=m.i,g=m.w,y=m.h,_=m.containerWidth,w=n.getPositionParams();if(v){var T=l.offsetParent;if(T){var O=n.props,E=O.margin,S=O.rowHeight,A=T.clientHeight-(0,mn.calcGridItemWHPx)(y,S,E[1]);p=(0,mn.clamp)(p,0,A);var M=(0,mn.calcGridColWidth)(w),H=_-(0,mn.calcGridItemWHPx)(g,M,E[0]);d=(0,mn.clamp)(d,0,H)}}var N={top:p,left:d};n.setState({dragging:N});var k=(0,mn.calcXY)(w,p,d,g,y),R=k.x,B=k.y;return f.call(Ni(n),b,R,B,{e:s,node:l,newPosition:N})}}),ho(Ni(n),"onDragStop",function(s,u){var l=u.node,c=n.props.onDragStop;if(c){if(!n.state.dragging)throw new Error("onDragEnd called before onDragStart.");var h=n.props,f=h.w,p=h.h,d=h.i,m=n.state.dragging,v=m.left,b=m.top,g={top:b,left:v};n.setState({dragging:null});var y=(0,mn.calcXY)(n.getPositionParams(),b,v,f,p),_=y.x,w=y.y;return c.call(Ni(n),d,_,w,{e:s,node:l,newPosition:g})}}),ho(Ni(n),"onResizeStop",function(s,u){n.onResizeHandler(s,u,"onResizeStop")}),ho(Ni(n),"onResizeStart",function(s,u){n.onResizeHandler(s,u,"onResizeStart")}),ho(Ni(n),"onResize",function(s,u){n.onResizeHandler(s,u,"onResize")}),n}return Koe(r,[{key:"shouldComponentUpdate",value:function(n,i){if(this.props.children!==n.children||this.props.droppingPosition!==n.droppingPosition)return!0;var o=(0,mn.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),a=(0,mn.calcGridItemPosition)(this.getPositionParams(n),n.x,n.y,n.w,n.h,i);return!(0,rp.fastPositionEqual)(o,a)||this.props.useCSSTransforms!==n.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(n){this.moveDroppingItem(n)}},{key:"moveDroppingItem",value:function(n){var i=this.props.droppingPosition;if(i){var o=this.elementRef.current;if(o){var a=n.droppingPosition||{left:0,top:0},s=this.state.dragging,u=s&&i.left!==a.left||i.top!==a.top;if(!s)this.onDragStart(i.e,{node:o,deltaX:i.left,deltaY:i.top});else if(u){var l=i.left-s.left,c=i.top-s.top;this.onDrag(i.e,{node:o,deltaX:l,deltaY:c})}}}}},{key:"getPositionParams",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:n.cols,containerPadding:n.containerPadding,containerWidth:n.containerWidth,margin:n.margin,maxRows:n.maxRows,rowHeight:n.rowHeight}}},{key:"createStyle",value:function(n){var i=this.props,o=i.usePercentages,a=i.containerWidth,s=i.useCSSTransforms,u;return s?u=(0,rp.setTransform)(n):(u=(0,rp.setTopLeft)(n),o&&(u.left=(0,rp.perc)(n.left/a),u.width=(0,rp.perc)(n.width/a))),u}},{key:"mixinDraggable",value:function(n,i){return Cu.default.createElement(Yoe.DraggableCore,{disabled:!i,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},n)}},{key:"mixinResizable",value:function(n,i,o){var a=this.props,s=a.cols,u=a.x,l=a.minW,c=a.minH,h=a.maxW,f=a.maxH,p=a.transformScale,d=a.resizeHandles,m=a.resizeHandle,v=this.getPositionParams(),b=(0,mn.calcGridItemPosition)(v,0,0,s-u,0).width,g=(0,mn.calcGridItemPosition)(v,0,0,l,c),y=(0,mn.calcGridItemPosition)(v,0,0,h,f),_=[g.width,g.height],w=[Math.min(y.width,b),Math.min(y.height,1/0)];return Cu.default.createElement(Woe.Resizable,{draggableOpts:{disabled:!o},className:o?void 0:"react-resizable-hide",width:i.width,height:i.height,minConstraints:_,maxConstraints:w,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:p,resizeHandles:d,handle:m},n)}},{key:"onResizeHandler",value:(function(n,i,o){var a=i.node,s=i.size,u=this.props[o];if(u){var l=this.props,c=l.cols,h=l.x,f=l.y,p=l.i,d=l.maxH,m=l.minH,v=this.props,b=v.minW,g=v.maxW,y=(0,mn.calcWH)(this.getPositionParams(),s.width,s.height,h,f),_=y.w,w=y.h;b=Math.max(b,1),g=Math.min(g,c-h),_=(0,mn.clamp)(_,b,g),w=(0,mn.clamp)(w,m,d),this.setState({resizing:o==="onResizeStop"?null:s}),u.call(this,p,_,w,{e:n,node:a,size:s})}})},{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,a=n.w,s=n.h,u=n.isDraggable,l=n.isResizable,c=n.droppingPosition,h=n.useCSSTransforms,f=(0,mn.calcGridItemPosition)(this.getPositionParams(),i,o,a,s,this.state),p=Cu.default.Children.only(this.props.children),d=Cu.default.cloneElement(p,{ref:this.elementRef,className:(0,Xoe.default)("react-grid-item",p.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":u,"react-draggable-dragging":!!this.state.dragging,dropping:!!c,cssTransforms:h}),style:Iw(Iw(Iw({},this.props.style),p.props.style),this.createStyle(f))});return d=this.mixinResizable(d,f,l),d=this.mixinDraggable(d,u),d}}]),r})(Cu.default.Component);pb.default=wO;ho(wO,"propTypes",{children:or.default.element,cols:or.default.number.isRequired,containerWidth:or.default.number.isRequired,rowHeight:or.default.number.isRequired,margin:or.default.array.isRequired,maxRows:or.default.number.isRequired,containerPadding:or.default.array.isRequired,x:or.default.number.isRequired,y:or.default.number.isRequired,w:or.default.number.isRequired,h:or.default.number.isRequired,minW:function(e,t){var r=e[t];if(typeof r!="number")return new Error("minWidth not Number");if(r>e.w||r>e.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(e,t){var r=e[t];if(typeof r!="number")return new Error("maxWidth not Number");if(r<e.w||r<e.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(e,t){var r=e[t];if(typeof r!="number")return new Error("minHeight not Number");if(r>e.h||r>e.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(e,t){var r=e[t];if(typeof r!="number")return new Error("maxHeight not Number");if(r<e.h||r<e.minH)return new Error("maxHeight smaller than item height/minHeight")},i:or.default.string.isRequired,resizeHandles:j3.resizeHandleAxesType,resizeHandle:j3.resizeHandleType,onDragStop:or.default.func,onDragStart:or.default.func,onDrag:or.default.func,onResizeStop:or.default.func,onResizeStart:or.default.func,onResize:or.default.func,isDraggable:or.default.bool.isRequired,isResizable:or.default.bool.isRequired,isBounded:or.default.bool.isRequired,static:or.default.bool,useCSSTransforms:or.default.bool.isRequired,transformScale:or.default.number,className:or.default.string,handle:or.default.string,cancel:or.default.string,droppingPosition:or.default.shape({e:or.default.object.isRequired,left:or.default.number.isRequired,top:or.default.number.isRequired})});ho(wO,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1});function P0(e){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}Object.defineProperty(y1,"__esModule",{value:!0});y1.default=void 0;var $s=iae(P),Rw=_b(ub),tae=_b(cb),kt=Xt,rae=Ga,B3=_b(pb),nae=_b(Ca);function _b(e){return e&&e.__esModule?e:{default:e}}function GB(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(GB=function(n){return n?r:t})(e)}function iae(e,t){if(e&&e.__esModule)return e;if(e===null||P0(e)!=="object"&&typeof e!="function")return{default:e};var r=GB(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function oae(e){return lae(e)||sae(e)||YB(e)||aae()}function aae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lae(e){if(Array.isArray(e))return Z5(e)}function F3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(r),!0).forEach(function(n){vn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uae(e,t){return fae(e)||hae(e,t)||YB(e,t)||cae()}function cae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YB(e,t){if(e){if(typeof e=="string")return Z5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z5(e,t)}}function Z5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function fae(e){if(Array.isArray(e))return e}function pae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dae(e,t,r){return t&&z3(e.prototype,t),r&&z3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q5(e,t)}function Q5(e,t){return Q5=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Q5(e,t)}function gae(e){var t=vae();return function(){var r=C0(e),n;if(t){var i=C0(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yae(this,n)}}function yae(e,t){if(t&&(P0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oi(e)}function oi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C0(e){return C0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},C0(e)}function vn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var H3="react-grid-layout",WB=!1;try{WB=/firefox/i.test(navigator.userAgent)}catch{}var wb=(function(e){mae(r,e);var t=gae(r);function r(){var n;pae(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),vn(oi(n),"state",{activeDrag:null,layout:(0,kt.synchronizeLayoutWithChildren)(n.props.layout,n.props.children,n.props.cols,(0,kt.compactType)(n.props),n.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),vn(oi(n),"dragEnterCounter",0),vn(oi(n),"onDragStart",function(s,u,l,c){var h=c.e,f=c.node,p=n.state.layout,d=(0,kt.getLayoutItem)(p,s);if(d)return n.setState({oldDragItem:(0,kt.cloneLayoutItem)(d),oldLayout:p}),n.props.onDragStart(p,d,d,null,h,f)}),vn(oi(n),"onDrag",function(s,u,l,c){var h=c.e,f=c.node,p=n.state.oldDragItem,d=n.state.layout,m=n.props,v=m.cols,b=m.allowOverlap,g=m.preventCollision,y=(0,kt.getLayoutItem)(d,s);if(y){var _={w:y.w,h:y.h,x:y.x,y:y.y,placeholder:!0,i:s},w=!0;d=(0,kt.moveElement)(d,y,u,l,w,g,(0,kt.compactType)(n.props),v,b),n.props.onDrag(d,p,y,_,h,f),n.setState({layout:b?d:(0,kt.compact)(d,(0,kt.compactType)(n.props),v),activeDrag:_})}}),vn(oi(n),"onDragStop",function(s,u,l,c){var h=c.e,f=c.node;if(n.state.activeDrag){var p=n.state.oldDragItem,d=n.state.layout,m=n.props,v=m.cols,b=m.preventCollision,g=m.allowOverlap,y=(0,kt.getLayoutItem)(d,s);if(y){var _=!0;d=(0,kt.moveElement)(d,y,u,l,_,b,(0,kt.compactType)(n.props),v,g),n.props.onDragStop(d,p,y,null,h,f);var w=g?d:(0,kt.compact)(d,(0,kt.compactType)(n.props),v),T=n.state.oldLayout;n.setState({activeDrag:null,layout:w,oldDragItem:null,oldLayout:null}),n.onLayoutMaybeChanged(w,T)}}}),vn(oi(n),"onResizeStart",function(s,u,l,c){var h=c.e,f=c.node,p=n.state.layout,d=(0,kt.getLayoutItem)(p,s);d&&(n.setState({oldResizeItem:(0,kt.cloneLayoutItem)(d),oldLayout:n.state.layout}),n.props.onResizeStart(p,d,d,null,h,f))}),vn(oi(n),"onResize",function(s,u,l,c){var h=c.e,f=c.node,p=n.state,d=p.layout,m=p.oldResizeItem,v=n.props,b=v.cols,g=v.preventCollision,y=v.allowOverlap,_=(0,kt.withLayoutItem)(d,s,function(S){var A;if(g&&!y){var M=(0,kt.getAllCollisions)(d,qs(qs({},S),{},{w:u,h:l})).filter(function(k){return k.i!==S.i});if(A=M.length>0,A){var H=1/0,N=1/0;M.forEach(function(k){k.x>S.x&&(H=Math.min(H,k.x)),k.y>S.y&&(N=Math.min(N,k.y))}),Number.isFinite(H)&&(S.w=H-S.x),Number.isFinite(N)&&(S.h=N-S.y)}}return A||(S.w=u,S.h=l),S}),w=uae(_,2),T=w[0],O=w[1];if(O){var E={w:O.w,h:O.h,x:O.x,y:O.y,static:!0,i:s};n.props.onResize(T,m,O,E,h,f),n.setState({layout:y?T:(0,kt.compact)(T,(0,kt.compactType)(n.props),b),activeDrag:E})}}),vn(oi(n),"onResizeStop",function(s,u,l,c){var h=c.e,f=c.node,p=n.state,d=p.layout,m=p.oldResizeItem,v=n.props,b=v.cols,g=v.allowOverlap,y=(0,kt.getLayoutItem)(d,s);n.props.onResizeStop(d,m,y,null,h,f);var _=g?d:(0,kt.compact)(d,(0,kt.compactType)(n.props),b),w=n.state.oldLayout;n.setState({activeDrag:null,layout:_,oldResizeItem:null,oldLayout:null}),n.onLayoutMaybeChanged(_,w)}),vn(oi(n),"onDragOver",function(s){var u;if(s.preventDefault(),s.stopPropagation(),WB&&!((u=s.nativeEvent.target)!==null&&u!==void 0&&u.classList.contains(H3)))return!1;var l=n.props,c=l.droppingItem,h=l.onDropDragOver,f=l.margin,p=l.cols,d=l.rowHeight,m=l.maxRows,v=l.width,b=l.containerPadding,g=l.transformScale,y=h?.(s);if(y===!1)return n.state.droppingDOMNode&&n.removeDroppingPlaceholder(),!1;var _=qs(qs({},c),y),w=n.state.layout,T=s.nativeEvent,O=T.layerX,E=T.layerY,S={left:O/g,top:E/g,e:s};if(n.state.droppingDOMNode){if(n.state.droppingPosition){var A=n.state.droppingPosition,M=A.left,H=A.top,N=M!=O||H!=E;N&&n.setState({droppingPosition:S})}}else{var k={cols:p,margin:f,maxRows:m,rowHeight:d,containerWidth:v,containerPadding:b||f},R=(0,rae.calcXY)(k,E,O,_.w,_.h);n.setState({droppingDOMNode:$s.createElement("div",{key:_.i}),droppingPosition:S,layout:[].concat(oae(w),[qs(qs({},_),{},{x:R.x,y:R.y,static:!1,isDraggable:!0})])})}}),vn(oi(n),"removeDroppingPlaceholder",function(){var s=n.props,u=s.droppingItem,l=s.cols,c=n.state.layout,h=(0,kt.compact)(c.filter(function(f){return f.i!==u.i}),(0,kt.compactType)(n.props),l);n.setState({layout:h,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),vn(oi(n),"onDragLeave",function(s){s.preventDefault(),s.stopPropagation(),n.dragEnterCounter--,n.dragEnterCounter===0&&n.removeDroppingPlaceholder()}),vn(oi(n),"onDragEnter",function(s){s.preventDefault(),s.stopPropagation(),n.dragEnterCounter++}),vn(oi(n),"onDrop",function(s){s.preventDefault(),s.stopPropagation();var u=n.props.droppingItem,l=n.state.layout,c=l.find(function(h){return h.i===u.i});n.dragEnterCounter=0,n.removeDroppingPlaceholder(),n.props.onDrop(l,c,s)}),n}return dae(r,[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(n,i){return this.props.children!==n.children||!(0,kt.fastRGLPropsEqual)(this.props,n,Rw.default)||this.state.activeDrag!==i.activeDrag||this.state.mounted!==i.mounted||this.state.droppingPosition!==i.droppingPosition}},{key:"componentDidUpdate",value:function(n,i){if(!this.state.activeDrag){var o=this.state.layout,a=i.layout;this.onLayoutMaybeChanged(o,a)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var n=(0,kt.bottom)(this.state.layout),i=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return n*this.props.rowHeight+(n-1)*this.props.margin[1]+i*2+"px"}}},{key:"onLayoutMaybeChanged",value:function(n,i){i||(i=this.state.layout),(0,Rw.default)(i,n)||this.props.onLayoutChange(n)}},{key:"placeholder",value:(function(){var n=this.state.activeDrag;if(!n)return null;var i=this.props,o=i.width,a=i.cols,s=i.margin,u=i.containerPadding,l=i.rowHeight,c=i.maxRows,h=i.useCSSTransforms,f=i.transformScale;return $s.createElement(B3.default,{w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,className:"react-grid-placeholder",containerWidth:o,cols:a,margin:s,containerPadding:u||s,maxRows:c,rowHeight:l,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:h,transformScale:f},$s.createElement("div",null))})},{key:"processGridItem",value:function(n,i){if(!(!n||!n.key)){var o=(0,kt.getLayoutItem)(this.state.layout,String(n.key));if(!o)return null;var a=this.props,s=a.width,u=a.cols,l=a.margin,c=a.containerPadding,h=a.rowHeight,f=a.maxRows,p=a.isDraggable,d=a.isResizable,m=a.isBounded,v=a.useCSSTransforms,b=a.transformScale,g=a.draggableCancel,y=a.draggableHandle,_=a.resizeHandles,w=a.resizeHandle,T=this.state,O=T.mounted,E=T.droppingPosition,S=typeof o.isDraggable=="boolean"?o.isDraggable:!o.static&&p,A=typeof o.isResizable=="boolean"?o.isResizable:!o.static&&d,M=o.resizeHandles||_,H=S&&m&&o.isBounded!==!1;return $s.createElement(B3.default,{containerWidth:s,cols:u,margin:l,containerPadding:c||l,maxRows:f,rowHeight:h,cancel:g,handle:y,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:S,isResizable:A,isBounded:H,useCSSTransforms:v&&O,usePercentages:!O,transformScale:b,w:o.w,h:o.h,x:o.x,y:o.y,i:o.i,minH:o.minH,minW:o.minW,maxH:o.maxH,maxW:o.maxW,static:o.static,droppingPosition:i?E:void 0,resizeHandles:M,resizeHandle:w},n)}}},{key:"render",value:function(){var n=this,i=this.props,o=i.className,a=i.style,s=i.isDroppable,u=i.innerRef,l=(0,tae.default)(H3,o),c=qs({height:this.containerHeight()},a);return $s.createElement("div",{ref:u,className:l,style:c,onDrop:s?this.onDrop:kt.noop,onDragLeave:s?this.onDragLeave:kt.noop,onDragEnter:s?this.onDragEnter:kt.noop,onDragOver:s?this.onDragOver:kt.noop},$s.Children.map(this.props.children,function(h){return n.processGridItem(h)}),s&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}],[{key:"getDerivedStateFromProps",value:function(n,i){var o;if(i.activeDrag)return null;if(!(0,Rw.default)(n.layout,i.propsLayout)||n.compactType!==i.compactType?o=n.layout:(0,kt.childrenEqual)(n.children,i.children)||(o=i.layout),o){var a=(0,kt.synchronizeLayoutWithChildren)(o,n.children,n.cols,(0,kt.compactType)(n),n.allowOverlap);return{layout:a,compactType:n.compactType,children:n.children,propsLayout:n.layout}}return null}}]),r})($s.Component);y1.default=wb;vn(wb,"displayName","ReactGridLayout");vn(wb,"propTypes",nae.default);vn(wb,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:kt.noop,onDragStart:kt.noop,onDrag:kt.noop,onDragStop:kt.noop,onResizeStart:kt.noop,onResize:kt.noop,onResizeStop:kt.noop,onDrop:kt.noop,onDropDragOver:kt.noop});var Tb={},iu={};Object.defineProperty(iu,"__esModule",{value:!0});iu.findOrGenerateResponsiveLayout=wae;iu.getBreakpointFromWidth=bae;iu.getColsFromBreakpoint=_ae;iu.sortBreakpoints=TO;var Cm=Xt;function bae(e,t){for(var r=TO(e),n=r[0],i=1,o=r.length;i<o;i++){var a=r[i];t>e[a]&&(n=a)}return n}function _ae(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function wae(e,t,r,n,i,o){if(e[r])return(0,Cm.cloneLayout)(e[r]);for(var a=e[n],s=TO(t),u=s.slice(s.indexOf(r)),l=0,c=u.length;l<c;l++){var h=u[l];if(e[h]){a=e[h];break}}return a=(0,Cm.cloneLayout)(a||[]),(0,Cm.compact)((0,Cm.correctBounds)(a,{cols:i}),o,i)}function TO(e){var t=Object.keys(e);return t.sort(function(r,n){return e[r]-e[n]})}function A0(e){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}Object.defineProperty(Tb,"__esModule",{value:!0});Tb.default=void 0;var U3=Eae(P),ri=xO(Va),Dw=xO(ub),Mc=Xt,Ks=iu,Tae=xO(y1),xae=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function xO(e){return e&&e.__esModule?e:{default:e}}function XB(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(XB=function(n){return n?r:t})(e)}function Eae(e,t){if(e&&e.__esModule)return e;if(e===null||A0(e)!=="object"&&typeof e!="function")return{default:e};var r=XB(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function J5(){return J5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J5.apply(this,arguments)}function Sae(e,t){if(e==null)return{};var r=kae(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kae(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function V3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V3(Object(r),!0).forEach(function(n){Ic(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pae(e,t,r){return t&&G3(e.prototype,t),r&&G3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ex(e,t)}function ex(e,t){return ex=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},ex(e,t)}function Aae(e){var t=Iae();return function(){var r=M0(e),n;if(t){var i=M0(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mae(this,n)}}function Mae(e,t){if(t&&(A0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tx(e)}function tx(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function M0(e){return M0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},M0(e)}function Ic(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Y3=function(e){return Object.prototype.toString.call(e)};function Am(e,t){return e==null?null:Array.isArray(e)?e:e[t]}var EO=(function(e){Cae(r,e);var t=Aae(r);function r(){var n;Oae(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),Ic(tx(n),"state",n.generateInitialState()),Ic(tx(n),"onLayoutChange",function(s){n.props.onLayoutChange(s,Nw(Nw({},n.props.layouts),{},Ic({},n.state.breakpoint,s)))}),n}return Pae(r,[{key:"generateInitialState",value:function(){var n=this.props,i=n.width,o=n.breakpoints,a=n.layouts,s=n.cols,u=(0,Ks.getBreakpointFromWidth)(o,i),l=(0,Ks.getColsFromBreakpoint)(u,s),c=this.props.verticalCompact===!1?null:this.props.compactType,h=(0,Ks.findOrGenerateResponsiveLayout)(a,o,u,u,l,c);return{layout:h,breakpoint:u,cols:l}}},{key:"componentDidUpdate",value:function(n){(this.props.width!=n.width||this.props.breakpoint!==n.breakpoint||!(0,Dw.default)(this.props.breakpoints,n.breakpoints)||!(0,Dw.default)(this.props.cols,n.cols))&&this.onWidthChange(n)}},{key:"onWidthChange",value:(function(n){var i=this.props,o=i.breakpoints,a=i.cols,s=i.layouts,u=i.compactType,l=this.props.breakpoint||(0,Ks.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),c=this.state.breakpoint,h=(0,Ks.getColsFromBreakpoint)(l,a),f=Nw({},s);if(c!==l||n.breakpoints!==o||n.cols!==a){c in f||(f[c]=(0,Mc.cloneLayout)(this.state.layout));var p=(0,Ks.findOrGenerateResponsiveLayout)(f,o,l,c,h,u);p=(0,Mc.synchronizeLayoutWithChildren)(p,this.props.children,h,u,this.props.allowOverlap),f[l]=p,this.props.onLayoutChange(p,f),this.props.onBreakpointChange(l,h),this.setState({breakpoint:l,layout:p,cols:h})}var d=Am(this.props.margin,l),m=Am(this.props.containerPadding,l);this.props.onWidthChange(this.props.width,d,h,m)})},{key:"render",value:function(){var n=this.props;n.breakpoint,n.breakpoints,n.cols,n.layouts;var i=n.margin,o=n.containerPadding;n.onBreakpointChange,n.onLayoutChange,n.onWidthChange;var a=Sae(n,xae);return U3.createElement(Tae.default,J5({},a,{margin:Am(i,this.state.breakpoint),containerPadding:Am(o,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}],[{key:"getDerivedStateFromProps",value:function(n,i){if(!(0,Dw.default)(n.layouts,i.layouts)){var o=i.breakpoint,a=i.cols,s=(0,Ks.findOrGenerateResponsiveLayout)(n.layouts,n.breakpoints,o,o,a,n.compactType);return{layout:s,layouts:n.layouts}}return null}}]),r})(U3.Component);Tb.default=EO;Ic(EO,"propTypes",{breakpoint:ri.default.string,breakpoints:ri.default.object,allowOverlap:ri.default.bool,cols:ri.default.object,margin:ri.default.oneOfType([ri.default.array,ri.default.object]),containerPadding:ri.default.oneOfType([ri.default.array,ri.default.object]),layouts:function(e,t){if(Y3(e[t])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+Y3(e[t]));Object.keys(e[t]).forEach(function(r){if(!(r in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,Mc.validateLayout)(e.layouts[r],"layouts."+r)})},width:ri.default.number.isRequired,onBreakpointChange:ri.default.func,onLayoutChange:ri.default.func,onWidthChange:ri.default.func});Ic(EO,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:Mc.noop,onLayoutChange:Mc.noop,onWidthChange:Mc.noop});var SO={};function I0(e){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I0(e)}Object.defineProperty(SO,"__esModule",{value:!0});SO.default=Xae;var Mm=jae(P),Rae=$B(Va),Dae=$B(cb),Nae=["measureBeforeMount"];function $B(e){return e&&e.__esModule?e:{default:e}}function qB(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(qB=function(n){return n?r:t})(e)}function jae(e,t){if(e&&e.__esModule)return e;if(e===null||I0(e)!=="object"&&typeof e!="function")return{default:e};var r=qB(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function rx(){return rx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rx.apply(this,arguments)}function Lae(e,t){if(e==null)return{};var r=Bae(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bae(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Fae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hae(e,t,r){return t&&zae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nx(e,t)}function nx(e,t){return nx=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},nx(e,t)}function Vae(e){var t=Yae();return function(){var r=R0(e),n;if(t){var i=R0(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gae(this,n)}}function Gae(e,t){if(t&&(I0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lp(e)}function Lp(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R0(e){return R0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},R0(e)}function Au(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wae="react-grid-layout";function Xae(e){var t;return t=(function(r){Uae(i,r);var n=Vae(i);function i(){var o;Fae(this,i);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return o=n.call.apply(n,[this].concat(s)),Au(Lp(o),"state",{width:1280}),Au(Lp(o),"elementRef",Mm.createRef()),Au(Lp(o),"mounted",!1),Au(Lp(o),"onWindowResize",function(){if(o.mounted){var l=o.elementRef.current;l instanceof HTMLElement&&l.offsetWidth&&o.setState({width:l.offsetWidth})}}),o}return Hae(i,[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var o=this.props,a=o.measureBeforeMount,s=Lae(o,Nae);return a&&!this.mounted?Mm.createElement("div",{className:(0,Dae.default)(this.props.className,Wae),style:this.props.style,ref:this.elementRef}):Mm.createElement(e,rx({innerRef:this.elementRef},s,this.state))}}]),i})(Mm.Component),Au(t,"defaultProps",{measureBeforeMount:!1}),Au(t,"propTypes",{measureBeforeMount:Rae.default.bool}),t}(function(e){e.exports=y1.default,e.exports.utils=Xt,e.exports.Responsive=Tb.default,e.exports.Responsive.utils=iu,e.exports.WidthProvider=SO.default})(gB);var $ae=gB.exports;const qae=Ji($ae);var _1={},Im,Kae=new Uint8Array(16);function KB(){if(!Im&&(Im=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Im))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Im(Kae)}const Zae=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function xb(e){return typeof e=="string"&&Zae.test(e)}var yn=[];for(var jw=0;jw<256;++jw)yn.push((jw+256).toString(16).substr(1));function Eb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(yn[e[t+0]]+yn[e[t+1]]+yn[e[t+2]]+yn[e[t+3]]+"-"+yn[e[t+4]]+yn[e[t+5]]+"-"+yn[e[t+6]]+yn[e[t+7]]+"-"+yn[e[t+8]]+yn[e[t+9]]+"-"+yn[e[t+10]]+yn[e[t+11]]+yn[e[t+12]]+yn[e[t+13]]+yn[e[t+14]]+yn[e[t+15]]).toLowerCase();if(!xb(r))throw TypeError("Stringified UUID is invalid");return r}var W3,Lw,Bw=0,Fw=0;function Qae(e,t,r){var n=t&&r||0,i=t||new Array(16);e=e||{};var o=e.node||W3,a=e.clockseq!==void 0?e.clockseq:Lw;if(o==null||a==null){var s=e.random||(e.rng||KB)();o==null&&(o=W3=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=Lw=(s[6]<<8|s[7])&16383)}var u=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:Fw+1,c=u-Bw+(l-Fw)/1e4;if(c<0&&e.clockseq===void 0&&(a=a+1&16383),(c<0||u>Bw)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Bw=u,Fw=l,Lw=a,u+=122192928e5;var h=((u&268435455)*1e4+l)%4294967296;i[n++]=h>>>24&255,i[n++]=h>>>16&255,i[n++]=h>>>8&255,i[n++]=h&255;var f=u/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var p=0;p<6;++p)i[n+p]=o[p];return t||Eb(i)}function ZB(e){if(!xb(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function Jae(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var ese="6ba7b810-9dad-11d1-80b4-00c04fd430c8",tse="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function QB(e,t,r){function n(i,o,a,s){if(typeof i=="string"&&(i=Jae(i)),typeof o=="string"&&(o=ZB(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=r(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,a){s=s||0;for(var l=0;l<16;++l)a[s+l]=u[l];return a}return Eb(u)}try{n.name=e}catch{}return n.DNS=ese,n.URL=tse,n}function rse(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return nse(ise(ose(e),e.length*8))}function nse(e){for(var t=[],r=e.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(a)}return t}function JB(e){return(e+64>>>9<<4)+14+1}function ise(e,t){e[t>>5]|=128<<t%32,e[JB(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=r,u=n,l=i,c=o;r=kn(r,n,i,o,e[a],7,-680876936),o=kn(o,r,n,i,e[a+1],12,-389564586),i=kn(i,o,r,n,e[a+2],17,606105819),n=kn(n,i,o,r,e[a+3],22,-1044525330),r=kn(r,n,i,o,e[a+4],7,-176418897),o=kn(o,r,n,i,e[a+5],12,1200080426),i=kn(i,o,r,n,e[a+6],17,-1473231341),n=kn(n,i,o,r,e[a+7],22,-45705983),r=kn(r,n,i,o,e[a+8],7,1770035416),o=kn(o,r,n,i,e[a+9],12,-1958414417),i=kn(i,o,r,n,e[a+10],17,-42063),n=kn(n,i,o,r,e[a+11],22,-1990404162),r=kn(r,n,i,o,e[a+12],7,1804603682),o=kn(o,r,n,i,e[a+13],12,-40341101),i=kn(i,o,r,n,e[a+14],17,-1502002290),n=kn(n,i,o,r,e[a+15],22,1236535329),r=On(r,n,i,o,e[a+1],5,-165796510),o=On(o,r,n,i,e[a+6],9,-1069501632),i=On(i,o,r,n,e[a+11],14,643717713),n=On(n,i,o,r,e[a],20,-373897302),r=On(r,n,i,o,e[a+5],5,-701558691),o=On(o,r,n,i,e[a+10],9,38016083),i=On(i,o,r,n,e[a+15],14,-660478335),n=On(n,i,o,r,e[a+4],20,-405537848),r=On(r,n,i,o,e[a+9],5,568446438),o=On(o,r,n,i,e[a+14],9,-1019803690),i=On(i,o,r,n,e[a+3],14,-187363961),n=On(n,i,o,r,e[a+8],20,1163531501),r=On(r,n,i,o,e[a+13],5,-1444681467),o=On(o,r,n,i,e[a+2],9,-51403784),i=On(i,o,r,n,e[a+7],14,1735328473),n=On(n,i,o,r,e[a+12],20,-1926607734),r=Pn(r,n,i,o,e[a+5],4,-378558),o=Pn(o,r,n,i,e[a+8],11,-2022574463),i=Pn(i,o,r,n,e[a+11],16,1839030562),n=Pn(n,i,o,r,e[a+14],23,-35309556),r=Pn(r,n,i,o,e[a+1],4,-1530992060),o=Pn(o,r,n,i,e[a+4],11,1272893353),i=Pn(i,o,r,n,e[a+7],16,-155497632),n=Pn(n,i,o,r,e[a+10],23,-1094730640),r=Pn(r,n,i,o,e[a+13],4,681279174),o=Pn(o,r,n,i,e[a],11,-358537222),i=Pn(i,o,r,n,e[a+3],16,-722521979),n=Pn(n,i,o,r,e[a+6],23,76029189),r=Pn(r,n,i,o,e[a+9],4,-640364487),o=Pn(o,r,n,i,e[a+12],11,-421815835),i=Pn(i,o,r,n,e[a+15],16,530742520),n=Pn(n,i,o,r,e[a+2],23,-995338651),r=Cn(r,n,i,o,e[a],6,-198630844),o=Cn(o,r,n,i,e[a+7],10,1126891415),i=Cn(i,o,r,n,e[a+14],15,-1416354905),n=Cn(n,i,o,r,e[a+5],21,-57434055),r=Cn(r,n,i,o,e[a+12],6,1700485571),o=Cn(o,r,n,i,e[a+3],10,-1894986606),i=Cn(i,o,r,n,e[a+10],15,-1051523),n=Cn(n,i,o,r,e[a+1],21,-2054922799),r=Cn(r,n,i,o,e[a+8],6,1873313359),o=Cn(o,r,n,i,e[a+15],10,-30611744),i=Cn(i,o,r,n,e[a+6],15,-1560198380),n=Cn(n,i,o,r,e[a+13],21,1309151649),r=Cn(r,n,i,o,e[a+4],6,-145523070),o=Cn(o,r,n,i,e[a+11],10,-1120210379),i=Cn(i,o,r,n,e[a+2],15,718787259),n=Cn(n,i,o,r,e[a+9],21,-343485551),r=ps(r,s),n=ps(n,u),i=ps(i,l),o=ps(o,c)}return[r,n,i,o]}function ose(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(JB(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function ps(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function ase(e,t){return e<<t|e>>>32-t}function Sb(e,t,r,n,i,o){return ps(ase(ps(ps(t,e),ps(n,o)),i),r)}function kn(e,t,r,n,i,o,a){return Sb(t&r|~t&n,e,t,i,o,a)}function On(e,t,r,n,i,o,a){return Sb(t&n|r&~n,e,t,i,o,a)}function Pn(e,t,r,n,i,o,a){return Sb(t^r^n,e,t,i,o,a)}function Cn(e,t,r,n,i,o,a){return Sb(r^(t|~n),e,t,i,o,a)}var sse=QB("v3",48,rse);function lse(e,t,r){e=e||{};var n=e.random||(e.rng||KB)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return Eb(n)}function use(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function zw(e,t){return e<<t|e>>>32-t}function cse(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var l=new Uint32Array(16),c=0;c<16;++c)l[c]=e[u*64+c*4]<<24|e[u*64+c*4+1]<<16|e[u*64+c*4+2]<<8|e[u*64+c*4+3];s[u]=l}s[a-1][14]=(e.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(e.length-1)*8&4294967295;for(var h=0;h<a;++h){for(var f=new Uint32Array(80),p=0;p<16;++p)f[p]=s[h][p];for(var d=16;d<80;++d)f[d]=zw(f[d-3]^f[d-8]^f[d-14]^f[d-16],1);for(var m=r[0],v=r[1],b=r[2],g=r[3],y=r[4],_=0;_<80;++_){var w=Math.floor(_/20),T=zw(m,5)+use(w,v,b,g)+y+t[w]+f[_]>>>0;y=g,g=b,b=zw(v,30)>>>0,v=m,m=T}r[0]=r[0]+m>>>0,r[1]=r[1]+v>>>0,r[2]=r[2]+b>>>0,r[3]=r[3]+g>>>0,r[4]=r[4]+y>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var hse=QB("v5",80,cse);const fse="00000000-0000-0000-0000-000000000000";function pse(e){if(!xb(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const dse=Object.freeze(Object.defineProperty({__proto__:null,NIL:fse,parse:ZB,stringify:Eb,v1:Qae,v3:sse,v4:lse,v5:hse,validate:xb,version:pse},Symbol.toStringTag,{value:"Module"})),mse=Jo(dse);var kb=mse,kO=typeof Buffer<"u"?e=>Buffer.from(e).toString("base64"):e=>btoa(String.fromCharCode(...e)),gse=typeof Buffer<"u"?e=>Buffer.from(e,"base64"):e=>Uint8Array.from(atob(e),t=>t.charCodeAt(0));_1.encode=function(e){var t=kb.parse(e),r=kO(t),n=r.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return n};_1.decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/")+"==";return kb.stringify(gse(t))};_1.v4=function(){var e=kb.v4(null,new Uint8Array(16)),t=kO(e),r=t.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return r};_1.nice=function(){var e=kb.v4(null,new Uint8Array(16));e[0]=e[0]&127;var t=kO(e),r=t.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return r};var yse=_1;const Nt=Ji(yse);function Ob(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            ";break}for(var r=[`
`],n=0;n<100;n++)r.push(r[n]+t);return r}function Ya(){this.step="    ",this.shift=Ob(this.step)}Ya.prototype.xml=function(e,t){var r=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),n=r.length,i=!1,o=0,a="",s=0,u=t?Ob(t):this.shift;for(s=0;s<n;s++)r[s].search(/<!/)>-1?(a+=u[o]+r[s],i=!0,(r[s].search(/-->/)>-1||r[s].search(/\]>/)>-1||r[s].search(/!DOCTYPE/)>-1)&&(i=!1)):r[s].search(/-->/)>-1||r[s].search(/\]>/)>-1?(a+=r[s],i=!1):/^<\w/.exec(r[s-1])&&/^<\/\w/.exec(r[s])&&/^<[\w:\-\.\,]+/.exec(r[s-1])==/^<\/[\w:\-\.\,]+/.exec(r[s])[0].replace("/","")?(a+=r[s],i||o--):r[s].search(/<\w/)>-1&&r[s].search(/<\//)==-1&&r[s].search(/\/>/)==-1?a=i?a+=r[s]:a+=u[o++]+r[s]:r[s].search(/<\w/)>-1&&r[s].search(/<\//)>-1?a=i?a+=r[s]:a+=u[o]+r[s]:r[s].search(/<\//)>-1?a=i?a+=r[s]:a+=u[--o]+r[s]:r[s].search(/\/>/)>-1?a=i?a+=r[s]:a+=u[o]+r[s]:r[s].search(/<\?/)>-1||r[s].search(/xmlns\:/)>-1||r[s].search(/xmlns\=/)>-1?a+=u[o]+r[s]:a+=r[s];return a[0]==`
`?a.slice(1):a};Ya.prototype.json=function(e,r){var r=r||this.step;return typeof JSON>"u"?e:typeof e=="string"?JSON.stringify(JSON.parse(e),null,r):typeof e=="object"?JSON.stringify(e,null,r):e};Ya.prototype.css=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),n=r.length,i=0,o="",a=0,s=t?Ob(t):this.shift;for(a=0;a<n;a++)/\{/.exec(r[a])?o+=s[i++]+r[a]:/\}/.exec(r[a])?o+=s[--i]+r[a]:(/\*\\/.exec(r[a]),o+=s[i]+r[a]);return o.replace(/^\n{1,}/,"")};function vse(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function bse(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /ig,"~::~"+t+t+"AND ").replace(/ BETWEEN /ig,"~::~"+t+"BETWEEN ").replace(/ CASE /ig,"~::~"+t+"CASE ").replace(/ ELSE /ig,"~::~"+t+"ELSE ").replace(/ END /ig,"~::~"+t+"END ").replace(/ FROM /ig,"~::~FROM ").replace(/ GROUP\s{1,}BY/ig,"~::~GROUP BY ").replace(/ HAVING /ig,"~::~HAVING ").replace(/ IN /ig," IN ").replace(/ JOIN /ig,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /ig,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /ig,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /ig,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /ig,"~::~RIGHT JOIN ").replace(/ ON /ig,"~::~"+t+"ON ").replace(/ OR /ig,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/ig,"~::~ORDER BY ").replace(/ OVER /ig,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /ig,"~::~(SELECT ").replace(/\)\s{0,}SELECT /ig,")~::~SELECT ").replace(/ THEN /ig," THEN~::~"+t).replace(/ UNION /ig,"~::~UNION~::~").replace(/ USING /ig,"~::~USING ").replace(/ WHEN /ig,"~::~"+t+"WHEN ").replace(/ WHERE /ig,"~::~WHERE ").replace(/ WITH /ig,"~::~WITH ").replace(/ ALL /ig," ALL ").replace(/ AS /ig," AS ").replace(/ ASC /ig," ASC ").replace(/ DESC /ig," DESC ").replace(/ DISTINCT /ig," DISTINCT ").replace(/ EXISTS /ig," EXISTS ").replace(/ NOT /ig," NOT ").replace(/ NULL /ig," NULL ").replace(/ LIKE /ig," LIKE ").replace(/\s{0,}SELECT /ig,"SELECT ").replace(/\s{0,}UPDATE /ig,"UPDATE ").replace(/ SET /ig," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}Ya.prototype.sql=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\'/ig,"~::~'").split("~::~"),n=r.length,i=[],o=0,a=this.step,s=0,u="",l=0,c=t?Ob(t):this.shift;for(l=0;l<n;l++)l%2?i=i.concat(r[l]):i=i.concat(bse(r[l],a));for(n=i.length,l=0;l<n;l++)s=vse(i[l],s),/\s{0,}\s{0,}SELECT\s{0,}/.exec(i[l])&&(i[l]=i[l].replace(/\,/g,`,
`+a+a)),/\s{0,}\s{0,}SET\s{0,}/.exec(i[l])&&(i[l]=i[l].replace(/\,/g,`,
`+a+a)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(i[l])?(o++,u+=c[o]+i[l]):/\'/.exec(i[l])?(s<1&&o&&o--,u+=i[l]):(u+=c[o]+i[l],s<1&&o&&o--);return u=u.replace(/^\n{1,}/,"").replace(/\n{1,}/g,`
`),u};Ya.prototype.xmlmin=function(e,t){var r=t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns");return r.replace(/>\s{0,}</g,"><")};Ya.prototype.jsonmin=function(e){return typeof JSON>"u"?e:JSON.stringify(JSON.parse(e),null,0)};Ya.prototype.cssmin=function(e,t){var r=t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"");return r.replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")};Ya.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")};var _se=new Ya;const wse=Ji(_se);var X3={},Hw={},Uw=34,np=10,Vw=13;function eF(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function Tse(e,t){var r=eF(e);return function(n,i){return t(r(n),i,e)}}function $3(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var i in n)i in t||r.push(t[i]=i)}),r}function ai(e,t){var r=e+"",n=r.length;return n<t?new Array(t-n+1).join(0)+r:r}function xse(e){return e<0?"-"+ai(-e,6):e>9999?"+"+ai(e,6):ai(e,4)}function Ese(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),n=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":xse(e.getUTCFullYear())+"-"+ai(e.getUTCMonth()+1,2)+"-"+ai(e.getUTCDate(),2)+(i?"T"+ai(t,2)+":"+ai(r,2)+":"+ai(n,2)+"."+ai(i,3)+"Z":n?"T"+ai(t,2)+":"+ai(r,2)+":"+ai(n,2)+"Z":r||t?"T"+ai(t,2)+":"+ai(r,2)+"Z":"")}function OO(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function n(h,f){var p,d,m=i(h,function(v,b){if(p)return p(v,b-1);d=v,p=f?Tse(v,f):eF(v)});return m.columns=d||[],m}function i(h,f){var p=[],d=h.length,m=0,v=0,b,g=d<=0,y=!1;h.charCodeAt(d-1)===np&&--d,h.charCodeAt(d-1)===Vw&&--d;function _(){if(g)return Hw;if(y)return y=!1,X3;var T,O=m,E;if(h.charCodeAt(O)===Uw){for(;m++<d&&h.charCodeAt(m)!==Uw||h.charCodeAt(++m)===Uw;);return(T=m)>=d?g=!0:(E=h.charCodeAt(m++))===np?y=!0:E===Vw&&(y=!0,h.charCodeAt(m)===np&&++m),h.slice(O+1,T-1).replace(/""/g,'"')}for(;m<d;){if((E=h.charCodeAt(T=m++))===np)y=!0;else if(E===Vw)y=!0,h.charCodeAt(m)===np&&++m;else if(E!==r)continue;return h.slice(O,T)}return g=!0,h.slice(O,d)}for(;(b=_())!==Hw;){for(var w=[];b!==X3&&b!==Hw;)w.push(b),b=_();f&&(w=f(w,v++))==null||p.push(w)}return p}function o(h,f){return h.map(function(p){return f.map(function(d){return c(p[d])}).join(e)})}function a(h,f){return f==null&&(f=$3(h)),[f.map(c).join(e)].concat(o(h,f)).join(`
`)}function s(h,f){return f==null&&(f=$3(h)),o(h,f).join(`
`)}function u(h){return h.map(l).join(`
`)}function l(h){return h.map(c).join(e)}function c(h){return h==null?"":h instanceof Date?Ese(h):t.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:n,parseRows:i,format:a,formatBody:s,formatRows:u,formatRow:l,formatValue:c}}var ou=OO(","),Sse=ou.parse,kse=ou.parseRows,Ose=ou.format,Pse=ou.formatBody,Cse=ou.formatRows,Ase=ou.formatRow,Mse=ou.formatValue,au=OO("	"),Ise=au.parse,PO=au.parseRows,Rse=au.format,Dse=au.formatBody,Nse=au.formatRows,jse=au.formatRow,Lse=au.formatValue;function Bse(e){for(var t in e){var r=e[t].trim(),n,i;if(!r)r=null;else if(r==="true")r=!0;else if(r==="false")r=!1;else if(r==="NaN")r=NaN;else if(!isNaN(n=+r))r=n;else if(i=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Fse&&i[4]&&!i[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r);else continue;e[t]=r}return e}const Fse=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),zse=Object.freeze(Object.defineProperty({__proto__:null,autoType:Bse,csvFormat:Ose,csvFormatBody:Pse,csvFormatRow:Ase,csvFormatRows:Cse,csvFormatValue:Mse,csvParse:Sse,csvParseRows:kse,dsvFormat:OO,tsvFormat:Rse,tsvFormatBody:Dse,tsvFormatRow:jse,tsvFormatRows:Nse,tsvFormatValue:Lse,tsvParse:Ise,tsvParseRows:PO},Symbol.toStringTag,{value:"Module"}));function Bd(e){const t=[],r={},n={};let i=0;for(let o=0;o<e.length;o++){const a=Number(e[o][1]);i+=a;const s={id:o,chr:e[o][0],pos:i-a};t.push(s),n[s.chr]=s,r[e[o][0]]=a}return{cumPositions:t,chrPositions:n,totalLength:i,chromLengths:r}}const ix={},Hse=(e,t)=>ix[e]?Promise.resolve(ix[e]):t(e),Use=e=>{if(e.length===0)return null;const t=PO(e);return Bd(t)},Vse=e=>fetch(e,{credentials:"same-origin"}).then(t=>t.text()).then(t=>Use(t)).catch(t=>(console.error("Could not retrieve or parse chrom info.",t),null)),Gse=(e,t,r)=>t(e,r).then(n=>(n&&(ix[e]=n),n)),Yse=e=>Gse(e,Hse,Vse),CO={get:Yse};function Wse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qse(n.key),n)}}function $se(e,t,r){return t&&Xse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qse(e){var t=Kse(e,"string");return typeof t=="symbol"?t:t+""}function Kse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}let Zse=(function(){function e(t){Wse(this,e),this.customEventHandlers={},this.registeredEls={},this.pubSub=t}return $se(e,[{key:"getEventHandler",value:function(t){return this.customEventHandlers[t]?this.customEventHandlers[t]:r=>this.pubSub.publish(t,r)}},{key:"unregister",value:function(t,r){!this.registeredEls[t]&&this.registeredEls[t]!==r||(this.registeredEls[t].removeEventListener(t,this.registeredEls[t].__handler__),this.registeredEls[t]=void 0,delete this.registeredEls[t])}},{key:"register",value:function(t,r,n=!1){!r||this.registeredEls[t]===r||(this.registeredEls[t]&&this.unregister(this.registeredEls[t]),this.registeredEls[t]=r,this.registeredEls[t].__handler__=this.getEventHandler(t),this.registeredEls[t].addEventListener(t,this.registeredEls[t].__handler__,{capture:n,passive:!1}))}}])})();const tF=e=>new Zse(e),rF=cf(e=>e.pos).left,Ur=(e,t)=>{if(!t||!t.cumPositions||!t.cumPositions.length)return null;let r=rF(t.cumPositions,e);const n=t.cumPositions[t.cumPositions.length-1].chr,i=t.chromLengths[n];r>0&&(r-=1);let o=Math.floor(e-t.cumPositions[r].pos),a=0;return o<0&&(a=o-1,o=1),r===t.cumPositions.length-1&&o>i&&(a=o-i,o=i),[t.cumPositions[r].chr,o,a,r]},nF=(e,t)=>r=>r%e*t+Math.floor(r/e),Qse=e=>e,iF=(e,t,r=Qse)=>e.map((n,i)=>n+t[r(i)]),Jse="http://www.w3.org/2000/svg",D0=(e,t)=>{if(e.namespaceURI===Jse){const r=e.getAttribute("class");return!!r&&!!r.match(new RegExp(`(\\s|^)${t}(\\s|$)`))}return e.classList?e.classList.contains(t):!!e.className.match(new RegExp(`(\\s|^)${t}(\\s|$)`))},ele="http://www.w3.org/2000/svg",tle=(e,t)=>{if(e.namespaceURI===ele){if(!D0(e,t)){const r=e.getAttribute("class")||"";e.setAttribute("class",`${r} ${t}`)}}else e.classList?e.classList.add(t):D0(e,t)||(e.className+=` ${t}`)},rle=(e,t,r)=>{const n=document.createElement("canvas");return new Promise((i,o)=>{const a=new window.Image;a.onload=()=>{n.width=t||a.width,n.height=r||a.height;const s=n.getContext("2d");if(!s){o(new Error("Could not get canvas context"));return}s.drawImage(a,0,0),i(n)},a.onerror=()=>{o(new Error("Could not convert base64 to canvas"))},a.src=`data:image/png;base64,${e}`})},N0=(e,t,r)=>r.chrPositions[e].pos+t,oF=e=>{if(!(e instanceof Event))throw new Error("Event must be an instance of Event");const t=new e.constructor(e.type,e);return t.sourceUid=e.sourceUid,t.forwarded=e.forwarded,t},xs=(e,t=!1)=>{const r=e.map((o,a)=>a*(255/(e.length-1))),n=Et().domain(r).range(e),i=Vn(t?255:254,-1,-1).map(n).map(o=>{const a=Qc(o);return[a.r,a.g,a.b,a.opacity*255]});return i.length<256&&i.push([255,255,255,0]),i},Ie={PIXI:Cj},ot=e=>{const t=di(e);return Ie.PIXI.utils.rgb2hex([t.r/255,t.g/255,t.b/255])},aF=e=>{if(e==="transparent")return[255,255,255,0];const t=di(e);return[t.r,t.g,t.b,255]},j0=(e,t,r)=>{const n=Ur(e,r),i=Ur(t,r);if(!n||!i)throw new Error("Couldn't convert data to genomic coordinates");return[n[0],Math.round(n[1]),i[0],Math.round(i[1])]},AO=(e,t,r)=>{let n;const i=(...o)=>{const a=()=>{n=void 0,r||e(...o)},s=r&&!n;clearTimeout(n),n=setTimeout(a,t),s&&e(...o)};return i.cancel=()=>{clearTimeout(n),n=void 0},i},ox=e=>(e+16**6).toString(16).substr(-6),sF=e=>{const t={};return e.forEach(r=>{t[r[0]]=r[1]}),t},Fi=e=>{const t=[];for(const r in e)e.hasOwnProperty(r)&&t.push([r,e[r]]);return t};function lo(e){const t=[];for(const r in e)e.hasOwnProperty(r)&&t.push(r);return t}function hr(e){const t=[];for(const r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}function hd(e,t){const r=typeof t=="string"?new Blob([t],{type:"application/octet-stream"}):t,n=window.document.createElement("a");n.href=window.URL.createObjectURL(r),n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(n.href)}const Bp=0,Fp=5,lF=10,uF=10,nle=300,L0="move",Ui="select",Fd="track-select",ax=100,B0=10,cF=110,zp=3e3,Hp="locationListenerPrefix",hF=1e3,sx="http://higlass.io/api/v1",fF=400,pF=300,F0=["top","left","right","bottom","center","whole","gallery"],dF=20,mF=20,z0=Symbol("Light theme"),br=Symbol("Dark theme"),gF=z0,Li={"multitrack-header":"_multitrack-header_1yz7l_1","multitrack-header-focus":"_multitrack-header-focus_1yz7l_2","multitrack-header-squeazed":"_multitrack-header-squeazed_1yz7l_3","multitrack-header-dark":"_multitrack-header-dark_1yz7l_20","multitrack-header-id":"_multitrack-header-id_1yz7l_30","multitrack-header-left":"_multitrack-header-left_1yz7l_39","multitrack-header-grabber":"_multitrack-header-grabber_1yz7l_44","multitrack-header-grabber-squeazed":"_multitrack-header-grabber-squeazed_1yz7l_45","multitrack-header-search":"_multitrack-header-search_1yz7l_80","multitrack-header-nav-list":"_multitrack-header-nav-list_1yz7l_102","multitrack-header-icon":"_multitrack-header-icon_1yz7l_107","multitrack-header-icon-squeazed":"_multitrack-header-icon-squeazed_1yz7l_108","mouse-tool-selection":"_mouse-tool-selection_1yz7l_136"},ile={id:"cog",paths:["M466.895 305.125c-26.863-46.527-10.708-106.152 36.076-133.244l-50.313-87.146c-14.375 8.427-31.088 13.259-48.923 13.259-53.768 0-97.354-43.873-97.354-97.995h-100.629c0.133 16.705-4.037 33.641-12.979 49.126-26.862 46.528-86.578 62.351-133.431 35.379l-50.312 87.146c14.485 8.236 27.025 20.294 35.943 35.739 26.819 46.454 10.756 105.96-35.854 133.112l50.313 87.146c14.325-8.348 30.958-13.127 48.7-13.127 53.598 0 97.072 43.596 97.35 97.479h100.627c-0.043-16.537 4.136-33.285 12.983-48.609 26.818-46.453 86.388-62.297 133.207-35.506l50.313-87.145c-14.39-8.233-26.846-20.249-35.717-35.614zM256 359.666c-57.254 0-103.668-46.412-103.668-103.667 0-57.254 46.413-103.667 103.668-103.667s103.666 46.413 103.666 103.667c-0.001 57.255-46.412 103.667-103.666 103.667z"],viewBox:"0 0 512 512"},ole={id:"cross",paths:["M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z"],viewBox:"0 0 512 512"},ale={id:"enlarge",paths:["M512 0h-208l80 80-96 96 48 48 96-96 80 80z","M512 512v-208l-80 80-96-96-48 48 96 96-80 80z","M0 512h208l-80-80 96-96-48-48-96 96-80-80z","M0 0v208l80-80 96 96 48-48-96-96 80-80z"],viewBox:"0 0 512 512"},sle={id:"minus",paths:["M0 208v96c0 8.836 7.164 16 16 16h480c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16h-480c-8.836 0-16 7.164-16 16z"],viewBox:"0 0 512 512"},lle={id:"move",paths:["M512,260.096L405.5,161.79v49.155H301.061v-104.45h49.149L251.904,0L160.77,106.495h49.15v104.45H106.495V161.79L0,260.096l106.495,91.135v-49.149h104.45v104.45H161.79L251.904,512l98.306-106.5h-49.149V301.061H405.5v49.149L512,260.096z"],viewBox:"0 0 512 512"},ule={id:"play",paths:["M96 64l320 192-320 192z"],viewBox:"0 0 512 512"},cle={id:"plus",paths:["M496 192h-176v-176c0-8.836-7.164-16-16-16h-96c-8.836 0-16 7.164-16 16v176h-176c-8.836 0-16 7.164-16 16v96c0 8.836 7.164 16 16 16h176v176c0 8.836 7.164 16 16 16h96c8.836 0 16-7.164 16-16v-176h176c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16z"],viewBox:"0 0 512 512"},hle={id:"copy",paths:["M607.5 672v-448.5h-351v448.5h351zM607.5 160.5c34.5 0 64.5 28.5 64.5 63v448.5c0 34.5-30 64.5-64.5 64.5h-351c-34.5 0-64.5-30-64.5-64.5v-448.5c0-34.5 30-63 64.5-63h351zM511.5 31.5v64.5h-384v448.5h-63v-448.5c0-34.5 28.5-64.5 63-64.5h384z"],viewBox:"0 0 712 712"},fle={id:"select",viewBox:"0 0 16 16",paths:["M2 14h2v1H1v-3h1v2zm8 1H6v-1h4v1zm5 0h-3v-1h2v-2h1v3zm0-5h-1V6h1v4zM2 10H1V6h1v4zm13-6h-1V2h-2V1h3v3zM4 2H2v2H1V1h3v1zm6 0H6V1h4.03L10 2z"]},ple={id:"check_square_o",viewBox:"0 0 1792 1792",paths:["M1472 930v318q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-10 10-23 10-3 0-9-2-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-254q0-13 9-22l64-64q10-10 23-10 6 0 12 3 20 8 20 29zm231-489l-814 814q-24 24-57 24t-57-24l-430-430q-24-24-24-57t24-57l110-110q24-24 57-24t57 24l263 263 647-647q24-24 57-24t57 24l110 110q24 24 24 57t-24 57z"]},dle={id:"square_o",viewBox:"0 0 1792 1792",paths:["M1312 256h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-832q0-66-47-113t-113-47zm288 160v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"]},mle={id:"file_o",viewBox:"0 0 1792 1792",paths:["M1596 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22zm384 1528v-1024h-416q-40 0-68-28t-28-68v-416h-768v1536h1280z"]},gle={id:"chevron_right",viewBox:"0 0 1792 1792",paths:["M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"]},yle={id:"chevron_down",viewBox:"0 0 1792 1792",paths:["M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"]},vle={id:"folder_o",viewBox:"0 0 1792 1792",paths:["M1600 1312v-704q0-40-28-68t-68-28h-704q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v960q0 40 28 68t68 28h1216q40 0 68-28t28-68zm128-704v704q0 92-66 158t-158 66h-1216q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h672q92 0 158 66t66 158z"]},ble={id:"folder_open_o",viewBox:"0 0 1792 1792",paths:["M1845 931q0-35-53-35h-1088q-40 0-85.5 21.5t-71.5 52.5l-294 363q-18 24-18 40 0 35 53 35h1088q40 0 86-22t71-53l294-363q18-22 18-39zm-1141-163h768v-160q0-40-28-68t-68-28h-576q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v853l256-315q44-53 116-87.5t140-34.5zm1269 163q0 62-46 120l-295 363q-43 53-116 87.5t-140 34.5h-1088q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h544q92 0 158 66t66 158v160h192q54 0 99 24.5t67 70.5q15 32 15 68z"]},_le=[ile,ole,ale,sle,lle,ule,cle,hle,fle,ple,dle,mle,vle,ble,gle,yle],Eo=new DOMParser,wle='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5"><path d="M4 2.1L.5 3.5v12l5-2 5 2 5-2v-12l-5 2-3.17-1.268M10.5 3.5v12" fill="none" stroke="currentColor"/><path d="M5.5 13.5v-7" fill="none" stroke="currentColor" stroke-width=".9969299999999999"/><path d="M5.494 0c-1.803 0-3.26 1.496-3.26 3.35 0 .427.124.97.264 1.343L5.5 11l3.003-6.306c.142-.375.263-.916.263-1.342C8.766 1.496 7.3 0 5.494 0zM5.5 4.64c-.76 0-1.375-.616-1.375-1.374 0-.76.616-1.376 1.375-1.376.76 0 1.374.616 1.374 1.376 0 .758-.614 1.375-1.374 1.375z" fill="currentColor"/></svg>',MO=Eo.parseFromString(wle,"text/xml").documentElement,Tle=`
<svg width="20px" height="20px" viewBox="0 0 20 20">
  <rect x="0" y="3" width="4" height="14" fill="#637993"/>
  <rect x="4" y="3" width="2" height="14" fill="#c7d1de"/>
  <rect x="6" y="3" width="5" height="14" fill="#3c5068"/>
  <rect x="11" y="3" width="3" height="14" fill="#92a3ba"/>
  <rect x="14" y="3" width="2" height="14" fill="#000000"/>
  <rect x="16" y="3" width="4" height="14" fill="#637993"/>
</svg>
`,xle=Eo.parseFromString(Tle,"text/xml").documentElement,Ele=`
<svg width="20px" height="20px" viewBox="0 0 135 85" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>line</title>
    <defs></defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polyline id="Path" stroke="#4990E2" stroke-width="8" points="2 45.5625 20.7460938 6.3359375 36.828125 86.6484375 59.8945312 17.5742188 79.0390625 70.703125 99.9335938 27 112.769531 81.1601562 132.078125 3"></polyline>
    </g>
</svg>
`,Sle=Eo.parseFromString(Ele,"text/xml").documentElement,kle=`
<svg width="20px" height="20px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>2d-tiles-icon</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="tiles2DIconStr-path-1" x="0" y="0" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-1"></use>
        </mask>
        <rect id="tiles2DIconStr-path-3" x="0" y="30" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-3"></use>
        </mask>
        <rect id="tiles2DIconStr-path-5" x="30" y="0" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-5"></use>
        </mask>
        <rect id="tiles2DIconStr-path-7" x="30" y="30" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-8" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-7"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-2)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-4)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-3"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-6)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-5"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-8)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-7"></use>
    </g>
</svg>
`,q3=Eo.parseFromString(kle,"text/xml").documentElement,Ole=`
<svg width="20px" height="20px" viewBox="0 0 90 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>2d-heatmap</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="heatmap2DStr-path-1" x="0" y="0" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-2" x="30" y="0" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-3" x="60" y="0" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-4" x="0" y="30" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-5" x="30" y="30" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-6" x="60" y="30" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-7" x="0" y="60" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-8" x="30" y="60" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-9" x="60" y="60" width="30" height="30"></rect>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <use id="Rectangle" fill="#858372" xlink:href="#heatmap2DStr-path-1"></use>
        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-2"></use>
        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-3"></use>
        <use id="Rectangle" fill="#BCBD9E" xlink:href="#heatmap2DStr-path-4"></use>
        <use id="Rectangle" fill="#817C7C" xlink:href="#heatmap2DStr-path-5"></use>
        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-6"></use>
        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-7"></use>
        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-8"></use>
        <use id="Rectangle" fill="#7B7777" xlink:href="#heatmap2DStr-path-9"></use>
    </g>
</svg>
`,K3=Eo.parseFromString(Ole,"text/xml").documentElement,yF=`
<svg width="20px" height="20px" viewBox="0 0 77 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>axis-1d</title>
    <desc>Created with Sketch.</desc>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polyline id="Path" stroke="#979797" stroke-width="8" transform="translate(38.258485, 27.557860) scale(1, -1) translate(-38.258485, -27.557860) " points="4 27.05786 36.7512307 27.05786 72.5169695 27.05786"></polyline>
        <path d="M38,24.484375 L38,3" id="Path-2" stroke="#979797" stroke-width="4"></path>
    </g>
</svg>
`,Ple=Eo.parseFromString(yF,"text/xml").documentElement,Cle=ut(Eo.parseFromString(yF,"text/xml").documentElement).style("transform","rotate(90deg)").node(),Ale=`
<svg width="20px" height="20px" viewBox="0 0 171 116" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>gene-annotations</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="geneAnnotations-path-1" x="34" y="0" width="24" height="116"></rect>
        <mask id="geneAnnotations-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="116" fill="white">
            <use xlink:href="#geneAnnotations-path-1"></use>
        </mask>
        <rect id="geneAnnotations-path-3" x="80" y="0" width="56" height="116"></rect>
        <mask id="geneAnnotations-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="56" height="116" fill="white">
            <use xlink:href="#geneAnnotations-path-3"></use>
        </mask>
        <rect id="geneAnnotations-path-5" x="147" y="40" width="24" height="35"></rect>
        <mask id="geneAnnotations-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="35" fill="white">
            <use xlink:href="#geneAnnotations-path-5"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <path d="M12.71875,58 L147.10172,58" id="Path" stroke="#979797" stroke-width="8"></path>
        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-2)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-4)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-3"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-6)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-5"></use>
        <polygon id="Triangle" stroke="#979797" fill="#D8D8D8" points="25 57.5 1 75 1 40"></polygon>
    </g>
</svg>
`,Mle=Eo.parseFromString(Ale,"text/xml").documentElement,vF=`
<svg width="20px" height="20px" viewBox="0 0 180 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->
    <title>1d-tiles-icon</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="tiles1DIconStr-path-1" x="0" y="0" width="90" height="90"></rect>
        <mask id="tiles1DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">
            <use xlink:href="#tiles1DIconStr-path-1"></use>
        </mask>
        <rect id="tiles1DIconStr-path-3" x="90" y="0" width="90" height="90"></rect>
        <mask id="tiles1DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">
            <use xlink:href="#tiles1DIconStr-path-3"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-2)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-4)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-3"></use>
    </g>
</svg>
`,Ile=Eo.parseFromString(vF,"text/xml").documentElement,Rle=ut(Eo.parseFromString(vF,"text/xml").documentElement).style("transform","rotate(90deg)").node(),Dle=`
<svg width="20px" height="20px" viewBox="0 0 111 111" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->
    <title>arrowhead-domains</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="arrowHeadDomainsStr-path-1" x="0" y="0" width="90" height="90"></rect>
        <mask id="arrowHeadDomainsStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">
            <use xlink:href="#arrowHeadDomainsStr-path-1"></use>
        </mask>
        <rect id="arrowHeadDomainsStr-path-3" x="52" y="52" width="59" height="59"></rect>
        <mask id="arrowHeadDomainsStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="59" height="59" fill="white">
            <use xlink:href="#arrowHeadDomainsStr-path-3"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0">
        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-2)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-4)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-3"></use>
    </g>
</svg>
`,ip=Eo.parseFromString(Dle,"text/xml").documentElement;function bF({theStyle:e,onClick:t}){return P.createElement("svg",{className:Li[e],viewBox:"0 0 12 13",onClick:t,xmlns:"http://www.w3.org/2000/svg"},P.createElement("title",null,"Search"),P.createElement("g",{fill:"none",stroke:"#6c6c6c",strokeWidth:"2"},P.createElement("path",{d:"M11.29 11.71l-4-4"}),P.createElement("circle",{cx:"5",cy:"5",r:"4"})))}bF.propTypes={theStyle:j.string,onClick:j.func};const Z3={type:"osm-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"OSM Tiles",thumbnail:MO,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},Q3={type:"mapbox-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Mapbox Tiles",thumbnail:MO,availableOptions:["style","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{style:"mapbox.streets",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},Ul=[Z3,{...Z3,type:"osm"},Q3,{...Q3,type:"mapbox"},{type:"left-axis",datatype:["axis"],local:!0,orientation:"1d-vertical",name:"Left Axis",thumbnail:Cle,availableOptions:["minWidth"],defaultOptions:{minWidth:100}},{type:"top-axis",datatype:["axis"],local:!0,orientation:"1d-horizontal",name:"Top Axis",thumbnail:Ple,defaultOptions:{}},{type:"horizontal-rule",datatype:["x-coord"],local:!0,orientation:"whole",name:"Horizontal Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"vertical-rule",datatype:["y-coord"],local:!0,orientation:"whole",name:"Vertical Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"cross-rule",datatype:["xy-coord"],local:!0,orientation:"whole",name:"Cross Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"simple-svg",datatype:[],local:!1,orientation:"2d",exportable:!0,availableOptions:["minWidth","minHeight"],defaultOptions:{minWidth:100,minHeight:100}},{type:"heatmap",datatype:["matrix"],local:!1,orientation:"2d",thumbnail:K3,exportable:!0,availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","colorbarBackgroundColor","maxZoom","minWidth","minHeight","dataTransform","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling","showMousePosition","mousePositionColor","showTooltip","extent","zeroValueColor"],defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],colorbarBackgroundColor:"#ffffff",maxZoom:null,minWidth:100,minHeight:100,colorbarPosition:"topRight",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1,extent:"full",zeroValueColor:null},defaultOptionsByTheme:{[br]:{backgroundColor:"#000000",colorRange:["black","rgba(208,2,27,1.0)","rgba(245,166,35,1.0)","white"],colorbarBackgroundColor:"#000000",labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"}}},{type:"linear-heatmap",aliases:["horizontal-heatmap","vertical-heatmap"],datatype:["matrix"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:K3,defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],maxZoom:null,minWidth:100,minHeight:40,trackBorderWidth:0,trackBorderColor:"black"},availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","maxZoom","minWidth","minHeight","dataTransform","oneDHeatmapFlipped","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling"]},{type:"line",aliases:["horizontal-line","vertical-line"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:Sle,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","lineStrokeWidth","lineStrokeColor","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode","minHeight"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelBackgroundColor:"white",labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",lineStrokeColor:"blue",lineStrokeWidth:1,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,minHeight:20,mousePositionColor:"#000000",showTooltip:!1},defaultOptionsByTheme:{[br]:{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"}}},{type:"1d-heatmap",aliases:["horizontal-1d-heatmap","vertical-1d-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:xle,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin","colorRange","valueScaling","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1}},{type:"vector-heatmap",aliases:["horizontal-vector-heatmap","vertical-vector-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,minHeight:1,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log"}},{type:"multivec",aliases:["horizontal-multivec","vertical-multivec"],datatype:["multivec"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","minHeight","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling","selectRows","selectRowsAggregationMode","selectRowsAggregationWithRelativeHeight","selectRowsAggregationMethod","colorbarBackgroundColor","colorbarPosition","zeroValueColor"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,minHeight:100,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",selectRows:null,selectRowsAggregationMode:"mean",selectRowsAggregationWithRelativeHeight:!0,selectRowsAggregationMethod:"client",colorbarBackgroundColor:"#ffffff",colorbarPosition:"topRight",zeroValueColor:null},defaultOptionsByTheme:{[br]:{colorbarBackgroundColor:"#000000"}}},{type:"point",aliases:["horizontal-point","vertical-point"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","pointColor","pointSize","valueScaling","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",pointColor:"red",pointSize:3,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"divergent-bar",aliases:["horizontal-divergent-bar","vertical-divergent-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColorTop","barFillColorBottom","valueScaling","trackBorderWidth","trackBorderColor","barOpacity"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",axisLabelFormatting:"scientific",barFillColorBottom:"red",barFillColorTop:"green",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"bar",aliases:["horizontal-bar","vertical-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["align","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColor","colorRange","colorRangeGradient","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","barOpacity","showMousePosition","showTooltip","aggregationMode","zeroLineVisible","zeroLineColor","zeroLineOpacity"],defaultOptions:{align:"bottom",labelColor:"[glyph-color]",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",barFillColor:"darkgreen",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"2d-tiles",datatype:["matrix"],local:!1,orientation:"2d",name:"2D Tile Outlines",thumbnail:q3},{type:"1d-value-interval",aliases:["horizontal-1d-value-interval","vertical-1d-value-interval"],datatype:["bed-value"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"1D Rectangles",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,axisPositionHorizontal:"left",lineStrokeColor:"blue",valueScaling:"linear"}},{type:"stacked-interval",aliases:["top-stacked-interval","left-stacked-interval"],datatype:["stacked-interval"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:"horizontal-stacked-interval.png",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity"]},{type:"viewport-projection-vertical",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-vertical",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-horizontal",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-horizontal",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-center",datatype:["2d-projection"],local:!0,hidden:!0,projection:!0,orientation:"2d",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"gene-annotations",aliases:["horizontal-gene-annotations","vertical-gene-annotations"],datatype:["gene-annotation"],local:!1,defaultHeight:90,defaultWidth:90,rotatable:!0,orientation:"1d-horizontal",name:"Gene Annotations",thumbnail:Mle,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","minHeight","plusStrandColor","minusStrandColor","trackBorderWidth","trackBorderColor","showMousePosition","mousePositionColor","fontSize","geneAnnotationHeight","geneLabelPosition","geneStrandSpacing"],defaultOptions:{fontSize:10,labelColor:"black",labelBackgroundColor:"#ffffff",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:24,plusStrandColor:"blue",minusStrandColor:"red",trackBorderWidth:0,trackBorderColor:"black",showMousePosition:!1,mousePositionColor:"#000000",geneAnnotationHeight:16,geneLabelPosition:"outside",geneStrandSpacing:4},defaultOptionsByTheme:{[br]:{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff",plusStrandColor:"#40a0ff"}}},{type:"arrowhead-domains",datatype:["arrowhead-domains"],local:!1,orientation:"2d",name:"Arrowhead Domains",thumbnail:ip,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"linear-2d-rectangle-domains",aliases:["horizontal-2d-rectangle-domains","vertical-2d-rectangle-domains"],datatype:["2d-rectangle-domains"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"Horizontal 2D Rectangle Domains",thumbnail:ip,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"2d",name:"2D Rectangle Domains",thumbnail:ip,availableOptions:["flipDiagonal","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainFillOpacity","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{flipDiagonal:"none",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainFillOpacity:.4,rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"horizontal-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokePos","regions"],defaultOptions:{fill:"red",fillOpacity:.2,stroke:"red",strokeOpacity:0,strokeWidth:1,regions:[],strokePos:[]}},{type:"vertical-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","regions"],defaultOptions:{fill:"red",fillOpacity:"0.2",stroke:"red",strokeOpacity:"0",regions:[]}},{type:"2d-annotations",datatype:["2d-annotations"],local:!1,orientation:"2d",name:"2D Annotations",thumbnail:ip,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize","isClickable","hoverColor","selectColor","exclude","trackBorderBgWidth","trackBorderBgColor","trackBorderBgAlpha"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none",isClickable:!1,hoverColor:"orange",selectColor:"fuchsia",exclude:[],trackBorderBgWidth:0,trackBorderBgColor:"black",trackBorderBgAlpha:.33}},{type:"square-markers",datatype:["bedpe"],local:!1,orientation:"2d",name:"Square Markers",thumbnail:ip,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"combined",datatype:"any",local:!0,orientation:"any"},{type:"horizontal-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-horizontal",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"vertical-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-vertical",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"2d-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"2d",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey"}},{type:"2d-chromosome-annotations",datatype:["chromsizes"],local:!0,orientation:"2d",name:"2D Chromosome Annotations",thumbnail:null,hidden:!0},{type:"2d-chromosome-labels",datatype:["chromsizes"],local:!0,orientation:"2d",name:"Pairwise Chromosome Labels",thumbnail:null},{type:"chromosome-labels",aliases:["horizontal-chromosome-labels","vertical-chromosome-labels"],datatype:["chromsizes"],orientation:"1d-horizontal",rotatable:!0,minHeight:35,defaultHeight:30,name:"Chromosome Axis",thumbnail:null,availableOptions:["color","stroke","fontSize","fontIsLeftAligned","showMousePosition","mousePositionColor","tickPositions","tickFormat","reverseOrientation"],defaultOptions:{color:"#808080",stroke:"#ffffff",fontSize:12,fontIsLeftAligned:!1,showMousePosition:!1,mousePositionColor:"#000000",reverseOrientation:!1},defaultOptionsByTheme:{[br]:{color:"#808080",stroke:"#000000",mousePositionColor:"#ffffff"}}},{type:"vertical-1d-tiles",datatype:["1d-tiles"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Tile Outlines",thumbnail:Rle},{type:"horizontal-1d-tiles",datatype:["vector","stacked-interval","gene-annotation"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Tile Outlines",thumbnail:Ile},{type:"osm-2d-tile-ids",datatype:["map-tiles"],local:!1,orientation:"2d",name:"OSM Tile Outlines",thumbnail:q3,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"raster-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Raster Tiles",thumbnail:MO,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"image-tiles",datatype:["image-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Image Tiles",thumbnail:null},{type:"bedlike",datatype:["bedlike"],aliases:["vertical-bedlike"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"BED-like track",thumbnail:null,availableOptions:["alternating","annotationHeight","annotationStyle","fillColor","fillOpacity","fontColor","fontSize","minusStrandColor","plusStrandColor","labelBottomMargin","labelColor","labelLeftMargin","labelPosition","labelRightMargin","labelTopMargin","labelTextOpacity","labelBackgroundOpacity","maxAnnotationHeight","minHeight","trackBorderWidth","trackBorderColor","valueColumn","colorEncoding","colorRange","colorEncodingRange","separatePlusMinusStrands","showTexts","axisPositionHorizontal","axisMargin"],defaultOptions:{alternating:!1,annotationStyle:"box",fillColor:"blue",fillOpacity:.3,fontSize:"10",axisPositionHorizontal:"right",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:20,maxAnnotationHeight:null,trackBorderWidth:0,trackBorderColor:"black",valueColumn:null,colorEncoding:"itemRgb",showTexts:!1,colorRange:["#000000","#652537","#bf5458","#fba273","#ffffe0"],colorEncodingRange:!1,separatePlusMinusStrands:!0,annotationHeight:16}},{type:"empty",datatype:[],orientation:"1d-horizontal",name:"Empty track",thumbnail:null,availableOptions:[],defaultOptions:{}}],IO=e=>{const t={},r=n=>!!(n.orientation===e||e==="1d-vertical"&&n.orientation==="1d-horizontal"&&n.rotatable);return Ul.filter(r).forEach(n=>{let i=n.datatype;Array.isArray(n.datatype)||(i=[i]),i.forEach(o=>{o in t||(t[o]=[]),t[o].push(n)})}),t.none=[],t},ih=[[0,0,0,255],[35,0,0,255],[52,0,0,255],[60,0,0,255],[63,1,0,255],[64,2,0,255],[68,5,0,255],[69,6,0,255],[72,8,0,255],[74,10,0,255],[77,12,0,255],[78,14,0,255],[81,16,0,255],[83,17,0,255],[85,19,0,255],[86,20,0,255],[89,22,0,255],[91,24,0,255],[92,25,0,255],[94,26,0,255],[95,28,0,255],[98,30,0,255],[100,31,0,255],[102,33,0,255],[103,34,0,255],[105,35,0,255],[106,36,0,255],[108,38,0,255],[109,39,0,255],[111,40,0,255],[112,42,0,255],[114,43,0,255],[115,44,0,255],[117,45,0,255],[119,47,0,255],[119,47,0,255],[120,48,0,255],[122,49,0,255],[123,51,0,255],[125,52,0,255],[125,52,0,255],[126,53,0,255],[128,54,0,255],[129,56,0,255],[129,56,0,255],[131,57,0,255],[132,58,0,255],[134,59,0,255],[134,59,0,255],[136,61,0,255],[137,62,0,255],[137,62,0,255],[139,63,0,255],[139,63,0,255],[140,65,0,255],[142,66,0,255],[142,66,0,255],[143,67,0,255],[143,67,0,255],[145,68,0,255],[145,68,0,255],[146,70,0,255],[146,70,0,255],[148,71,0,255],[148,71,0,255],[149,72,0,255],[149,72,0,255],[151,73,0,255],[151,73,0,255],[153,75,0,255],[153,75,0,255],[154,76,0,255],[154,76,0,255],[154,76,0,255],[156,77,0,255],[156,77,0,255],[157,79,0,255],[157,79,0,255],[159,80,0,255],[159,80,0,255],[159,80,0,255],[160,81,0,255],[160,81,0,255],[162,82,0,255],[162,82,0,255],[163,84,0,255],[163,84,0,255],[165,85,0,255],[165,85,0,255],[166,86,0,255],[166,86,0,255],[166,86,0,255],[168,87,0,255],[168,87,0,255],[170,89,0,255],[170,89,0,255],[171,90,0,255],[171,90,0,255],[173,91,0,255],[173,91,0,255],[174,93,0,255],[174,93,0,255],[176,94,0,255],[176,94,0,255],[177,95,0,255],[177,95,0,255],[179,96,0,255],[179,96,0,255],[180,98,0,255],[182,99,0,255],[182,99,0,255],[183,100,0,255],[183,100,0,255],[185,102,0,255],[185,102,0,255],[187,103,0,255],[187,103,0,255],[188,104,0,255],[188,104,0,255],[190,105,0,255],[191,107,0,255],[191,107,0,255],[193,108,0,255],[193,108,0,255],[194,109,0,255],[196,110,0,255],[196,110,0,255],[197,112,0,255],[197,112,0,255],[199,113,0,255],[200,114,0,255],[200,114,0,255],[202,116,0,255],[202,116,0,255],[204,117,0,255],[205,118,0,255],[205,118,0,255],[207,119,0,255],[208,121,0,255],[208,121,0,255],[210,122,0,255],[211,123,0,255],[211,123,0,255],[213,124,0,255],[214,126,0,255],[214,126,0,255],[216,127,0,255],[217,128,0,255],[217,128,0,255],[219,130,0,255],[221,131,0,255],[221,131,0,255],[222,132,0,255],[224,133,0,255],[224,133,0,255],[225,135,0,255],[227,136,0,255],[227,136,0,255],[228,137,0,255],[230,138,0,255],[230,138,0,255],[231,140,0,255],[233,141,0,255],[233,141,0,255],[234,142,0,255],[236,144,0,255],[236,144,0,255],[238,145,0,255],[239,146,0,255],[241,147,0,255],[241,147,0,255],[242,149,0,255],[244,150,0,255],[244,150,0,255],[245,151,0,255],[247,153,0,255],[247,153,0,255],[248,154,0,255],[250,155,0,255],[251,156,0,255],[251,156,0,255],[253,158,0,255],[255,159,0,255],[255,159,0,255],[255,160,0,255],[255,161,0,255],[255,163,0,255],[255,163,0,255],[255,164,0,255],[255,165,0,255],[255,167,0,255],[255,167,0,255],[255,168,0,255],[255,169,0,255],[255,169,0,255],[255,170,0,255],[255,172,0,255],[255,173,0,255],[255,173,0,255],[255,174,0,255],[255,175,0,255],[255,177,0,255],[255,178,0,255],[255,179,0,255],[255,181,0,255],[255,181,0,255],[255,182,0,255],[255,183,0,255],[255,184,0,255],[255,187,7,255],[255,188,10,255],[255,189,14,255],[255,191,18,255],[255,192,21,255],[255,193,25,255],[255,195,29,255],[255,197,36,255],[255,198,40,255],[255,200,43,255],[255,202,51,255],[255,204,54,255],[255,206,61,255],[255,207,65,255],[255,210,72,255],[255,211,76,255],[255,214,83,255],[255,216,91,255],[255,219,98,255],[255,221,105,255],[255,223,109,255],[255,225,116,255],[255,228,123,255],[255,232,134,255],[255,234,142,255],[255,237,149,255],[255,239,156,255],[255,240,160,255],[255,243,167,255],[255,246,174,255],[255,248,182,255],[255,249,185,255],[255,252,193,255],[255,253,196,255],[255,255,204,255],[255,255,207,255],[255,255,211,255],[255,255,218,255],[255,255,222,255],[255,255,225,255],[255,255,229,255],[255,255,233,255],[255,255,236,255],[255,255,240,255],[255,255,244,255],[255,255,247,255],[255,255,255,0]],lr=Ul.reduce((e,t)=>{if(e[t.type]=t,t.aliases)for(const r of t.aliases)e[r]=t;return e},{}),Nle=Ul.reduce((e,t)=>{for(let r=0;r<t.datatype.length;r++){const n=t.datatype[r];return e[n]?e[n].add(t.orientation):e[n]=new Set,e}return{}},{}),Vl={chromsizes:{center:"2d-chromosome-grid",top:"chromosome-labels",left:"chromosome-labels",bottom:"chromosome-labels",right:"chromosome-labels"},matrix:{center:"heatmap",top:"linear-heatmap",left:"linear-heatmap",right:"linear-heatmap",bottom:"linear-heatmap"},vector:{top:"bar",bottom:"bar",left:"bar",right:"bar"},"geo-json":{center:"geo-json"},"gene-annotation":{top:"gene-annotations",bottom:"gene-annotations",left:"gene-annotations",right:"gene-annotations"},bedlike:{top:"bedlike",bottom:"bedlike",left:"vertical-bedlike",right:"vertical-bedlike"}},H0=(e,t)=>{const r=IO(t);let n=new Set(Object.values(r).flat());for(const i of e){const o=new Set(i);n=new Set([...n].filter(a=>a.datatype.filter(s=>o.has(s)).length>0))}return[...n]},_F=8,RO=8,DO="default",U0="bounded",V0="overflow",wc="bounded-overflow",yl="scroll",jle=Object.freeze(Object.defineProperty({__proto__:null,AVAILABLE_TRACK_TYPES:H0,DATATYPE_TO_TRACK_TYPE:IO,DEFAULT_CONTAINER_PADDING_X:lF,DEFAULT_CONTAINER_PADDING_Y:uF,DEFAULT_SERVER:sx,DEFAULT_TRACKS_FOR_DATATYPE:Vl,DEFAULT_VIEW_MARGIN:Bp,DEFAULT_VIEW_PADDING:Fp,GLOBALS:Ie,HEATED_OBJECT_MAP:ih,LOCATION_LISTENER_PREFIX:Hp,LONG_DRAG_TIMEOUT:zp,MAX_CLICK_DELAY:nle,MIN_HORIZONTAL_HEIGHT:dF,MIN_VERTICAL_WIDTH:mF,MOUSE_TOOL_MOVE:L0,MOUSE_TOOL_SELECT:Ui,MOUSE_TOOL_TRACK_SELECT:Fd,NUM_PRECOMP_SUBSETS_PER_1D_TTILE:_F,NUM_PRECOMP_SUBSETS_PER_2D_TTILE:RO,POSITIONS_BY_DATATYPE:Nle,SHORT_DRAG_TIMEOUT:cF,SIZE_MODE_BOUNDED:U0,SIZE_MODE_BOUNDED_OVERFLOW:wc,SIZE_MODE_DEFAULT:DO,SIZE_MODE_OVERFLOW:V0,SIZE_MODE_SCROLL:yl,THEME_DARK:br,THEME_DEFAULT:gF,THEME_LIGHT:z0,TILE_FETCH_DEBOUNCE:ax,TRACKS_INFO:Ul,TRACKS_INFO_BY_TYPE:lr,TRACK_LOCATIONS:F0,VIEW_HEADER_MED_WIDTH_SEARCH_BAR:fF,VIEW_HEADER_MIN_WIDTH_SEARCH_BAR:pF,ZOOM_DEBOUNCE:B0,ZOOM_TRANSITION_DURATION:hF},Symbol.toStringTag,{value:"Module"})),wF=e=>{const t=["top","bottom","gallery"],r=["left","right","gallery"];return e.center??(e.center=[]),e.left??(e.left=[]),e.right??(e.right=[]),e.top??(e.top=[]),e.bottom??(e.bottom=[]),e.whole??(e.whole=[]),e.gallery??(e.gallery=[]),t.map(n=>e[n]).forEach(n=>(n??[]).forEach(i=>{const o=lr[i.type],a=o?.defaultOptions||{},s=i.options?{...a,...i.options}:a;s.minHeight!==void 0&&i.height===void 0&&(i.height=s.minHeight),i.height===void 0&&(i.height=o?.defaultHeight||dF)})),r.map(n=>e[n]).forEach(n=>(n??[]).forEach(i=>{const o=lr[i.type],a=o?.defaultOptions||{},s=i.options?{...a,...i.options}:a;s.minWidth!==void 0&&i.width===void 0&&(i.width=s.minWidth),i.width===void 0&&(i.width=o?.defaultWidth||mF)})),e},TF=(e,t)=>r=>r.reduce(e,t),Lle=TF((e,t)=>e.concat(t),[]),Ble=e=>t=>Array.prototype.forEach.call(t,e),G0=(e,t)=>{t.dispatchEvent(oF(e))},Fle=(e,t)=>[N0(e[0],e[1],t),N0(e[2],e[3],t)];function zle(e,t,r,n,i){const{chr:o,pos:a}=t,{chr:s,pos:u}=r,l=[];if(o===s){const c=o,h=Math.floor(a/n),f=Math.min(h+i,Math.ceil(u/n));l.push([c,h,f])}else{let c=i;const h=e.findIndex(([p])=>p===o),f=e.findIndex(([p])=>p===s);for(let p=h;p<=f;p++){let d,m;const[v,b]=e[p];p<f?(p===h?d=a:d=0,m=b):(d=0,m=u);const g=Math.floor(d/n),y=Math.min(g+c,Math.ceil(m/n));l.push([v,g,y]),c-=y-g}}return l}function Hle(e,t){return Vl[e]!==void 0?Vl[e][t]:void 0}const NO=(e,t,r)=>{if(r.length===0)return;if(r.length===1)return r[0];let n=r[0];const i=Hle(e,t);return i!==void 0&&(n=r.find(o=>o.type===i)||n),n},xF=e=>(BV.listen(),[e.clientWidth,e.clientHeight]),hi=(e,t)=>{let r=null;const n=i=>(i.uid===t&&(r=i),i.type.substr(0,8)==="combined"&&i.contents.forEach(n),null);return Object.keys(e).map(i=>e[i]).filter(i=>i.filter).reduce((i,o)=>i.concat(o),[]).forEach(n),r},Ule=(e,t,r)=>{const n=e.state.views[t];if(!n)return null;let i=null;const o=s=>(s.uid===r&&(i=s),s.type.substr(0,8)==="combined"&&s.contents.forEach(o),null),a=n.tracks;return Object.keys(a).map(s=>a[s]).filter(s=>s.filter).reduce((s,u)=>s.concat(u),[]).forEach(o),i},Up=(e,t,r)=>{const n=t?e[t]:Object.values(e)[0];if(!n){console.warn(t?`Could't find view with id "${t}"`:"No views available.");return}let i=n.trackRenderer.trackDefObjects[r];return i?i=i.trackObject:Object.values(n.trackRenderer.trackDefObjects).map(o=>o.trackObject).filter(o=>o.childTracks).forEach(o=>{o.createdTracks[r]&&(i=o.createdTracks[r])}),i};function fd(e){return"contents"in e&&e.type==="combined"}function Vle(e){return"deltaY"in e&&"deltaMode"in e}function Pb(e){return e!==null&&typeof e=="object"}function Y0(e){return Pb(e)&&"max_width"in e}function zd(e){return Pb(e)&&"resolutions"in e}function Gle(e){return Pb(e)&&!("error"in e)}const jO=(e,t,r=!0,n=null)=>e.forEach(i=>{r&&fd(i)&&jO(i.contents,t,r,n),t(i,n)}),va=(e,t,r=!0)=>{const n=[];for(const[i,o]of Object.entries(e))jO(o,t,r,i),n.push(...o);return n},pd=(e,t)=>{let r=null;return va(e,(n,i)=>{n.uid===t&&(r=i)}),r},LO=e=>t=>Array.prototype.map.call(t,e),EF=()=>[window,LO(e=>e.charCodeAt(0))("2.0.0").map(e=>e<=999?`00${e}`.slice(-3):e).join("")],SF=(e,t=1,r=100,n=0,i=0,o=0,a=100)=>{const s=document.createElement("canvas");s.width=t,s.height=r;const u=s.getContext("2d");if(!u)throw new Error("Could not get canvas context");const l=u.createLinearGradient(n,i,o,a);return e.forEach(c=>{l.addColorStop(c.from,c.color)}),u.fillStyle=l,u.fillRect(0,0,t,r),s},kF=(e,t)=>{let r=e;for(;r&&r!==t&&r.tagName!=="HTML";)r=r.parentNode;return r===t},OF=e=>Number.parseInt(e.replace(/^#/,""),16),PF=()=>{};function Yle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$le(n.key),n)}}function Xle(e,t,r){return t&&Wle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $le(e){var t=qle(e,"string");return typeof t=="symbol"?t:t+""}function qle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}let BO=(function(){function e(t){Yle(this,e),this.context=t;const{tracks:r,createTrackObject:n}=t;this.childTracks=r.map(n),this.createdTracks={},this.uid=Nt.nice(),this.childTracks.forEach((i,o)=>{this.createdTracks[r[o].uid]=i});for(let i=0;i<this.childTracks.length;i++)this.childTracks[i]||console.error("Empty child track in CombinedTrack:",this)}return Xle(e,[{key:"updateContents",value:function(t,r){const n=[],i=new Set;t.forEach(a=>{if(i.add(a.uid),a.uid in this.createdTracks)n.push(this.createdTracks[a.uid]);else{const s=r(a);s.setPosition(this.position),s.setDimensions(this.dimensions),n.push(s),s.zoomed(this._xScale,this._yScale),this.createdTracks[a.uid]=s}}),this.childTracks=n;const o=new Set(Object.keys(this.createdTracks));return[...new Set([...o].filter(a=>!i.has(a)))].forEach(a=>{this.createdTracks[a].remove(),delete this.createdTracks[a]}),this}},{key:"setPosition",value:function(t){this.position=t;for(let r=0;r<this.childTracks.length;r++)this.childTracks[r].setPosition(t)}},{key:"setDimensions",value:function(t){this.dimensions=t;for(let r=0;r<this.childTracks.length;r++)this.childTracks[r].setDimensions(t)}},{key:"zoomed",value:function(t,r,n,i,o,a,s){this._xScale=t,this._yScale=r;for(let u=0;u<this.childTracks.length;u++)this.childTracks[u].zoomed(t,r,n,i,o,a,s)}},{key:"clickOutside",value:function(){for(let t=0;t<this.childTracks.length;t++)this.childTracks[t].clickOutside()}},{key:"click",value:function(...t){for(let r=0;r<this.childTracks.length;r++)this.childTracks[r].click(...t)}},{key:"draw",value:function(){}},{key:"refScalesChanged",value:function(t,r){for(let n=0;n<this.childTracks.length;n++)this.childTracks[n].refScalesChanged(t,r)}},{key:"remove",value:function(){for(let t=0;t<this.childTracks.length;t++)this.childTracks[t].remove()}},{key:"exportSVG",value:function(){const t=document.createElement("g");for(const r of this.childTracks)r.exportSVG&&t.appendChild(r.exportSVG()[0]);return[t,t]}},{key:"rerender",value:function(t){}},{key:"minValue",value:function(t){if(arguments.length===0){const r=this.childTracks.filter(n=>n.minValue).map(n=>n.minValue()).filter(n=>n);return Math.min(...r)}for(const r of this.childTracks)r.minValue&&r.minValue(t)}},{key:"maxValue",value:function(t){if(arguments.length===0){const r=this.childTracks.filter(n=>n.maxValue).map(n=>n.maxValue()).filter(n=>n);return Math.max(...r)}for(const r of this.childTracks)r.maxValue&&r.maxValue(t)}},{key:"respondsToPosition",value:function(t,r){return t>=this.position[0]&&t<=this.dimensions[0]+this.position[0]&&r>=this.position[1]&&r<=this.dimensions[1]+this.position[1]}},{key:"stopHover",value:function(){for(const t of this.childTracks)t.stopHover&&t.stopHover()}},{key:"getMouseOverHtml",value:function(t,r){let n="";for(const i of this.childTracks)if(i.getMouseOverHtml){const o=i.getMouseOverHtml(t,r);o?.length&&(n+=o,n+="<br/>")}return n}}])})();const CF=(e,t)=>t===e?!0:t instanceof BO?Object.keys(t.createdTracks).map(r=>t.createdTracks[r]).some(r=>CF(e,r)):!1,FO=(e,t,r,n,i,o,a=!1)=>a?e>=r&&e<=n||t>=i&&t<=o:e>=r&&e<=n&&t>=i&&t<=o,Kle=e=>Math.log(Math.tan((e+Math.PI/2)/2)),Zle=(e,t)=>{let r=e*Math.PI/180;return r=Kle(r),2**t*(Math.PI-r)/(2*Math.PI)},Cb=e=>LO(t=>e[t])(Object.keys(e)),Qle=e=>Cb(e).map(t=>t.chromInfoPath).forEach(t=>CO.get(t)),Jle=(e,t)=>2**t*(e+180)/360,lx=(e,t)=>e>t?e:t,eue=1e-7;function ux(e){let t=Number.MIN_SAFE_INTEGER;for(let r=0;r<e.length;r++){const n=e[r];n<eue&&n>-1e-7||n>t&&(t=n)}return t}const AF=(e,t)=>e<t?e:t,tue=1e-7;function cx(e){let t=Number.MAX_SAFE_INTEGER;for(let r=0;r<e.length;r++){const n=e[r];n<tue&&n>-1e-7||n<t&&(t=n)}return t}const rue=(e,t)=>(e%t+t)%t,MF=(e,t)=>{const r=+t;if(Number.isNaN(r)){const n=e.shape[0],i=e.shape[1],o=t.shape[0],a=t.shape[1];if(n!==o||i!==a){console.warn("Cannot assign source to target ndarray as the dimensions do not match",n,o,i,a);return}if(e.dimension===1)for(let s=0;s<e.shape[0];++s)e.set(s,t.get(s));else for(let s=0;s<e.shape[0];++s)for(let u=0;u<e.shape[1];++u)e.set(s,u,t.get(s,u))}else if(e.dimension===1)for(let n=0;n<e.shape[0];++n)e.set(n,r);else for(let n=0;n<e.shape[0];++n)for(let i=0;i<e.shape[1];++i)e.set(n,i,r)};function nue(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}var iue=nue;/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/var oue=function(e){return e!=null&&(IF(e)||aue(e)||!!e._isBuffer)};function IF(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function aue(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&IF(e.slice(0,0))}var sue=iue,lue=oue,uue=typeof Float64Array<"u";function cue(e,t){return e[0]-t[0]}function hue(){var e=this.stride,t=new Array(e.length),r;for(r=0;r<t.length;++r)t[r]=[Math.abs(e[r]),r];t.sort(cue);var n=new Array(t.length);for(r=0;r<n.length;++r)n[r]=t[r][1];return n}function fue(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var n=e==="generic";if(t===-1){var i="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",m=new Function(i);return m()}else if(t===0){var i="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",m=new Function("TrivialArray",i);return m(W0[e][0])}var i=["'use strict'"],o=sue(t),a=o.map(function(v){return"i"+v}),s="this.offset+"+o.map(function(v){return"this.stride["+v+"]*i"+v}).join("+"),u=o.map(function(v){return"b"+v}).join(","),l=o.map(function(v){return"c"+v}).join(",");i.push("function "+r+"(a,"+u+","+l+",d){this.data=a","this.shape=["+u+"]","this.stride=["+l+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),i.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+o.map(function(v){return"this.shape["+v+"]"}).join("*"),"}})"),t===1?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),t<4?(i.push("function "+r+"_order(){"),t===2?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):t===3&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+r+"_set("+a.join(",")+",v){"),n?i.push("return this.data.set("+s+",v)}"):i.push("return this.data["+s+"]=v}"),i.push("proto.get=function "+r+"_get("+a.join(",")+"){"),n?i.push("return this.data.get("+s+")}"):i.push("return this.data["+s+"]}"),i.push("proto.index=function "+r+"_index(",a.join(),"){return "+s+"}"),i.push("proto.hi=function "+r+"_hi("+a.join(",")+"){return new "+r+"(this.data,"+o.map(function(v){return["(typeof i",v,"!=='number'||i",v,"<0)?this.shape[",v,"]:i",v,"|0"].join("")}).join(",")+","+o.map(function(v){return"this.stride["+v+"]"}).join(",")+",this.offset)}");var c=o.map(function(v){return"a"+v+"=this.shape["+v+"]"}),h=o.map(function(v){return"c"+v+"=this.stride["+v+"]"});i.push("proto.lo=function "+r+"_lo("+a.join(",")+"){var b=this.offset,d=0,"+c.join(",")+","+h.join(","));for(var f=0;f<t;++f)i.push("if(typeof i"+f+"==='number'&&i"+f+">=0){d=i"+f+"|0;b+=c"+f+"*d;a"+f+"-=d}");i.push("return new "+r+"(this.data,"+o.map(function(v){return"a"+v}).join(",")+","+o.map(function(v){return"c"+v}).join(",")+",b)}"),i.push("proto.step=function "+r+"_step("+a.join(",")+"){var "+o.map(function(v){return"a"+v+"=this.shape["+v+"]"}).join(",")+","+o.map(function(v){return"b"+v+"=this.stride["+v+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var f=0;f<t;++f)i.push("if(typeof i"+f+"==='number'){d=i"+f+"|0;if(d<0){c+=b"+f+"*(a"+f+"-1);a"+f+"=ceil(-a"+f+"/d)}else{a"+f+"=ceil(a"+f+"/d)}b"+f+"*=d}");i.push("return new "+r+"(this.data,"+o.map(function(v){return"a"+v}).join(",")+","+o.map(function(v){return"b"+v}).join(",")+",c)}");for(var p=new Array(t),d=new Array(t),f=0;f<t;++f)p[f]="a[i"+f+"]",d[f]="b[i"+f+"]";i.push("proto.transpose=function "+r+"_transpose("+a+"){"+a.map(function(v,b){return v+"=("+v+"===undefined?"+b+":"+v+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+p.join(",")+","+d.join(",")+",this.offset)}"),i.push("proto.pick=function "+r+"_pick("+a+"){var a=[],b=[],c=this.offset");for(var f=0;f<t;++f)i.push("if(typeof i"+f+"==='number'&&i"+f+">=0){c=(c+this.stride["+f+"]*i"+f+")|0}else{a.push(this.shape["+f+"]);b.push(this.stride["+f+"])}");i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+o.map(function(v){return"shape["+v+"]"}).join(",")+","+o.map(function(v){return"stride["+v+"]"}).join(",")+",offset)}");var m=new Function("CTOR_LIST","ORDER",i.join(`
`));return m(W0[e],hue)}function pue(e){if(lue(e))return"buffer";if(uue)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}var W0={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function due(e,t,r,n){if(e===void 0){var l=W0.array[0];return l([])}else typeof e=="number"&&(e=[e]);t===void 0&&(t=[e.length]);var i=t.length;if(r===void 0){r=new Array(i);for(var o=i-1,a=1;o>=0;--o)r[o]=a,a*=t[o]}if(n===void 0){n=0;for(var o=0;o<i;++o)r[o]<0&&(n-=(t[o]-1)*r[o])}for(var s=pue(e),u=W0[s];u.length<=i+1;)u.push(fue(s,u.length-1));var l=u[i+1];return l(e,t,r,n)}var mue=due;const Rc=Ji(mue),RF=e=>{const t=e.shape.reduce((n,i)=>n*i,1),r=new Array(t);if(e.dimension===1){let n=0;for(let i=0;i<e.shape[0];++i)r[n]=e.get(i),n++}else{let n=0;for(let i=0;i<e.shape[0];++i)for(let o=0;o<e.shape[1];++o)r[n]=e.get(i,o),n++}return r},DF=e=>e.shape.length===1?e:Rc(RF(e)),NF=e=>{const t=e.split("."),r=t.slice(1).join("").length;return+t.join("")/10**r},w1=(e,t)=>e||t,hx=e=>{var t,r,n;const i=document.createElement("g"),o=document.createElement("text");return e.anchor.x===0?o.setAttribute("text-anchor","start"):e.anchor.x===1?o.setAttribute("text-anchor","end"):o.setAttribute("text-anchor","middle"),o.setAttribute("font-family",((t=e.style.fontFamily)==null?void 0:t.toString())??""),o.setAttribute("font-size",((r=e.style.fontSize)==null?void 0:r.toString())??""),i.setAttribute("transform",`scale(${e.scale.x},1)`),o.setAttribute("fill",((n=e.style.fill)==null?void 0:n.toString())??""),o.innerHTML=e.text,i.appendChild(o),i.setAttribute("transform",`translate(${e.x},${e.y})scale(${e.scale.x},1)`),i},gue=e=>{try{const t=e.split(".");return r=>{let n=r;return t.forEach(i=>{n=n[i]}),n}}catch{return}},yue=(e,t,r,n,i,o,a=0,s=0,u)=>{const l=o?i:n,c=o?n:i,h=o?s:a,f=o?a:s,p=Math.max(0,+l[0]||0),d=Math.max(0,+l[1]||0),m=Math.max(0,+c[0]||0),v=Math.max(0,+c[1]||0);let b=[];ArrayBuffer.isView(u)||console.warn("Not supported yet");try{const g=new u.constructor(u.length);let y=0+f;for(let w=m;w<v;w++)g.set(e.slice(w*t+p,w*t+d),h+y*r),y+=1;const _=o?nF(r,r):void 0;b=iF(u,g,_)}catch{}return b},vue=(e,t,r,n)=>[n.chrPositions[e].pos+ +t,n.chrPositions[e].pos+ +r],bue="http://www.w3.org/2000/svg",_ue=(e,t)=>{const r=new RegExp(`(\\s|^)${t}(\\s|$)`);if(e.namespaceURI===bue){const n=e.getAttribute("class")||"";e.setAttribute("class",n.replace(r," "))}else e.classList?e.classList.remove(t):D0(e,t)&&(e.className=e.className.replace(r," "))},Dc=(e,t)=>{e.select(".selection").attr("fill",null).attr("fill-opacity",null).attr("stroke",null).classed(t,!0)},Gw=e=>{const t=e.toString(16);return t.length===1?`0${t}`:t},wue=(e,t,r)=>`#${Gw(e)}${Gw(t)}${Gw(r)}`,Qr=(e,t)=>{const r=e.invert((e.range()[0]+e.range()[1])/2),n=t.invert((t.range()[0]+t.range()[1])/2),i=e.invert(1)-e.invert(0);return[r,n,i]},jF=(e,t,r)=>{if(r===null||!e||!t)return;const n=e.domain()[0],i=e.domain()[1],o=t.domain()[0],a=t.domain()[1];return[...j0(n,i,r),...j0(o,a,r)]},Tue=11184810,xue=1,Eue=(e,t,r,n,i,o,a,s,u)=>{e.publish("app.animateOnMouseMove",!0);const l=r.mousePositionColor?OF(r.mousePositionColor):Tue,c=r.mousePositionAlpha||xue,h=new Ie.PIXI.Graphics,f=()=>{h.clear()},p=(m,v,b)=>{if(b||f(),h.lineStyle(1,l,c),v){const g=s?i()[0]:0;h.moveTo(0,m),h.lineTo(o()[0]+g,m)}else{const g=s?i()[1]:0;h.moveTo(m,0),h.lineTo(m,o()[1]+g)}},d=m=>{if(m.noHoveredTracks)return f(),h;let v,b;m.isFromVerticalTrack?(v=m.dataY,b=m.dataY):(v=m.dataX,b=m.isFrom2dTrack?m.dataY:m.dataX);const g=s?i():[0,0],y=a()?n()[0](b)+g[1]:n()[0](v)+g[0];return p(y),s&&p(n()[1](b)+g[1],!0,!0),h};return t.push(e.subscribe("app.mouseMove",d)),t.push(e.subscribe("app.mouseLeave",f)),t.push(e.subscribe("blur",f)),u&&t.push(cd.subscribe("higlass.mouseMove",d)),h},Gl=(e,t=!1,r=!1)=>{const n=t?e.pMasked:e.pForeground||e.pMain;if(!n)throw new Error("setupShowMousePosition: No scene found. Please make sure to call this method after the scene has been initialized.");const i=()=>[e.xScale(),e.yScale()],o=Eue(e.pubSub,e.pubSubs,e.options,i,e.getPosition.bind(e),e.getDimensions.bind(e),e.getProp("flipText"),t,r);return n.addChild(o),()=>{n.removeChild(o)}},Sue=e=>t=>Array.prototype.some.call(t,e),fs=(e,t)=>e+t,LF=(e,t,r,n,i,o)=>{const a=document.createElement("line");return a.setAttribute("x1",String(e)),a.setAttribute("x2",String(r)),a.setAttribute("y1",String(t)),a.setAttribute("y2",String(n)),i&&a.setAttribute("stroke-width",String(i)),o&&a.setAttribute("stroke",o),a},BF=(e,t,r)=>{let n,i=0;const o=()=>{n=void 0},a=(...u)=>{const l=()=>{i>0&&(e(...u),i=0)};clearTimeout(n),n=setTimeout(l,r)};a.cancel=()=>{clearTimeout(n),o()},a.immediate=(...u)=>{e(...u)};let s=!1;return(u,...l)=>{s?i++:(e(...l),a(...l),s=!0,i=0,setTimeout(()=>{s=!1},t))}},kue=(e,t=256,r=256)=>{const n=document.createElement("canvas");n.width=t,n.height=r;const i=n.getContext("2d");if(!i)throw new Error("Could not get canvas context");i.fillStyle="transparent",i.fillRect(0,0,n.width,n.height);const o=new ImageData(e,n.width,n.height);return i.putImageData(o,0,0),n},FF=e=>new Promise(t=>{setTimeout(t,e)}),Oue=e=>{if(!e.tracks)return 0;let t=0;return e.tracks.top&&(t+=e.tracks.top.map(r=>r.height).reduce((r,n)=>r+n,0)),e.tracks.center&&(t+=e.tracks.center.map(r=>r.height).reduce((r,n)=>r+n,0)),e.tracks.bottom&&(t+=e.tracks.bottom.map(r=>r.height).reduce((r,n)=>r+n,0)),t},X0=()=>{},Ab=e=>(e||"").replace(/\/$/,""),zO=(e,t,r=0,n=1e-6)=>i=>{let o=255;return i>n&&(o=Math.max(0,Math.min(255,Math.floor(e(i+r))))),t[o]},Pg=e=>{let t=[];for(const r of e)fd(r)?t=t.concat(r.contents):t.push(r);return t};function Pue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cue(n.key),n)}}function zF(e,t,r){return t&&Pue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cue(e){var t=Aue(e,"string");return typeof t=="symbol"?t:t+""}function Aue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function HF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}let UF=zF(function e(t,r,n,i){HF(this,e),this.interval=[t,r],this.max=Number.NEGATIVE_INFINITY,this.parentNode=null,this.left=n??null,this.right=i??null}),J3=(function(){function e(){HF(this,e),this.root=null}return zF(e,[{key:"add",value:function(t){if(!this.root){this.root=new UF(t[0],t[1]),this.root.max=t[1];return}fx(this.root,t)}},{key:"contains",value:function(t){return VF(t,this.root)}},{key:"intersects",value:function(t){return GF(t,this.root)}},{key:"height",value:function(){return px(this.root)}},{key:"findMax",value:function(t){const r=[t];let n,i=Number.NEGATIVE_INFINITY,o;for(;r.length;)n=r.pop(),n?.left&&r.push(n.left),n?.right&&r.push(n.right),n?.interval[1]>i&&(i=n.interval[1],o=n);return o??null}},{key:"_removeHelper",value:function(t,r){if(r)if(r.interval[0]===t[0]&&r.interval[1]===t[1]){if(r.left&&r.right){let i=r.left;for(;i.left;)i=i.left;const o=i.interval;i.interval=r.interval,r.interval=o,this._removeHelper(i.interval,r)}else{let i="left";r.right&&(i="right");const o=r.parentNode;o?(o.left===r?o.left=r[i]:o.right=r[i],r[i]&&(r[i].parentNode=o)):(this.root=r[i],this.root&&(this.root.parentNode=null))}const n=r.parentNode;if(n){let i=this.findMax(n);const o=i?.interval[1]??Number.NEGATIVE_INFINITY;for(;i;)i.max===r.interval[1]?(i.max=o,i=i.parentNode):i=null}}else this._removeHelper(t,r.left),this._removeHelper(t,r.right)}},{key:"remove",value:function(t){return this._removeHelper(t,this.root)}}])})();function e8(e,t,r){let n=new UF(r[0],r[1]);if(n.max=r[1],n.parentNode=e,e[t]=n,e.max<r[1])for(;n;)n.max<r[1]&&(n.max=r[1]),n=n.parentNode}function fx(e,t){e.interval[0]>t[0]?e.left?fx(e.left,t):e8(e,"left",t):e.right?fx(e.right,t):e8(e,"right",t)}function VF(e,t){if(!t)return!1;if(t.interval[0]<=e&&t.interval[1]>=e)return!0;let r=!1,n;return["left","right"].forEach(i=>{n=t[i],n&&n.max>e&&(r=r||VF(e,n))}),r}function Mue(e,t){return e[0]===t[0]&&e[1]===t[1]||e[0]<t[0]&&e[1]>t[0]||e[0]<t[1]&&e[1]>t[1]||t[0]<e[0]&&t[1]>e[0]||t[0]<e[1]&&t[1]>e[1]}function GF(e,t){if(!t)return!1;if(Mue(t.interval,e))return!0;let r=!1,n;return["left","right"].forEach(i=>{n=t[i],n&&n.max>=e[0]&&(r=r||GF(e,n))}),r}function px(e){return e?1+Math.max(px(e.left),px(e.right)):0}function $0(e){e.sort((n,i)=>i.to-i.from-(n.to-n.from));const t=[[]],r=[new J3];for(let n=0;n<e.length;n++){let i=!1;for(let o=0;o<t.length;o++){const a=r[o],s=[+e[n].from,+e[n].to];if(!a.intersects(s)){a.add(s),t[o].push(e[n]),i=!0;break}}if(!i){const o=new J3;o.add([e[n].from,e[n].to]),t.push([e[n]]),r.push(o)}}return t}function Iue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nue(n.key),n)}}function Due(e,t,r){return t&&Rue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nue(e){var t=jue(e,"string");return typeof t=="symbol"?t:t+""}function jue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}let q0=(function(){function e(t){Iue(this,e),this.epsilon=1e-6,this.data=t,this.tileSize=this.data.length,this.paddedTileSize=2**Math.ceil(Math.log2(this.tileSize)),this.numSubsets=Math.min(_F,this.paddedTileSize),this.subsetSize=this.paddedTileSize/this.numSubsets,this.subsetMinimums=this.computeSubsetNonZeroMinimums(),this.subsetMaximums=this.computeSubsetNonZeroMaximums(),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return Due(e,[{key:"getMinNonZeroInSubset",value:function(t){const r=t[0],n=t[1];let i=Number.MAX_SAFE_INTEGER;if(r===0&&n===this.tileSize)return this.minNonZeroInTile;const o=Math.ceil(r/this.subsetSize),a=Math.floor((n-1)/this.subsetSize);return o>=a?this.minNonZero(this.data,r,n):(r<o*this.subsetSize&&(i=Math.min(i,this.minNonZero(this.data,r,o*this.subsetSize))),i=Math.min(i,this.minNonZero(this.subsetMinimums,o,a)),n>a*this.subsetSize&&(i=Math.min(i,this.minNonZero(this.data,a*this.subsetSize,n))),i)}},{key:"getMaxNonZeroInSubset",value:function(t){const r=t[0],n=t[1];let i=Number.MIN_SAFE_INTEGER;if(r===0&&n===this.tileSize)return this.maxNonZeroInTile;const o=Math.ceil(r/this.subsetSize),a=Math.floor((n-1)/this.subsetSize);return o>=a?this.maxNonZero(this.data,r,n):(r<o*this.subsetSize&&(i=Math.max(i,this.maxNonZero(this.data,r,o*this.subsetSize))),i=Math.max(i,this.maxNonZero(this.subsetMaximums,o,a)),n>a*this.subsetSize&&(i=Math.max(i,this.maxNonZero(this.data,a*this.subsetSize,n))),i)}},{key:"computeSubsetNonZeroMinimums",value:function(){const t=[];for(let r=0;r<this.numSubsets;r++){let n=Number.MAX_SAFE_INTEGER;for(let i=0;i<this.subsetSize;i++){const o=this.data[r*this.subsetSize+i];o!==void 0&&(o<this.epsilon&&o>-this.epsilon||o<n&&(n=o))}t.push(n)}return t}},{key:"computeSubsetNonZeroMaximums",value:function(){const t=[];for(let r=0;r<this.numSubsets;r++){let n=Number.MIN_SAFE_INTEGER;for(let i=0;i<this.subsetSize;i++){const o=this.data[r*this.subsetSize+i];o!==void 0&&(o<this.epsilon&&o>-this.epsilon||o>n&&(n=o))}t.push(n)}return t}},{key:"getMinNonZeroInTile",value:function(){return Math.min(...this.subsetMinimums)}},{key:"getMaxNonZeroInTile",value:function(){return Math.max(...this.subsetMaximums)}},{key:"minNonZero",value:function(t,r,n){let i=Number.MAX_SAFE_INTEGER;for(let o=r;o<n;o++){const a=t[o];a<this.epsilon&&a>-this.epsilon||a<i&&(i=a)}return i}},{key:"maxNonZero",value:function(t,r,n){let i=Number.MIN_SAFE_INTEGER;for(let o=r;o<n;o++){const a=t[o];a<this.epsilon&&a>-this.epsilon||a>i&&(i=a)}return i}}])})();function Lue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zue(n.key),n)}}function Fue(e,t,r){return t&&Bue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zue(e){var t=Hue(e,"string");return typeof t=="symbol"?t:t+""}function Hue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}let HO=(function(){function e(t){Lue(this,e),this.epsilon=1e-6,this.tileSize=Math.sqrt(t.length),Number.isSafeInteger(this.tileSize)||console.error("The DenseDataExtrema2D module only works for data of quadratic length."),this.numSubsets=Math.min(RO,this.tileSize),this.subsetSize=this.tileSize/this.numSubsets;const r=Rc(Array.from(t),[this.tileSize,this.tileSize]);this.subsetMinimums=this.computeSubsetNonZeroMinimums(r),this.subsetMaximums=this.computeSubsetNonZeroMaximums(r),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return Fue(e,[{key:"getMinNonZeroInSubset",value:function(t){const r=t[0],n=t[1],i=t[2],o=t[3],a=Math.floor(n/this.subsetSize),s=Math.floor(r/this.subsetSize),u=Math.ceil((o+1)/this.subsetSize)-a,l=Math.ceil((i+1)/this.subsetSize)-s;return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,a,s,l,u)}},{key:"getMaxNonZeroInSubset",value:function(t){const r=t[0],n=t[1],i=t[2],o=t[3],a=Math.floor(n/this.subsetSize),s=Math.floor(r/this.subsetSize),u=Math.ceil((o+1)/this.subsetSize)-a,l=Math.ceil((i+1)/this.subsetSize)-s;return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,a,s,l,u)}},{key:"computeSubsetNonZeroMinimums",value:function(t){const r=Rc(new Array(this.numSubsets**2),[this.numSubsets,this.numSubsets]);for(let n=0;n<this.numSubsets;n++)for(let i=0;i<this.numSubsets;i++){const o=this.getMinNonZeroInNdarraySubset(t,n*this.subsetSize,i*this.subsetSize,this.subsetSize,this.subsetSize);r.set(n,i,o)}return r}},{key:"computeSubsetNonZeroMaximums",value:function(t){const r=Rc(new Array(this.numSubsets**2),[this.numSubsets,this.numSubsets]);for(let n=0;n<this.numSubsets;n++)for(let i=0;i<this.numSubsets;i++){const o=this.getMaxNonZeroInNdarraySubset(t,n*this.subsetSize,i*this.subsetSize,this.subsetSize,this.subsetSize);r.set(n,i,o)}return r}},{key:"getMinNonZeroInNdarraySubset",value:function(t,r,n,i,o){let a=Number.MAX_SAFE_INTEGER;for(let s=0;s<i;s++)for(let u=0;u<o;u++){const l=t.get(r+u,n+s);l<this.epsilon&&l>-this.epsilon||l<a&&(a=l)}return a}},{key:"getMaxNonZeroInNdarraySubset",value:function(t,r,n,i,o){let a=Number.MIN_SAFE_INTEGER;for(let s=0;s<i;s++)for(let u=0;u<o;u++){const l=t.get(r+u,n+s);l<this.epsilon&&l>-this.epsilon||l>a&&(a=l)}return a}},{key:"mirrorPrecomputedExtrema",value:function(){for(let t=1;t<this.numSubsets;t++)for(let r=0;r<t;r++)this.subsetMinimums.set(r,t,this.subsetMinimums.get(t,r)),this.subsetMaximums.set(r,t,this.subsetMaximums.get(t,r))}},{key:"getMinNonZeroInTile",value:function(){return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,0,0,this.numSubsets,this.numSubsets)}},{key:"getMaxNonZeroInTile",value:function(){return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,0,0,this.numSubsets,this.numSubsets)}}])})();const UO=e=>{let t;switch(e&&e.toLowerCase()){case"mean":t=I5;break;case"sum":t=eL;break;case"variance":t=M9;break;case"deviation":t=I9;break;default:t=I5,console.warn("Encountered an unsupported selectedRowsAggregationMode option.")}return t},Hd=(e,t)=>e.reduce((r,n)=>r+(Array.isArray(n)&&t?n.length:1),0),df=e=>{switch(e.type){case"heatmap":case"horizontal-1d-heatmap":case"horizontal-bar":case"horizontal-line":case"horizontal-point":case"vertical-1d-heatmap":case"vertical-bar":case"vertical-line":case"vertical-point":case"horizontal-1d-tiles":case"vertical-1d-tiles":case"2d-tiles":case"horizontal-gene-annotations":case"vertical-gene-annotations":case"horizontal-heatmap":case"vertical-heatmap":case"osm-tiles":case"mapbox-tiles":case"horizontal-multivec":return!0;case"combined":return e.contents.map(t=>df(t)).reduce(w1,!1);default:return!1}};function Uue(e,t){if(window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach(i=>{lr[i]=window.higlassTracksByType[i].config}),!(e in Vl)&&!t){console.warn("unknown data type:",e);return}const r={"1d-horizontal":["top","bottom","left","right"],"2d":["center"],"1d-vertical":["left","right"]},n=Vl[e]||{};if(t)for(const i of t)if(!lr[i])console.warn("unknown track type",i);else for(const o of r[lr[i].orientation])n[o]=i;return n}const VO=(e,t,r)=>{var n;let i=t,o;return r?o=r:(o=t,i=Object.values(e.state.views)[0].uid),(n=e.tiledPlots[i].trackRenderer)==null?void 0:n.getTrackObject(o)},YF=(e,t)=>e.tiledPlots[t].trackRenderer,Vue=(e,t)=>e.tiledPlots[t];var GO={},t8=Object.prototype.toString,WF=function(e){var t=t8.call(e),r=t==="[object Arguments]";return r||(r=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&t8.call(e.callee)==="[object Function]"),r},Yw,r8;function Gue(){if(r8)return Yw;r8=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=WF,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),a=i.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(f){var p=f.constructor;return p&&p.prototype===f},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=(function(){if(typeof window>"u")return!1;for(var f in window)try{if(!l["$"+f]&&t.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{u(window[f])}catch{return!0}}catch{return!0}return!1})(),h=function(f){if(typeof window>"u"||!c)return u(f);try{return u(f)}catch{return!1}};e=function(f){var p=f!==null&&typeof f=="object",d=r.call(f)==="[object Function]",m=n(f),v=p&&r.call(f)==="[object String]",b=[];if(!p&&!d&&!m)throw new TypeError("Object.keys called on a non-object");var g=a&&d;if(v&&f.length>0&&!t.call(f,0))for(var y=0;y<f.length;++y)b.push(String(y));if(m&&f.length>0)for(var _=0;_<f.length;++_)b.push(String(_));else for(var w in f)!(g&&w==="prototype")&&t.call(f,w)&&b.push(String(w));if(o)for(var T=h(f),O=0;O<s.length;++O)!(T&&s[O]==="constructor")&&t.call(f,s[O])&&b.push(s[O]);return b}}return Yw=e,Yw}var Yue=Array.prototype.slice,Wue=WF,n8=Object.keys,Cg=n8?function(e){return n8(e)}:Gue(),i8=Object.keys;Cg.shim=function(){if(Object.keys){var e=(function(){var t=Object.keys(arguments);return t&&t.length===arguments.length})(1,2);e||(Object.keys=function(t){return Wue(t)?i8(Yue.call(t)):i8(t)})}else Object.keys=Cg;return Object.keys||Cg};var XF=Cg,Ag=Object.defineProperty||!1;if(Ag)try{Ag({},"a",{value:1})}catch{Ag=!1}var T1=Ag,Mb=SyntaxError,ur=TypeError,Xue=Object.getOwnPropertyDescriptor,Mg=Xue;if(Mg)try{Mg([],"length")}catch{Mg=null}var su=Mg,o8=T1,$ue=Mb,Mu=ur,a8=su,YO=function(e,t,r){if(!e||typeof e!="object"&&typeof e!="function")throw new Mu("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Mu("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Mu("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Mu("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Mu("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Mu("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,s=!!a8&&a8(e,t);if(o8)o8(e,t,{configurable:o===null&&s?s.configurable:!o,enumerable:n===null&&s?s.enumerable:!n,value:r,writable:i===null&&s?s.writable:!i});else if(a||!n&&!i&&!o)e[t]=r;else throw new $ue("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},dx=T1,$F=function(){return!!dx};$F.hasArrayLengthDefineBug=function(){if(!dx)return null;try{return dx([],"length",{value:1}).length!==1}catch{return!0}};var Ib=$F,que=XF,Kue=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Zue=Object.prototype.toString,Que=Array.prototype.concat,s8=YO,Jue=function(e){return typeof e=="function"&&Zue.call(e)==="[object Function]"},qF=Ib(),ece=function(e,t,r,n){if(t in e){if(n===!0){if(e[t]===r)return}else if(!Jue(n)||!n())return}qF?s8(e,t,r,!0):s8(e,t,r)},KF=function(e,t){var r=arguments.length>2?arguments[2]:{},n=que(t);Kue&&(n=Que.call(n,Object.getOwnPropertySymbols(t)));for(var i=0;i<n.length;i+=1)ece(e,n[i],t[n[i]],r[n[i]])};KF.supportsDescriptors=!!qF;var Qn=KF,ZF={exports:{}},mf=Object,tce=Error,rce=EvalError,QF=RangeError,nce=ReferenceError,ice=URIError,JF=Math.abs,WO=Math.floor,oce=Math.max,ace=Math.min,sce=Math.pow,lce=Math.round,x1=Number.isNaN||function(e){return e!==e},uce=x1,cce=function(e){return uce(e)||e===0?e:e<0?-1:1},XO=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var n=42;e[t]=n;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==n||a.enumerable!==!0)return!1}return!0},Ww,l8;function ez(){if(l8)return Ww;l8=1;var e=typeof Symbol<"u"&&Symbol,t=XO;return Ww=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Ww}var u8,c8;function tz(){return c8||(c8=1,u8=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),u8}var Xw,h8;function rz(){if(h8)return Xw;h8=1;var e=mf;return Xw=e.getPrototypeOf||null,Xw}var hce="Function.prototype.bind called on incompatible ",fce=Object.prototype.toString,pce=Math.max,dce="[object Function]",f8=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r},mce=function(e,t){for(var r=[],n=t,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r},gce=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},yce=function(e){var t=this;if(typeof t!="function"||fce.apply(t)!==dce)throw new TypeError(hce+t);for(var r=mce(arguments,1),n,i=function(){if(this instanceof n){var l=t.apply(this,f8(r,arguments));return Object(l)===l?l:this}return t.apply(e,f8(r,arguments))},o=pce(0,t.length-r.length),a=[],s=0;s<o;s++)a[s]="$"+s;if(n=Function("binder","return function ("+gce(a,",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var u=function(){};u.prototype=t.prototype,n.prototype=new u,u.prototype=null}return n},vce=yce,E1=Function.prototype.bind||vce,$O=Function.prototype.call,qO=Function.prototype.apply,bce=typeof Reflect<"u"&&Reflect&&Reflect.apply,_ce=E1,wce=qO,Tce=$O,xce=bce,nz=xce||_ce.call(Tce,wce),Ece=E1,Sce=ur,kce=$O,Oce=nz,Rb=function(e){if(e.length<1||typeof e[0]!="function")throw new Sce("a function is required");return Oce(Ece,kce,e)},$w,p8;function Pce(){if(p8)return $w;p8=1;var e=Rb,t=su,r;try{r=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!r&&t&&t(Object.prototype,"__proto__"),i=Object,o=i.getPrototypeOf;return $w=n&&typeof n.get=="function"?e([n.get]):typeof o=="function"?(function(a){return o(a==null?a:i(a))}):!1,$w}var qw,d8;function Cce(){if(d8)return qw;d8=1;var e=tz(),t=rz(),r=Pce();return qw=e?function(n){return e(n)}:t?function(n){if(!n||typeof n!="object"&&typeof n!="function")throw new TypeError("getProto: not an object");return t(n)}:r?function(n){return r(n)}:null,qw}var Ace=Function.prototype.call,Mce=Object.prototype.hasOwnProperty,Ice=E1,Wa=Ice.call(Ace,Mce),$t,Rce=mf,Dce=tce,Nce=rce,jce=QF,Lce=nce,oh=Mb,Nc=ur,Bce=ice,Fce=JF,zce=WO,Hce=oce,Uce=ace,Vce=sce,Gce=lce,Yce=cce,iz=Function,Kw=function(e){try{return iz('"use strict"; return ('+e+").constructor;")()}catch{}},Ud=su,Wce=T1,Zw=function(){throw new Nc},Xce=Ud?(function(){try{return arguments.callee,Zw}catch{try{return Ud(arguments,"callee").get}catch{return Zw}}})():Zw,Iu=ez()(),an=Cce(),$ce=rz(),qce=tz(),oz=qO,S1=$O,Ju={},Kce=typeof Uint8Array>"u"||!an?$t:an(Uint8Array),Cl={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?$t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?$t:ArrayBuffer,"%ArrayIteratorPrototype%":Iu&&an?an([][Symbol.iterator]()):$t,"%AsyncFromSyncIteratorPrototype%":$t,"%AsyncFunction%":Ju,"%AsyncGenerator%":Ju,"%AsyncGeneratorFunction%":Ju,"%AsyncIteratorPrototype%":Ju,"%Atomics%":typeof Atomics>"u"?$t:Atomics,"%BigInt%":typeof BigInt>"u"?$t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?$t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?$t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?$t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Dce,"%eval%":eval,"%EvalError%":Nce,"%Float16Array%":typeof Float16Array>"u"?$t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?$t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?$t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?$t:FinalizationRegistry,"%Function%":iz,"%GeneratorFunction%":Ju,"%Int8Array%":typeof Int8Array>"u"?$t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?$t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?$t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Iu&&an?an(an([][Symbol.iterator]())):$t,"%JSON%":typeof JSON=="object"?JSON:$t,"%Map%":typeof Map>"u"?$t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Iu||!an?$t:an(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Rce,"%Object.getOwnPropertyDescriptor%":Ud,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?$t:Promise,"%Proxy%":typeof Proxy>"u"?$t:Proxy,"%RangeError%":jce,"%ReferenceError%":Lce,"%Reflect%":typeof Reflect>"u"?$t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?$t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Iu||!an?$t:an(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?$t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Iu&&an?an(""[Symbol.iterator]()):$t,"%Symbol%":Iu?Symbol:$t,"%SyntaxError%":oh,"%ThrowTypeError%":Xce,"%TypedArray%":Kce,"%TypeError%":Nc,"%Uint8Array%":typeof Uint8Array>"u"?$t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?$t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?$t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?$t:Uint32Array,"%URIError%":Bce,"%WeakMap%":typeof WeakMap>"u"?$t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?$t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?$t:WeakSet,"%Function.prototype.call%":S1,"%Function.prototype.apply%":oz,"%Object.defineProperty%":Wce,"%Object.getPrototypeOf%":$ce,"%Math.abs%":Fce,"%Math.floor%":zce,"%Math.max%":Hce,"%Math.min%":Uce,"%Math.pow%":Vce,"%Math.round%":Gce,"%Math.sign%":Yce,"%Reflect.getPrototypeOf%":qce};if(an)try{null.error}catch(e){var Zce=an(an(e));Cl["%Error.prototype%"]=Zce}var Qce=function e(t){var r;if(t==="%AsyncFunction%")r=Kw("async function () {}");else if(t==="%GeneratorFunction%")r=Kw("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Kw("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&an&&(r=an(i.prototype))}return Cl[t]=r,r},m8={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},k1=E1,K0=Wa,Jce=k1.call(S1,Array.prototype.concat),ehe=k1.call(oz,Array.prototype.splice),g8=k1.call(S1,String.prototype.replace),Z0=k1.call(S1,String.prototype.slice),the=k1.call(S1,RegExp.prototype.exec),rhe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,nhe=/\\(\\)?/g,ihe=function(e){var t=Z0(e,0,1),r=Z0(e,-1);if(t==="%"&&r!=="%")throw new oh("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new oh("invalid intrinsic syntax, expected opening `%`");var n=[];return g8(e,rhe,function(i,o,a,s){n[n.length]=a?g8(s,nhe,"$1"):o||i}),n},ohe=function(e,t){var r=e,n;if(K0(m8,r)&&(n=m8[r],r="%"+n[0]+"%"),K0(Cl,r)){var i=Cl[r];if(i===Ju&&(i=Qce(r)),typeof i>"u"&&!t)throw new Nc("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new oh("intrinsic "+e+" does not exist!")},to=function(e,t){if(typeof e!="string"||e.length===0)throw new Nc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Nc('"allowMissing" argument must be a boolean');if(the(/^%?[^%]*%?$/,e)===null)throw new oh("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=ihe(e),n=r.length>0?r[0]:"",i=ohe("%"+n+"%",t),o=i.name,a=i.value,s=!1,u=i.alias;u&&(n=u[0],ehe(r,Jce([0,1],u)));for(var l=1,c=!0;l<r.length;l+=1){var h=r[l],f=Z0(h,0,1),p=Z0(h,-1);if((f==='"'||f==="'"||f==="`"||p==='"'||p==="'"||p==="`")&&f!==p)throw new oh("property names with quotes must have matching quotes");if((h==="constructor"||!c)&&(s=!0),n+="."+h,o="%"+n+"%",K0(Cl,o))a=Cl[o];else if(a!=null){if(!(h in a)){if(!t)throw new Nc("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ud&&l+1>=r.length){var d=Ud(a,h);c=!!d,c&&"get"in d&&!("originalValue"in d.get)?a=d.get:a=a[h]}else c=K0(a,h),a=a[h];c&&!s&&(Cl[o]=a)}}return a},ahe=to,y8=YO,she=Ib(),v8=su,b8=ur,lhe=ahe("%Math.floor%"),uhe=function(e,t){if(typeof e!="function")throw new b8("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||lhe(t)!==t)throw new b8("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,i=!0;if("length"in e&&v8){var o=v8(e,"length");o&&!o.configurable&&(n=!1),o&&!o.writable&&(i=!1)}return(n||i||!r)&&(she?y8(e,"length",t,!0,!0):y8(e,"length",t)),e},che=E1,hhe=qO,fhe=nz,phe=function(){return fhe(che,hhe,arguments)};(function(e){var t=uhe,r=T1,n=Rb,i=phe;e.exports=function(o){var a=n(arguments),s=o.length-(arguments.length-1);return t(a,1+(s>0?s:0),!0)},r?r(e.exports,"apply",{value:i}):e.exports.apply=i})(ZF);var Xa=ZF.exports,az=to,sz=Rb,dhe=sz([az("%String.prototype.indexOf%")]),Dn=function(e,t){var r=az(e,!!t);return typeof r=="function"&&dhe(e,".prototype.")>-1?sz([r]):r},mhe=XF,lz=XO(),uz=Dn,Ig=mf,ghe=uz("Array.prototype.push"),_8=uz("Object.prototype.propertyIsEnumerable"),yhe=lz?Ig.getOwnPropertySymbols:null,cz=function(e,t){if(e==null)throw new TypeError("target must be an object");var r=Ig(e);if(arguments.length===1)return r;for(var n=1;n<arguments.length;++n){var i=Ig(arguments[n]),o=mhe(i),a=lz&&(Ig.getOwnPropertySymbols||yhe);if(a)for(var s=a(i),u=0;u<s.length;++u){var l=s[u];_8(i,l)&&ghe(o,l)}for(var c=0;c<o.length;++c){var h=o[c];if(_8(i,h)){var f=i[h];r[h]=f}}}return r},vhe=cz,bhe=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var i=Object.assign({},r),o="";for(var a in i)o+=a;return e!==o},_he=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch{return e[1]==="y"}return!1},hz=function(){return!Object.assign||bhe()||_he()?vhe:Object.assign},whe=Qn,The=hz,xhe=function(){var e=The();return whe(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e},Ehe=Qn,She=Xa,khe=cz,fz=hz,Ohe=xhe,Phe=She.apply(fz()),pz=function(e,t){return Phe(Object,arguments)};Ehe(pz,{getPolyfill:fz,implementation:khe,shim:Ohe});var gf=pz,Che=x1,dz=function(e){return(typeof e=="number"||typeof e=="bigint")&&!Che(e)&&e!==1/0&&e!==-1/0},Qw,w8;function mz(){if(w8)return Qw;w8=1;var e=JF,t=WO,r=x1,n=dz;return Qw=function(i){if(typeof i!="number"||r(i)||!n(i))return!1;var o=e(i);return t(o)===o},Qw}var T8,x8;function Ahe(){return x8||(x8=1,T8=4294967295),T8}var E8,S8;function Mhe(){return S8||(S8=1,E8=typeof Reflect<"u"&&Reflect.setPrototypeOf||null),E8}var Jw,k8;function Ihe(){if(k8)return Jw;k8=1;var e=mf;return Jw=e.setPrototypeOf||null,Jw}var eT,O8;function Rhe(){if(O8)return eT;O8=1;var e=Rb,t=su,r=ur,n={};try{n.__proto__=null}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var i=!("toString"in n),o=t&&t(Object.prototype,"__proto__");return eT=i&&(!!o&&typeof o.set=="function"&&e([o.set])||function(a,s){if(a==null)throw new r("set Object.prototype.__proto__ called on null or undefined");return a.__proto__=s,s}),eT}var tT,P8;function Dhe(){if(P8)return tT;P8=1;var e=Mhe(),t=Ihe(),r=Rhe(),n=ur;return tT=e?function(i,o){if(e(i,o))return i;throw new n("Reflect.setPrototypeOf: failed to set [[Prototype]]")}:t||(r?function(i,o){return r(i,o),i}:null),tT}var rT,C8;function Nhe(){if(C8)return rT;C8=1;var e=to,t=e("%Array.prototype%"),r=QF,n=Mb,i=ur,o=mz(),a=Ahe(),s=Dhe();return rT=function(u){if(!o(u)||u<0)throw new i("Assertion failed: `length` must be an integer Number >= 0");if(u>a)throw new r("length is greater than (2**32 - 1)");var l=arguments.length>1?arguments[1]:t,c=[];if(l!==t){if(!s)throw new n("ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]");s(c,l)}return u!==0&&(c.length=u),c},rT}const jhe={},Lhe=Object.freeze(Object.defineProperty({__proto__:null,default:jhe},Symbol.toStringTag,{value:"Module"})),Bhe=Jo(Lhe);var KO=typeof Map=="function"&&Map.prototype,nT=Object.getOwnPropertyDescriptor&&KO?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Q0=KO&&nT&&typeof nT.get=="function"?nT.get:null,A8=KO&&Map.prototype.forEach,ZO=typeof Set=="function"&&Set.prototype,iT=Object.getOwnPropertyDescriptor&&ZO?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,J0=ZO&&iT&&typeof iT.get=="function"?iT.get:null,M8=ZO&&Set.prototype.forEach,Fhe=typeof WeakMap=="function"&&WeakMap.prototype,dd=Fhe?WeakMap.prototype.has:null,zhe=typeof WeakSet=="function"&&WeakSet.prototype,md=zhe?WeakSet.prototype.has:null,Hhe=typeof WeakRef=="function"&&WeakRef.prototype,I8=Hhe?WeakRef.prototype.deref:null,Uhe=Boolean.prototype.valueOf,Vhe=Object.prototype.toString,Ghe=Function.prototype.toString,Yhe=String.prototype.match,QO=String.prototype.slice,ds=String.prototype.replace,Whe=String.prototype.toUpperCase,R8=String.prototype.toLowerCase,gz=RegExp.prototype.test,D8=Array.prototype.concat,Lo=Array.prototype.join,Xhe=Array.prototype.slice,N8=Math.floor,mx=typeof BigInt=="function"?BigInt.prototype.valueOf:null,oT=Object.getOwnPropertySymbols,gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ah=typeof Symbol=="function"&&typeof Symbol.iterator=="object",gd=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ah||!0)?Symbol.toStringTag:null,yz=Object.prototype.propertyIsEnumerable,j8=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function L8(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||gz.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-N8(-e):N8(e);if(n!==e){var i=String(n),o=QO.call(t,i.length+1);return ds.call(i,r,"$&_")+"."+ds.call(ds.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ds.call(t,r,"$&_")}var yx=Bhe,B8=yx.custom,F8=wz(B8)?B8:null,vz={__proto__:null,double:'"',single:"'"},$he={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},bz=function e(t,r,n,i){var o=r||{};if(ga(o,"quoteStyle")&&!ga(vz,o.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ga(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=ga(o,"customInspect")?o.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ga(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ga(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=o.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return xz(t,o);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var u=String(t);return s?L8(t,u):u}if(typeof t=="bigint"){var l=String(t)+"n";return s?L8(t,l):l}var c=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof t=="object")return vx(t)?"[Array]":"[Object]";var h=ffe(o,n);if(typeof i>"u")i=[];else if(Tz(i,t)>=0)return"[Circular]";function f(N,k,R){if(k&&(i=Xhe.call(i),i.push(k)),R){var B={depth:o.depth};return ga(o,"quoteStyle")&&(B.quoteStyle=o.quoteStyle),e(N,B,n+1,i)}return e(N,o,n+1,i)}if(typeof t=="function"&&!z8(t)){var p=nfe(t),d=Rm(t,f);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(d.length>0?" { "+Lo.call(d,", ")+" }":"")}if(wz(t)){var m=ah?ds.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):gx.call(t);return typeof t=="object"&&!ah?op(m):m}if(ufe(t)){for(var v="<"+R8.call(String(t.nodeName)),b=t.attributes||[],g=0;g<b.length;g++)v+=" "+b[g].name+"="+_z(qhe(b[g].value),"double",o);return v+=">",t.childNodes&&t.childNodes.length&&(v+="..."),v+="</"+R8.call(String(t.nodeName))+">",v}if(vx(t)){if(t.length===0)return"[]";var y=Rm(t,f);return h&&!hfe(y)?"["+bx(y,h)+"]":"[ "+Lo.call(y,", ")+" ]"}if(Zhe(t)){var _=Rm(t,f);return!("cause"in Error.prototype)&&"cause"in t&&!yz.call(t,"cause")?"{ ["+String(t)+"] "+Lo.call(D8.call("[cause]: "+f(t.cause),_),", ")+" }":_.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Lo.call(_,", ")+" }"}if(typeof t=="object"&&a){if(F8&&typeof t[F8]=="function"&&yx)return yx(t,{depth:c-n});if(a!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(ife(t)){var w=[];return A8&&A8.call(t,function(N,k){w.push(f(k,t,!0)+" => "+f(N,t))}),H8("Map",Q0.call(t),w,h)}if(sfe(t)){var T=[];return M8&&M8.call(t,function(N){T.push(f(N,t))}),H8("Set",J0.call(t),T,h)}if(ofe(t))return aT("WeakMap");if(lfe(t))return aT("WeakSet");if(afe(t))return aT("WeakRef");if(Jhe(t))return op(f(Number(t)));if(tfe(t))return op(f(mx.call(t)));if(efe(t))return op(Uhe.call(t));if(Qhe(t))return op(f(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof globalThis<"u"&&t===globalThis)return"{ [object globalThis] }";if(!Khe(t)&&!z8(t)){var O=Rm(t,f),E=j8?j8(t)===Object.prototype:t instanceof Object||t.constructor===Object,S=t instanceof Object?"":"null prototype",A=!E&&gd&&Object(t)===t&&gd in t?QO.call(Ms(t),8,-1):S?"Object":"",M=E||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",H=M+(A||S?"["+Lo.call(D8.call([],A||[],S||[]),": ")+"] ":"");return O.length===0?H+"{}":h?H+"{"+bx(O,h)+"}":H+"{ "+Lo.call(O,", ")+" }"}return String(t)};function _z(e,t,r){var n=r.quoteStyle||t,i=vz[n];return i+e+i}function qhe(e){return ds.call(String(e),/"/g,"&quot;")}function lu(e){return!gd||!(typeof e=="object"&&(gd in e||typeof e[gd]<"u"))}function vx(e){return Ms(e)==="[object Array]"&&lu(e)}function Khe(e){return Ms(e)==="[object Date]"&&lu(e)}function z8(e){return Ms(e)==="[object RegExp]"&&lu(e)}function Zhe(e){return Ms(e)==="[object Error]"&&lu(e)}function Qhe(e){return Ms(e)==="[object String]"&&lu(e)}function Jhe(e){return Ms(e)==="[object Number]"&&lu(e)}function efe(e){return Ms(e)==="[object Boolean]"&&lu(e)}function wz(e){if(ah)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!gx)return!1;try{return gx.call(e),!0}catch{}return!1}function tfe(e){if(!e||typeof e!="object"||!mx)return!1;try{return mx.call(e),!0}catch{}return!1}var rfe=Object.prototype.hasOwnProperty||function(e){return e in this};function ga(e,t){return rfe.call(e,t)}function Ms(e){return Vhe.call(e)}function nfe(e){if(e.name)return e.name;var t=Yhe.call(Ghe.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function Tz(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function ife(e){if(!Q0||!e||typeof e!="object")return!1;try{Q0.call(e);try{J0.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function ofe(e){if(!dd||!e||typeof e!="object")return!1;try{dd.call(e,dd);try{md.call(e,md)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function afe(e){if(!I8||!e||typeof e!="object")return!1;try{return I8.call(e),!0}catch{}return!1}function sfe(e){if(!J0||!e||typeof e!="object")return!1;try{J0.call(e);try{Q0.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function lfe(e){if(!md||!e||typeof e!="object")return!1;try{md.call(e,md);try{dd.call(e,dd)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function ufe(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function xz(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return xz(QO.call(e,0,t.maxStringLength),t)+n}var i=$he[t.quoteStyle||"single"];i.lastIndex=0;var o=ds.call(ds.call(e,i,"\\$1"),/[\x00-\x1f]/g,cfe);return _z(o,"single",t)}function cfe(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+Whe.call(t.toString(16))}function op(e){return"Object("+e+")"}function aT(e){return e+" { ? }"}function H8(e,t,r,n){var i=n?bx(r,n):Lo.call(r,", ");return e+" ("+t+") {"+i+"}"}function hfe(e){for(var t=0;t<e.length;t++)if(Tz(e[t],`
`)>=0)return!1;return!0}function ffe(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=Lo.call(Array(e.indent+1)," ");else return null;return{base:r,prev:Lo.call(Array(t+1),r)}}function bx(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+Lo.call(e,","+r)+`
`+t.prev}function Rm(e,t){var r=vx(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=ga(e,i)?t(e[i],e):""}var o=typeof oT=="function"?oT(e):[],a;if(ah){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var u in e)ga(e,u)&&(r&&String(Number(u))===u&&u<e.length||ah&&a["$"+u]instanceof Symbol||(gz.call(/[^\w$]/,u)?n.push(t(u,e)+": "+t(e[u],e)):n.push(u+": "+t(e[u],e))));if(typeof oT=="function")for(var l=0;l<o.length;l++)yz.call(e,o[l])&&n.push("["+t(o[l])+"]: "+t(e[o[l]],e));return n}var So=function(e){return!!e&&(typeof e=="function"||typeof e=="object")},uu=function(e){return typeof e=="string"||typeof e=="symbol"},U8=ur,pfe=bz,dfe=So,mfe=uu,O1=function(e,t){if(!dfe(e))throw new U8("Assertion failed: Type(O) is not Object");if(!mfe(t))throw new U8("Assertion failed: P is not a Property Key, got "+pfe(t));return e[t]},gfe=to,Ez=gfe("%Array%"),yfe=!Ez.isArray&&Dn("Object.prototype.toString"),Sz=Ez.isArray||function(e){return yfe(e)==="[object Array]"},JO=Sz,Dm={exports:{}},V8,G8;function vfe(){return G8||(G8=1,V8=to),V8}var sT,Y8;function Is(){if(Y8)return sT;Y8=1;var e=ur,t=Wa,r={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};return sT=function(n){if(!n||typeof n!="object")return!1;for(var i in n)if(t(n,i)&&!r[i])return!1;var o=t(n,"[[Value]]")||t(n,"[[Writable]]"),a=t(n,"[[Get]]")||t(n,"[[Set]]");if(o&&a)throw new e("Property Descriptors may not be both accessor and data descriptors");return!0},sT}var lT,W8;function kz(){if(W8)return lT;W8=1;var e=Ib,t=T1,r=e.hasArrayLengthDefineBug(),n=r&&Sz,i=Dn,o=i("Object.prototype.propertyIsEnumerable");return lT=function(a,s,u,l,c,h){if(!t){if(!a(h)||!h["[[Configurable]]"]||!h["[[Writable]]"]||c in l&&o(l,c)!==!!h["[[Enumerable]]"])return!1;var f=h["[[Value]]"];return l[c]=f,s(l[c],f)}return r&&c==="length"&&"[[Value]]"in h&&n(l)&&l.length!==h["[[Value]]"]?(l.length=h["[[Value]]"],l.length===h["[[Value]]"]):(t(l,c,u(h)),!0)},lT}var X8,$8;function bfe(){return $8||($8=1,X8=function(e){if(typeof e>"u")return e;var t={};return"[[Value]]"in e&&(t.value=e["[[Value]]"]),"[[Writable]]"in e&&(t.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(t.get=e["[[Get]]"]),"[[Set]]"in e&&(t.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(t.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(t.configurable=!!e["[[Configurable]]"]),t}),X8}var uT,q8;function Oz(){if(q8)return uT;q8=1;var e=ur,t=Is(),r=bfe();return uT=function(n){if(typeof n<"u"&&!t(n))throw new e("Assertion failed: `Desc` must be a Property Descriptor");return r(n)},uT}var cT,K8;function eP(){if(K8)return cT;K8=1;var e=ur,t=Wa,r=Is();return cT=function(n){if(typeof n>"u")return!1;if(!r(n))throw new e("Assertion failed: `Desc` must be a Property Descriptor");return!(!t(n,"[[Value]]")&&!t(n,"[[Writable]]"))},cT}var hT,Z8;function tP(){if(Z8)return hT;Z8=1;var e=x1;return hT=function(t,r){return t===r?t===0?1/t===1/r:!0:e(t)&&e(r)},hT}var Pz=Function.prototype.toString,Tc=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,_x,Rg;if(typeof Tc=="function"&&typeof Object.defineProperty=="function")try{_x=Object.defineProperty({},"length",{get:function(){throw Rg}}),Rg={},Tc(function(){throw 42},null,_x)}catch(e){e!==Rg&&(Tc=null)}else Tc=null;var _fe=/^\s*class\b/,wx=function(e){try{var t=Pz.call(e);return _fe.test(t)}catch{return!1}},fT=function(e){try{return wx(e)?!1:(Pz.call(e),!0)}catch{return!1}},Dg=Object.prototype.toString,wfe="[object Object]",Tfe="[object Function]",xfe="[object GeneratorFunction]",Efe="[object HTMLAllCollection]",Sfe="[object HTML document.all class]",kfe="[object HTMLCollection]",Ofe=typeof Symbol=="function"&&!!Symbol.toStringTag,Pfe=!(0 in[,]),Tx=function(){return!1};if(typeof document=="object"){var Cfe=document.all;Dg.call(Cfe)===Dg.call(document.all)&&(Tx=function(e){if((Pfe||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=Dg.call(e);return(t===Efe||t===Sfe||t===kfe||t===wfe)&&e("")==null}catch{}return!1})}var Db=Tc?function(e){if(Tx(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Tc(e,null,_x)}catch(t){if(t!==Rg)return!1}return!wx(e)&&fT(e)}:function(e){if(Tx(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Ofe)return fT(e);if(wx(e))return!1;var t=Dg.call(e);return t!==Tfe&&t!==xfe&&!/^\[object HTML/.test(t)?!1:fT(e)},Cz=Db,Az=function(e){return!!e},pT,Q8;function Mz(){if(Q8)return pT;Q8=1;var e=Wa,t=ur,r=Cz,n=Az,i=So;return pT=function(o){if(!i(o))throw new t("ToPropertyDescriptor requires an object");var a={};if(e(o,"enumerable")&&(a["[[Enumerable]]"]=n(o.enumerable)),e(o,"configurable")&&(a["[[Configurable]]"]=n(o.configurable)),e(o,"value")&&(a["[[Value]]"]=o.value),e(o,"writable")&&(a["[[Writable]]"]=n(o.writable)),e(o,"get")){var s=o.get;if(typeof s<"u"&&!r(s))throw new t("getter must be a function");a["[[Get]]"]=s}if(e(o,"set")){var u=o.set;if(typeof u<"u"&&!r(u))throw new t("setter must be a function");a["[[Set]]"]=u}if((e(a,"[[Get]]")||e(a,"[[Set]]"))&&(e(a,"[[Value]]")||e(a,"[[Writable]]")))throw new t("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return a},pT}var dT,J8;function Afe(){if(J8)return dT;J8=1;var e=ur,t=Is(),r=kz(),n=Oz(),i=eP(),o=uu,a=tP(),s=Mz(),u=So;return dT=function(l,c,h){if(!u(l))throw new e("Assertion failed: Type(O) is not Object");if(!o(c))throw new e("Assertion failed: P is not a Property Key");var f=t(h)?h:s(h);if(!t(f))throw new e("Assertion failed: Desc is not a valid Property Descriptor");return r(i,a,n,l,c,f)},dT}var e6;function Mfe(){if(e6)return Dm.exports;e6=1;var e=vfe(),t=e("%Reflect.construct%",!0),r=Afe();try{r({},"",{"[[Get]]":function(){}})}catch{r=null}if(r&&t){var n={},i={};r(i,"length",{"[[Get]]":function(){throw n},"[[Enumerable]]":!0}),Dm.exports=function(o){try{t(o,i)}catch(a){return a===n}}}else Dm.exports=function(o){return typeof o=="function"&&!!o.prototype};return Dm.exports}var Ife=to,t6=Ife("%Symbol.species%",!0),r6=ur,Rfe=mz(),n6=Nhe(),i6=O1,Dfe=JO,Nfe=Mfe(),jfe=So,Iz=function(e,t){if(!Rfe(t)||t<0)throw new r6("Assertion failed: length must be an integer >= 0");var r=Dfe(e);if(!r)return n6(t);var n=i6(e,"constructor");if(t6&&jfe(n)&&(n=i6(n,t6),n===null&&(n=void 0)),typeof n>"u")return n6(t);if(!Nfe(n))throw new r6("C must be a constructor");return new n(t)},Rz=Number.MAX_SAFE_INTEGER||9007199254740991,Lfe=to,Bfe=Dn,Ffe=ur,zfe=JO,Hfe=Lfe("%Reflect.apply%",!0)||Bfe("Function.prototype.apply"),Dz=function(e,t){var r=arguments.length>2?arguments[2]:[];if(!zfe(r))throw new Ffe("Assertion failed: optional `argumentsList`, if provided, must be a List");return Hfe(e,t,r)},Ufe=ur,o6=Wa,Vfe=Is(),rP=function(e){if(typeof e>"u")return!1;if(!Vfe(e))throw new Ufe("Assertion failed: `Desc` must be a Property Descriptor");return!(!o6(e,"[[Get]]")&&!o6(e,"[[Set]]"))},a6,s6;function Nz(){return s6||(s6=1,a6=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),a6}var jz=to,Gfe=jz("%Object.preventExtensions%",!0),Yfe=jz("%Object.isExtensible%",!0),l6=Nz(),Wfe=Gfe?function(e){return!l6(e)&&Yfe(e)}:function(e){return!l6(e)},Xfe=Is(),$fe=function(e,t){return Xfe(t)&&"[[Enumerable]]"in t&&"[[Configurable]]"in t&&(e.IsAccessorDescriptor(t)||e.IsDataDescriptor(t))},qfe=ur,Kfe=rP,Zfe=eP(),Qfe=Is(),Jfe=function(e){if(typeof e>"u")return!1;if(!Qfe(e))throw new qfe("Assertion failed: `Desc` must be a Property Descriptor");return!Kfe(e)&&!Zfe(e)},epe=So,tpe=function(e){if(e===null)return"Null";if(typeof e>"u")return"Undefined";if(epe(e))return"Object";if(typeof e=="number")return"Number";if(typeof e=="boolean")return"Boolean";if(typeof e=="string")return"String"},rpe=tpe,npe=function(e){return typeof e=="symbol"?"Symbol":typeof e=="bigint"?"BigInt":rpe(e)},Ru=ur,ap=kz(),ipe=$fe,u6=Is(),sp=Oz(),Zs=rP,rs=eP(),ope=Jfe,ape=uu,Do=tP(),spe=npe,lpe=So,upe=function(e,t,r,n,i){var o=spe(e);if(typeof e<"u"&&!lpe(e))throw new Ru("Assertion failed: O must be undefined or an Object");if(!ape(t))throw new Ru("Assertion failed: P must be a Property Key");if(typeof r!="boolean")throw new Ru("Assertion failed: extensible must be a Boolean");if(!u6(n))throw new Ru("Assertion failed: Desc must be a Property Descriptor");if(typeof i<"u"&&!u6(i))throw new Ru("Assertion failed: current must be a Property Descriptor, or undefined");if(typeof i>"u")return r?o==="Undefined"?!0:Zs(n)?ap(rs,Do,sp,e,t,n):ap(rs,Do,sp,e,t,{"[[Configurable]]":!!n["[[Configurable]]"],"[[Enumerable]]":!!n["[[Enumerable]]"],"[[Value]]":n["[[Value]]"],"[[Writable]]":!!n["[[Writable]]"]}):!1;if(!ipe({IsAccessorDescriptor:Zs,IsDataDescriptor:rs},i))throw new Ru("`current`, when present, must be a fully populated and valid Property Descriptor");if(!i["[[Configurable]]"]){if("[[Configurable]]"in n&&n["[[Configurable]]"]||"[[Enumerable]]"in n&&!Do(n["[[Enumerable]]"],i["[[Enumerable]]"])||!ope(n)&&!Do(Zs(n),Zs(i)))return!1;if(Zs(i)){if("[[Get]]"in n&&!Do(n["[[Get]]"],i["[[Get]]"])||"[[Set]]"in n&&!Do(n["[[Set]]"],i["[[Set]]"]))return!1}else if(!i["[[Writable]]"]&&("[[Writable]]"in n&&n["[[Writable]]"]||"[[Value]]"in n&&!Do(n["[[Value]]"],i["[[Value]]"])))return!1}if(o!=="Undefined"){var a,s;return rs(i)&&Zs(n)?(a=("[[Configurable]]"in n?n:i)["[[Configurable]]"],s=("[[Enumerable]]"in n?n:i)["[[Enumerable]]"],ap(rs,Do,sp,e,t,{"[[Configurable]]":!!a,"[[Enumerable]]":!!s,"[[Get]]":("[[Get]]"in n?n:i)["[[Get]]"],"[[Set]]":("[[Set]]"in n?n:i)["[[Set]]"]})):Zs(i)&&rs(n)?(a=("[[Configurable]]"in n?n:i)["[[Configurable]]"],s=("[[Enumerable]]"in n?n:i)["[[Enumerable]]"],ap(rs,Do,sp,e,t,{"[[Configurable]]":!!a,"[[Enumerable]]":!!s,"[[Value]]":("[[Value]]"in n?n:i)["[[Value]]"],"[[Writable]]":!!("[[Writable]]"in n?n:i)["[[Writable]]"]})):ap(rs,Do,sp,e,t,n)}return!0},c6=su,h6=Mb,mT=ur,cpe=Is(),hpe=rP,fpe=Wfe,ppe=uu,dpe=Mz(),mpe=tP(),gpe=upe,ype=So,vpe=function(e,t,r){if(!ype(e))throw new mT("Assertion failed: O must be an Object");if(!ppe(t))throw new mT("Assertion failed: P must be a Property Key");if(!cpe(r))throw new mT("Assertion failed: Desc must be a Property Descriptor");if(!c6){if(hpe(r))throw new h6("This environment does not support accessor property descriptors.");var n=!(t in e)&&r["[[Writable]]"]&&r["[[Enumerable]]"]&&r["[[Configurable]]"]&&"[[Value]]"in r,i=t in e&&(!("[[Configurable]]"in r)||r["[[Configurable]]"])&&(!("[[Enumerable]]"in r)||r["[[Enumerable]]"])&&(!("[[Writable]]"in r)||r["[[Writable]]"])&&"[[Value]]"in r;if(n||i)return e[t]=r["[[Value]]"],mpe(e[t],r["[[Value]]"]);throw new h6("This environment does not support defining non-writable, non-enumerable, or non-configurable properties")}var o=c6(e,t),a=o&&dpe(o),s=fpe(e);return gpe(e,t,s,r,a)},f6=ur,bpe=uu,_pe=vpe,wpe=So,Tpe=function(e,t,r){if(!wpe(e))throw new f6("Assertion failed: Type(O) is not Object");if(!bpe(t))throw new f6("Assertion failed: P is not a Property Key");var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":r,"[[Writable]]":!0};return _pe(e,t,n)},gT=ur,xpe=Tpe,Epe=So,Spe=uu,Lz=function(e,t,r){if(!Epe(e))throw new gT("Assertion failed: Type(O) is not Object");if(!Spe(t))throw new gT("Assertion failed: P is not a Property Key");var n=xpe(e,t,r);if(!n)throw new gT("unable to create data property")},p6=ur,kpe=So,Ope=uu,Bz=function(e,t){if(!kpe(e))throw new p6("Assertion failed: `O` must be an Object");if(!Ope(t))throw new p6("Assertion failed: `P` must be a Property Key");return t in e},d6,m6;function Ppe(){return m6||(m6=1,d6=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),d6}var Cpe=XO,P1=function(){return Cpe()&&!!Symbol.toStringTag},yT,g6;function Ape(){if(g6)return yT;g6=1;var e=Dn,t=e("Date.prototype.getDay"),r=function(a){try{return t(a),!0}catch{return!1}},n=e("Object.prototype.toString"),i="[object Date]",o=P1();return yT=function(a){return typeof a!="object"||a===null?!1:o?r(a):n(a)===i},yT}var Nm={exports:{}},y6=Dn,Mpe=P1(),Ipe=Wa,Rpe=su,xx;if(Mpe){var Dpe=y6("RegExp.prototype.exec"),v6={},vT=function(){throw v6},b6={toString:vT,valueOf:vT};typeof Symbol.toPrimitive=="symbol"&&(b6[Symbol.toPrimitive]=vT),xx=function(e){if(!e||typeof e!="object")return!1;var t=Rpe(e,"lastIndex"),r=t&&Ipe(t,"value");if(!r)return!1;try{Dpe(e,b6)}catch(n){return n===v6}}}else{var Npe=y6("Object.prototype.toString"),jpe="[object RegExp]";xx=function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:Npe(e)===jpe}}var Fz=xx,bT,_6;function zz(){if(_6)return bT;_6=1;var e=Dn,t=Fz,r=e("RegExp.prototype.exec"),n=ur;return bT=function(i){if(!t(i))throw new n("`regex` must be a RegExp");return function(o){return r(i,o)!==null}},bT}var w6;function Lpe(){if(w6)return Nm.exports;w6=1;var e=Dn,t=e("Object.prototype.toString"),r=ez()(),n=zz();if(r){var i=e("Symbol.prototype.toString"),o=n(/^Symbol\(.*\)$/),a=function(s){return typeof s.valueOf()!="symbol"?!1:o(i(s))};Nm.exports=function(s){if(typeof s=="symbol")return!0;if(!s||typeof s!="object"||t(s)!=="[object Symbol]")return!1;try{return a(s)}catch{return!1}}}else Nm.exports=function(s){return!1};return Nm.exports}var _T,T6;function Bpe(){if(T6)return _T;T6=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",t=Ppe(),r=Db,n=Ape(),i=Lpe(),o=function(s,u){if(typeof s>"u"||s===null)throw new TypeError("Cannot call method on "+s);if(typeof u!="string"||u!=="number"&&u!=="string")throw new TypeError('hint must be "string" or "number"');var l=u==="string"?["toString","valueOf"]:["valueOf","toString"],c,h,f;for(f=0;f<l.length;++f)if(c=s[l[f]],r(c)&&(h=c.call(s),t(h)))return h;throw new TypeError("No default value")},a=function(s,u){var l=s[u];if(l!==null&&typeof l<"u"){if(!r(l))throw new TypeError(l+" returned for property "+String(u)+" of object "+s+" is not a function");return l}};return _T=function(s){if(t(s))return s;var u="default";arguments.length>1&&(arguments[1]===String?u="string":arguments[1]===Number&&(u="number"));var l;if(e&&(Symbol.toPrimitive?l=a(s,Symbol.toPrimitive):i(s)&&(l=Symbol.prototype.valueOf)),typeof l<"u"){var c=l.call(s,u);if(t(c))return c;throw new TypeError("unable to convert exotic object to primitive")}return u==="default"&&(n(s)||i(s))&&(u="string"),o(s,u==="default"?"number":u)},_T}var wT,x6;function Fpe(){if(x6)return wT;x6=1;var e=Bpe();return wT=function(t){return arguments.length>1?e(t,arguments[1]):e(t)},wT}var zpe=ur,yf=function(e){if(e==null)throw new zpe(arguments.length>0&&arguments[1]||"Cannot call method on "+e);return e},Hpe=to,Upe=Hpe("%String%"),Vpe=ur,nP=function(e){if(typeof e=="symbol")throw new Vpe("Cannot convert a Symbol value to a string");return Upe(e)},Gpe=yf,Ype=nP,Wpe=Dn,E6=Wpe("String.prototype.replace"),Hz=/^\s$/.test("᠎"),Xpe=Hz?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,$pe=Hz?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,Uz=function(){var e=Ype(Gpe(this));return E6(E6(e,Xpe,""),$pe,"")},qpe=Uz,S6="​",Du="᠎",Vz=function(){return String.prototype.trim&&S6.trim()===S6&&Du.trim()===Du&&("_"+Du).trim()==="_"+Du&&(Du+"_").trim()===Du+"_"?String.prototype.trim:qpe},Kpe=Ib(),k6=YO,Zpe=Vz,Qpe=function(){var e=Zpe();return String.prototype.trim!==e&&(Kpe?k6(String.prototype,"trim",e,!0):k6(String.prototype,"trim",e)),e},Jpe=Xa,ede=Qn,tde=yf,rde=Uz,Gz=Vz,nde=Qpe,ide=Jpe(Gz()),Yz=function(e){return tde(e),ide(e)};ede(Yz,{getPolyfill:Gz,implementation:rde,shim:nde});var Wz=Yz,TT,O6;function ode(){if(O6)return TT;O6=1;var e=to,t=e("%RegExp%"),r=ur,n=e("%parseInt%"),i=Dn,o=zz(),a=i("String.prototype.slice"),s=o(/^0b[01]+$/i),u=o(/^0o[0-7]+$/i),l=o(/^[-+]0x[0-9a-f]+$/i),c=["","​","￾"].join(""),h=new t("["+c+"]","g"),f=o(h),p=Wz;return TT=function d(m){if(typeof m!="string")throw new r("Assertion failed: `argument` is not a String");if(s(m))return+n(a(m,2),2);if(u(m))return+n(a(m,2),8);if(f(m)||l(m))return NaN;var v=p(m);return v!==m?d(v):+m},TT}var ade=to,P6=ur,sde=ade("%Number%"),lde=Nz(),ude=Fpe(),cde=ode(),hde=function(e){var t=lde(e)?e:ude(e,sde);if(typeof t=="symbol")throw new P6("Cannot convert a Symbol value to a number");if(typeof t=="bigint")throw new P6("Conversion from 'BigInt' to 'number' is not allowed.");return typeof t=="string"?cde(t):+t},fde=WO,pde=function(e){return typeof e=="bigint"?e:fde(e)},C6=pde,dde=ur,mde=function(e){if(typeof e!="number"&&typeof e!="bigint")throw new dde("argument must be a Number or a BigInt");var t=e<0?-C6(-e):C6(e);return t===0?0:t},gde=hde,yde=mde,vde=x1,bde=dz,Xz=function(e){var t=gde(e);return vde(t)||t===0?0:bde(t)?yde(t):t},A6=Rz,_de=Xz,$z=function(e){var t=_de(e);return t<=0?0:t>A6?A6:t},wde=ur,Tde=O1,xde=$z,Ede=So,qz=function(e){if(!Ede(e))throw new wde("Assertion failed: `obj` must be an Object");return xde(Tde(e,"length"))},M6=ur,Sde=Rz,kde=Dz,Ode=Lz,Pde=O1,Cde=Bz,Ade=JO,Mde=qz,I6=nP,Ide=function e(t,r,n,i,o){var a;arguments.length>5&&(a=arguments[5]);for(var s=i,u=0;u<n;){var l=I6(u),c=Cde(r,l);if(c===!0){var h=Pde(r,l);if(typeof a<"u"){if(arguments.length<=6)throw new M6("Assertion failed: thisArg is required when mapperFunction is provided");h=kde(a,arguments[6],[h,u,r])}var f=!1;if(o>0&&(f=Ade(h)),f){var p=Mde(h);s=e(t,h,p,s,o-1)}else{if(s>=Sde)throw new M6("index too large");Ode(t,I6(s),h),s+=1}}u+=1}return s},Rde=mf,Dde=yf,Kz=function(e){return Dde(e),Rde(e)},Nde=Kz,jde=Iz,Lde=Ide,Bde=O1,Fde=Xz,zde=$z,Hde=Nde,Zz=function(){var e=Hde(this),t=zde(Bde(e,"length")),r=1;arguments.length>0&&typeof arguments[0]<"u"&&(r=Fde(arguments[0]));var n=jde(e,0);return Lde(n,e,t,0,r),n},Ude=Zz,Qz=function(){return Array.prototype.flat||Ude},xT,R6;function Vde(){if(R6)return xT;R6=1;var e=Wa,t=typeof Symbol=="function"&&typeof Symbol.unscopables=="symbol",r=t&&Array.prototype[Symbol.unscopables],n=TypeError;return xT=function(i){if(typeof i!="string"||!i)throw new n("method must be a non-empty string");if(!e(Array.prototype,i))throw new n("method must be on Array.prototype");t&&r&&(r[i]=!0)},xT}var ET,D6;function Gde(){if(D6)return ET;D6=1;var e=Qn,t=Vde(),r=Qz;return ET=function(){var n=r();return e(Array.prototype,{flat:n},{flat:function(){return Array.prototype.flat!==n}}),t("flat"),n},ET}var Yde=Qn,Wde=Xa,Xde=Zz,Jz=Qz,$de=Jz(),qde=Gde(),eH=Wde($de);Yde(eH,{getPolyfill:Jz,implementation:Xde,shim:qde});var C1=eH,N6={}.hasOwnProperty,ST=Function.prototype.call,A1=ST.bind?ST.bind(N6):function(e,t){return ST.call(N6,e,t)},M1={},Ex={exports:{}},j6=function(e){return e!==e},tH=function(e,t){return e===0&&t===0?1/e===1/t:!!(e===t||j6(e)&&j6(t))},Kde=tH,rH=function(){return typeof Object.is=="function"?Object.is:Kde},Zde=rH,Qde=Qn,Jde=function(){var e=Zde();return Qde(Object,{is:e},{is:function(){return Object.is!==e}}),e},e1e=Qn,t1e=Xa,r1e=tH,nH=rH,n1e=Jde,iH=t1e(nH(),Object);e1e(iH,{getPolyfill:nH,implementation:r1e,shim:n1e});var iP=iH;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=i(iP),n=i(Wa);function i(s){return s&&s.__esModule?s:{default:s}}function o(s){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},o(s)}function a(s,u){if((0,r.default)(s,u))return!0;if(!s||!u||o(s)!=="object"||o(u)!=="object")return!1;var l=Object.keys(s),c=Object.keys(u);if(l.length!==c.length)return!1;l.sort(),c.sort();for(var h=0;h<l.length;h+=1)if(!(0,n.default)(u,l[h])||!(0,r.default)(s[l[h]],u[l[h]]))return!1;return!0}e.exports=t.default})(Ex,Ex.exports);var oH=Ex.exports,i1e=yf,aH=Dn,o1e=aH("Object.prototype.propertyIsEnumerable"),a1e=aH("Array.prototype.push"),sH=function(e){var t=i1e(e),r=[];for(var n in t)o1e(t,n)&&a1e(r,[n,t[n]]);return r},s1e=sH,lH=function(){return typeof Object.entries=="function"?Object.entries:s1e},l1e=lH,u1e=Qn,c1e=function(){var e=l1e();return u1e(Object,{entries:e},{entries:function(){return Object.entries!==e}}),e},h1e=Qn,f1e=Xa,p1e=sH,uH=lH,d1e=c1e,cH=f1e(uH(),Object);h1e(cH,{getPolyfill:uH,implementation:p1e,shim:d1e});var hH=cH,Vd=function(){return typeof(function(){}).name=="string"},yd=Object.getOwnPropertyDescriptor;if(yd)try{yd([],"length")}catch{yd=null}Vd.functionsHaveConfigurableNames=function(){if(!Vd()||!yd)return!1;var e=yd(function(){},"name");return!!e&&!!e.configurable};var m1e=Function.prototype.bind;Vd.boundFunctionsHaveNames=function(){return Vd()&&typeof m1e=="function"&&(function(){}).bind().name!==""};var fH=Vd,pH=Db,g1e=Wa,y1e=fH(),oP=Dn,dH=oP("Function.prototype.toString"),mH=oP("String.prototype.match"),kT=oP("Object.prototype.toString"),v1e=/^class /,b1e=function(e){if(pH(e)||typeof e!="function")return!1;try{var t=mH(dH(e),v1e);return!!t}catch{}return!1},_1e=/\s*function\s+([^(\s]*)\s*/,w1e=!(0 in[,]),T1e="[object Object]",x1e="[object HTMLAllCollection]",E1e=Function.prototype,gH=function(){return!1};if(typeof document=="object"){var S1e=document.all;kT(S1e)===kT(document.all)&&(gH=function(e){if((w1e||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=kT(e);return(t===x1e||t===T1e)&&e("")==null}catch{}return!1})}var yH=function(){if(gH(this)||!b1e(this)&&!pH(this))throw new TypeError("Function.prototype.name sham getter called on non-function");if(y1e&&g1e(this,"name"))return this.name;if(this===E1e)return"";var e=dH(this),t=mH(e,_1e),r=t&&t[1];return r},k1e=yH,vH=function(){return k1e},O1e=Qn.supportsDescriptors,P1e=fH(),C1e=vH,L6=Object.defineProperty,A1e=TypeError,M1e=function(){var e=C1e();if(P1e)return e;if(!O1e)throw new A1e("Shimming Function.prototype.name support requires ES5 property descriptor support.");var t=Function.prototype;return L6(t,"name",{configurable:!0,enumerable:!1,get:function(){var r=e.call(this);return this!==t&&L6(this,"name",{configurable:!0,enumerable:!1,value:r,writable:!1}),r}}),e},I1e=Qn,R1e=Xa,bH=yH,D1e=vH,N1e=M1e,_H=R1e(bH);I1e(_H,{getPolyfill:D1e,implementation:bH,shim:N1e});var aP=_H,wH={},Sx=function(e,t){return Sx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Sx(e,t)};function TH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Sx(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ey=function(){return ey=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ey.apply(this,arguments)};function xH(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function EH(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}function SH(e,t){return function(r,n){t(r,n,e)}}function kH(e,t,r,n,i,o){function a(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var s=n.kind,u=s==="getter"?"get":s==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,c=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),h,f=!1,p=r.length-1;p>=0;p--){var d={};for(var m in n)d[m]=m==="access"?{}:n[m];for(var m in n.access)d.access[m]=n.access[m];d.addInitializer=function(b){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(b||null))};var v=(0,r[p])(s==="accessor"?{get:c.get,set:c.set}:c[u],d);if(s==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(h=a(v.get))&&(c.get=h),(h=a(v.set))&&(c.set=h),(h=a(v.init))&&i.unshift(h)}else(h=a(v))&&(s==="field"?i.unshift(h):c[u]=h)}l&&Object.defineProperty(l,n.name,c),f=!0}function OH(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function PH(e){return typeof e=="symbol"?e:"".concat(e)}function CH(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function AH(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function MH(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(h){a(h)}}function u(c){try{l(n.throw(c))}catch(h){a(h)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})}function IH(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var Nb=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function RH(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Nb(t,e,r)}function ty(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sP(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function DH(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(sP(arguments[t]));return e}function NH(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function jH(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function sh(e){return this instanceof sh?(this.v=e,this):new sh(e)}function LH(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(d){return Promise.resolve(d).then(p,h)}}function s(p,d){n[p]&&(i[p]=function(m){return new Promise(function(v,b){o.push([p,m,v,b])>1||u(p,m)})},d&&(i[p]=d(i[p])))}function u(p,d){try{l(n[p](d))}catch(m){f(o[0][3],m)}}function l(p){p.value instanceof sh?Promise.resolve(p.value.v).then(c,h):f(o[0][2],p)}function c(p){u("next",p)}function h(p){u("throw",p)}function f(p,d){p(d),o.shift(),o.length&&u(o[0][0],o[0][1])}}function BH(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,o){t[i]=e[i]?function(a){return(r=!r)?{value:sh(e[i](a)),done:!1}:o?o(a):a}:o}}function FH(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ty=="function"?ty(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(a){return new Promise(function(s,u){a=e[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(l){o({value:l,done:s})},a)}}function zH(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var j1e=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},kx=function(e){return kx=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},kx(e)};function HH(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=kx(e),n=0;n<r.length;n++)r[n]!=="default"&&Nb(t,e,r[n]);return j1e(t,e),t}function UH(e){return e&&e.__esModule?e:{default:e}}function VH(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function GH(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function YH(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function WH(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var L1e=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function XH(e){function t(o){e.error=e.hasError?new L1e(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(i,function(a){return t(a),i()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function $H(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,o,a){return n?t?".jsx":".js":i&&(!o||!a)?r:i+o+"."+a.toLowerCase()+"js"}):e}const B1e={__extends:TH,__assign:ey,__rest:xH,__decorate:EH,__param:SH,__esDecorate:kH,__runInitializers:OH,__propKey:PH,__setFunctionName:CH,__metadata:AH,__awaiter:MH,__generator:IH,__createBinding:Nb,__exportStar:RH,__values:ty,__read:sP,__spread:DH,__spreadArrays:NH,__spreadArray:jH,__await:sh,__asyncGenerator:LH,__asyncDelegator:BH,__asyncValues:FH,__makeTemplateObject:zH,__importStar:HH,__importDefault:UH,__classPrivateFieldGet:VH,__classPrivateFieldSet:GH,__classPrivateFieldIn:YH,__addDisposableResource:WH,__disposeResources:XH,__rewriteRelativeImportExtension:$H},F1e=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:WH,get __assign(){return ey},__asyncDelegator:BH,__asyncGenerator:LH,__asyncValues:FH,__await:sh,__awaiter:MH,__classPrivateFieldGet:VH,__classPrivateFieldIn:YH,__classPrivateFieldSet:GH,__createBinding:Nb,__decorate:EH,__disposeResources:XH,__esDecorate:kH,__exportStar:RH,__extends:TH,__generator:IH,__importDefault:UH,__importStar:HH,__makeTemplateObject:zH,__metadata:AH,__param:SH,__propKey:PH,__read:sP,__rest:xH,__rewriteRelativeImportExtension:$H,__runInitializers:OH,__setFunctionName:CH,__spread:DH,__spreadArray:jH,__spreadArrays:NH,__values:ty,default:B1e},Symbol.toStringTag,{value:"Module"})),Rs=Jo(F1e);var B6={},F6;function z1e(){return F6||(F6=1,Object.defineProperty(B6,"__esModule",{value:!0})),B6}var lp={},Nu={},z6;function lP(){if(z6)return Nu;z6=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.flatten=void 0;var e=Rs,t={xml:!1,decodeEntities:!0};Nu.default=t;var r={_useHtmlParser2:!0,xmlMode:!0};function n(i){return i?.xml?typeof i.xml=="boolean"?r:e.__assign(e.__assign({},r),i.xml):i??void 0}return Nu.flatten=n,Nu}var gn={},H6={},Jt;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(Jt||(Jt={}));const H1e={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var kr;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(kr||(kr={}));const U6=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,U1e=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,V1e=new Map([[126,kr.Element],[94,kr.Start],[36,kr.End],[42,kr.Any],[33,kr.Not],[124,kr.Hyphen]]),G1e=new Set(["has","not","matches","is","where","host","host-context"]);function qH(e){switch(e.type){case Jt.Adjacent:case Jt.Child:case Jt.Descendant:case Jt.Parent:case Jt.Sibling:case Jt.ColumnCombinator:return!0;default:return!1}}const Y1e=new Set(["contains","icontains"]);function W1e(e,t,r){const n=parseInt(t,16)-65536;return n!==n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)}function up(e){return e.replace(U1e,W1e)}function OT(e){return e===39||e===34}function V6(e){return e===32||e===9||e===10||e===12||e===13}function X1e(e){const t=[],r=KH(t,`${e}`,0);if(r<e.length)throw new Error(`Unmatched selector: ${e.slice(r)}`);return t}function KH(e,t,r){let n=[];function i(f){const p=t.slice(r+f).match(U6);if(!p)throw new Error(`Expected name, found ${t.slice(r)}`);const[d]=p;return r+=f+d.length,up(d)}function o(f){for(r+=f;r<t.length&&V6(t.charCodeAt(r));)r++}function a(){r+=1;const f=r;let p=1;for(;p>0&&r<t.length;r++)t.charCodeAt(r)===40&&!s(r)?p++:t.charCodeAt(r)===41&&!s(r)&&p--;if(p)throw new Error("Parenthesis not matched");return up(t.slice(f,r-1))}function s(f){let p=0;for(;t.charCodeAt(--f)===92;)p++;return(p&1)===1}function u(){if(n.length>0&&qH(n[n.length-1]))throw new Error("Did not expect successive traversals.")}function l(f){if(n.length>0&&n[n.length-1].type===Jt.Descendant){n[n.length-1].type=f;return}u(),n.push({type:f})}function c(f,p){n.push({type:Jt.Attribute,name:f,action:p,value:i(1),namespace:null,ignoreCase:"quirks"})}function h(){if(n.length&&n[n.length-1].type===Jt.Descendant&&n.pop(),n.length===0)throw new Error("Empty sub-selector");e.push(n)}if(o(0),t.length===r)return r;e:for(;r<t.length;){const f=t.charCodeAt(r);switch(f){case 32:case 9:case 10:case 12:case 13:{(n.length===0||n[0].type!==Jt.Descendant)&&(u(),n.push({type:Jt.Descendant})),o(1);break}case 62:{l(Jt.Child),o(1);break}case 60:{l(Jt.Parent),o(1);break}case 126:{l(Jt.Sibling),o(1);break}case 43:{l(Jt.Adjacent),o(1);break}case 46:{c("class",kr.Element);break}case 35:{c("id",kr.Equals);break}case 91:{o(1);let p,d=null;t.charCodeAt(r)===124?p=i(1):t.startsWith("*|",r)?(d="*",p=i(2)):(p=i(0),t.charCodeAt(r)===124&&t.charCodeAt(r+1)!==61&&(d=p,p=i(1))),o(0);let m=kr.Exists;const v=V1e.get(t.charCodeAt(r));if(v){if(m=v,t.charCodeAt(r+1)!==61)throw new Error("Expected `=`");o(2)}else t.charCodeAt(r)===61&&(m=kr.Equals,o(1));let b="",g=null;if(m!=="exists"){if(OT(t.charCodeAt(r))){const w=t.charCodeAt(r);let T=r+1;for(;T<t.length&&(t.charCodeAt(T)!==w||s(T));)T+=1;if(t.charCodeAt(T)!==w)throw new Error("Attribute value didn't end");b=up(t.slice(r+1,T)),r=T+1}else{const w=r;for(;r<t.length&&(!V6(t.charCodeAt(r))&&t.charCodeAt(r)!==93||s(r));)r+=1;b=up(t.slice(w,r))}o(0);const _=t.charCodeAt(r)|32;_===115?(g=!1,o(1)):_===105&&(g=!0,o(1))}if(t.charCodeAt(r)!==93)throw new Error("Attribute selector didn't terminate");r+=1;const y={type:Jt.Attribute,name:p,action:m,value:b,namespace:d,ignoreCase:g};n.push(y);break}case 58:{if(t.charCodeAt(r+1)===58){n.push({type:Jt.PseudoElement,name:i(2).toLowerCase(),data:t.charCodeAt(r)===40?a():null});continue}const p=i(1).toLowerCase();let d=null;if(t.charCodeAt(r)===40)if(G1e.has(p)){if(OT(t.charCodeAt(r+1)))throw new Error(`Pseudo-selector ${p} cannot be quoted`);if(d=[],r=KH(d,t,r+1),t.charCodeAt(r)!==41)throw new Error(`Missing closing parenthesis in :${p} (${t})`);r+=1}else{if(d=a(),Y1e.has(p)){const m=d.charCodeAt(0);m===d.charCodeAt(d.length-1)&&OT(m)&&(d=d.slice(1,-1))}d=up(d)}n.push({type:Jt.Pseudo,name:p,data:d});break}case 44:{h(),n=[],o(1);break}default:{if(t.startsWith("/*",r)){const m=t.indexOf("*/",r+2);if(m<0)throw new Error("Comment was not terminated");r=m+2,n.length===0&&o(0);break}let p=null,d;if(f===42)r+=1,d="*";else if(f===124){if(d="",t.charCodeAt(r+1)===124){l(Jt.ColumnCombinator),o(2);break}}else if(U6.test(t.slice(r)))d=i(0);else break e;t.charCodeAt(r)===124&&t.charCodeAt(r+1)!==124&&(p=d,t.charCodeAt(r+1)===42?(d="*",r+=2):d=i(1)),n.push(d==="*"?{type:Jt.Universal,namespace:p}:{type:Jt.Tag,name:d,namespace:p})}}}return h(),r}const ZH=["\\",'"'],QH=[...ZH,"(",")"],$1e=new Set(ZH.map(e=>e.charCodeAt(0))),G6=new Set(QH.map(e=>e.charCodeAt(0))),xc=new Set([...QH,"~","^","$","*","+","!","|",":","[","]"," ","."].map(e=>e.charCodeAt(0)));function JH(e){return e.map(t=>t.map(q1e).join("")).join(", ")}function q1e(e,t,r){switch(e.type){case Jt.Child:return t===0?"> ":" > ";case Jt.Parent:return t===0?"< ":" < ";case Jt.Sibling:return t===0?"~ ":" ~ ";case Jt.Adjacent:return t===0?"+ ":" + ";case Jt.Descendant:return" ";case Jt.ColumnCombinator:return t===0?"|| ":" || ";case Jt.Universal:return e.namespace==="*"&&t+1<r.length&&"name"in r[t+1]?"":`${eU(e.namespace)}*`;case Jt.Tag:return Y6(e);case Jt.PseudoElement:return`::${ya(e.name,xc)}${e.data===null?"":`(${ya(e.data,G6)})`}`;case Jt.Pseudo:return`:${ya(e.name,xc)}${e.data===null?"":`(${typeof e.data=="string"?ya(e.data,G6):JH(e.data)})`}`;case Jt.Attribute:{if(e.name==="id"&&e.action===kr.Equals&&e.ignoreCase==="quirks"&&!e.namespace)return`#${ya(e.value,xc)}`;if(e.name==="class"&&e.action===kr.Element&&e.ignoreCase==="quirks"&&!e.namespace)return`.${ya(e.value,xc)}`;const n=Y6(e);return e.action===kr.Exists?`[${n}]`:`[${n}${K1e(e.action)}="${ya(e.value,$1e)}"${e.ignoreCase===null?"":e.ignoreCase?" i":" s"}]`}}}function K1e(e){switch(e){case kr.Equals:return"";case kr.Element:return"~";case kr.Start:return"^";case kr.End:return"$";case kr.Any:return"*";case kr.Not:return"!";case kr.Hyphen:return"|";case kr.Exists:throw new Error("Shouldn't be here")}}function Y6(e){return`${eU(e.namespace)}${ya(e.name,xc)}`}function eU(e){return e!==null?`${e==="*"?"*":ya(e,xc)}|`:""}function ya(e,t){let r=0,n="";for(let i=0;i<e.length;i++)t.has(e.charCodeAt(i))&&(n+=`${e.slice(r,i)}\\${e.charAt(i)}`,r=i+1);return n.length>0?n+e.slice(r):e}const Z1e=Object.freeze(Object.defineProperty({__proto__:null,get AttributeAction(){return kr},IgnoreCaseMode:H1e,get SelectorType(){return Jt},isTraversal:qH,parse:X1e,stringify:JH},Symbol.toStringTag,{value:"Module"})),I1=Jo(Z1e);var W6={},R1={},Ci={},Xn={},vf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function r(n){return n.type===t.Tag||n.type===t.Script||n.type===t.Style}e.isTag=r,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(vf);var Qt={},cu=Le&&Le.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),vd=Le&&Le.__assign||function(){return vd=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},vd.apply(this,arguments)};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.cloneNode=Qt.hasChildren=Qt.isDocument=Qt.isDirective=Qt.isComment=Qt.isText=Qt.isCDATA=Qt.isTag=Qt.Element=Qt.Document=Qt.NodeWithChildren=Qt.ProcessingInstruction=Qt.Comment=Qt.Text=Qt.DataNode=Qt.Node=void 0;var Rr=vf,Q1e=new Map([[Rr.ElementType.Tag,1],[Rr.ElementType.Script,1],[Rr.ElementType.Style,1],[Rr.ElementType.Directive,1],[Rr.ElementType.Text,3],[Rr.ElementType.CDATA,4],[Rr.ElementType.Comment,8],[Rr.ElementType.Root,9]]),uP=(function(){function e(t){this.type=t,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){var t;return(t=Q1e.get(this.type))!==null&&t!==void 0?t:1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),cP(this,t)},e})();Qt.Node=uP;var jb=(function(e){cu(t,e);function t(r,n){var i=e.call(this,r)||this;return i.data=n,i}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(r){this.data=r},enumerable:!1,configurable:!0}),t})(uP);Qt.DataNode=jb;var tU=(function(e){cu(t,e);function t(r){return e.call(this,Rr.ElementType.Text,r)||this}return t})(jb);Qt.Text=tU;var rU=(function(e){cu(t,e);function t(r){return e.call(this,Rr.ElementType.Comment,r)||this}return t})(jb);Qt.Comment=rU;var nU=(function(e){cu(t,e);function t(r,n){var i=e.call(this,Rr.ElementType.Directive,n)||this;return i.name=r,i}return t})(jb);Qt.ProcessingInstruction=nU;var Lb=(function(e){cu(t,e);function t(r,n){var i=e.call(this,r)||this;return i.children=n,i}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(r){this.children=r},enumerable:!1,configurable:!0}),t})(uP);Qt.NodeWithChildren=Lb;var iU=(function(e){cu(t,e);function t(r){return e.call(this,Rr.ElementType.Root,r)||this}return t})(Lb);Qt.Document=iU;var oU=(function(e){cu(t,e);function t(r,n,i,o){i===void 0&&(i=[]),o===void 0&&(o=r==="script"?Rr.ElementType.Script:r==="style"?Rr.ElementType.Style:Rr.ElementType.Tag);var a=e.call(this,o,i)||this;return a.name=r,a.attribs=n,a}return Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(r){this.name=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var r=this;return Object.keys(this.attribs).map(function(n){var i,o;return{name:n,value:r.attribs[n],namespace:(i=r["x-attribsNamespace"])===null||i===void 0?void 0:i[n],prefix:(o=r["x-attribsPrefix"])===null||o===void 0?void 0:o[n]}})},enumerable:!1,configurable:!0}),t})(Lb);Qt.Element=oU;function aU(e){return(0,Rr.isTag)(e)}Qt.isTag=aU;function sU(e){return e.type===Rr.ElementType.CDATA}Qt.isCDATA=sU;function lU(e){return e.type===Rr.ElementType.Text}Qt.isText=lU;function uU(e){return e.type===Rr.ElementType.Comment}Qt.isComment=uU;function cU(e){return e.type===Rr.ElementType.Directive}Qt.isDirective=cU;function hU(e){return e.type===Rr.ElementType.Root}Qt.isDocument=hU;function J1e(e){return Object.prototype.hasOwnProperty.call(e,"children")}Qt.hasChildren=J1e;function cP(e,t){t===void 0&&(t=!1);var r;if(lU(e))r=new tU(e.data);else if(uU(e))r=new rU(e.data);else if(aU(e)){var n=t?PT(e.children):[],i=new oU(e.name,vd({},e.attribs),n);n.forEach(function(u){return u.parent=i}),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=vd({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=vd({},e["x-attribsPrefix"])),r=i}else if(sU(e)){var n=t?PT(e.children):[],o=new Lb(Rr.ElementType.CDATA,n);n.forEach(function(l){return l.parent=o}),r=o}else if(hU(e)){var n=t?PT(e.children):[],a=new iU(n);n.forEach(function(l){return l.parent=a}),e["x-mode"]&&(a["x-mode"]=e["x-mode"]),r=a}else if(cU(e)){var s=new nU(e.name,e.data);e["x-name"]!=null&&(s["x-name"]=e["x-name"],s["x-publicId"]=e["x-publicId"],s["x-systemId"]=e["x-systemId"]),r=s}else throw new Error("Not implemented yet: ".concat(e.type));return r.startIndex=e.startIndex,r.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(r.sourceCodeLocation=e.sourceCodeLocation),r}Qt.cloneNode=cP;function PT(e){for(var t=e.map(function(n){return cP(n,!0)}),r=1;r<t.length;r++)t[r].prev=t[r-1],t[r-1].next=t[r];return t}(function(e){var t=Le&&Le.__createBinding||(Object.create?function(u,l,c,h){h===void 0&&(h=c);var f=Object.getOwnPropertyDescriptor(l,c);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(u,h,f)}:function(u,l,c,h){h===void 0&&(h=c),u[h]=l[c]}),r=Le&&Le.__exportStar||function(u,l){for(var c in u)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&t(l,u,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var n=vf,i=Qt;r(Qt,e);var o=/\s+/g,a={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},s=(function(){function u(l,c,h){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(h=c,c=a),typeof l=="object"&&(c=l,l=void 0),this.callback=l??null,this.options=c??a,this.elementCB=h??null}return u.prototype.onparserinit=function(l){this.parser=l},u.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},u.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},u.prototype.onerror=function(l){this.handleCallback(l)},u.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},u.prototype.onopentag=function(l,c){var h=this.options.xmlMode?n.ElementType.Tag:void 0,f=new i.Element(l,c,void 0,h);this.addNode(f),this.tagStack.push(f)},u.prototype.ontext=function(l){var c=this.options.normalizeWhitespace,h=this.lastNode;if(h&&h.type===n.ElementType.Text)c?h.data=(h.data+l).replace(o," "):h.data+=l,this.options.withEndIndices&&(h.endIndex=this.parser.endIndex);else{c&&(l=l.replace(o," "));var f=new i.Text(l);this.addNode(f),this.lastNode=f}},u.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=l;return}var c=new i.Comment(l);this.addNode(c),this.lastNode=c},u.prototype.oncommentend=function(){this.lastNode=null},u.prototype.oncdatastart=function(){var l=new i.Text(""),c=new i.NodeWithChildren(n.ElementType.CDATA,[l]);this.addNode(c),l.parent=c,this.lastNode=l},u.prototype.oncdataend=function(){this.lastNode=null},u.prototype.onprocessinginstruction=function(l,c){var h=new i.ProcessingInstruction(l,c);this.addNode(h)},u.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},u.prototype.addNode=function(l){var c=this.tagStack[this.tagStack.length-1],h=c.children[c.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),c.children.push(l),h&&(l.prev=h,h.next=l),l.parent=c,this.lastNode=null},u})();e.DomHandler=s,e.default=s})(Xn);var jm={},X6={},sa={};const eme="Á",tme="á",rme="Ă",nme="ă",ime="∾",ome="∿",ame="∾̳",sme="Â",lme="â",ume="´",cme="А",hme="а",fme="Æ",pme="æ",dme="⁡",mme="𝔄",gme="𝔞",yme="À",vme="à",bme="ℵ",_me="ℵ",wme="Α",Tme="α",xme="Ā",Eme="ā",Sme="⨿",kme="&",Ome="&",Pme="⩕",Cme="⩓",Ame="∧",Mme="⩜",Ime="⩘",Rme="⩚",Dme="∠",Nme="⦤",jme="∠",Lme="⦨",Bme="⦩",Fme="⦪",zme="⦫",Hme="⦬",Ume="⦭",Vme="⦮",Gme="⦯",Yme="∡",Wme="∟",Xme="⊾",$me="⦝",qme="∢",Kme="Å",Zme="⍼",Qme="Ą",Jme="ą",ege="𝔸",tge="𝕒",rge="⩯",nge="≈",ige="⩰",oge="≊",age="≋",sge="'",lge="⁡",uge="≈",cge="≊",hge="Å",fge="å",pge="𝒜",dge="𝒶",mge="≔",gge="*",yge="≈",vge="≍",bge="Ã",_ge="ã",wge="Ä",Tge="ä",xge="∳",Ege="⨑",Sge="≌",kge="϶",Oge="‵",Pge="∽",Cge="⋍",Age="∖",Mge="⫧",Ige="⊽",Rge="⌅",Dge="⌆",Nge="⌅",jge="⎵",Lge="⎶",Bge="≌",Fge="Б",zge="б",Hge="„",Uge="∵",Vge="∵",Gge="∵",Yge="⦰",Wge="϶",Xge="ℬ",$ge="ℬ",qge="Β",Kge="β",Zge="ℶ",Qge="≬",Jge="𝔅",e0e="𝔟",t0e="⋂",r0e="◯",n0e="⋃",i0e="⨀",o0e="⨁",a0e="⨂",s0e="⨆",l0e="★",u0e="▽",c0e="△",h0e="⨄",f0e="⋁",p0e="⋀",d0e="⤍",m0e="⧫",g0e="▪",y0e="▴",v0e="▾",b0e="◂",_0e="▸",w0e="␣",T0e="▒",x0e="░",E0e="▓",S0e="█",k0e="=⃥",O0e="≡⃥",P0e="⫭",C0e="⌐",A0e="𝔹",M0e="𝕓",I0e="⊥",R0e="⊥",D0e="⋈",N0e="⧉",j0e="┐",L0e="╕",B0e="╖",F0e="╗",z0e="┌",H0e="╒",U0e="╓",V0e="╔",G0e="─",Y0e="═",W0e="┬",X0e="╤",$0e="╥",q0e="╦",K0e="┴",Z0e="╧",Q0e="╨",J0e="╩",eye="⊟",tye="⊞",rye="⊠",nye="┘",iye="╛",oye="╜",aye="╝",sye="└",lye="╘",uye="╙",cye="╚",hye="│",fye="║",pye="┼",dye="╪",mye="╫",gye="╬",yye="┤",vye="╡",bye="╢",_ye="╣",wye="├",Tye="╞",xye="╟",Eye="╠",Sye="‵",kye="˘",Oye="˘",Pye="¦",Cye="𝒷",Aye="ℬ",Mye="⁏",Iye="∽",Rye="⋍",Dye="⧅",Nye="\\",jye="⟈",Lye="•",Bye="•",Fye="≎",zye="⪮",Hye="≏",Uye="≎",Vye="≏",Gye="Ć",Yye="ć",Wye="⩄",Xye="⩉",$ye="⩋",qye="∩",Kye="⋒",Zye="⩇",Qye="⩀",Jye="ⅅ",eve="∩︀",tve="⁁",rve="ˇ",nve="ℭ",ive="⩍",ove="Č",ave="č",sve="Ç",lve="ç",uve="Ĉ",cve="ĉ",hve="∰",fve="⩌",pve="⩐",dve="Ċ",mve="ċ",gve="¸",yve="¸",vve="⦲",bve="¢",_ve="·",wve="·",Tve="𝔠",xve="ℭ",Eve="Ч",Sve="ч",kve="✓",Ove="✓",Pve="Χ",Cve="χ",Ave="ˆ",Mve="≗",Ive="↺",Rve="↻",Dve="⊛",Nve="⊚",jve="⊝",Lve="⊙",Bve="®",Fve="Ⓢ",zve="⊖",Hve="⊕",Uve="⊗",Vve="○",Gve="⧃",Yve="≗",Wve="⨐",Xve="⫯",$ve="⧂",qve="∲",Kve="”",Zve="’",Qve="♣",Jve="♣",ebe=":",tbe="∷",rbe="⩴",nbe="≔",ibe="≔",obe=",",abe="@",sbe="∁",lbe="∘",ube="∁",cbe="ℂ",hbe="≅",fbe="⩭",pbe="≡",dbe="∮",mbe="∯",gbe="∮",ybe="𝕔",vbe="ℂ",bbe="∐",_be="∐",wbe="©",Tbe="©",xbe="℗",Ebe="∳",Sbe="↵",kbe="✗",Obe="⨯",Pbe="𝒞",Cbe="𝒸",Abe="⫏",Mbe="⫑",Ibe="⫐",Rbe="⫒",Dbe="⋯",Nbe="⤸",jbe="⤵",Lbe="⋞",Bbe="⋟",Fbe="↶",zbe="⤽",Hbe="⩈",Ube="⩆",Vbe="≍",Gbe="∪",Ybe="⋓",Wbe="⩊",Xbe="⊍",$be="⩅",qbe="∪︀",Kbe="↷",Zbe="⤼",Qbe="⋞",Jbe="⋟",e_e="⋎",t_e="⋏",r_e="¤",n_e="↶",i_e="↷",o_e="⋎",a_e="⋏",s_e="∲",l_e="∱",u_e="⌭",c_e="†",h_e="‡",f_e="ℸ",p_e="↓",d_e="↡",m_e="⇓",g_e="‐",y_e="⫤",v_e="⊣",b_e="⤏",__e="˝",w_e="Ď",T_e="ď",x_e="Д",E_e="д",S_e="‡",k_e="⇊",O_e="ⅅ",P_e="ⅆ",C_e="⤑",A_e="⩷",M_e="°",I_e="∇",R_e="Δ",D_e="δ",N_e="⦱",j_e="⥿",L_e="𝔇",B_e="𝔡",F_e="⥥",z_e="⇃",H_e="⇂",U_e="´",V_e="˙",G_e="˝",Y_e="`",W_e="˜",X_e="⋄",$_e="⋄",q_e="⋄",K_e="♦",Z_e="♦",Q_e="¨",J_e="ⅆ",ewe="ϝ",twe="⋲",rwe="÷",nwe="÷",iwe="⋇",owe="⋇",awe="Ђ",swe="ђ",lwe="⌞",uwe="⌍",cwe="$",hwe="𝔻",fwe="𝕕",pwe="¨",dwe="˙",mwe="⃜",gwe="≐",ywe="≑",vwe="≐",bwe="∸",_we="∔",wwe="⊡",Twe="⌆",xwe="∯",Ewe="¨",Swe="⇓",kwe="⇐",Owe="⇔",Pwe="⫤",Cwe="⟸",Awe="⟺",Mwe="⟹",Iwe="⇒",Rwe="⊨",Dwe="⇑",Nwe="⇕",jwe="∥",Lwe="⤓",Bwe="↓",Fwe="↓",zwe="⇓",Hwe="⇵",Uwe="̑",Vwe="⇊",Gwe="⇃",Ywe="⇂",Wwe="⥐",Xwe="⥞",$we="⥖",qwe="↽",Kwe="⥟",Zwe="⥗",Qwe="⇁",Jwe="↧",eTe="⊤",tTe="⤐",rTe="⌟",nTe="⌌",iTe="𝒟",oTe="𝒹",aTe="Ѕ",sTe="ѕ",lTe="⧶",uTe="Đ",cTe="đ",hTe="⋱",fTe="▿",pTe="▾",dTe="⇵",mTe="⥯",gTe="⦦",yTe="Џ",vTe="џ",bTe="⟿",_Te="É",wTe="é",TTe="⩮",xTe="Ě",ETe="ě",STe="Ê",kTe="ê",OTe="≖",PTe="≕",CTe="Э",ATe="э",MTe="⩷",ITe="Ė",RTe="ė",DTe="≑",NTe="ⅇ",jTe="≒",LTe="𝔈",BTe="𝔢",FTe="⪚",zTe="È",HTe="è",UTe="⪖",VTe="⪘",GTe="⪙",YTe="∈",WTe="⏧",XTe="ℓ",$Te="⪕",qTe="⪗",KTe="Ē",ZTe="ē",QTe="∅",JTe="∅",e2e="◻",t2e="∅",r2e="▫",n2e=" ",i2e=" ",o2e=" ",a2e="Ŋ",s2e="ŋ",l2e=" ",u2e="Ę",c2e="ę",h2e="𝔼",f2e="𝕖",p2e="⋕",d2e="⧣",m2e="⩱",g2e="ε",y2e="Ε",v2e="ε",b2e="ϵ",_2e="≖",w2e="≕",T2e="≂",x2e="⪖",E2e="⪕",S2e="⩵",k2e="=",O2e="≂",P2e="≟",C2e="⇌",A2e="≡",M2e="⩸",I2e="⧥",R2e="⥱",D2e="≓",N2e="ℯ",j2e="ℰ",L2e="≐",B2e="⩳",F2e="≂",z2e="Η",H2e="η",U2e="Ð",V2e="ð",G2e="Ë",Y2e="ë",W2e="€",X2e="!",$2e="∃",q2e="∃",K2e="ℰ",Z2e="ⅇ",Q2e="ⅇ",J2e="≒",e5e="Ф",t5e="ф",r5e="♀",n5e="ﬃ",i5e="ﬀ",o5e="ﬄ",a5e="𝔉",s5e="𝔣",l5e="ﬁ",u5e="◼",c5e="▪",h5e="fj",f5e="♭",p5e="ﬂ",d5e="▱",m5e="ƒ",g5e="𝔽",y5e="𝕗",v5e="∀",b5e="∀",_5e="⋔",w5e="⫙",T5e="ℱ",x5e="⨍",E5e="½",S5e="⅓",k5e="¼",O5e="⅕",P5e="⅙",C5e="⅛",A5e="⅔",M5e="⅖",I5e="¾",R5e="⅗",D5e="⅜",N5e="⅘",j5e="⅚",L5e="⅝",B5e="⅞",F5e="⁄",z5e="⌢",H5e="𝒻",U5e="ℱ",V5e="ǵ",G5e="Γ",Y5e="γ",W5e="Ϝ",X5e="ϝ",$5e="⪆",q5e="Ğ",K5e="ğ",Z5e="Ģ",Q5e="Ĝ",J5e="ĝ",exe="Г",txe="г",rxe="Ġ",nxe="ġ",ixe="≥",oxe="≧",axe="⪌",sxe="⋛",lxe="≥",uxe="≧",cxe="⩾",hxe="⪩",fxe="⩾",pxe="⪀",dxe="⪂",mxe="⪄",gxe="⋛︀",yxe="⪔",vxe="𝔊",bxe="𝔤",_xe="≫",wxe="⋙",Txe="⋙",xxe="ℷ",Exe="Ѓ",Sxe="ѓ",kxe="⪥",Oxe="≷",Pxe="⪒",Cxe="⪤",Axe="⪊",Mxe="⪊",Ixe="⪈",Rxe="≩",Dxe="⪈",Nxe="≩",jxe="⋧",Lxe="𝔾",Bxe="𝕘",Fxe="`",zxe="≥",Hxe="⋛",Uxe="≧",Vxe="⪢",Gxe="≷",Yxe="⩾",Wxe="≳",Xxe="𝒢",$xe="ℊ",qxe="≳",Kxe="⪎",Zxe="⪐",Qxe="⪧",Jxe="⩺",eEe=">",tEe=">",rEe="≫",nEe="⋗",iEe="⦕",oEe="⩼",aEe="⪆",sEe="⥸",lEe="⋗",uEe="⋛",cEe="⪌",hEe="≷",fEe="≳",pEe="≩︀",dEe="≩︀",mEe="ˇ",gEe=" ",yEe="½",vEe="ℋ",bEe="Ъ",_Ee="ъ",wEe="⥈",TEe="↔",xEe="⇔",EEe="↭",SEe="^",kEe="ℏ",OEe="Ĥ",PEe="ĥ",CEe="♥",AEe="♥",MEe="…",IEe="⊹",REe="𝔥",DEe="ℌ",NEe="ℋ",jEe="⤥",LEe="⤦",BEe="⇿",FEe="∻",zEe="↩",HEe="↪",UEe="𝕙",VEe="ℍ",GEe="―",YEe="─",WEe="𝒽",XEe="ℋ",$Ee="ℏ",qEe="Ħ",KEe="ħ",ZEe="≎",QEe="≏",JEe="⁃",eSe="‐",tSe="Í",rSe="í",nSe="⁣",iSe="Î",oSe="î",aSe="И",sSe="и",lSe="İ",uSe="Е",cSe="е",hSe="¡",fSe="⇔",pSe="𝔦",dSe="ℑ",mSe="Ì",gSe="ì",ySe="ⅈ",vSe="⨌",bSe="∭",_Se="⧜",wSe="℩",TSe="Ĳ",xSe="ĳ",ESe="Ī",SSe="ī",kSe="ℑ",OSe="ⅈ",PSe="ℐ",CSe="ℑ",ASe="ı",MSe="ℑ",ISe="⊷",RSe="Ƶ",DSe="⇒",NSe="℅",jSe="∞",LSe="⧝",BSe="ı",FSe="⊺",zSe="∫",HSe="∬",USe="ℤ",VSe="∫",GSe="⊺",YSe="⋂",WSe="⨗",XSe="⨼",$Se="⁣",qSe="⁢",KSe="Ё",ZSe="ё",QSe="Į",JSe="į",eke="𝕀",tke="𝕚",rke="Ι",nke="ι",ike="⨼",oke="¿",ake="𝒾",ske="ℐ",lke="∈",uke="⋵",cke="⋹",hke="⋴",fke="⋳",pke="∈",dke="⁢",mke="Ĩ",gke="ĩ",yke="І",vke="і",bke="Ï",_ke="ï",wke="Ĵ",Tke="ĵ",xke="Й",Eke="й",Ske="𝔍",kke="𝔧",Oke="ȷ",Pke="𝕁",Cke="𝕛",Ake="𝒥",Mke="𝒿",Ike="Ј",Rke="ј",Dke="Є",Nke="є",jke="Κ",Lke="κ",Bke="ϰ",Fke="Ķ",zke="ķ",Hke="К",Uke="к",Vke="𝔎",Gke="𝔨",Yke="ĸ",Wke="Х",Xke="х",$ke="Ќ",qke="ќ",Kke="𝕂",Zke="𝕜",Qke="𝒦",Jke="𝓀",e9e="⇚",t9e="Ĺ",r9e="ĺ",n9e="⦴",i9e="ℒ",o9e="Λ",a9e="λ",s9e="⟨",l9e="⟪",u9e="⦑",c9e="⟨",h9e="⪅",f9e="ℒ",p9e="«",d9e="⇤",m9e="⤟",g9e="←",y9e="↞",v9e="⇐",b9e="⤝",_9e="↩",w9e="↫",T9e="⤹",x9e="⥳",E9e="↢",S9e="⤙",k9e="⤛",O9e="⪫",P9e="⪭",C9e="⪭︀",A9e="⤌",M9e="⤎",I9e="❲",R9e="{",D9e="[",N9e="⦋",j9e="⦏",L9e="⦍",B9e="Ľ",F9e="ľ",z9e="Ļ",H9e="ļ",U9e="⌈",V9e="{",G9e="Л",Y9e="л",W9e="⤶",X9e="“",$9e="„",q9e="⥧",K9e="⥋",Z9e="↲",Q9e="≤",J9e="≦",eOe="⟨",tOe="⇤",rOe="←",nOe="←",iOe="⇐",oOe="⇆",aOe="↢",sOe="⌈",lOe="⟦",uOe="⥡",cOe="⥙",hOe="⇃",fOe="⌊",pOe="↽",dOe="↼",mOe="⇇",gOe="↔",yOe="↔",vOe="⇔",bOe="⇆",_Oe="⇋",wOe="↭",TOe="⥎",xOe="↤",EOe="⊣",SOe="⥚",kOe="⋋",OOe="⧏",POe="⊲",COe="⊴",AOe="⥑",MOe="⥠",IOe="⥘",ROe="↿",DOe="⥒",NOe="↼",jOe="⪋",LOe="⋚",BOe="≤",FOe="≦",zOe="⩽",HOe="⪨",UOe="⩽",VOe="⩿",GOe="⪁",YOe="⪃",WOe="⋚︀",XOe="⪓",$Oe="⪅",qOe="⋖",KOe="⋚",ZOe="⪋",QOe="⋚",JOe="≦",ePe="≶",tPe="≶",rPe="⪡",nPe="≲",iPe="⩽",oPe="≲",aPe="⥼",sPe="⌊",lPe="𝔏",uPe="𝔩",cPe="≶",hPe="⪑",fPe="⥢",pPe="↽",dPe="↼",mPe="⥪",gPe="▄",yPe="Љ",vPe="љ",bPe="⇇",_Pe="≪",wPe="⋘",TPe="⌞",xPe="⇚",EPe="⥫",SPe="◺",kPe="Ŀ",OPe="ŀ",PPe="⎰",CPe="⎰",APe="⪉",MPe="⪉",IPe="⪇",RPe="≨",DPe="⪇",NPe="≨",jPe="⋦",LPe="⟬",BPe="⇽",FPe="⟦",zPe="⟵",HPe="⟵",UPe="⟸",VPe="⟷",GPe="⟷",YPe="⟺",WPe="⟼",XPe="⟶",$Pe="⟶",qPe="⟹",KPe="↫",ZPe="↬",QPe="⦅",JPe="𝕃",e4e="𝕝",t4e="⨭",r4e="⨴",n4e="∗",i4e="_",o4e="↙",a4e="↘",s4e="◊",l4e="◊",u4e="⧫",c4e="(",h4e="⦓",f4e="⇆",p4e="⌟",d4e="⇋",m4e="⥭",g4e="‎",y4e="⊿",v4e="‹",b4e="𝓁",_4e="ℒ",w4e="↰",T4e="↰",x4e="≲",E4e="⪍",S4e="⪏",k4e="[",O4e="‘",P4e="‚",C4e="Ł",A4e="ł",M4e="⪦",I4e="⩹",R4e="<",D4e="<",N4e="≪",j4e="⋖",L4e="⋋",B4e="⋉",F4e="⥶",z4e="⩻",H4e="◃",U4e="⊴",V4e="◂",G4e="⦖",Y4e="⥊",W4e="⥦",X4e="≨︀",$4e="≨︀",q4e="¯",K4e="♂",Z4e="✠",Q4e="✠",J4e="↦",eCe="↦",tCe="↧",rCe="↤",nCe="↥",iCe="▮",oCe="⨩",aCe="М",sCe="м",lCe="—",uCe="∺",cCe="∡",hCe=" ",fCe="ℳ",pCe="𝔐",dCe="𝔪",mCe="℧",gCe="µ",yCe="*",vCe="⫰",bCe="∣",_Ce="·",wCe="⊟",TCe="−",xCe="∸",ECe="⨪",SCe="∓",kCe="⫛",OCe="…",PCe="∓",CCe="⊧",ACe="𝕄",MCe="𝕞",ICe="∓",RCe="𝓂",DCe="ℳ",NCe="∾",jCe="Μ",LCe="μ",BCe="⊸",FCe="⊸",zCe="∇",HCe="Ń",UCe="ń",VCe="∠⃒",GCe="≉",YCe="⩰̸",WCe="≋̸",XCe="ŉ",$Ce="≉",qCe="♮",KCe="ℕ",ZCe="♮",QCe=" ",JCe="≎̸",eAe="≏̸",tAe="⩃",rAe="Ň",nAe="ň",iAe="Ņ",oAe="ņ",aAe="≇",sAe="⩭̸",lAe="⩂",uAe="Н",cAe="н",hAe="–",fAe="⤤",pAe="↗",dAe="⇗",mAe="↗",gAe="≠",yAe="≐̸",vAe="​",bAe="​",_Ae="​",wAe="​",TAe="≢",xAe="⤨",EAe="≂̸",SAe="≫",kAe="≪",OAe=`
`,PAe="∄",CAe="∄",AAe="𝔑",MAe="𝔫",IAe="≧̸",RAe="≱",DAe="≱",NAe="≧̸",jAe="⩾̸",LAe="⩾̸",BAe="⋙̸",FAe="≵",zAe="≫⃒",HAe="≯",UAe="≯",VAe="≫̸",GAe="↮",YAe="⇎",WAe="⫲",XAe="∋",$Ae="⋼",qAe="⋺",KAe="∋",ZAe="Њ",QAe="њ",JAe="↚",e3e="⇍",t3e="‥",r3e="≦̸",n3e="≰",i3e="↚",o3e="⇍",a3e="↮",s3e="⇎",l3e="≰",u3e="≦̸",c3e="⩽̸",h3e="⩽̸",f3e="≮",p3e="⋘̸",d3e="≴",m3e="≪⃒",g3e="≮",y3e="⋪",v3e="⋬",b3e="≪̸",_3e="∤",w3e="⁠",T3e=" ",x3e="𝕟",E3e="ℕ",S3e="⫬",k3e="¬",O3e="≢",P3e="≭",C3e="∦",A3e="∉",M3e="≠",I3e="≂̸",R3e="∄",D3e="≯",N3e="≱",j3e="≧̸",L3e="≫̸",B3e="≹",F3e="⩾̸",z3e="≵",H3e="≎̸",U3e="≏̸",V3e="∉",G3e="⋵̸",Y3e="⋹̸",W3e="∉",X3e="⋷",$3e="⋶",q3e="⧏̸",K3e="⋪",Z3e="⋬",Q3e="≮",J3e="≰",e8e="≸",t8e="≪̸",r8e="⩽̸",n8e="≴",i8e="⪢̸",o8e="⪡̸",a8e="∌",s8e="∌",l8e="⋾",u8e="⋽",c8e="⊀",h8e="⪯̸",f8e="⋠",p8e="∌",d8e="⧐̸",m8e="⋫",g8e="⋭",y8e="⊏̸",v8e="⋢",b8e="⊐̸",_8e="⋣",w8e="⊂⃒",T8e="⊈",x8e="⊁",E8e="⪰̸",S8e="⋡",k8e="≿̸",O8e="⊃⃒",P8e="⊉",C8e="≁",A8e="≄",M8e="≇",I8e="≉",R8e="∤",D8e="∦",N8e="∦",j8e="⫽⃥",L8e="∂̸",B8e="⨔",F8e="⊀",z8e="⋠",H8e="⊀",U8e="⪯̸",V8e="⪯̸",G8e="⤳̸",Y8e="↛",W8e="⇏",X8e="↝̸",$8e="↛",q8e="⇏",K8e="⋫",Z8e="⋭",Q8e="⊁",J8e="⋡",e6e="⪰̸",t6e="𝒩",r6e="𝓃",n6e="∤",i6e="∦",o6e="≁",a6e="≄",s6e="≄",l6e="∤",u6e="∦",c6e="⋢",h6e="⋣",f6e="⊄",p6e="⫅̸",d6e="⊈",m6e="⊂⃒",g6e="⊈",y6e="⫅̸",v6e="⊁",b6e="⪰̸",_6e="⊅",w6e="⫆̸",T6e="⊉",x6e="⊃⃒",E6e="⊉",S6e="⫆̸",k6e="≹",O6e="Ñ",P6e="ñ",C6e="≸",A6e="⋪",M6e="⋬",I6e="⋫",R6e="⋭",D6e="Ν",N6e="ν",j6e="#",L6e="№",B6e=" ",F6e="≍⃒",z6e="⊬",H6e="⊭",U6e="⊮",V6e="⊯",G6e="≥⃒",Y6e=">⃒",W6e="⤄",X6e="⧞",$6e="⤂",q6e="≤⃒",K6e="<⃒",Z6e="⊴⃒",Q6e="⤃",J6e="⊵⃒",eMe="∼⃒",tMe="⤣",rMe="↖",nMe="⇖",iMe="↖",oMe="⤧",aMe="Ó",sMe="ó",lMe="⊛",uMe="Ô",cMe="ô",hMe="⊚",fMe="О",pMe="о",dMe="⊝",mMe="Ő",gMe="ő",yMe="⨸",vMe="⊙",bMe="⦼",_Me="Œ",wMe="œ",TMe="⦿",xMe="𝔒",EMe="𝔬",SMe="˛",kMe="Ò",OMe="ò",PMe="⧁",CMe="⦵",AMe="Ω",MMe="∮",IMe="↺",RMe="⦾",DMe="⦻",NMe="‾",jMe="⧀",LMe="Ō",BMe="ō",FMe="Ω",zMe="ω",HMe="Ο",UMe="ο",VMe="⦶",GMe="⊖",YMe="𝕆",WMe="𝕠",XMe="⦷",$Me="“",qMe="‘",KMe="⦹",ZMe="⊕",QMe="↻",JMe="⩔",eIe="∨",tIe="⩝",rIe="ℴ",nIe="ℴ",iIe="ª",oIe="º",aIe="⊶",sIe="⩖",lIe="⩗",uIe="⩛",cIe="Ⓢ",hIe="𝒪",fIe="ℴ",pIe="Ø",dIe="ø",mIe="⊘",gIe="Õ",yIe="õ",vIe="⨶",bIe="⨷",_Ie="⊗",wIe="Ö",TIe="ö",xIe="⌽",EIe="‾",SIe="⏞",kIe="⎴",OIe="⏜",PIe="¶",CIe="∥",AIe="∥",MIe="⫳",IIe="⫽",RIe="∂",DIe="∂",NIe="П",jIe="п",LIe="%",BIe=".",FIe="‰",zIe="⊥",HIe="‱",UIe="𝔓",VIe="𝔭",GIe="Φ",YIe="φ",WIe="ϕ",XIe="ℳ",$Ie="☎",qIe="Π",KIe="π",ZIe="⋔",QIe="ϖ",JIe="ℏ",eRe="ℎ",tRe="ℏ",rRe="⨣",nRe="⊞",iRe="⨢",oRe="+",aRe="∔",sRe="⨥",lRe="⩲",uRe="±",cRe="±",hRe="⨦",fRe="⨧",pRe="±",dRe="ℌ",mRe="⨕",gRe="𝕡",yRe="ℙ",vRe="£",bRe="⪷",_Re="⪻",wRe="≺",TRe="≼",xRe="⪷",ERe="≺",SRe="≼",kRe="≺",ORe="⪯",PRe="≼",CRe="≾",ARe="⪯",MRe="⪹",IRe="⪵",RRe="⋨",DRe="⪯",NRe="⪳",jRe="≾",LRe="′",BRe="″",FRe="ℙ",zRe="⪹",HRe="⪵",URe="⋨",VRe="∏",GRe="∏",YRe="⌮",WRe="⌒",XRe="⌓",$Re="∝",qRe="∝",KRe="∷",ZRe="∝",QRe="≾",JRe="⊰",e7e="𝒫",t7e="𝓅",r7e="Ψ",n7e="ψ",i7e=" ",o7e="𝔔",a7e="𝔮",s7e="⨌",l7e="𝕢",u7e="ℚ",c7e="⁗",h7e="𝒬",f7e="𝓆",p7e="ℍ",d7e="⨖",m7e="?",g7e="≟",y7e='"',v7e='"',b7e="⇛",_7e="∽̱",w7e="Ŕ",T7e="ŕ",x7e="√",E7e="⦳",S7e="⟩",k7e="⟫",O7e="⦒",P7e="⦥",C7e="⟩",A7e="»",M7e="⥵",I7e="⇥",R7e="⤠",D7e="⤳",N7e="→",j7e="↠",L7e="⇒",B7e="⤞",F7e="↪",z7e="↬",H7e="⥅",U7e="⥴",V7e="⤖",G7e="↣",Y7e="↝",W7e="⤚",X7e="⤜",$7e="∶",q7e="ℚ",K7e="⤍",Z7e="⤏",Q7e="⤐",J7e="❳",eDe="}",tDe="]",rDe="⦌",nDe="⦎",iDe="⦐",oDe="Ř",aDe="ř",sDe="Ŗ",lDe="ŗ",uDe="⌉",cDe="}",hDe="Р",fDe="р",pDe="⤷",dDe="⥩",mDe="”",gDe="”",yDe="↳",vDe="ℜ",bDe="ℛ",_De="ℜ",wDe="ℝ",TDe="ℜ",xDe="▭",EDe="®",SDe="®",kDe="∋",ODe="⇋",PDe="⥯",CDe="⥽",ADe="⌋",MDe="𝔯",IDe="ℜ",RDe="⥤",DDe="⇁",NDe="⇀",jDe="⥬",LDe="Ρ",BDe="ρ",FDe="ϱ",zDe="⟩",HDe="⇥",UDe="→",VDe="→",GDe="⇒",YDe="⇄",WDe="↣",XDe="⌉",$De="⟧",qDe="⥝",KDe="⥕",ZDe="⇂",QDe="⌋",JDe="⇁",eNe="⇀",tNe="⇄",rNe="⇌",nNe="⇉",iNe="↝",oNe="↦",aNe="⊢",sNe="⥛",lNe="⋌",uNe="⧐",cNe="⊳",hNe="⊵",fNe="⥏",pNe="⥜",dNe="⥔",mNe="↾",gNe="⥓",yNe="⇀",vNe="˚",bNe="≓",_Ne="⇄",wNe="⇌",TNe="‏",xNe="⎱",ENe="⎱",SNe="⫮",kNe="⟭",ONe="⇾",PNe="⟧",CNe="⦆",ANe="𝕣",MNe="ℝ",INe="⨮",RNe="⨵",DNe="⥰",NNe=")",jNe="⦔",LNe="⨒",BNe="⇉",FNe="⇛",zNe="›",HNe="𝓇",UNe="ℛ",VNe="↱",GNe="↱",YNe="]",WNe="’",XNe="’",$Ne="⋌",qNe="⋊",KNe="▹",ZNe="⊵",QNe="▸",JNe="⧎",eje="⧴",tje="⥨",rje="℞",nje="Ś",ije="ś",oje="‚",aje="⪸",sje="Š",lje="š",uje="⪼",cje="≻",hje="≽",fje="⪰",pje="⪴",dje="Ş",mje="ş",gje="Ŝ",yje="ŝ",vje="⪺",bje="⪶",_je="⋩",wje="⨓",Tje="≿",xje="С",Eje="с",Sje="⊡",kje="⋅",Oje="⩦",Pje="⤥",Cje="↘",Aje="⇘",Mje="↘",Ije="§",Rje=";",Dje="⤩",Nje="∖",jje="∖",Lje="✶",Bje="𝔖",Fje="𝔰",zje="⌢",Hje="♯",Uje="Щ",Vje="щ",Gje="Ш",Yje="ш",Wje="↓",Xje="←",$je="∣",qje="∥",Kje="→",Zje="↑",Qje="­",Jje="Σ",eLe="σ",tLe="ς",rLe="ς",nLe="∼",iLe="⩪",oLe="≃",aLe="≃",sLe="⪞",lLe="⪠",uLe="⪝",cLe="⪟",hLe="≆",fLe="⨤",pLe="⥲",dLe="←",mLe="∘",gLe="∖",yLe="⨳",vLe="⧤",bLe="∣",_Le="⌣",wLe="⪪",TLe="⪬",xLe="⪬︀",ELe="Ь",SLe="ь",kLe="⌿",OLe="⧄",PLe="/",CLe="𝕊",ALe="𝕤",MLe="♠",ILe="♠",RLe="∥",DLe="⊓",NLe="⊓︀",jLe="⊔",LLe="⊔︀",BLe="√",FLe="⊏",zLe="⊑",HLe="⊏",ULe="⊑",VLe="⊐",GLe="⊒",YLe="⊐",WLe="⊒",XLe="□",$Le="□",qLe="⊓",KLe="⊏",ZLe="⊑",QLe="⊐",JLe="⊒",eBe="⊔",tBe="▪",rBe="□",nBe="▪",iBe="→",oBe="𝒮",aBe="𝓈",sBe="∖",lBe="⌣",uBe="⋆",cBe="⋆",hBe="☆",fBe="★",pBe="ϵ",dBe="ϕ",mBe="¯",gBe="⊂",yBe="⋐",vBe="⪽",bBe="⫅",_Be="⊆",wBe="⫃",TBe="⫁",xBe="⫋",EBe="⊊",SBe="⪿",kBe="⥹",OBe="⊂",PBe="⋐",CBe="⊆",ABe="⫅",MBe="⊆",IBe="⊊",RBe="⫋",DBe="⫇",NBe="⫕",jBe="⫓",LBe="⪸",BBe="≻",FBe="≽",zBe="≻",HBe="⪰",UBe="≽",VBe="≿",GBe="⪰",YBe="⪺",WBe="⪶",XBe="⋩",$Be="≿",qBe="∋",KBe="∑",ZBe="∑",QBe="♪",JBe="¹",eFe="²",tFe="³",rFe="⊃",nFe="⋑",iFe="⪾",oFe="⫘",aFe="⫆",sFe="⊇",lFe="⫄",uFe="⊃",cFe="⊇",hFe="⟉",fFe="⫗",pFe="⥻",dFe="⫂",mFe="⫌",gFe="⊋",yFe="⫀",vFe="⊃",bFe="⋑",_Fe="⊇",wFe="⫆",TFe="⊋",xFe="⫌",EFe="⫈",SFe="⫔",kFe="⫖",OFe="⤦",PFe="↙",CFe="⇙",AFe="↙",MFe="⤪",IFe="ß",RFe="	",DFe="⌖",NFe="Τ",jFe="τ",LFe="⎴",BFe="Ť",FFe="ť",zFe="Ţ",HFe="ţ",UFe="Т",VFe="т",GFe="⃛",YFe="⌕",WFe="𝔗",XFe="𝔱",$Fe="∴",qFe="∴",KFe="∴",ZFe="Θ",QFe="θ",JFe="ϑ",eze="ϑ",tze="≈",rze="∼",nze="  ",ize=" ",oze=" ",aze="≈",sze="∼",lze="Þ",uze="þ",cze="˜",hze="∼",fze="≃",pze="≅",dze="≈",mze="⨱",gze="⊠",yze="×",vze="⨰",bze="∭",_ze="⤨",wze="⌶",Tze="⫱",xze="⊤",Eze="𝕋",Sze="𝕥",kze="⫚",Oze="⤩",Pze="‴",Cze="™",Aze="™",Mze="▵",Ize="▿",Rze="◃",Dze="⊴",Nze="≜",jze="▹",Lze="⊵",Bze="◬",Fze="≜",zze="⨺",Hze="⃛",Uze="⨹",Vze="⧍",Gze="⨻",Yze="⏢",Wze="𝒯",Xze="𝓉",$ze="Ц",qze="ц",Kze="Ћ",Zze="ћ",Qze="Ŧ",Jze="ŧ",eHe="≬",tHe="↞",rHe="↠",nHe="Ú",iHe="ú",oHe="↑",aHe="↟",sHe="⇑",lHe="⥉",uHe="Ў",cHe="ў",hHe="Ŭ",fHe="ŭ",pHe="Û",dHe="û",mHe="У",gHe="у",yHe="⇅",vHe="Ű",bHe="ű",_He="⥮",wHe="⥾",THe="𝔘",xHe="𝔲",EHe="Ù",SHe="ù",kHe="⥣",OHe="↿",PHe="↾",CHe="▀",AHe="⌜",MHe="⌜",IHe="⌏",RHe="◸",DHe="Ū",NHe="ū",jHe="¨",LHe="_",BHe="⏟",FHe="⎵",zHe="⏝",HHe="⋃",UHe="⊎",VHe="Ų",GHe="ų",YHe="𝕌",WHe="𝕦",XHe="⤒",$He="↑",qHe="↑",KHe="⇑",ZHe="⇅",QHe="↕",JHe="↕",eUe="⇕",tUe="⥮",rUe="↿",nUe="↾",iUe="⊎",oUe="↖",aUe="↗",sUe="υ",lUe="ϒ",uUe="ϒ",cUe="Υ",hUe="υ",fUe="↥",pUe="⊥",dUe="⇈",mUe="⌝",gUe="⌝",yUe="⌎",vUe="Ů",bUe="ů",_Ue="◹",wUe="𝒰",TUe="𝓊",xUe="⋰",EUe="Ũ",SUe="ũ",kUe="▵",OUe="▴",PUe="⇈",CUe="Ü",AUe="ü",MUe="⦧",IUe="⦜",RUe="ϵ",DUe="ϰ",NUe="∅",jUe="ϕ",LUe="ϖ",BUe="∝",FUe="↕",zUe="⇕",HUe="ϱ",UUe="ς",VUe="⊊︀",GUe="⫋︀",YUe="⊋︀",WUe="⫌︀",XUe="ϑ",$Ue="⊲",qUe="⊳",KUe="⫨",ZUe="⫫",QUe="⫩",JUe="В",eVe="в",tVe="⊢",rVe="⊨",nVe="⊩",iVe="⊫",oVe="⫦",aVe="⊻",sVe="∨",lVe="⋁",uVe="≚",cVe="⋮",hVe="|",fVe="‖",pVe="|",dVe="‖",mVe="∣",gVe="|",yVe="❘",vVe="≀",bVe=" ",_Ve="𝔙",wVe="𝔳",TVe="⊲",xVe="⊂⃒",EVe="⊃⃒",SVe="𝕍",kVe="𝕧",OVe="∝",PVe="⊳",CVe="𝒱",AVe="𝓋",MVe="⫋︀",IVe="⊊︀",RVe="⫌︀",DVe="⊋︀",NVe="⊪",jVe="⦚",LVe="Ŵ",BVe="ŵ",FVe="⩟",zVe="∧",HVe="⋀",UVe="≙",VVe="℘",GVe="𝔚",YVe="𝔴",WVe="𝕎",XVe="𝕨",$Ve="℘",qVe="≀",KVe="≀",ZVe="𝒲",QVe="𝓌",JVe="⋂",eGe="◯",tGe="⋃",rGe="▽",nGe="𝔛",iGe="𝔵",oGe="⟷",aGe="⟺",sGe="Ξ",lGe="ξ",uGe="⟵",cGe="⟸",hGe="⟼",fGe="⋻",pGe="⨀",dGe="𝕏",mGe="𝕩",gGe="⨁",yGe="⨂",vGe="⟶",bGe="⟹",_Ge="𝒳",wGe="𝓍",TGe="⨆",xGe="⨄",EGe="△",SGe="⋁",kGe="⋀",OGe="Ý",PGe="ý",CGe="Я",AGe="я",MGe="Ŷ",IGe="ŷ",RGe="Ы",DGe="ы",NGe="¥",jGe="𝔜",LGe="𝔶",BGe="Ї",FGe="ї",zGe="𝕐",HGe="𝕪",UGe="𝒴",VGe="𝓎",GGe="Ю",YGe="ю",WGe="ÿ",XGe="Ÿ",$Ge="Ź",qGe="ź",KGe="Ž",ZGe="ž",QGe="З",JGe="з",eYe="Ż",tYe="ż",rYe="ℨ",nYe="​",iYe="Ζ",oYe="ζ",aYe="𝔷",sYe="ℨ",lYe="Ж",uYe="ж",cYe="⇝",hYe="𝕫",fYe="ℤ",pYe="𝒵",dYe="𝓏",mYe="‍",gYe="‌",hP={Aacute:eme,aacute:tme,Abreve:rme,abreve:nme,ac:ime,acd:ome,acE:ame,Acirc:sme,acirc:lme,acute:ume,Acy:cme,acy:hme,AElig:fme,aelig:pme,af:dme,Afr:mme,afr:gme,Agrave:yme,agrave:vme,alefsym:bme,aleph:_me,Alpha:wme,alpha:Tme,Amacr:xme,amacr:Eme,amalg:Sme,amp:kme,AMP:Ome,andand:Pme,And:Cme,and:Ame,andd:Mme,andslope:Ime,andv:Rme,ang:Dme,ange:Nme,angle:jme,angmsdaa:Lme,angmsdab:Bme,angmsdac:Fme,angmsdad:zme,angmsdae:Hme,angmsdaf:Ume,angmsdag:Vme,angmsdah:Gme,angmsd:Yme,angrt:Wme,angrtvb:Xme,angrtvbd:$me,angsph:qme,angst:Kme,angzarr:Zme,Aogon:Qme,aogon:Jme,Aopf:ege,aopf:tge,apacir:rge,ap:nge,apE:ige,ape:oge,apid:age,apos:sge,ApplyFunction:lge,approx:uge,approxeq:cge,Aring:hge,aring:fge,Ascr:pge,ascr:dge,Assign:mge,ast:gge,asymp:yge,asympeq:vge,Atilde:bge,atilde:_ge,Auml:wge,auml:Tge,awconint:xge,awint:Ege,backcong:Sge,backepsilon:kge,backprime:Oge,backsim:Pge,backsimeq:Cge,Backslash:Age,Barv:Mge,barvee:Ige,barwed:Rge,Barwed:Dge,barwedge:Nge,bbrk:jge,bbrktbrk:Lge,bcong:Bge,Bcy:Fge,bcy:zge,bdquo:Hge,becaus:Uge,because:Vge,Because:Gge,bemptyv:Yge,bepsi:Wge,bernou:Xge,Bernoullis:$ge,Beta:qge,beta:Kge,beth:Zge,between:Qge,Bfr:Jge,bfr:e0e,bigcap:t0e,bigcirc:r0e,bigcup:n0e,bigodot:i0e,bigoplus:o0e,bigotimes:a0e,bigsqcup:s0e,bigstar:l0e,bigtriangledown:u0e,bigtriangleup:c0e,biguplus:h0e,bigvee:f0e,bigwedge:p0e,bkarow:d0e,blacklozenge:m0e,blacksquare:g0e,blacktriangle:y0e,blacktriangledown:v0e,blacktriangleleft:b0e,blacktriangleright:_0e,blank:w0e,blk12:T0e,blk14:x0e,blk34:E0e,block:S0e,bne:k0e,bnequiv:O0e,bNot:P0e,bnot:C0e,Bopf:A0e,bopf:M0e,bot:I0e,bottom:R0e,bowtie:D0e,boxbox:N0e,boxdl:j0e,boxdL:L0e,boxDl:B0e,boxDL:F0e,boxdr:z0e,boxdR:H0e,boxDr:U0e,boxDR:V0e,boxh:G0e,boxH:Y0e,boxhd:W0e,boxHd:X0e,boxhD:$0e,boxHD:q0e,boxhu:K0e,boxHu:Z0e,boxhU:Q0e,boxHU:J0e,boxminus:eye,boxplus:tye,boxtimes:rye,boxul:nye,boxuL:iye,boxUl:oye,boxUL:aye,boxur:sye,boxuR:lye,boxUr:uye,boxUR:cye,boxv:hye,boxV:fye,boxvh:pye,boxvH:dye,boxVh:mye,boxVH:gye,boxvl:yye,boxvL:vye,boxVl:bye,boxVL:_ye,boxvr:wye,boxvR:Tye,boxVr:xye,boxVR:Eye,bprime:Sye,breve:kye,Breve:Oye,brvbar:Pye,bscr:Cye,Bscr:Aye,bsemi:Mye,bsim:Iye,bsime:Rye,bsolb:Dye,bsol:Nye,bsolhsub:jye,bull:Lye,bullet:Bye,bump:Fye,bumpE:zye,bumpe:Hye,Bumpeq:Uye,bumpeq:Vye,Cacute:Gye,cacute:Yye,capand:Wye,capbrcup:Xye,capcap:$ye,cap:qye,Cap:Kye,capcup:Zye,capdot:Qye,CapitalDifferentialD:Jye,caps:eve,caret:tve,caron:rve,Cayleys:nve,ccaps:ive,Ccaron:ove,ccaron:ave,Ccedil:sve,ccedil:lve,Ccirc:uve,ccirc:cve,Cconint:hve,ccups:fve,ccupssm:pve,Cdot:dve,cdot:mve,cedil:gve,Cedilla:yve,cemptyv:vve,cent:bve,centerdot:_ve,CenterDot:wve,cfr:Tve,Cfr:xve,CHcy:Eve,chcy:Sve,check:kve,checkmark:Ove,Chi:Pve,chi:Cve,circ:Ave,circeq:Mve,circlearrowleft:Ive,circlearrowright:Rve,circledast:Dve,circledcirc:Nve,circleddash:jve,CircleDot:Lve,circledR:Bve,circledS:Fve,CircleMinus:zve,CirclePlus:Hve,CircleTimes:Uve,cir:Vve,cirE:Gve,cire:Yve,cirfnint:Wve,cirmid:Xve,cirscir:$ve,ClockwiseContourIntegral:qve,CloseCurlyDoubleQuote:Kve,CloseCurlyQuote:Zve,clubs:Qve,clubsuit:Jve,colon:ebe,Colon:tbe,Colone:rbe,colone:nbe,coloneq:ibe,comma:obe,commat:abe,comp:sbe,compfn:lbe,complement:ube,complexes:cbe,cong:hbe,congdot:fbe,Congruent:pbe,conint:dbe,Conint:mbe,ContourIntegral:gbe,copf:ybe,Copf:vbe,coprod:bbe,Coproduct:_be,copy:wbe,COPY:Tbe,copysr:xbe,CounterClockwiseContourIntegral:Ebe,crarr:Sbe,cross:kbe,Cross:Obe,Cscr:Pbe,cscr:Cbe,csub:Abe,csube:Mbe,csup:Ibe,csupe:Rbe,ctdot:Dbe,cudarrl:Nbe,cudarrr:jbe,cuepr:Lbe,cuesc:Bbe,cularr:Fbe,cularrp:zbe,cupbrcap:Hbe,cupcap:Ube,CupCap:Vbe,cup:Gbe,Cup:Ybe,cupcup:Wbe,cupdot:Xbe,cupor:$be,cups:qbe,curarr:Kbe,curarrm:Zbe,curlyeqprec:Qbe,curlyeqsucc:Jbe,curlyvee:e_e,curlywedge:t_e,curren:r_e,curvearrowleft:n_e,curvearrowright:i_e,cuvee:o_e,cuwed:a_e,cwconint:s_e,cwint:l_e,cylcty:u_e,dagger:c_e,Dagger:h_e,daleth:f_e,darr:p_e,Darr:d_e,dArr:m_e,dash:g_e,Dashv:y_e,dashv:v_e,dbkarow:b_e,dblac:__e,Dcaron:w_e,dcaron:T_e,Dcy:x_e,dcy:E_e,ddagger:S_e,ddarr:k_e,DD:O_e,dd:P_e,DDotrahd:C_e,ddotseq:A_e,deg:M_e,Del:I_e,Delta:R_e,delta:D_e,demptyv:N_e,dfisht:j_e,Dfr:L_e,dfr:B_e,dHar:F_e,dharl:z_e,dharr:H_e,DiacriticalAcute:U_e,DiacriticalDot:V_e,DiacriticalDoubleAcute:G_e,DiacriticalGrave:Y_e,DiacriticalTilde:W_e,diam:X_e,diamond:$_e,Diamond:q_e,diamondsuit:K_e,diams:Z_e,die:Q_e,DifferentialD:J_e,digamma:ewe,disin:twe,div:rwe,divide:nwe,divideontimes:iwe,divonx:owe,DJcy:awe,djcy:swe,dlcorn:lwe,dlcrop:uwe,dollar:cwe,Dopf:hwe,dopf:fwe,Dot:pwe,dot:dwe,DotDot:mwe,doteq:gwe,doteqdot:ywe,DotEqual:vwe,dotminus:bwe,dotplus:_we,dotsquare:wwe,doublebarwedge:Twe,DoubleContourIntegral:xwe,DoubleDot:Ewe,DoubleDownArrow:Swe,DoubleLeftArrow:kwe,DoubleLeftRightArrow:Owe,DoubleLeftTee:Pwe,DoubleLongLeftArrow:Cwe,DoubleLongLeftRightArrow:Awe,DoubleLongRightArrow:Mwe,DoubleRightArrow:Iwe,DoubleRightTee:Rwe,DoubleUpArrow:Dwe,DoubleUpDownArrow:Nwe,DoubleVerticalBar:jwe,DownArrowBar:Lwe,downarrow:Bwe,DownArrow:Fwe,Downarrow:zwe,DownArrowUpArrow:Hwe,DownBreve:Uwe,downdownarrows:Vwe,downharpoonleft:Gwe,downharpoonright:Ywe,DownLeftRightVector:Wwe,DownLeftTeeVector:Xwe,DownLeftVectorBar:$we,DownLeftVector:qwe,DownRightTeeVector:Kwe,DownRightVectorBar:Zwe,DownRightVector:Qwe,DownTeeArrow:Jwe,DownTee:eTe,drbkarow:tTe,drcorn:rTe,drcrop:nTe,Dscr:iTe,dscr:oTe,DScy:aTe,dscy:sTe,dsol:lTe,Dstrok:uTe,dstrok:cTe,dtdot:hTe,dtri:fTe,dtrif:pTe,duarr:dTe,duhar:mTe,dwangle:gTe,DZcy:yTe,dzcy:vTe,dzigrarr:bTe,Eacute:_Te,eacute:wTe,easter:TTe,Ecaron:xTe,ecaron:ETe,Ecirc:STe,ecirc:kTe,ecir:OTe,ecolon:PTe,Ecy:CTe,ecy:ATe,eDDot:MTe,Edot:ITe,edot:RTe,eDot:DTe,ee:NTe,efDot:jTe,Efr:LTe,efr:BTe,eg:FTe,Egrave:zTe,egrave:HTe,egs:UTe,egsdot:VTe,el:GTe,Element:YTe,elinters:WTe,ell:XTe,els:$Te,elsdot:qTe,Emacr:KTe,emacr:ZTe,empty:QTe,emptyset:JTe,EmptySmallSquare:e2e,emptyv:t2e,EmptyVerySmallSquare:r2e,emsp13:n2e,emsp14:i2e,emsp:o2e,ENG:a2e,eng:s2e,ensp:l2e,Eogon:u2e,eogon:c2e,Eopf:h2e,eopf:f2e,epar:p2e,eparsl:d2e,eplus:m2e,epsi:g2e,Epsilon:y2e,epsilon:v2e,epsiv:b2e,eqcirc:_2e,eqcolon:w2e,eqsim:T2e,eqslantgtr:x2e,eqslantless:E2e,Equal:S2e,equals:k2e,EqualTilde:O2e,equest:P2e,Equilibrium:C2e,equiv:A2e,equivDD:M2e,eqvparsl:I2e,erarr:R2e,erDot:D2e,escr:N2e,Escr:j2e,esdot:L2e,Esim:B2e,esim:F2e,Eta:z2e,eta:H2e,ETH:U2e,eth:V2e,Euml:G2e,euml:Y2e,euro:W2e,excl:X2e,exist:$2e,Exists:q2e,expectation:K2e,exponentiale:Z2e,ExponentialE:Q2e,fallingdotseq:J2e,Fcy:e5e,fcy:t5e,female:r5e,ffilig:n5e,fflig:i5e,ffllig:o5e,Ffr:a5e,ffr:s5e,filig:l5e,FilledSmallSquare:u5e,FilledVerySmallSquare:c5e,fjlig:h5e,flat:f5e,fllig:p5e,fltns:d5e,fnof:m5e,Fopf:g5e,fopf:y5e,forall:v5e,ForAll:b5e,fork:_5e,forkv:w5e,Fouriertrf:T5e,fpartint:x5e,frac12:E5e,frac13:S5e,frac14:k5e,frac15:O5e,frac16:P5e,frac18:C5e,frac23:A5e,frac25:M5e,frac34:I5e,frac35:R5e,frac38:D5e,frac45:N5e,frac56:j5e,frac58:L5e,frac78:B5e,frasl:F5e,frown:z5e,fscr:H5e,Fscr:U5e,gacute:V5e,Gamma:G5e,gamma:Y5e,Gammad:W5e,gammad:X5e,gap:$5e,Gbreve:q5e,gbreve:K5e,Gcedil:Z5e,Gcirc:Q5e,gcirc:J5e,Gcy:exe,gcy:txe,Gdot:rxe,gdot:nxe,ge:ixe,gE:oxe,gEl:axe,gel:sxe,geq:lxe,geqq:uxe,geqslant:cxe,gescc:hxe,ges:fxe,gesdot:pxe,gesdoto:dxe,gesdotol:mxe,gesl:gxe,gesles:yxe,Gfr:vxe,gfr:bxe,gg:_xe,Gg:wxe,ggg:Txe,gimel:xxe,GJcy:Exe,gjcy:Sxe,gla:kxe,gl:Oxe,glE:Pxe,glj:Cxe,gnap:Axe,gnapprox:Mxe,gne:Ixe,gnE:Rxe,gneq:Dxe,gneqq:Nxe,gnsim:jxe,Gopf:Lxe,gopf:Bxe,grave:Fxe,GreaterEqual:zxe,GreaterEqualLess:Hxe,GreaterFullEqual:Uxe,GreaterGreater:Vxe,GreaterLess:Gxe,GreaterSlantEqual:Yxe,GreaterTilde:Wxe,Gscr:Xxe,gscr:$xe,gsim:qxe,gsime:Kxe,gsiml:Zxe,gtcc:Qxe,gtcir:Jxe,gt:eEe,GT:tEe,Gt:rEe,gtdot:nEe,gtlPar:iEe,gtquest:oEe,gtrapprox:aEe,gtrarr:sEe,gtrdot:lEe,gtreqless:uEe,gtreqqless:cEe,gtrless:hEe,gtrsim:fEe,gvertneqq:pEe,gvnE:dEe,Hacek:mEe,hairsp:gEe,half:yEe,hamilt:vEe,HARDcy:bEe,hardcy:_Ee,harrcir:wEe,harr:TEe,hArr:xEe,harrw:EEe,Hat:SEe,hbar:kEe,Hcirc:OEe,hcirc:PEe,hearts:CEe,heartsuit:AEe,hellip:MEe,hercon:IEe,hfr:REe,Hfr:DEe,HilbertSpace:NEe,hksearow:jEe,hkswarow:LEe,hoarr:BEe,homtht:FEe,hookleftarrow:zEe,hookrightarrow:HEe,hopf:UEe,Hopf:VEe,horbar:GEe,HorizontalLine:YEe,hscr:WEe,Hscr:XEe,hslash:$Ee,Hstrok:qEe,hstrok:KEe,HumpDownHump:ZEe,HumpEqual:QEe,hybull:JEe,hyphen:eSe,Iacute:tSe,iacute:rSe,ic:nSe,Icirc:iSe,icirc:oSe,Icy:aSe,icy:sSe,Idot:lSe,IEcy:uSe,iecy:cSe,iexcl:hSe,iff:fSe,ifr:pSe,Ifr:dSe,Igrave:mSe,igrave:gSe,ii:ySe,iiiint:vSe,iiint:bSe,iinfin:_Se,iiota:wSe,IJlig:TSe,ijlig:xSe,Imacr:ESe,imacr:SSe,image:kSe,ImaginaryI:OSe,imagline:PSe,imagpart:CSe,imath:ASe,Im:MSe,imof:ISe,imped:RSe,Implies:DSe,incare:NSe,in:"∈",infin:jSe,infintie:LSe,inodot:BSe,intcal:FSe,int:zSe,Int:HSe,integers:USe,Integral:VSe,intercal:GSe,Intersection:YSe,intlarhk:WSe,intprod:XSe,InvisibleComma:$Se,InvisibleTimes:qSe,IOcy:KSe,iocy:ZSe,Iogon:QSe,iogon:JSe,Iopf:eke,iopf:tke,Iota:rke,iota:nke,iprod:ike,iquest:oke,iscr:ake,Iscr:ske,isin:lke,isindot:uke,isinE:cke,isins:hke,isinsv:fke,isinv:pke,it:dke,Itilde:mke,itilde:gke,Iukcy:yke,iukcy:vke,Iuml:bke,iuml:_ke,Jcirc:wke,jcirc:Tke,Jcy:xke,jcy:Eke,Jfr:Ske,jfr:kke,jmath:Oke,Jopf:Pke,jopf:Cke,Jscr:Ake,jscr:Mke,Jsercy:Ike,jsercy:Rke,Jukcy:Dke,jukcy:Nke,Kappa:jke,kappa:Lke,kappav:Bke,Kcedil:Fke,kcedil:zke,Kcy:Hke,kcy:Uke,Kfr:Vke,kfr:Gke,kgreen:Yke,KHcy:Wke,khcy:Xke,KJcy:$ke,kjcy:qke,Kopf:Kke,kopf:Zke,Kscr:Qke,kscr:Jke,lAarr:e9e,Lacute:t9e,lacute:r9e,laemptyv:n9e,lagran:i9e,Lambda:o9e,lambda:a9e,lang:s9e,Lang:l9e,langd:u9e,langle:c9e,lap:h9e,Laplacetrf:f9e,laquo:p9e,larrb:d9e,larrbfs:m9e,larr:g9e,Larr:y9e,lArr:v9e,larrfs:b9e,larrhk:_9e,larrlp:w9e,larrpl:T9e,larrsim:x9e,larrtl:E9e,latail:S9e,lAtail:k9e,lat:O9e,late:P9e,lates:C9e,lbarr:A9e,lBarr:M9e,lbbrk:I9e,lbrace:R9e,lbrack:D9e,lbrke:N9e,lbrksld:j9e,lbrkslu:L9e,Lcaron:B9e,lcaron:F9e,Lcedil:z9e,lcedil:H9e,lceil:U9e,lcub:V9e,Lcy:G9e,lcy:Y9e,ldca:W9e,ldquo:X9e,ldquor:$9e,ldrdhar:q9e,ldrushar:K9e,ldsh:Z9e,le:Q9e,lE:J9e,LeftAngleBracket:eOe,LeftArrowBar:tOe,leftarrow:rOe,LeftArrow:nOe,Leftarrow:iOe,LeftArrowRightArrow:oOe,leftarrowtail:aOe,LeftCeiling:sOe,LeftDoubleBracket:lOe,LeftDownTeeVector:uOe,LeftDownVectorBar:cOe,LeftDownVector:hOe,LeftFloor:fOe,leftharpoondown:pOe,leftharpoonup:dOe,leftleftarrows:mOe,leftrightarrow:gOe,LeftRightArrow:yOe,Leftrightarrow:vOe,leftrightarrows:bOe,leftrightharpoons:_Oe,leftrightsquigarrow:wOe,LeftRightVector:TOe,LeftTeeArrow:xOe,LeftTee:EOe,LeftTeeVector:SOe,leftthreetimes:kOe,LeftTriangleBar:OOe,LeftTriangle:POe,LeftTriangleEqual:COe,LeftUpDownVector:AOe,LeftUpTeeVector:MOe,LeftUpVectorBar:IOe,LeftUpVector:ROe,LeftVectorBar:DOe,LeftVector:NOe,lEg:jOe,leg:LOe,leq:BOe,leqq:FOe,leqslant:zOe,lescc:HOe,les:UOe,lesdot:VOe,lesdoto:GOe,lesdotor:YOe,lesg:WOe,lesges:XOe,lessapprox:$Oe,lessdot:qOe,lesseqgtr:KOe,lesseqqgtr:ZOe,LessEqualGreater:QOe,LessFullEqual:JOe,LessGreater:ePe,lessgtr:tPe,LessLess:rPe,lesssim:nPe,LessSlantEqual:iPe,LessTilde:oPe,lfisht:aPe,lfloor:sPe,Lfr:lPe,lfr:uPe,lg:cPe,lgE:hPe,lHar:fPe,lhard:pPe,lharu:dPe,lharul:mPe,lhblk:gPe,LJcy:yPe,ljcy:vPe,llarr:bPe,ll:_Pe,Ll:wPe,llcorner:TPe,Lleftarrow:xPe,llhard:EPe,lltri:SPe,Lmidot:kPe,lmidot:OPe,lmoustache:PPe,lmoust:CPe,lnap:APe,lnapprox:MPe,lne:IPe,lnE:RPe,lneq:DPe,lneqq:NPe,lnsim:jPe,loang:LPe,loarr:BPe,lobrk:FPe,longleftarrow:zPe,LongLeftArrow:HPe,Longleftarrow:UPe,longleftrightarrow:VPe,LongLeftRightArrow:GPe,Longleftrightarrow:YPe,longmapsto:WPe,longrightarrow:XPe,LongRightArrow:$Pe,Longrightarrow:qPe,looparrowleft:KPe,looparrowright:ZPe,lopar:QPe,Lopf:JPe,lopf:e4e,loplus:t4e,lotimes:r4e,lowast:n4e,lowbar:i4e,LowerLeftArrow:o4e,LowerRightArrow:a4e,loz:s4e,lozenge:l4e,lozf:u4e,lpar:c4e,lparlt:h4e,lrarr:f4e,lrcorner:p4e,lrhar:d4e,lrhard:m4e,lrm:g4e,lrtri:y4e,lsaquo:v4e,lscr:b4e,Lscr:_4e,lsh:w4e,Lsh:T4e,lsim:x4e,lsime:E4e,lsimg:S4e,lsqb:k4e,lsquo:O4e,lsquor:P4e,Lstrok:C4e,lstrok:A4e,ltcc:M4e,ltcir:I4e,lt:R4e,LT:D4e,Lt:N4e,ltdot:j4e,lthree:L4e,ltimes:B4e,ltlarr:F4e,ltquest:z4e,ltri:H4e,ltrie:U4e,ltrif:V4e,ltrPar:G4e,lurdshar:Y4e,luruhar:W4e,lvertneqq:X4e,lvnE:$4e,macr:q4e,male:K4e,malt:Z4e,maltese:Q4e,Map:"⤅",map:J4e,mapsto:eCe,mapstodown:tCe,mapstoleft:rCe,mapstoup:nCe,marker:iCe,mcomma:oCe,Mcy:aCe,mcy:sCe,mdash:lCe,mDDot:uCe,measuredangle:cCe,MediumSpace:hCe,Mellintrf:fCe,Mfr:pCe,mfr:dCe,mho:mCe,micro:gCe,midast:yCe,midcir:vCe,mid:bCe,middot:_Ce,minusb:wCe,minus:TCe,minusd:xCe,minusdu:ECe,MinusPlus:SCe,mlcp:kCe,mldr:OCe,mnplus:PCe,models:CCe,Mopf:ACe,mopf:MCe,mp:ICe,mscr:RCe,Mscr:DCe,mstpos:NCe,Mu:jCe,mu:LCe,multimap:BCe,mumap:FCe,nabla:zCe,Nacute:HCe,nacute:UCe,nang:VCe,nap:GCe,napE:YCe,napid:WCe,napos:XCe,napprox:$Ce,natural:qCe,naturals:KCe,natur:ZCe,nbsp:QCe,nbump:JCe,nbumpe:eAe,ncap:tAe,Ncaron:rAe,ncaron:nAe,Ncedil:iAe,ncedil:oAe,ncong:aAe,ncongdot:sAe,ncup:lAe,Ncy:uAe,ncy:cAe,ndash:hAe,nearhk:fAe,nearr:pAe,neArr:dAe,nearrow:mAe,ne:gAe,nedot:yAe,NegativeMediumSpace:vAe,NegativeThickSpace:bAe,NegativeThinSpace:_Ae,NegativeVeryThinSpace:wAe,nequiv:TAe,nesear:xAe,nesim:EAe,NestedGreaterGreater:SAe,NestedLessLess:kAe,NewLine:OAe,nexist:PAe,nexists:CAe,Nfr:AAe,nfr:MAe,ngE:IAe,nge:RAe,ngeq:DAe,ngeqq:NAe,ngeqslant:jAe,nges:LAe,nGg:BAe,ngsim:FAe,nGt:zAe,ngt:HAe,ngtr:UAe,nGtv:VAe,nharr:GAe,nhArr:YAe,nhpar:WAe,ni:XAe,nis:$Ae,nisd:qAe,niv:KAe,NJcy:ZAe,njcy:QAe,nlarr:JAe,nlArr:e3e,nldr:t3e,nlE:r3e,nle:n3e,nleftarrow:i3e,nLeftarrow:o3e,nleftrightarrow:a3e,nLeftrightarrow:s3e,nleq:l3e,nleqq:u3e,nleqslant:c3e,nles:h3e,nless:f3e,nLl:p3e,nlsim:d3e,nLt:m3e,nlt:g3e,nltri:y3e,nltrie:v3e,nLtv:b3e,nmid:_3e,NoBreak:w3e,NonBreakingSpace:T3e,nopf:x3e,Nopf:E3e,Not:S3e,not:k3e,NotCongruent:O3e,NotCupCap:P3e,NotDoubleVerticalBar:C3e,NotElement:A3e,NotEqual:M3e,NotEqualTilde:I3e,NotExists:R3e,NotGreater:D3e,NotGreaterEqual:N3e,NotGreaterFullEqual:j3e,NotGreaterGreater:L3e,NotGreaterLess:B3e,NotGreaterSlantEqual:F3e,NotGreaterTilde:z3e,NotHumpDownHump:H3e,NotHumpEqual:U3e,notin:V3e,notindot:G3e,notinE:Y3e,notinva:W3e,notinvb:X3e,notinvc:$3e,NotLeftTriangleBar:q3e,NotLeftTriangle:K3e,NotLeftTriangleEqual:Z3e,NotLess:Q3e,NotLessEqual:J3e,NotLessGreater:e8e,NotLessLess:t8e,NotLessSlantEqual:r8e,NotLessTilde:n8e,NotNestedGreaterGreater:i8e,NotNestedLessLess:o8e,notni:a8e,notniva:s8e,notnivb:l8e,notnivc:u8e,NotPrecedes:c8e,NotPrecedesEqual:h8e,NotPrecedesSlantEqual:f8e,NotReverseElement:p8e,NotRightTriangleBar:d8e,NotRightTriangle:m8e,NotRightTriangleEqual:g8e,NotSquareSubset:y8e,NotSquareSubsetEqual:v8e,NotSquareSuperset:b8e,NotSquareSupersetEqual:_8e,NotSubset:w8e,NotSubsetEqual:T8e,NotSucceeds:x8e,NotSucceedsEqual:E8e,NotSucceedsSlantEqual:S8e,NotSucceedsTilde:k8e,NotSuperset:O8e,NotSupersetEqual:P8e,NotTilde:C8e,NotTildeEqual:A8e,NotTildeFullEqual:M8e,NotTildeTilde:I8e,NotVerticalBar:R8e,nparallel:D8e,npar:N8e,nparsl:j8e,npart:L8e,npolint:B8e,npr:F8e,nprcue:z8e,nprec:H8e,npreceq:U8e,npre:V8e,nrarrc:G8e,nrarr:Y8e,nrArr:W8e,nrarrw:X8e,nrightarrow:$8e,nRightarrow:q8e,nrtri:K8e,nrtrie:Z8e,nsc:Q8e,nsccue:J8e,nsce:e6e,Nscr:t6e,nscr:r6e,nshortmid:n6e,nshortparallel:i6e,nsim:o6e,nsime:a6e,nsimeq:s6e,nsmid:l6e,nspar:u6e,nsqsube:c6e,nsqsupe:h6e,nsub:f6e,nsubE:p6e,nsube:d6e,nsubset:m6e,nsubseteq:g6e,nsubseteqq:y6e,nsucc:v6e,nsucceq:b6e,nsup:_6e,nsupE:w6e,nsupe:T6e,nsupset:x6e,nsupseteq:E6e,nsupseteqq:S6e,ntgl:k6e,Ntilde:O6e,ntilde:P6e,ntlg:C6e,ntriangleleft:A6e,ntrianglelefteq:M6e,ntriangleright:I6e,ntrianglerighteq:R6e,Nu:D6e,nu:N6e,num:j6e,numero:L6e,numsp:B6e,nvap:F6e,nvdash:z6e,nvDash:H6e,nVdash:U6e,nVDash:V6e,nvge:G6e,nvgt:Y6e,nvHarr:W6e,nvinfin:X6e,nvlArr:$6e,nvle:q6e,nvlt:K6e,nvltrie:Z6e,nvrArr:Q6e,nvrtrie:J6e,nvsim:eMe,nwarhk:tMe,nwarr:rMe,nwArr:nMe,nwarrow:iMe,nwnear:oMe,Oacute:aMe,oacute:sMe,oast:lMe,Ocirc:uMe,ocirc:cMe,ocir:hMe,Ocy:fMe,ocy:pMe,odash:dMe,Odblac:mMe,odblac:gMe,odiv:yMe,odot:vMe,odsold:bMe,OElig:_Me,oelig:wMe,ofcir:TMe,Ofr:xMe,ofr:EMe,ogon:SMe,Ograve:kMe,ograve:OMe,ogt:PMe,ohbar:CMe,ohm:AMe,oint:MMe,olarr:IMe,olcir:RMe,olcross:DMe,oline:NMe,olt:jMe,Omacr:LMe,omacr:BMe,Omega:FMe,omega:zMe,Omicron:HMe,omicron:UMe,omid:VMe,ominus:GMe,Oopf:YMe,oopf:WMe,opar:XMe,OpenCurlyDoubleQuote:$Me,OpenCurlyQuote:qMe,operp:KMe,oplus:ZMe,orarr:QMe,Or:JMe,or:eIe,ord:tIe,order:rIe,orderof:nIe,ordf:iIe,ordm:oIe,origof:aIe,oror:sIe,orslope:lIe,orv:uIe,oS:cIe,Oscr:hIe,oscr:fIe,Oslash:pIe,oslash:dIe,osol:mIe,Otilde:gIe,otilde:yIe,otimesas:vIe,Otimes:bIe,otimes:_Ie,Ouml:wIe,ouml:TIe,ovbar:xIe,OverBar:EIe,OverBrace:SIe,OverBracket:kIe,OverParenthesis:OIe,para:PIe,parallel:CIe,par:AIe,parsim:MIe,parsl:IIe,part:RIe,PartialD:DIe,Pcy:NIe,pcy:jIe,percnt:LIe,period:BIe,permil:FIe,perp:zIe,pertenk:HIe,Pfr:UIe,pfr:VIe,Phi:GIe,phi:YIe,phiv:WIe,phmmat:XIe,phone:$Ie,Pi:qIe,pi:KIe,pitchfork:ZIe,piv:QIe,planck:JIe,planckh:eRe,plankv:tRe,plusacir:rRe,plusb:nRe,pluscir:iRe,plus:oRe,plusdo:aRe,plusdu:sRe,pluse:lRe,PlusMinus:uRe,plusmn:cRe,plussim:hRe,plustwo:fRe,pm:pRe,Poincareplane:dRe,pointint:mRe,popf:gRe,Popf:yRe,pound:vRe,prap:bRe,Pr:_Re,pr:wRe,prcue:TRe,precapprox:xRe,prec:ERe,preccurlyeq:SRe,Precedes:kRe,PrecedesEqual:ORe,PrecedesSlantEqual:PRe,PrecedesTilde:CRe,preceq:ARe,precnapprox:MRe,precneqq:IRe,precnsim:RRe,pre:DRe,prE:NRe,precsim:jRe,prime:LRe,Prime:BRe,primes:FRe,prnap:zRe,prnE:HRe,prnsim:URe,prod:VRe,Product:GRe,profalar:YRe,profline:WRe,profsurf:XRe,prop:$Re,Proportional:qRe,Proportion:KRe,propto:ZRe,prsim:QRe,prurel:JRe,Pscr:e7e,pscr:t7e,Psi:r7e,psi:n7e,puncsp:i7e,Qfr:o7e,qfr:a7e,qint:s7e,qopf:l7e,Qopf:u7e,qprime:c7e,Qscr:h7e,qscr:f7e,quaternions:p7e,quatint:d7e,quest:m7e,questeq:g7e,quot:y7e,QUOT:v7e,rAarr:b7e,race:_7e,Racute:w7e,racute:T7e,radic:x7e,raemptyv:E7e,rang:S7e,Rang:k7e,rangd:O7e,range:P7e,rangle:C7e,raquo:A7e,rarrap:M7e,rarrb:I7e,rarrbfs:R7e,rarrc:D7e,rarr:N7e,Rarr:j7e,rArr:L7e,rarrfs:B7e,rarrhk:F7e,rarrlp:z7e,rarrpl:H7e,rarrsim:U7e,Rarrtl:V7e,rarrtl:G7e,rarrw:Y7e,ratail:W7e,rAtail:X7e,ratio:$7e,rationals:q7e,rbarr:K7e,rBarr:Z7e,RBarr:Q7e,rbbrk:J7e,rbrace:eDe,rbrack:tDe,rbrke:rDe,rbrksld:nDe,rbrkslu:iDe,Rcaron:oDe,rcaron:aDe,Rcedil:sDe,rcedil:lDe,rceil:uDe,rcub:cDe,Rcy:hDe,rcy:fDe,rdca:pDe,rdldhar:dDe,rdquo:mDe,rdquor:gDe,rdsh:yDe,real:vDe,realine:bDe,realpart:_De,reals:wDe,Re:TDe,rect:xDe,reg:EDe,REG:SDe,ReverseElement:kDe,ReverseEquilibrium:ODe,ReverseUpEquilibrium:PDe,rfisht:CDe,rfloor:ADe,rfr:MDe,Rfr:IDe,rHar:RDe,rhard:DDe,rharu:NDe,rharul:jDe,Rho:LDe,rho:BDe,rhov:FDe,RightAngleBracket:zDe,RightArrowBar:HDe,rightarrow:UDe,RightArrow:VDe,Rightarrow:GDe,RightArrowLeftArrow:YDe,rightarrowtail:WDe,RightCeiling:XDe,RightDoubleBracket:$De,RightDownTeeVector:qDe,RightDownVectorBar:KDe,RightDownVector:ZDe,RightFloor:QDe,rightharpoondown:JDe,rightharpoonup:eNe,rightleftarrows:tNe,rightleftharpoons:rNe,rightrightarrows:nNe,rightsquigarrow:iNe,RightTeeArrow:oNe,RightTee:aNe,RightTeeVector:sNe,rightthreetimes:lNe,RightTriangleBar:uNe,RightTriangle:cNe,RightTriangleEqual:hNe,RightUpDownVector:fNe,RightUpTeeVector:pNe,RightUpVectorBar:dNe,RightUpVector:mNe,RightVectorBar:gNe,RightVector:yNe,ring:vNe,risingdotseq:bNe,rlarr:_Ne,rlhar:wNe,rlm:TNe,rmoustache:xNe,rmoust:ENe,rnmid:SNe,roang:kNe,roarr:ONe,robrk:PNe,ropar:CNe,ropf:ANe,Ropf:MNe,roplus:INe,rotimes:RNe,RoundImplies:DNe,rpar:NNe,rpargt:jNe,rppolint:LNe,rrarr:BNe,Rrightarrow:FNe,rsaquo:zNe,rscr:HNe,Rscr:UNe,rsh:VNe,Rsh:GNe,rsqb:YNe,rsquo:WNe,rsquor:XNe,rthree:$Ne,rtimes:qNe,rtri:KNe,rtrie:ZNe,rtrif:QNe,rtriltri:JNe,RuleDelayed:eje,ruluhar:tje,rx:rje,Sacute:nje,sacute:ije,sbquo:oje,scap:aje,Scaron:sje,scaron:lje,Sc:uje,sc:cje,sccue:hje,sce:fje,scE:pje,Scedil:dje,scedil:mje,Scirc:gje,scirc:yje,scnap:vje,scnE:bje,scnsim:_je,scpolint:wje,scsim:Tje,Scy:xje,scy:Eje,sdotb:Sje,sdot:kje,sdote:Oje,searhk:Pje,searr:Cje,seArr:Aje,searrow:Mje,sect:Ije,semi:Rje,seswar:Dje,setminus:Nje,setmn:jje,sext:Lje,Sfr:Bje,sfr:Fje,sfrown:zje,sharp:Hje,SHCHcy:Uje,shchcy:Vje,SHcy:Gje,shcy:Yje,ShortDownArrow:Wje,ShortLeftArrow:Xje,shortmid:$je,shortparallel:qje,ShortRightArrow:Kje,ShortUpArrow:Zje,shy:Qje,Sigma:Jje,sigma:eLe,sigmaf:tLe,sigmav:rLe,sim:nLe,simdot:iLe,sime:oLe,simeq:aLe,simg:sLe,simgE:lLe,siml:uLe,simlE:cLe,simne:hLe,simplus:fLe,simrarr:pLe,slarr:dLe,SmallCircle:mLe,smallsetminus:gLe,smashp:yLe,smeparsl:vLe,smid:bLe,smile:_Le,smt:wLe,smte:TLe,smtes:xLe,SOFTcy:ELe,softcy:SLe,solbar:kLe,solb:OLe,sol:PLe,Sopf:CLe,sopf:ALe,spades:MLe,spadesuit:ILe,spar:RLe,sqcap:DLe,sqcaps:NLe,sqcup:jLe,sqcups:LLe,Sqrt:BLe,sqsub:FLe,sqsube:zLe,sqsubset:HLe,sqsubseteq:ULe,sqsup:VLe,sqsupe:GLe,sqsupset:YLe,sqsupseteq:WLe,square:XLe,Square:$Le,SquareIntersection:qLe,SquareSubset:KLe,SquareSubsetEqual:ZLe,SquareSuperset:QLe,SquareSupersetEqual:JLe,SquareUnion:eBe,squarf:tBe,squ:rBe,squf:nBe,srarr:iBe,Sscr:oBe,sscr:aBe,ssetmn:sBe,ssmile:lBe,sstarf:uBe,Star:cBe,star:hBe,starf:fBe,straightepsilon:pBe,straightphi:dBe,strns:mBe,sub:gBe,Sub:yBe,subdot:vBe,subE:bBe,sube:_Be,subedot:wBe,submult:TBe,subnE:xBe,subne:EBe,subplus:SBe,subrarr:kBe,subset:OBe,Subset:PBe,subseteq:CBe,subseteqq:ABe,SubsetEqual:MBe,subsetneq:IBe,subsetneqq:RBe,subsim:DBe,subsub:NBe,subsup:jBe,succapprox:LBe,succ:BBe,succcurlyeq:FBe,Succeeds:zBe,SucceedsEqual:HBe,SucceedsSlantEqual:UBe,SucceedsTilde:VBe,succeq:GBe,succnapprox:YBe,succneqq:WBe,succnsim:XBe,succsim:$Be,SuchThat:qBe,sum:KBe,Sum:ZBe,sung:QBe,sup1:JBe,sup2:eFe,sup3:tFe,sup:rFe,Sup:nFe,supdot:iFe,supdsub:oFe,supE:aFe,supe:sFe,supedot:lFe,Superset:uFe,SupersetEqual:cFe,suphsol:hFe,suphsub:fFe,suplarr:pFe,supmult:dFe,supnE:mFe,supne:gFe,supplus:yFe,supset:vFe,Supset:bFe,supseteq:_Fe,supseteqq:wFe,supsetneq:TFe,supsetneqq:xFe,supsim:EFe,supsub:SFe,supsup:kFe,swarhk:OFe,swarr:PFe,swArr:CFe,swarrow:AFe,swnwar:MFe,szlig:IFe,Tab:RFe,target:DFe,Tau:NFe,tau:jFe,tbrk:LFe,Tcaron:BFe,tcaron:FFe,Tcedil:zFe,tcedil:HFe,Tcy:UFe,tcy:VFe,tdot:GFe,telrec:YFe,Tfr:WFe,tfr:XFe,there4:$Fe,therefore:qFe,Therefore:KFe,Theta:ZFe,theta:QFe,thetasym:JFe,thetav:eze,thickapprox:tze,thicksim:rze,ThickSpace:nze,ThinSpace:ize,thinsp:oze,thkap:aze,thksim:sze,THORN:lze,thorn:uze,tilde:cze,Tilde:hze,TildeEqual:fze,TildeFullEqual:pze,TildeTilde:dze,timesbar:mze,timesb:gze,times:yze,timesd:vze,tint:bze,toea:_ze,topbot:wze,topcir:Tze,top:xze,Topf:Eze,topf:Sze,topfork:kze,tosa:Oze,tprime:Pze,trade:Cze,TRADE:Aze,triangle:Mze,triangledown:Ize,triangleleft:Rze,trianglelefteq:Dze,triangleq:Nze,triangleright:jze,trianglerighteq:Lze,tridot:Bze,trie:Fze,triminus:zze,TripleDot:Hze,triplus:Uze,trisb:Vze,tritime:Gze,trpezium:Yze,Tscr:Wze,tscr:Xze,TScy:$ze,tscy:qze,TSHcy:Kze,tshcy:Zze,Tstrok:Qze,tstrok:Jze,twixt:eHe,twoheadleftarrow:tHe,twoheadrightarrow:rHe,Uacute:nHe,uacute:iHe,uarr:oHe,Uarr:aHe,uArr:sHe,Uarrocir:lHe,Ubrcy:uHe,ubrcy:cHe,Ubreve:hHe,ubreve:fHe,Ucirc:pHe,ucirc:dHe,Ucy:mHe,ucy:gHe,udarr:yHe,Udblac:vHe,udblac:bHe,udhar:_He,ufisht:wHe,Ufr:THe,ufr:xHe,Ugrave:EHe,ugrave:SHe,uHar:kHe,uharl:OHe,uharr:PHe,uhblk:CHe,ulcorn:AHe,ulcorner:MHe,ulcrop:IHe,ultri:RHe,Umacr:DHe,umacr:NHe,uml:jHe,UnderBar:LHe,UnderBrace:BHe,UnderBracket:FHe,UnderParenthesis:zHe,Union:HHe,UnionPlus:UHe,Uogon:VHe,uogon:GHe,Uopf:YHe,uopf:WHe,UpArrowBar:XHe,uparrow:$He,UpArrow:qHe,Uparrow:KHe,UpArrowDownArrow:ZHe,updownarrow:QHe,UpDownArrow:JHe,Updownarrow:eUe,UpEquilibrium:tUe,upharpoonleft:rUe,upharpoonright:nUe,uplus:iUe,UpperLeftArrow:oUe,UpperRightArrow:aUe,upsi:sUe,Upsi:lUe,upsih:uUe,Upsilon:cUe,upsilon:hUe,UpTeeArrow:fUe,UpTee:pUe,upuparrows:dUe,urcorn:mUe,urcorner:gUe,urcrop:yUe,Uring:vUe,uring:bUe,urtri:_Ue,Uscr:wUe,uscr:TUe,utdot:xUe,Utilde:EUe,utilde:SUe,utri:kUe,utrif:OUe,uuarr:PUe,Uuml:CUe,uuml:AUe,uwangle:MUe,vangrt:IUe,varepsilon:RUe,varkappa:DUe,varnothing:NUe,varphi:jUe,varpi:LUe,varpropto:BUe,varr:FUe,vArr:zUe,varrho:HUe,varsigma:UUe,varsubsetneq:VUe,varsubsetneqq:GUe,varsupsetneq:YUe,varsupsetneqq:WUe,vartheta:XUe,vartriangleleft:$Ue,vartriangleright:qUe,vBar:KUe,Vbar:ZUe,vBarv:QUe,Vcy:JUe,vcy:eVe,vdash:tVe,vDash:rVe,Vdash:nVe,VDash:iVe,Vdashl:oVe,veebar:aVe,vee:sVe,Vee:lVe,veeeq:uVe,vellip:cVe,verbar:hVe,Verbar:fVe,vert:pVe,Vert:dVe,VerticalBar:mVe,VerticalLine:gVe,VerticalSeparator:yVe,VerticalTilde:vVe,VeryThinSpace:bVe,Vfr:_Ve,vfr:wVe,vltri:TVe,vnsub:xVe,vnsup:EVe,Vopf:SVe,vopf:kVe,vprop:OVe,vrtri:PVe,Vscr:CVe,vscr:AVe,vsubnE:MVe,vsubne:IVe,vsupnE:RVe,vsupne:DVe,Vvdash:NVe,vzigzag:jVe,Wcirc:LVe,wcirc:BVe,wedbar:FVe,wedge:zVe,Wedge:HVe,wedgeq:UVe,weierp:VVe,Wfr:GVe,wfr:YVe,Wopf:WVe,wopf:XVe,wp:$Ve,wr:qVe,wreath:KVe,Wscr:ZVe,wscr:QVe,xcap:JVe,xcirc:eGe,xcup:tGe,xdtri:rGe,Xfr:nGe,xfr:iGe,xharr:oGe,xhArr:aGe,Xi:sGe,xi:lGe,xlarr:uGe,xlArr:cGe,xmap:hGe,xnis:fGe,xodot:pGe,Xopf:dGe,xopf:mGe,xoplus:gGe,xotime:yGe,xrarr:vGe,xrArr:bGe,Xscr:_Ge,xscr:wGe,xsqcup:TGe,xuplus:xGe,xutri:EGe,xvee:SGe,xwedge:kGe,Yacute:OGe,yacute:PGe,YAcy:CGe,yacy:AGe,Ycirc:MGe,ycirc:IGe,Ycy:RGe,ycy:DGe,yen:NGe,Yfr:jGe,yfr:LGe,YIcy:BGe,yicy:FGe,Yopf:zGe,yopf:HGe,Yscr:UGe,yscr:VGe,YUcy:GGe,yucy:YGe,yuml:WGe,Yuml:XGe,Zacute:$Ge,zacute:qGe,Zcaron:KGe,zcaron:ZGe,Zcy:QGe,zcy:JGe,Zdot:eYe,zdot:tYe,zeetrf:rYe,ZeroWidthSpace:nYe,Zeta:iYe,zeta:oYe,zfr:aYe,Zfr:sYe,ZHcy:lYe,zhcy:uYe,zigrarr:cYe,zopf:hYe,Zopf:fYe,Zscr:pYe,zscr:dYe,zwj:mYe,zwnj:gYe},yYe="Á",vYe="á",bYe="Â",_Ye="â",wYe="´",TYe="Æ",xYe="æ",EYe="À",SYe="à",kYe="&",OYe="&",PYe="Å",CYe="å",AYe="Ã",MYe="ã",IYe="Ä",RYe="ä",DYe="¦",NYe="Ç",jYe="ç",LYe="¸",BYe="¢",FYe="©",zYe="©",HYe="¤",UYe="°",VYe="÷",GYe="É",YYe="é",WYe="Ê",XYe="ê",$Ye="È",qYe="è",KYe="Ð",ZYe="ð",QYe="Ë",JYe="ë",eWe="½",tWe="¼",rWe="¾",nWe=">",iWe=">",oWe="Í",aWe="í",sWe="Î",lWe="î",uWe="¡",cWe="Ì",hWe="ì",fWe="¿",pWe="Ï",dWe="ï",mWe="«",gWe="<",yWe="<",vWe="¯",bWe="µ",_We="·",wWe=" ",TWe="¬",xWe="Ñ",EWe="ñ",SWe="Ó",kWe="ó",OWe="Ô",PWe="ô",CWe="Ò",AWe="ò",MWe="ª",IWe="º",RWe="Ø",DWe="ø",NWe="Õ",jWe="õ",LWe="Ö",BWe="ö",FWe="¶",zWe="±",HWe="£",UWe='"',VWe='"',GWe="»",YWe="®",WWe="®",XWe="§",$We="­",qWe="¹",KWe="²",ZWe="³",QWe="ß",JWe="Þ",eXe="þ",tXe="×",rXe="Ú",nXe="ú",iXe="Û",oXe="û",aXe="Ù",sXe="ù",lXe="¨",uXe="Ü",cXe="ü",hXe="Ý",fXe="ý",pXe="¥",dXe="ÿ",fU={Aacute:yYe,aacute:vYe,Acirc:bYe,acirc:_Ye,acute:wYe,AElig:TYe,aelig:xYe,Agrave:EYe,agrave:SYe,amp:kYe,AMP:OYe,Aring:PYe,aring:CYe,Atilde:AYe,atilde:MYe,Auml:IYe,auml:RYe,brvbar:DYe,Ccedil:NYe,ccedil:jYe,cedil:LYe,cent:BYe,copy:FYe,COPY:zYe,curren:HYe,deg:UYe,divide:VYe,Eacute:GYe,eacute:YYe,Ecirc:WYe,ecirc:XYe,Egrave:$Ye,egrave:qYe,ETH:KYe,eth:ZYe,Euml:QYe,euml:JYe,frac12:eWe,frac14:tWe,frac34:rWe,gt:nWe,GT:iWe,Iacute:oWe,iacute:aWe,Icirc:sWe,icirc:lWe,iexcl:uWe,Igrave:cWe,igrave:hWe,iquest:fWe,Iuml:pWe,iuml:dWe,laquo:mWe,lt:gWe,LT:yWe,macr:vWe,micro:bWe,middot:_We,nbsp:wWe,not:TWe,Ntilde:xWe,ntilde:EWe,Oacute:SWe,oacute:kWe,Ocirc:OWe,ocirc:PWe,Ograve:CWe,ograve:AWe,ordf:MWe,ordm:IWe,Oslash:RWe,oslash:DWe,Otilde:NWe,otilde:jWe,Ouml:LWe,ouml:BWe,para:FWe,plusmn:zWe,pound:HWe,quot:UWe,QUOT:VWe,raquo:GWe,reg:YWe,REG:WWe,sect:XWe,shy:$We,sup1:qWe,sup2:KWe,sup3:ZWe,szlig:QWe,THORN:JWe,thorn:eXe,times:tXe,Uacute:rXe,uacute:nXe,Ucirc:iXe,ucirc:oXe,Ugrave:aXe,ugrave:sXe,uml:lXe,Uuml:uXe,uuml:cXe,Yacute:hXe,yacute:fXe,yen:pXe,yuml:dXe},mXe="&",gXe="'",yXe=">",vXe="<",bXe='"',fP={amp:mXe,apos:gXe,gt:yXe,lt:vXe,quot:bXe};var Bb={};const _Xe={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376};var wXe=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bb,"__esModule",{value:!0});var $6=wXe(_Xe),TXe=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function xXe(e){return e>=55296&&e<=57343||e>1114111?"�":(e in $6.default&&(e=$6.default[e]),TXe(e))}Bb.default=xXe;var q6;function K6(){if(q6)return sa;q6=1;var e=Le&&Le.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(sa,"__esModule",{value:!0}),sa.decodeHTML=sa.decodeHTMLStrict=sa.decodeXML=void 0;var t=e(hP),r=e(fU),n=e(fP),i=e(Bb),o=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;sa.decodeXML=a(n.default),sa.decodeHTMLStrict=a(t.default);function a(l){var c=u(l);return function(h){return String(h).replace(o,c)}}var s=function(l,c){return l<c?1:-1};sa.decodeHTML=(function(){for(var l=Object.keys(r.default).sort(s),c=Object.keys(t.default).sort(s),h=0,f=0;h<c.length;h++)l[f]===c[h]?(c[h]+=";?",f++):c[h]+=";";var p=new RegExp("&(?:"+c.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),d=u(t.default);function m(v){return v.substr(-1)!==";"&&(v+=";"),d(v)}return function(v){return String(v).replace(p,m)}})();function u(l){return function(c){if(c.charAt(1)==="#"){var h=c.charAt(2);return h==="X"||h==="x"?i.default(parseInt(c.substr(3),16)):i.default(parseInt(c.substr(2),10))}return l[c.slice(1,-1)]||c}}return sa}var xi={},Z6;function Q6(){if(Z6)return xi;Z6=1;var e=Le&&Le.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(xi,"__esModule",{value:!0}),xi.escapeUTF8=xi.escape=xi.encodeNonAsciiHTML=xi.encodeHTML=xi.encodeXML=void 0;var t=e(fP),r=s(t.default),n=u(r);xi.encodeXML=v(r);var i=e(hP),o=s(i.default),a=u(o);xi.encodeHTML=f(o,a),xi.encodeNonAsciiHTML=v(o);function s(b){return Object.keys(b).sort().reduce(function(g,y){return g[b[y]]="&"+y+";",g},{})}function u(b){for(var g=[],y=[],_=0,w=Object.keys(b);_<w.length;_++){var T=w[_];T.length===1?g.push("\\"+T):y.push(T)}g.sort();for(var O=0;O<g.length-1;O++){for(var E=O;E<g.length-1&&g[E].charCodeAt(1)+1===g[E+1].charCodeAt(1);)E+=1;var S=1+E-O;S<3||g.splice(O,S,g[O]+"-"+g[E])}return y.unshift("["+g.join("")+"]"),new RegExp(y.join("|"),"g")}var l=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,c=String.prototype.codePointAt!=null?(function(b){return b.codePointAt(0)}):(function(b){return(b.charCodeAt(0)-55296)*1024+b.charCodeAt(1)-56320+65536});function h(b){return"&#x"+(b.length>1?c(b):b.charCodeAt(0)).toString(16).toUpperCase()+";"}function f(b,g){return function(y){return y.replace(g,function(_){return b[_]}).replace(l,h)}}var p=new RegExp(n.source+"|"+l.source,"g");function d(b){return b.replace(p,h)}xi.escape=d;function m(b){return b.replace(n,h)}xi.escapeUTF8=m;function v(b){return function(g){return g.replace(p,function(y){return b[y]||h(y)})}}return xi}var J6;function EXe(){return J6||(J6=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.encodeHTML5=e.encodeHTML4=e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=e.encode=e.decodeStrict=e.decode=void 0;var t=K6(),r=Q6();function n(u,l){return(!l||l<=0?t.decodeXML:t.decodeHTML)(u)}e.decode=n;function i(u,l){return(!l||l<=0?t.decodeXML:t.decodeHTMLStrict)(u)}e.decodeStrict=i;function o(u,l){return(!l||l<=0?r.encodeXML:r.encodeHTML)(u)}e.encode=o;var a=Q6();Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return a.encodeXML}}),Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return a.encodeNonAsciiHTML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return a.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return a.escapeUTF8}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return a.encodeHTML}});var s=K6();Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})})(X6)),X6}var ju={},eM;function SXe(){return eM||(eM=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.attributeNames=ju.elementNames=void 0,ju.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),ju.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])),ju}var tM;function pU(){if(tM)return jm;tM=1;var e=Le&&Le.__assign||function(){return e=Object.assign||function(y){for(var _,w=1,T=arguments.length;w<T;w++){_=arguments[w];for(var O in _)Object.prototype.hasOwnProperty.call(_,O)&&(y[O]=_[O])}return y},e.apply(this,arguments)},t=Le&&Le.__createBinding||(Object.create?function(y,_,w,T){T===void 0&&(T=w),Object.defineProperty(y,T,{enumerable:!0,get:function(){return _[w]}})}:function(y,_,w,T){T===void 0&&(T=w),y[T]=_[w]}),r=Le&&Le.__setModuleDefault||(Object.create?function(y,_){Object.defineProperty(y,"default",{enumerable:!0,value:_})}:function(y,_){y.default=_}),n=Le&&Le.__importStar||function(y){if(y&&y.__esModule)return y;var _={};if(y!=null)for(var w in y)w!=="default"&&Object.prototype.hasOwnProperty.call(y,w)&&t(_,y,w);return r(_,y),_};Object.defineProperty(jm,"__esModule",{value:!0});var i=n(vf),o=EXe(),a=SXe(),s=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function u(y,_){if(y)return Object.keys(y).map(function(w){var T,O,E=(T=y[w])!==null&&T!==void 0?T:"";return _.xmlMode==="foreign"&&(w=(O=a.attributeNames.get(w))!==null&&O!==void 0?O:w),!_.emptyAttrs&&!_.xmlMode&&E===""?w:w+'="'+(_.decodeEntities!==!1?o.encodeXML(E):E.replace(/"/g,"&quot;"))+'"'}).join(" ")}var l=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function c(y,_){_===void 0&&(_={});for(var w=("length"in y)?y:[y],T="",O=0;O<w.length;O++)T+=h(w[O],_);return T}jm.default=c;function h(y,_){switch(y.type){case i.Root:return c(y.children,_);case i.Directive:case i.Doctype:return m(y);case i.Comment:return g(y);case i.CDATA:return b(y);case i.Script:case i.Style:case i.Tag:return d(y,_);case i.Text:return v(y,_)}}var f=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),p=new Set(["svg","math"]);function d(y,_){var w;_.xmlMode==="foreign"&&(y.name=(w=a.elementNames.get(y.name))!==null&&w!==void 0?w:y.name,y.parent&&f.has(y.parent.name)&&(_=e(e({},_),{xmlMode:!1}))),!_.xmlMode&&p.has(y.name)&&(_=e(e({},_),{xmlMode:"foreign"}));var T="<"+y.name,O=u(y.attribs,_);return O&&(T+=" "+O),y.children.length===0&&(_.xmlMode?_.selfClosingTags!==!1:_.selfClosingTags&&l.has(y.name))?(_.xmlMode||(T+=" "),T+="/>"):(T+=">",y.children.length>0&&(T+=c(y.children,_)),(_.xmlMode||!l.has(y.name))&&(T+="</"+y.name+">")),T}function m(y){return"<"+y.data+">"}function v(y,_){var w=y.data||"";return _.decodeEntities!==!1&&!(!_.xmlMode&&y.parent&&s.has(y.parent.name))&&(w=o.encodeXML(w)),w}function b(y){return"<![CDATA["+y.children[0].data+"]]>"}function g(y){return"<!--"+y.data+"-->"}return jm}var kXe=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.innerText=Ci.textContent=Ci.getText=Ci.getInnerHTML=Ci.getOuterHTML=void 0;var Wo=Xn,OXe=kXe(pU()),PXe=vf;function dU(e,t){return(0,OXe.default)(e,t)}Ci.getOuterHTML=dU;function CXe(e,t){return(0,Wo.hasChildren)(e)?e.children.map(function(r){return dU(r,t)}).join(""):""}Ci.getInnerHTML=CXe;function Ng(e){return Array.isArray(e)?e.map(Ng).join(""):(0,Wo.isTag)(e)?e.name==="br"?`
`:Ng(e.children):(0,Wo.isCDATA)(e)?Ng(e.children):(0,Wo.isText)(e)?e.data:""}Ci.getText=Ng;function Ox(e){return Array.isArray(e)?e.map(Ox).join(""):(0,Wo.hasChildren)(e)&&!(0,Wo.isComment)(e)?Ox(e.children):(0,Wo.isText)(e)?e.data:""}Ci.textContent=Ox;function Px(e){return Array.isArray(e)?e.map(Px).join(""):(0,Wo.hasChildren)(e)&&(e.type===PXe.ElementType.Tag||(0,Wo.isCDATA)(e))?Px(e.children):(0,Wo.isText)(e)?e.data:""}Ci.innerText=Px;var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.prevElementSibling=ln.nextElementSibling=ln.getName=ln.hasAttrib=ln.getAttributeValue=ln.getSiblings=ln.getParent=ln.getChildren=void 0;var mU=Xn,AXe=[];function gU(e){var t;return(t=e.children)!==null&&t!==void 0?t:AXe}ln.getChildren=gU;function yU(e){return e.parent||null}ln.getParent=yU;function MXe(e){var t,r,n=yU(e);if(n!=null)return gU(n);for(var i=[e],o=e.prev,a=e.next;o!=null;)i.unshift(o),t=o,o=t.prev;for(;a!=null;)i.push(a),r=a,a=r.next;return i}ln.getSiblings=MXe;function IXe(e,t){var r;return(r=e.attribs)===null||r===void 0?void 0:r[t]}ln.getAttributeValue=IXe;function RXe(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}ln.hasAttrib=RXe;function DXe(e){return e.name}ln.getName=DXe;function NXe(e){for(var t,r=e.next;r!==null&&!(0,mU.isTag)(r);)t=r,r=t.next;return r}ln.nextElementSibling=NXe;function jXe(e){for(var t,r=e.prev;r!==null&&!(0,mU.isTag)(r);)t=r,r=t.prev;return r}ln.prevElementSibling=jXe;var fi={};Object.defineProperty(fi,"__esModule",{value:!0});fi.prepend=fi.prependChild=fi.append=fi.appendChild=fi.replaceElement=fi.removeElement=void 0;function D1(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}}fi.removeElement=D1;function LXe(e,t){var r=t.prev=e.prev;r&&(r.next=t);var n=t.next=e.next;n&&(n.prev=t);var i=t.parent=e.parent;if(i){var o=i.children;o[o.lastIndexOf(e)]=t}}fi.replaceElement=LXe;function BXe(e,t){if(D1(t),t.next=null,t.parent=e,e.children.push(t)>1){var r=e.children[e.children.length-2];r.next=t,t.prev=r}else t.prev=null}fi.appendChild=BXe;function FXe(e,t){D1(t);var r=e.parent,n=e.next;if(t.next=n,t.prev=e,e.next=t,t.parent=r,n){if(n.prev=t,r){var i=r.children;i.splice(i.lastIndexOf(n),0,t)}}else r&&r.children.push(t)}fi.append=FXe;function zXe(e,t){if(D1(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){var r=e.children[1];r.prev=t,t.next=r}else t.next=null}fi.prependChild=zXe;function HXe(e,t){D1(t);var r=e.parent;if(r){var n=r.children;n.splice(n.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=r,t.prev=e.prev,t.next=e,e.prev=t}fi.prepend=HXe;var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.findAll=Bn.existsOne=Bn.findOne=Bn.findOneChild=Bn.find=Bn.filter=void 0;var Gd=Xn;function UXe(e,t,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),Array.isArray(t)||(t=[t]),pP(e,t,r,n)}Bn.filter=UXe;function pP(e,t,r,n){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o];if(e(s)&&(i.push(s),--n<=0))break;if(r&&(0,Gd.hasChildren)(s)&&s.children.length>0){var u=pP(e,s.children,r,n);if(i.push.apply(i,u),n-=u.length,n<=0)break}}return i}Bn.find=pP;function VXe(e,t){return t.find(e)}Bn.findOneChild=VXe;function vU(e,t,r){r===void 0&&(r=!0);for(var n=null,i=0;i<t.length&&!n;i++){var o=t[i];if((0,Gd.isTag)(o))e(o)?n=o:r&&o.children.length>0&&(n=vU(e,o.children));else continue}return n}Bn.findOne=vU;function bU(e,t){return t.some(function(r){return(0,Gd.isTag)(r)&&(e(r)||r.children.length>0&&bU(e,r.children))})}Bn.existsOne=bU;function GXe(e,t){for(var r,n=[],i=t.filter(Gd.isTag),o;o=i.shift();){var a=(r=o.children)===null||r===void 0?void 0:r.filter(Gd.isTag);a&&a.length>0&&i.unshift.apply(i,a),e(o)&&n.push(o)}return n}Bn.findAll=GXe;var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.getElementsByTagType=Ai.getElementsByTagName=Ai.getElementById=Ai.getElements=Ai.testElement=void 0;var vl=Xn,Fb=Bn,ry={tag_name:function(e){return typeof e=="function"?function(t){return(0,vl.isTag)(t)&&e(t.name)}:e==="*"?vl.isTag:function(t){return(0,vl.isTag)(t)&&t.name===e}},tag_type:function(e){return typeof e=="function"?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return typeof e=="function"?function(t){return(0,vl.isText)(t)&&e(t.data)}:function(t){return(0,vl.isText)(t)&&t.data===e}}};function _U(e,t){return typeof t=="function"?function(r){return(0,vl.isTag)(r)&&t(r.attribs[e])}:function(r){return(0,vl.isTag)(r)&&r.attribs[e]===t}}function YXe(e,t){return function(r){return e(r)||t(r)}}function wU(e){var t=Object.keys(e).map(function(r){var n=e[r];return Object.prototype.hasOwnProperty.call(ry,r)?ry[r](n):_U(r,n)});return t.length===0?null:t.reduce(YXe)}function WXe(e,t){var r=wU(e);return r?r(t):!0}Ai.testElement=WXe;function XXe(e,t,r,n){n===void 0&&(n=1/0);var i=wU(e);return i?(0,Fb.filter)(i,t,r,n):[]}Ai.getElements=XXe;function $Xe(e,t,r){return r===void 0&&(r=!0),Array.isArray(t)||(t=[t]),(0,Fb.findOne)(_U("id",e),t,r)}Ai.getElementById=$Xe;function qXe(e,t,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),(0,Fb.filter)(ry.tag_name(e),t,r,n)}Ai.getElementsByTagName=qXe;function KXe(e,t,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),(0,Fb.filter)(ry.tag_type(e),t,r,n)}Ai.getElementsByTagType=KXe;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});vs.uniqueSort=vs.compareDocumentPosition=vs.removeSubsets=void 0;var rM=Xn;function ZXe(e){for(var t=e.length;--t>=0;){var r=e[t];if(t>0&&e.lastIndexOf(r,t-1)>=0){e.splice(t,1);continue}for(var n=r.parent;n;n=n.parent)if(e.includes(n)){e.splice(t,1);break}}return e}vs.removeSubsets=ZXe;function TU(e,t){var r=[],n=[];if(e===t)return 0;for(var i=(0,rM.hasChildren)(e)?e:e.parent;i;)r.unshift(i),i=i.parent;for(i=(0,rM.hasChildren)(t)?t:t.parent;i;)n.unshift(i),i=i.parent;for(var o=Math.min(r.length,n.length),a=0;a<o&&r[a]===n[a];)a++;if(a===0)return 1;var s=r[a-1],u=s.children,l=r[a],c=n[a];return u.indexOf(l)>u.indexOf(c)?s===t?20:4:s===e?10:2}vs.compareDocumentPosition=TU;function QXe(e){return e=e.filter(function(t,r,n){return!n.includes(t,r+1)}),e.sort(function(t,r){var n=TU(t,r);return n&2?-1:n&4?1:0}),e}vs.uniqueSort=QXe;var zb={};Object.defineProperty(zb,"__esModule",{value:!0});zb.getFeed=void 0;var JXe=Ci,N1=Ai;function e$e(e){var t=ny(o$e,e);return t?t.name==="feed"?t$e(t):r$e(t):null}zb.getFeed=e$e;function t$e(e){var t,r=e.children,n={type:"atom",items:(0,N1.getElementsByTagName)("entry",r).map(function(a){var s,u=a.children,l={media:xU(u)};ci(l,"id","id",u),ci(l,"title","title",u);var c=(s=ny("link",u))===null||s===void 0?void 0:s.attribs.href;c&&(l.link=c);var h=El("summary",u)||El("content",u);h&&(l.description=h);var f=El("updated",u);return f&&(l.pubDate=new Date(f)),l})};ci(n,"id","id",r),ci(n,"title","title",r);var i=(t=ny("link",r))===null||t===void 0?void 0:t.attribs.href;i&&(n.link=i),ci(n,"description","subtitle",r);var o=El("updated",r);return o&&(n.updated=new Date(o)),ci(n,"author","email",r,!0),n}function r$e(e){var t,r,n=(r=(t=ny("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&r!==void 0?r:[],i={type:e.name.substr(0,3),id:"",items:(0,N1.getElementsByTagName)("item",e.children).map(function(a){var s=a.children,u={media:xU(s)};ci(u,"id","guid",s),ci(u,"title","title",s),ci(u,"link","link",s),ci(u,"description","description",s);var l=El("pubDate",s);return l&&(u.pubDate=new Date(l)),u})};ci(i,"title","title",n),ci(i,"link","link",n),ci(i,"description","description",n);var o=El("lastBuildDate",n);return o&&(i.updated=new Date(o)),ci(i,"author","managingEditor",n,!0),i}var n$e=["url","type","lang"],i$e=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function xU(e){return(0,N1.getElementsByTagName)("media:content",e).map(function(t){for(var r=t.attribs,n={medium:r.medium,isDefault:!!r.isDefault},i=0,o=n$e;i<o.length;i++){var a=o[i];r[a]&&(n[a]=r[a])}for(var s=0,u=i$e;s<u.length;s++){var a=u[s];r[a]&&(n[a]=parseInt(r[a],10))}return r.expression&&(n.expression=r.expression),n})}function ny(e,t){return(0,N1.getElementsByTagName)(e,t,!0,1)[0]}function El(e,t,r){return r===void 0&&(r=!1),(0,JXe.textContent)((0,N1.getElementsByTagName)(e,t,r,1)).trim()}function ci(e,t,r,n,i){i===void 0&&(i=!1);var o=El(r,n,i);o&&(e[t]=o)}function o$e(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}(function(e){var t=Le&&Le.__createBinding||(Object.create?function(i,o,a,s){s===void 0&&(s=a),Object.defineProperty(i,s,{enumerable:!0,get:function(){return o[a]}})}:function(i,o,a,s){s===void 0&&(s=a),i[s]=o[a]}),r=Le&&Le.__exportStar||function(i,o){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&t(o,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,r(Ci,e),r(ln,e),r(fi,e),r(Bn,e),r(Ai,e),r(vs,e),r(zb,e);var n=Xn;Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})})(R1);var nM,iM;function hu(){return iM||(iM=1,nM={trueFunc:function(){return!0},falseFunc:function(){return!1}}),nM}var la={},Lm={},oM={},aM;function dP(){return aM||(aM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isTraversal=e.procedure=void 0,e.procedure={universal:50,tag:30,attribute:1,pseudo:0,"pseudo-element":0,"column-combinator":-1,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1,_flexibleDescendant:-1};function t(r){return e.procedure[r.type]<0}e.isTraversal=t})(oM)),oM}var sM;function a$e(){if(sM)return Lm;sM=1,Object.defineProperty(Lm,"__esModule",{value:!0});var e=I1,t=dP(),r={exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function n(o){for(var a=o.map(i),s=1;s<o.length;s++){var u=a[s];if(!(u<0))for(var l=s-1;l>=0&&u<a[l];l--){var c=o[l+1];o[l+1]=o[l],o[l]=c,a[l+1]=a[l],a[l]=u}}}Lm.default=n;function i(o){var a=t.procedure[o.type];if(o.type===e.SelectorType.Attribute)a=r[o.action],a===r.equals&&o.name==="id"&&(a=9),o.ignoreCase&&(a>>=1);else if(o.type===e.SelectorType.Pseudo)if(!o.data)a=3;else if(o.name==="has"||o.name==="contains")a=0;else if(Array.isArray(o.data)){a=0;for(var s=0;s<o.data.length;s++)if(o.data[s].length===1){var u=i(o.data[s][0]);if(u===0){a=0;break}u>a&&(a=u)}o.data.length>1&&a>0&&(a-=1)}else a=1;return a}return Lm}var cp={},hp={},lM;function s$e(){if(lM)return hp;lM=1,Object.defineProperty(hp,"__esModule",{value:!0}),hp.attributeRules=void 0;var e=hu(),t=/[-[\]{}()*+?.,\\^$|#\s]/g;function r(o){return o.replace(t,"\\$&")}var n=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function i(o,a){return typeof o.ignoreCase=="boolean"?o.ignoreCase:o.ignoreCase==="quirks"?!!a.quirksMode:!a.xmlMode&&n.has(o.name)}return hp.attributeRules={equals:function(o,a,s){var u=s.adapter,l=a.name,c=a.value;return i(a,s)?(c=c.toLowerCase(),function(h){var f=u.getAttributeValue(h,l);return f!=null&&f.length===c.length&&f.toLowerCase()===c&&o(h)}):function(h){return u.getAttributeValue(h,l)===c&&o(h)}},hyphen:function(o,a,s){var u=s.adapter,l=a.name,c=a.value,h=c.length;return i(a,s)?(c=c.toLowerCase(),function(f){var p=u.getAttributeValue(f,l);return p!=null&&(p.length===h||p.charAt(h)==="-")&&p.substr(0,h).toLowerCase()===c&&o(f)}):function(f){var p=u.getAttributeValue(f,l);return p!=null&&(p.length===h||p.charAt(h)==="-")&&p.substr(0,h)===c&&o(f)}},element:function(o,a,s){var u=s.adapter,l=a.name,c=a.value;if(/\s/.test(c))return e.falseFunc;var h=new RegExp("(?:^|\\s)".concat(r(c),"(?:$|\\s)"),i(a,s)?"i":"");return function(f){var p=u.getAttributeValue(f,l);return p!=null&&p.length>=c.length&&h.test(p)&&o(f)}},exists:function(o,a,s){var u=a.name,l=s.adapter;return function(c){return l.hasAttrib(c,u)&&o(c)}},start:function(o,a,s){var u=s.adapter,l=a.name,c=a.value,h=c.length;return h===0?e.falseFunc:i(a,s)?(c=c.toLowerCase(),function(f){var p=u.getAttributeValue(f,l);return p!=null&&p.length>=h&&p.substr(0,h).toLowerCase()===c&&o(f)}):function(f){var p;return!!(!((p=u.getAttributeValue(f,l))===null||p===void 0)&&p.startsWith(c))&&o(f)}},end:function(o,a,s){var u=s.adapter,l=a.name,c=a.value,h=-c.length;return h===0?e.falseFunc:i(a,s)?(c=c.toLowerCase(),function(f){var p;return((p=u.getAttributeValue(f,l))===null||p===void 0?void 0:p.substr(h).toLowerCase())===c&&o(f)}):function(f){var p;return!!(!((p=u.getAttributeValue(f,l))===null||p===void 0)&&p.endsWith(c))&&o(f)}},any:function(o,a,s){var u=s.adapter,l=a.name,c=a.value;if(c==="")return e.falseFunc;if(i(a,s)){var h=new RegExp(r(c),"i");return function(f){var p=u.getAttributeValue(f,l);return p!=null&&p.length>=c.length&&h.test(p)&&o(f)}}return function(f){var p;return!!(!((p=u.getAttributeValue(f,l))===null||p===void 0)&&p.includes(c))&&o(f)}},not:function(o,a,s){var u=s.adapter,l=a.name,c=a.value;return c===""?function(h){return!!u.getAttributeValue(h,l)&&o(h)}:i(a,s)?(c=c.toLowerCase(),function(h){var f=u.getAttributeValue(h,l);return(f==null||f.length!==c.length||f.toLowerCase()!==c)&&o(h)}):function(h){return u.getAttributeValue(h,l)!==c&&o(h)}}},hp}var uM={},cM={},hM={},fp={},fM;function l$e(){if(fM)return fp;fM=1,Object.defineProperty(fp,"__esModule",{value:!0}),fp.parse=void 0;var e=new Set([9,10,12,13,32]),t=48,r=57;function n(i){if(i=i.trim().toLowerCase(),i==="even")return[2,0];if(i==="odd")return[2,1];var o=0,a=0,s=l(),u=c();if(o<i.length&&i.charAt(o)==="n"&&(o++,a=s*(u??1),h(),o<i.length?(s=l(),h(),u=c()):s=u=0),u===null||o<i.length)throw new Error("n-th rule couldn't be parsed ('".concat(i,"')"));return[a,s*u];function l(){return i.charAt(o)==="-"?(o++,-1):(i.charAt(o)==="+"&&o++,1)}function c(){for(var f=o,p=0;o<i.length&&i.charCodeAt(o)>=t&&i.charCodeAt(o)<=r;)p=p*10+(i.charCodeAt(o)-t),o++;return o===f?null:p}function h(){for(;o<i.length&&e.has(i.charCodeAt(o));)o++}}return fp.parse=n,fp}var Qs={},pM;function u$e(){if(pM)return Qs;pM=1;var e=Le&&Le.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.generate=Qs.compile=void 0;var t=e(hu());function r(i){var o=i[0],a=i[1]-1;if(a<0&&o<=0)return t.default.falseFunc;if(o===-1)return function(l){return l<=a};if(o===0)return function(l){return l===a};if(o===1)return a<0?t.default.trueFunc:function(l){return l>=a};var s=Math.abs(o),u=(a%s+s)%s;return o>1?function(l){return l>=a&&l%s===u}:function(l){return l<=a&&l%s===u}}Qs.compile=r;function n(i){var o=i[0],a=i[1]-1,s=0;if(o<0){var u=-o,l=(a%u+u)%u;return function(){var c=l+u*s++;return c>a?null:c}}return o===0?a<0?(function(){return null}):(function(){return s++===0?a:null}):(a<0&&(a+=o*Math.ceil(-a/o)),function(){return o*s+++a})}return Qs.generate=n,Qs}var dM;function c$e(){return dM||(dM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sequence=e.generate=e.compile=e.parse=void 0;var t=l$e();Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}});var r=u$e();Object.defineProperty(e,"compile",{enumerable:!0,get:function(){return r.compile}}),Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return r.generate}});function n(o){return(0,r.compile)((0,t.parse)(o))}e.default=n;function i(o){return(0,r.generate)((0,t.parse)(o))}e.sequence=i})(hM)),hM}var mM;function h$e(){return mM||(mM=1,(function(e){var t=Le&&Le.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.filters=void 0;var r=t(c$e()),n=hu();function i(a,s){return function(u){var l=s.getParent(u);return l!=null&&s.isTag(l)&&a(u)}}e.filters={contains:function(a,s,u){var l=u.adapter;return function(c){return a(c)&&l.getText(c).includes(s)}},icontains:function(a,s,u){var l=u.adapter,c=s.toLowerCase();return function(h){return a(h)&&l.getText(h).toLowerCase().includes(c)}},"nth-child":function(a,s,u){var l=u.adapter,c=u.equals,h=(0,r.default)(s);return h===n.falseFunc?n.falseFunc:h===n.trueFunc?i(a,l):function(f){for(var p=l.getSiblings(f),d=0,m=0;m<p.length&&!c(f,p[m]);m++)l.isTag(p[m])&&d++;return h(d)&&a(f)}},"nth-last-child":function(a,s,u){var l=u.adapter,c=u.equals,h=(0,r.default)(s);return h===n.falseFunc?n.falseFunc:h===n.trueFunc?i(a,l):function(f){for(var p=l.getSiblings(f),d=0,m=p.length-1;m>=0&&!c(f,p[m]);m--)l.isTag(p[m])&&d++;return h(d)&&a(f)}},"nth-of-type":function(a,s,u){var l=u.adapter,c=u.equals,h=(0,r.default)(s);return h===n.falseFunc?n.falseFunc:h===n.trueFunc?i(a,l):function(f){for(var p=l.getSiblings(f),d=0,m=0;m<p.length;m++){var v=p[m];if(c(f,v))break;l.isTag(v)&&l.getName(v)===l.getName(f)&&d++}return h(d)&&a(f)}},"nth-last-of-type":function(a,s,u){var l=u.adapter,c=u.equals,h=(0,r.default)(s);return h===n.falseFunc?n.falseFunc:h===n.trueFunc?i(a,l):function(f){for(var p=l.getSiblings(f),d=0,m=p.length-1;m>=0;m--){var v=p[m];if(c(f,v))break;l.isTag(v)&&l.getName(v)===l.getName(f)&&d++}return h(d)&&a(f)}},root:function(a,s,u){var l=u.adapter;return function(c){var h=l.getParent(c);return(h==null||!l.isTag(h))&&a(c)}},scope:function(a,s,u,l){var c=u.equals;return!l||l.length===0?e.filters.root(a,s,u):l.length===1?function(h){return c(l[0],h)&&a(h)}:function(h){return l.includes(h)&&a(h)}},hover:o("isHovered"),visited:o("isVisited"),active:o("isActive")};function o(a){return function(s,u,l){var c=l.adapter,h=c[a];return typeof h!="function"?n.falseFunc:function(f){return h(f)&&s(f)}}}})(cM)),cM}var Js={},gM;function f$e(){if(gM)return Js;gM=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.verifyPseudoArgs=Js.pseudos=void 0,Js.pseudos={empty:function(t,r){var n=r.adapter;return!n.getChildren(t).some(function(i){return n.isTag(i)||n.getText(i)!==""})},"first-child":function(t,r){var n=r.adapter,i=r.equals,o=n.getSiblings(t).find(function(a){return n.isTag(a)});return o!=null&&i(t,o)},"last-child":function(t,r){for(var n=r.adapter,i=r.equals,o=n.getSiblings(t),a=o.length-1;a>=0;a--){if(i(t,o[a]))return!0;if(n.isTag(o[a]))break}return!1},"first-of-type":function(t,r){for(var n=r.adapter,i=r.equals,o=n.getSiblings(t),a=n.getName(t),s=0;s<o.length;s++){var u=o[s];if(i(t,u))return!0;if(n.isTag(u)&&n.getName(u)===a)break}return!1},"last-of-type":function(t,r){for(var n=r.adapter,i=r.equals,o=n.getSiblings(t),a=n.getName(t),s=o.length-1;s>=0;s--){var u=o[s];if(i(t,u))return!0;if(n.isTag(u)&&n.getName(u)===a)break}return!1},"only-of-type":function(t,r){var n=r.adapter,i=r.equals,o=n.getName(t);return n.getSiblings(t).every(function(a){return i(t,a)||!n.isTag(a)||n.getName(a)!==o})},"only-child":function(t,r){var n=r.adapter,i=r.equals;return n.getSiblings(t).every(function(o){return i(t,o)||!n.isTag(o)})}};function e(t,r,n){if(n===null){if(t.length>2)throw new Error("pseudo-selector :".concat(r," requires an argument"))}else if(t.length===2)throw new Error("pseudo-selector :".concat(r," doesn't have any arguments"))}return Js.verifyPseudoArgs=e,Js}var Bm={},yM;function p$e(){return yM||(yM=1,Object.defineProperty(Bm,"__esModule",{value:!0}),Bm.aliases=void 0,Bm.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"}),Bm}var vM={},bM;function mP(){return bM||(bM=1,(function(e){var t=Le&&Le.__spreadArray||function(s,u,l){if(l||arguments.length===2)for(var c=0,h=u.length,f;c<h;c++)(f||!(c in u))&&(f||(f=Array.prototype.slice.call(u,0,c)),f[c]=u[c]);return s.concat(f||Array.prototype.slice.call(u))};Object.defineProperty(e,"__esModule",{value:!0}),e.subselects=e.getNextSiblings=e.ensureIsTag=e.PLACEHOLDER_ELEMENT=void 0;var r=hu(),n=dP();e.PLACEHOLDER_ELEMENT={};function i(s,u){return s===r.falseFunc?r.falseFunc:function(l){return u.isTag(l)&&s(l)}}e.ensureIsTag=i;function o(s,u){var l=u.getSiblings(s);if(l.length<=1)return[];var c=l.indexOf(s);return c<0||c===l.length-1?[]:l.slice(c+1).filter(u.isTag)}e.getNextSiblings=o;var a=function(s,u,l,c,h){var f={xmlMode:!!l.xmlMode,adapter:l.adapter,equals:l.equals},p=h(u,f,c);return function(d){return p(d)&&s(d)}};e.subselects={is:a,matches:a,where:a,not:function(s,u,l,c,h){var f={xmlMode:!!l.xmlMode,adapter:l.adapter,equals:l.equals},p=h(u,f,c);return p===r.falseFunc?s:p===r.trueFunc?r.falseFunc:function(d){return!p(d)&&s(d)}},has:function(s,u,l,c,h){var f=l.adapter,p={xmlMode:!!l.xmlMode,adapter:f,equals:l.equals},d=u.some(function(y){return y.some(n.isTraversal)})?[e.PLACEHOLDER_ELEMENT]:void 0,m=h(u,p,d);if(m===r.falseFunc)return r.falseFunc;if(m===r.trueFunc)return function(y){return f.getChildren(y).some(f.isTag)&&s(y)};var v=i(m,f),b=m.shouldTestNextSiblings,g=b===void 0?!1:b;return d?function(y){d[0]=y;var _=f.getChildren(y),w=g?t(t([],_,!0),o(y,f),!0):_;return s(y)&&f.existsOne(v,w)}:function(y){return s(y)&&f.existsOne(v,f.getChildren(y))}}}})(vM)),vM}var _M;function EU(){return _M||(_M=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compilePseudoSelector=e.aliases=e.pseudos=e.filters=void 0;var t=hu(),r=I1,n=h$e();Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return n.filters}});var i=f$e();Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return i.pseudos}});var o=p$e();Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return o.aliases}});var a=mP();function s(u,l,c,h,f){var p=l.name,d=l.data;if(Array.isArray(d))return a.subselects[p](u,d,c,h,f);if(p in o.aliases){if(d!=null)throw new Error("Pseudo ".concat(p," doesn't have any arguments"));var m=(0,r.parse)(o.aliases[p]);return a.subselects.is(u,m,c,h,f)}if(p in n.filters)return n.filters[p](u,d,c,h);if(p in i.pseudos){var v=i.pseudos[p];return(0,i.verifyPseudoArgs)(v,p,d),v===t.falseFunc?t.falseFunc:u===t.trueFunc?function(b){return v(b,c,d)}:function(b){return v(b,c,d)&&u(b)}}throw new Error("unmatched pseudo-class :".concat(p))}e.compilePseudoSelector=s})(uM)),uM}var wM;function d$e(){if(wM)return cp;wM=1,Object.defineProperty(cp,"__esModule",{value:!0}),cp.compileGeneralSelector=void 0;var e=s$e(),t=EU(),r=I1;function n(i,o,a,s,u){var l=a.adapter,c=a.equals;switch(o.type){case r.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case r.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case r.SelectorType.Attribute:{if(o.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!a.xmlMode||a.lowerCaseAttributeNames)&&(o.name=o.name.toLowerCase()),e.attributeRules[o.action](i,o,a)}case r.SelectorType.Pseudo:return(0,t.compilePseudoSelector)(i,o,a,s,u);case r.SelectorType.Tag:{if(o.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var h=o.name;return(!a.xmlMode||a.lowerCaseTags)&&(h=h.toLowerCase()),function(p){return l.getName(p)===h&&i(p)}}case r.SelectorType.Descendant:{if(a.cacheResults===!1||typeof WeakSet>"u")return function(p){for(var d=p;d=l.getParent(d);)if(l.isTag(d)&&i(d))return!0;return!1};var f=new WeakSet;return function(p){for(var d=p;d=l.getParent(d);)if(!f.has(d)){if(l.isTag(d)&&i(d))return!0;f.add(d)}return!1}}case"_flexibleDescendant":return function(p){var d=p;do if(l.isTag(d)&&i(d))return!0;while(d=l.getParent(d));return!1};case r.SelectorType.Parent:return function(p){return l.getChildren(p).some(function(d){return l.isTag(d)&&i(d)})};case r.SelectorType.Child:return function(p){var d=l.getParent(p);return d!=null&&l.isTag(d)&&i(d)};case r.SelectorType.Sibling:return function(p){for(var d=l.getSiblings(p),m=0;m<d.length;m++){var v=d[m];if(c(p,v))break;if(l.isTag(v)&&i(v))return!0}return!1};case r.SelectorType.Adjacent:return l.prevElementSibling?function(p){var d=l.prevElementSibling(p);return d!=null&&i(d)}:function(p){for(var d=l.getSiblings(p),m,v=0;v<d.length;v++){var b=d[v];if(c(p,b))break;l.isTag(b)&&(m=b)}return!!m&&i(m)};case r.SelectorType.Universal:{if(o.namespace!=null&&o.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return i}}}return cp.compileGeneralSelector=n,cp}var TM;function m$e(){if(TM)return la;TM=1;var e=Le&&Le.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(la,"__esModule",{value:!0}),la.compileToken=la.compileUnsafe=la.compile=void 0;var t=I1,r=hu(),n=e(a$e()),i=dP(),o=d$e(),a=mP();function s(b,g,y){var _=u(b,g,y);return(0,a.ensureIsTag)(_,g.adapter)}la.compile=s;function u(b,g,y){var _=typeof b=="string"?(0,t.parse)(b):b;return d(_,g,y)}la.compileUnsafe=u;function l(b){return b.type==="pseudo"&&(b.name==="scope"||Array.isArray(b.data)&&b.data.some(function(g){return g.some(l)}))}var c={type:t.SelectorType.Descendant},h={type:"_flexibleDescendant"},f={type:t.SelectorType.Pseudo,name:"scope",data:null};function p(b,g,y){for(var _=g.adapter,w=!!y?.every(function(S){var A=_.isTag(S)&&_.getParent(S);return S===a.PLACEHOLDER_ELEMENT||A&&_.isTag(A)}),T=0,O=b;T<O.length;T++){var E=O[T];if(!(E.length>0&&(0,i.isTraversal)(E[0])&&E[0].type!=="descendant"))if(w&&!E.some(l))E.unshift(c);else continue;E.unshift(f)}}function d(b,g,y){var _;b=b.filter(function(S){return S.length>0}),b.forEach(n.default),y=(_=g.context)!==null&&_!==void 0?_:y;var w=Array.isArray(y),T=y&&(Array.isArray(y)?y:[y]);p(b,g,T);var O=!1,E=b.map(function(S){if(S.length>=2){var A=S[0],M=S[1];A.type!=="pseudo"||A.name!=="scope"||(w&&M.type==="descendant"?S[1]=h:(M.type==="adjacent"||M.type==="sibling")&&(O=!0))}return m(S,g,T)}).reduce(v,r.falseFunc);return E.shouldTestNextSiblings=O,E}la.compileToken=d;function m(b,g,y){var _;return b.reduce(function(w,T){return w===r.falseFunc?r.falseFunc:(0,o.compileGeneralSelector)(w,T,g,y,d)},(_=g.rootFunc)!==null&&_!==void 0?_:r.trueFunc)}function v(b,g){return g===r.falseFunc||b===r.trueFunc?b:b===r.falseFunc||g===r.trueFunc?g:function(y){return b(y)||g(y)}}return la}var xM;function EM(){return xM||(xM=1,(function(e){var t=Le&&Le.__createBinding||(Object.create?function(b,g,y,_){_===void 0&&(_=y);var w=Object.getOwnPropertyDescriptor(g,y);(!w||("get"in w?!g.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return g[y]}}),Object.defineProperty(b,_,w)}:function(b,g,y,_){_===void 0&&(_=y),b[_]=g[y]}),r=Le&&Le.__setModuleDefault||(Object.create?function(b,g){Object.defineProperty(b,"default",{enumerable:!0,value:g})}:function(b,g){b.default=g}),n=Le&&Le.__importStar||function(b){if(b&&b.__esModule)return b;var g={};if(b!=null)for(var y in b)y!=="default"&&Object.prototype.hasOwnProperty.call(b,y)&&t(g,b,y);return r(g,b),g};Object.defineProperty(e,"__esModule",{value:!0}),e.aliases=e.pseudos=e.filters=e.is=e.selectOne=e.selectAll=e.prepareContext=e._compileToken=e._compileUnsafe=e.compile=void 0;var i=n(R1),o=hu(),a=m$e(),s=mP(),u=function(b,g){return b===g},l={adapter:i,equals:u};function c(b){var g,y,_,w,T=b??l;return(g=T.adapter)!==null&&g!==void 0||(T.adapter=i),(y=T.equals)!==null&&y!==void 0||(T.equals=(w=(_=T.adapter)===null||_===void 0?void 0:_.equals)!==null&&w!==void 0?w:u),T}function h(b){return function(g,y,_){var w=c(y);return b(g,w,_)}}e.compile=h(a.compile),e._compileUnsafe=h(a.compileUnsafe),e._compileToken=h(a.compileToken);function f(b){return function(g,y,_){var w=c(_);typeof g!="function"&&(g=(0,a.compileUnsafe)(g,w,y));var T=p(y,w.adapter,g.shouldTestNextSiblings);return b(g,T,w)}}function p(b,g,y){return y===void 0&&(y=!1),y&&(b=d(b,g)),Array.isArray(b)?g.removeSubsets(b):g.getChildren(b)}e.prepareContext=p;function d(b,g){for(var y=Array.isArray(b)?b.slice(0):[b],_=y.length,w=0;w<_;w++){var T=(0,s.getNextSiblings)(y[w],g);y.push.apply(y,T)}return y}e.selectAll=f(function(b,g,y){return b===o.falseFunc||!g||g.length===0?[]:y.adapter.findAll(b,g)}),e.selectOne=f(function(b,g,y){return b===o.falseFunc||!g||g.length===0?null:y.adapter.findOne(b,g)});function m(b,g,y){var _=c(y);return(typeof g=="function"?g:(0,a.compile)(g,_))(b)}e.is=m,e.default=e.selectAll;var v=EU();Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return v.filters}}),Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return v.pseudos}}),Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return v.aliases}})})(W6)),W6}var el={},SM={},kM;function SU(){return kM||(kM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getLimit=e.isFilter=e.filterNames=void 0,e.filterNames=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function t(n){return n.type!=="pseudo"?!1:e.filterNames.has(n.name)?!0:n.name==="not"&&Array.isArray(n.data)?n.data.some(function(i){return i.some(t)}):!1}e.isFilter=t;function r(n,i){var o=i!=null?parseInt(i,10):NaN;switch(n){case"first":return 1;case"nth":case"eq":return isFinite(o)?o>=0?o+1:1/0:0;case"lt":return isFinite(o)?o>=0?o:1/0:0;case"gt":return isFinite(o)?1/0:0;default:return 1/0}}e.getLimit=r})(SM)),SM}var OM;function g$e(){if(OM)return el;OM=1,Object.defineProperty(el,"__esModule",{value:!0}),el.groupSelectors=el.getDocumentRoot=void 0;var e=SU();function t(n){for(;n.parent;)n=n.parent;return n}el.getDocumentRoot=t;function r(n){for(var i=[],o=[],a=0,s=n;a<s.length;a++){var u=s[a];u.some(e.isFilter)?i.push(u):o.push(u)}return[o,i]}return el.groupSelectors=r,el}var PM;function kU(){return PM||(PM=1,(function(e){var t=Le&&Le.__assign||function(){return t=Object.assign||function(N){for(var k,R=1,B=arguments.length;R<B;R++){k=arguments[R];for(var z in k)Object.prototype.hasOwnProperty.call(k,z)&&(N[z]=k[z])}return N},t.apply(this,arguments)},r=Le&&Le.__createBinding||(Object.create?function(N,k,R,B){B===void 0&&(B=R);var z=Object.getOwnPropertyDescriptor(k,R);(!z||("get"in z?!k.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return k[R]}}),Object.defineProperty(N,B,z)}:function(N,k,R,B){B===void 0&&(B=R),N[B]=k[R]}),n=Le&&Le.__setModuleDefault||(Object.create?function(N,k){Object.defineProperty(N,"default",{enumerable:!0,value:k})}:function(N,k){N.default=k}),i=Le&&Le.__importStar||function(N){if(N&&N.__esModule)return N;var k={};if(N!=null)for(var R in N)R!=="default"&&Object.prototype.hasOwnProperty.call(N,R)&&r(k,N,R);return n(k,N),k},o=Le&&Le.__spreadArray||function(N,k,R){if(R||arguments.length===2)for(var B=0,z=k.length,U;B<z;B++)(U||!(B in k))&&(U||(U=Array.prototype.slice.call(k,0,B)),U[B]=k[B]);return N.concat(U||Array.prototype.slice.call(k))};Object.defineProperty(e,"__esModule",{value:!0}),e.select=e.filter=e.some=e.is=e.aliases=e.pseudos=e.filters=void 0;var a=I1,s=EM(),u=i(R1),l=g$e(),c=SU(),h=EM();Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return h.filters}}),Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return h.pseudos}}),Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return h.aliases}});var f={type:a.SelectorType.Pseudo,name:"scope",data:null},p=t({},f),d={type:a.SelectorType.Universal,namespace:null};function m(N,k,R){return R===void 0&&(R={}),v([N],k,R)}e.is=m;function v(N,k,R){if(R===void 0&&(R={}),typeof k=="function")return N.some(k);var B=(0,l.groupSelectors)((0,a.parse)(k)),z=B[0],U=B[1];return z.length>0&&N.some((0,s._compileToken)(z,R))||U.some(function(V){return _(V,N,R).length>0})}e.some=v;function b(N,k,R,B){var z=typeof R=="string"?parseInt(R,10):NaN;switch(N){case"first":case"lt":return k;case"last":return k.length>0?[k[k.length-1]]:k;case"nth":case"eq":return isFinite(z)&&Math.abs(z)<k.length?[z<0?k[k.length+z]:k[z]]:[];case"gt":return isFinite(z)?k.slice(z+1):[];case"even":return k.filter(function(V,W){return W%2===0});case"odd":return k.filter(function(V,W){return W%2===1});case"not":{var U=new Set(y(R,k,B));return k.filter(function(V){return!U.has(V)})}}}function g(N,k,R){return R===void 0&&(R={}),y((0,a.parse)(N),k,R)}e.filter=g;function y(N,k,R){if(k.length===0)return[];var B=(0,l.groupSelectors)(N),z=B[0],U=B[1],V;if(z.length){var W=H(k,z,R);if(U.length===0)return W;W.length&&(V=new Set(W))}for(var te=0;te<U.length&&V?.size!==k.length;te++){var re=U[te],X=V?k.filter(function(ee){return u.isTag(ee)&&!V.has(ee)}):k;if(X.length===0)break;var W=_(re,k,R);if(W.length)if(V)W.forEach(function(ee){return V.add(ee)});else{if(te===U.length-1)return W;V=new Set(W)}}return typeof V<"u"?V.size===k.length?k:k.filter(function($){return V.has($)}):[]}function _(N,k,R){var B;if(N.some(a.isTraversal)){var z=(B=R.root)!==null&&B!==void 0?B:(0,l.getDocumentRoot)(k[0]),U=o(o([],N,!0),[p],!1);return S(z,U,R,!0,k)}return S(k,N,R,!1)}function w(N,k,R){if(R===void 0&&(R={}),typeof N=="function")return M(k,N);var B=(0,l.groupSelectors)((0,a.parse)(N)),z=B[0],U=B[1],V=U.map(function(W){return S(k,W,R,!0)});return z.length&&V.push(A(k,z,R,1/0)),V.length===0?[]:V.length===1?V[0]:u.uniqueSort(V.reduce(function(W,te){return o(o([],W,!0),te,!0)}))}e.select=w;var T=new Set([a.SelectorType.Descendant,a.SelectorType.Adjacent]);function O(N){return N!==f&&N.type==="pseudo"&&(N.name==="scope"||Array.isArray(N.data)&&N.data.some(function(k){return k.some(O)}))}function E(N,k,R){return R&&N.some(O)?t(t({},k),{context:R}):k}function S(N,k,R,B,z){var U=k.findIndex(c.isFilter),V=k.slice(0,U),W=k[U],te=(0,c.getLimit)(W.name,W.data);if(te===0)return[];var re=E(V,R,z),X=V.length===0&&!Array.isArray(N)?u.getChildren(N).filter(u.isTag):V.length===0||V.length===1&&V[0]===f?(Array.isArray(N)?N:[N]).filter(u.isTag):B||V.some(a.isTraversal)?A(N,[V],re,te):H(N,[V],re),$=X.slice(0,te),ee=b(W.name,$,W.data,R);if(ee.length===0||k.length===U+1)return ee;var le=k.slice(U+1),fe=le.some(a.isTraversal),Ee=E(le,R,z);return fe&&(T.has(le[0].type)&&le.unshift(d),le.unshift(f)),le.some(c.isFilter)?S(ee,le,R,!1,z):fe?A(ee,[le],Ee,1/0):H(ee,[le],Ee)}function A(N,k,R,B){if(B===0)return[];var z=(0,s._compileToken)(k,R,N);return M(N,z,B)}function M(N,k,R){R===void 0&&(R=1/0);var B=(0,s.prepareContext)(N,u,k.shouldTestNextSiblings);return u.find(function(z){return u.isTag(z)&&k(z)},B,!0,R)}function H(N,k,R){var B=(Array.isArray(N)?N:[N]).filter(u.isTag);if(B.length===0)return B;var z=(0,s._compileToken)(k,R);return B.filter(z)}})(H6)),H6}var fu={},j1={},Hb={},Ub=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hb,"__esModule",{value:!0});var y$e=Ub(Bb),v$e=Ub(hP),CT=Ub(fU),b$e=Ub(fP);function Ei(e){return e===" "||e===`
`||e==="	"||e==="\f"||e==="\r"}function CM(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}function dn(e,t,r){var n=e.toLowerCase();return e===n?function(i,o){o===n?i._state=t:(i._state=r,i._index--)}:function(i,o){o===n||o===e?i._state=t:(i._state=r,i._index--)}}function ko(e,t){var r=e.toLowerCase();return function(n,i){i===r||i===e?n._state=t:(n._state=3,n._index--)}}var _$e=dn("C",24,16),w$e=dn("D",25,16),T$e=dn("A",26,16),x$e=dn("T",27,16),E$e=dn("A",28,16),S$e=ko("R",35),k$e=ko("I",36),O$e=ko("P",37),P$e=ko("T",38),C$e=dn("R",40,1),A$e=dn("I",41,1),M$e=dn("P",42,1),I$e=dn("T",43,1),R$e=ko("Y",45),D$e=ko("L",46),N$e=ko("E",47),j$e=dn("Y",49,1),L$e=dn("L",50,1),B$e=dn("E",51,1),F$e=ko("I",54),z$e=ko("T",55),H$e=ko("L",56),U$e=ko("E",57),V$e=dn("I",58,1),G$e=dn("T",59,1),Y$e=dn("L",60,1),W$e=dn("E",61,1),X$e=dn("#",63,64),$$e=dn("X",66,65),q$e=(function(){function e(t,r){var n;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=r,this.xmlMode=!!t?.xmlMode,this.decodeEntities=(n=t?.decodeEntities)!==null&&n!==void 0?n:!0}return e.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},e.prototype.write=function(t){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=t,this.parse()},e.prototype.end=function(t){this.ended&&this.cbs.onerror(Error(".end() after done!")),t&&this.write(t),this.ended=!0,this.running&&this.finish()},e.prototype.pause=function(){this.running=!1},e.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},e.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},e.prototype.stateText=function(t){t==="<"?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):this.decodeEntities&&t==="&"&&(this.special===1||this.special===4)&&(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},e.prototype.isTagStartChar=function(t){return CM(t)||this.xmlMode&&!Ei(t)&&t!=="/"&&t!==">"},e.prototype.stateBeforeTagName=function(t){t==="/"?this._state=5:t==="<"?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):t===">"||this.special!==1||Ei(t)?this._state=1:t==="!"?(this._state=15,this.sectionStart=this._index+1):t==="?"?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(t)?(this._state=!this.xmlMode&&(t==="s"||t==="S")?32:!this.xmlMode&&(t==="t"||t==="T")?52:3,this.sectionStart=this._index):this._state=1},e.prototype.stateInTagName=function(t){(t==="/"||t===">"||Ei(t))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},e.prototype.stateBeforeClosingTagName=function(t){Ei(t)||(t===">"?this._state=1:this.special!==1?this.special!==4&&(t==="s"||t==="S")?this._state=33:this.special===4&&(t==="t"||t==="T")?this._state=53:(this._state=1,this._index--):this.isTagStartChar(t)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},e.prototype.stateInClosingTagName=function(t){(t===">"||Ei(t))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},e.prototype.stateAfterClosingTagName=function(t){t===">"&&(this._state=1,this.sectionStart=this._index+1)},e.prototype.stateBeforeAttributeName=function(t){t===">"?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):t==="/"?this._state=4:Ei(t)||(this._state=9,this.sectionStart=this._index)},e.prototype.stateInSelfClosingTag=function(t){t===">"?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):Ei(t)||(this._state=8,this._index--)},e.prototype.stateInAttributeName=function(t){(t==="="||t==="/"||t===">"||Ei(t))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},e.prototype.stateAfterAttributeName=function(t){t==="="?this._state=11:t==="/"||t===">"?(this.cbs.onattribend(void 0),this._state=8,this._index--):Ei(t)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},e.prototype.stateBeforeAttributeValue=function(t){t==='"'?(this._state=12,this.sectionStart=this._index+1):t==="'"?(this._state=13,this.sectionStart=this._index+1):Ei(t)||(this._state=14,this.sectionStart=this._index,this._index--)},e.prototype.handleInAttributeValue=function(t,r){t===r?(this.emitToken("onattribdata"),this.cbs.onattribend(r),this._state=8):this.decodeEntities&&t==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},e.prototype.stateInAttributeValueDoubleQuotes=function(t){this.handleInAttributeValue(t,'"')},e.prototype.stateInAttributeValueSingleQuotes=function(t){this.handleInAttributeValue(t,"'")},e.prototype.stateInAttributeValueNoQuotes=function(t){Ei(t)||t===">"?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&t==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},e.prototype.stateBeforeDeclaration=function(t){this._state=t==="["?23:t==="-"?18:16},e.prototype.stateInDeclaration=function(t){t===">"&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateInProcessingInstruction=function(t){t===">"&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateBeforeComment=function(t){t==="-"?(this._state=19,this.sectionStart=this._index+1):this._state=16},e.prototype.stateInComment=function(t){t==="-"&&(this._state=21)},e.prototype.stateInSpecialComment=function(t){t===">"&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateAfterComment1=function(t){t==="-"?this._state=22:this._state=19},e.prototype.stateAfterComment2=function(t){t===">"?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):t!=="-"&&(this._state=19)},e.prototype.stateBeforeCdata6=function(t){t==="["?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},e.prototype.stateInCdata=function(t){t==="]"&&(this._state=30)},e.prototype.stateAfterCdata1=function(t){t==="]"?this._state=31:this._state=29},e.prototype.stateAfterCdata2=function(t){t===">"?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):t!=="]"&&(this._state=29)},e.prototype.stateBeforeSpecialS=function(t){t==="c"||t==="C"?this._state=34:t==="t"||t==="T"?this._state=44:(this._state=3,this._index--)},e.prototype.stateBeforeSpecialSEnd=function(t){this.special===2&&(t==="c"||t==="C")?this._state=39:this.special===3&&(t==="t"||t==="T")?this._state=48:this._state=1},e.prototype.stateBeforeSpecialLast=function(t,r){(t==="/"||t===">"||Ei(t))&&(this.special=r),this._state=3,this._index--},e.prototype.stateAfterSpecialLast=function(t,r){t===">"||Ei(t)?(this.special=1,this._state=6,this.sectionStart=this._index-r,this._index--):this._state=1},e.prototype.parseFixedEntity=function(t){if(t===void 0&&(t=this.xmlMode?b$e.default:v$e.default),this.sectionStart+1<this._index){var r=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(t,r)&&(this.emitPartial(t[r]),this.sectionStart=this._index+1)}},e.prototype.parseLegacyEntity=function(){for(var t=this.sectionStart+1,r=Math.min(this._index-t,6);r>=2;){var n=this.buffer.substr(t,r);if(Object.prototype.hasOwnProperty.call(CT.default,n)){this.emitPartial(CT.default[n]),this.sectionStart+=r+1;return}r--}},e.prototype.stateInNamedEntity=function(t){t===";"?(this.parseFixedEntity(),this.baseState===1&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(t<"0"||t>"9")&&!CM(t)&&(this.xmlMode||this.sectionStart+1===this._index||(this.baseState!==1?t!=="="&&this.parseFixedEntity(CT.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},e.prototype.decodeNumericEntity=function(t,r,n){var i=this.sectionStart+t;if(i!==this._index){var o=this.buffer.substring(i,this._index),a=parseInt(o,r);this.emitPartial(y$e.default(a)),this.sectionStart=n?this._index+1:this._index}this._state=this.baseState},e.prototype.stateInNumericEntity=function(t){t===";"?this.decodeNumericEntity(2,10,!0):(t<"0"||t>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},e.prototype.stateInHexEntity=function(t){t===";"?this.decodeNumericEntity(3,16,!0):(t<"a"||t>"f")&&(t<"A"||t>"F")&&(t<"0"||t>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},e.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(this._state===1?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},e.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var t=this.buffer.charAt(this._index);this._state===1?this.stateText(t):this._state===12?this.stateInAttributeValueDoubleQuotes(t):this._state===9?this.stateInAttributeName(t):this._state===19?this.stateInComment(t):this._state===20?this.stateInSpecialComment(t):this._state===8?this.stateBeforeAttributeName(t):this._state===3?this.stateInTagName(t):this._state===6?this.stateInClosingTagName(t):this._state===2?this.stateBeforeTagName(t):this._state===10?this.stateAfterAttributeName(t):this._state===13?this.stateInAttributeValueSingleQuotes(t):this._state===11?this.stateBeforeAttributeValue(t):this._state===5?this.stateBeforeClosingTagName(t):this._state===7?this.stateAfterClosingTagName(t):this._state===32?this.stateBeforeSpecialS(t):this._state===21?this.stateAfterComment1(t):this._state===14?this.stateInAttributeValueNoQuotes(t):this._state===4?this.stateInSelfClosingTag(t):this._state===16?this.stateInDeclaration(t):this._state===15?this.stateBeforeDeclaration(t):this._state===22?this.stateAfterComment2(t):this._state===18?this.stateBeforeComment(t):this._state===33?this.stateBeforeSpecialSEnd(t):this._state===53?V$e(this,t):this._state===39?C$e(this,t):this._state===40?A$e(this,t):this._state===41?M$e(this,t):this._state===34?S$e(this,t):this._state===35?k$e(this,t):this._state===36?O$e(this,t):this._state===37?P$e(this,t):this._state===38?this.stateBeforeSpecialLast(t,2):this._state===42?I$e(this,t):this._state===43?this.stateAfterSpecialLast(t,6):this._state===44?R$e(this,t):this._state===29?this.stateInCdata(t):this._state===45?D$e(this,t):this._state===46?N$e(this,t):this._state===47?this.stateBeforeSpecialLast(t,3):this._state===48?j$e(this,t):this._state===49?L$e(this,t):this._state===50?B$e(this,t):this._state===51?this.stateAfterSpecialLast(t,5):this._state===52?F$e(this,t):this._state===54?z$e(this,t):this._state===55?H$e(this,t):this._state===56?U$e(this,t):this._state===57?this.stateBeforeSpecialLast(t,4):this._state===58?G$e(this,t):this._state===59?Y$e(this,t):this._state===60?W$e(this,t):this._state===61?this.stateAfterSpecialLast(t,5):this._state===17?this.stateInProcessingInstruction(t):this._state===64?this.stateInNamedEntity(t):this._state===23?_$e(this,t):this._state===62?X$e(this,t):this._state===24?w$e(this,t):this._state===25?T$e(this,t):this._state===30?this.stateAfterCdata1(t):this._state===31?this.stateAfterCdata2(t):this._state===26?x$e(this,t):this._state===27?E$e(this,t):this._state===28?this.stateBeforeCdata6(t):this._state===66?this.stateInHexEntity(t):this._state===65?this.stateInNumericEntity(t):this._state===63?$$e(this,t):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},e.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},e.prototype.handleTrailingData=function(){var t=this.buffer.substr(this.sectionStart);this._state===29||this._state===30||this._state===31?this.cbs.oncdata(t):this._state===19||this._state===21||this._state===22?this.cbs.oncomment(t):this._state===64&&!this.xmlMode?(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state===65&&!this.xmlMode?(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state===66&&!this.xmlMode?(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this.cbs.ontext(t)},e.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},e.prototype.emitToken=function(t){this.cbs[t](this.getSection()),this.sectionStart=-1},e.prototype.emitPartial=function(t){this.baseState!==1?this.cbs.onattribdata(t):this.cbs.ontext(t)},e})();Hb.default=q$e;var K$e=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(j1,"__esModule",{value:!0});j1.Parser=void 0;var Z$e=K$e(Hb),Lu=new Set(["input","option","optgroup","select","button","datalist","textarea"]),gr=new Set(["p"]),AM={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:gr,h1:gr,h2:gr,h3:gr,h4:gr,h5:gr,h6:gr,select:Lu,input:Lu,output:Lu,button:Lu,datalist:Lu,textarea:Lu,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:gr,article:gr,aside:gr,blockquote:gr,details:gr,div:gr,dl:gr,fieldset:gr,figcaption:gr,figure:gr,footer:gr,form:gr,header:gr,hr:gr,main:gr,nav:gr,ol:gr,pre:gr,section:gr,table:gr,ul:gr,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},AT=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),MM=new Set(["math","svg"]),IM=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Q$e=/\s|\//,J$e=(function(){function e(t,r){r===void 0&&(r={});var n,i,o,a,s;this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=r,this.cbs=t??{},this.lowerCaseTagNames=(n=r.lowerCaseTags)!==null&&n!==void 0?n:!r.xmlMode,this.lowerCaseAttributeNames=(i=r.lowerCaseAttributeNames)!==null&&i!==void 0?i:!r.xmlMode,this.tokenizer=new((o=r.Tokenizer)!==null&&o!==void 0?o:Z$e.default)(this.options,this),(s=(a=this.cbs).onparserinit)===null||s===void 0||s.call(a,this)}return e.prototype.updatePosition=function(t){this.endIndex===null?this.tokenizer.sectionStart<=t?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-t:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},e.prototype.ontext=function(t){var r,n;this.updatePosition(1),this.endIndex--,(n=(r=this.cbs).ontext)===null||n===void 0||n.call(r,t)},e.prototype.onopentagname=function(t){var r,n;if(this.lowerCaseTagNames&&(t=t.toLowerCase()),this.tagname=t,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(AM,t))for(var i=void 0;this.stack.length>0&&AM[t].has(i=this.stack[this.stack.length-1]);)this.onclosetag(i);(this.options.xmlMode||!AT.has(t))&&(this.stack.push(t),MM.has(t)?this.foreignContext.push(!0):IM.has(t)&&this.foreignContext.push(!1)),(n=(r=this.cbs).onopentagname)===null||n===void 0||n.call(r,t),this.cbs.onopentag&&(this.attribs={})},e.prototype.onopentagend=function(){var t,r;this.updatePosition(1),this.attribs&&((r=(t=this.cbs).onopentag)===null||r===void 0||r.call(t,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&AT.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},e.prototype.onclosetag=function(t){if(this.updatePosition(1),this.lowerCaseTagNames&&(t=t.toLowerCase()),(MM.has(t)||IM.has(t))&&this.foreignContext.pop(),this.stack.length&&(this.options.xmlMode||!AT.has(t))){var r=this.stack.lastIndexOf(t);if(r!==-1)if(this.cbs.onclosetag)for(r=this.stack.length-r;r--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=r;else t==="p"&&!this.options.xmlMode&&(this.onopentagname(t),this.closeCurrentTag())}else!this.options.xmlMode&&(t==="br"||t==="p")&&(this.onopentagname(t),this.closeCurrentTag())},e.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},e.prototype.closeCurrentTag=function(){var t,r,n=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===n&&((r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,n),this.stack.pop())},e.prototype.onattribname=function(t){this.lowerCaseAttributeNames&&(t=t.toLowerCase()),this.attribname=t},e.prototype.onattribdata=function(t){this.attribvalue+=t},e.prototype.onattribend=function(t){var r,n;(n=(r=this.cbs).onattribute)===null||n===void 0||n.call(r,this.attribname,this.attribvalue,t),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},e.prototype.getInstructionName=function(t){var r=t.search(Q$e),n=r<0?t:t.substr(0,r);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},e.prototype.ondeclaration=function(t){if(this.cbs.onprocessinginstruction){var r=this.getInstructionName(t);this.cbs.onprocessinginstruction("!"+r,"!"+t)}},e.prototype.onprocessinginstruction=function(t){if(this.cbs.onprocessinginstruction){var r=this.getInstructionName(t);this.cbs.onprocessinginstruction("?"+r,"?"+t)}},e.prototype.oncomment=function(t){var r,n,i,o;this.updatePosition(4),(n=(r=this.cbs).oncomment)===null||n===void 0||n.call(r,t),(o=(i=this.cbs).oncommentend)===null||o===void 0||o.call(i)},e.prototype.oncdata=function(t){var r,n,i,o,a,s;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?((n=(r=this.cbs).oncdatastart)===null||n===void 0||n.call(r),(o=(i=this.cbs).ontext)===null||o===void 0||o.call(i,t),(s=(a=this.cbs).oncdataend)===null||s===void 0||s.call(a)):this.oncomment("[CDATA["+t+"]]")},e.prototype.onerror=function(t){var r,n;(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,t)},e.prototype.onend=function(){var t,r;if(this.cbs.onclosetag)for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n]));(r=(t=this.cbs).onend)===null||r===void 0||r.call(t)},e.prototype.reset=function(){var t,r,n,i;(r=(t=this.cbs).onreset)===null||r===void 0||r.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],(i=(n=this.cbs).onparserinit)===null||i===void 0||i.call(n,this)},e.prototype.parseComplete=function(t){this.reset(),this.end(t)},e.prototype.write=function(t){this.tokenizer.write(t)},e.prototype.end=function(t){this.tokenizer.end(t)},e.prototype.pause=function(){this.tokenizer.pause()},e.prototype.resume=function(){this.tokenizer.resume()},e.prototype.parseChunk=function(t){this.write(t)},e.prototype.done=function(t){this.end(t)},e})();j1.Parser=J$e;var Yl={},eqe=Le&&Le.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),tqe=Le&&Le.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rqe=Le&&Le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nqe=Le&&Le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&tqe(t,e,r);return rqe(t,e),t},iqe=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yl,"__esModule",{value:!0});Yl.parseFeed=Yl.FeedHandler=void 0;var oqe=iqe(Xn),iy=nqe(R1),aqe=j1,RM;(function(e){e[e.image=0]="image",e[e.audio=1]="audio",e[e.video=2]="video",e[e.document=3]="document",e[e.executable=4]="executable"})(RM||(RM={}));var DM;(function(e){e[e.sample=0]="sample",e[e.full=1]="full",e[e.nonstop=2]="nonstop"})(DM||(DM={}));var OU=(function(e){eqe(t,e);function t(r,n){var i=this;return typeof r=="object"&&(r=void 0,n=r),i=e.call(this,r,n)||this,i}return t.prototype.onend=function(){var r,n,i=Fm(sqe,this.dom);if(!i){this.handleCallback(new Error("couldn't find root of feed"));return}var o={};if(i.name==="feed"){var a=i.children;o.type="atom",ni(o,"id","id",a),ni(o,"title","title",a);var s=jM("href",Fm("link",a));s&&(o.link=s),ni(o,"description","subtitle",a);var u=dl("updated",a);u&&(o.updated=new Date(u)),ni(o,"author","email",a,!0),o.items=Cx("entry",a).map(function(l){var c={},h=l.children;ni(c,"id","id",h),ni(c,"title","title",h);var f=jM("href",Fm("link",h));f&&(c.link=f);var p=dl("summary",h)||dl("content",h);p&&(c.description=p);var d=dl("updated",h);return d&&(c.pubDate=new Date(d)),c.media=NM(h),c})}else{var a=(n=(r=Fm("channel",i.children))===null||r===void 0?void 0:r.children)!==null&&n!==void 0?n:[];o.type=i.name.substr(0,3),o.id="",ni(o,"title","title",a),ni(o,"link","link",a),ni(o,"description","description",a);var u=dl("lastBuildDate",a);u&&(o.updated=new Date(u)),ni(o,"author","managingEditor",a,!0),o.items=Cx("item",i.children).map(function(h){var f={},p=h.children;ni(f,"id","guid",p),ni(f,"title","title",p),ni(f,"link","link",p),ni(f,"description","description",p);var d=dl("pubDate",p);return d&&(f.pubDate=new Date(d)),f.media=NM(p),f})}this.feed=o,this.handleCallback(null)},t})(oqe.default);Yl.FeedHandler=OU;function NM(e){return Cx("media:content",e).map(function(t){var r={medium:t.attribs.medium,isDefault:!!t.attribs.isDefault};return t.attribs.url&&(r.url=t.attribs.url),t.attribs.fileSize&&(r.fileSize=parseInt(t.attribs.fileSize,10)),t.attribs.type&&(r.type=t.attribs.type),t.attribs.expression&&(r.expression=t.attribs.expression),t.attribs.bitrate&&(r.bitrate=parseInt(t.attribs.bitrate,10)),t.attribs.framerate&&(r.framerate=parseInt(t.attribs.framerate,10)),t.attribs.samplingrate&&(r.samplingrate=parseInt(t.attribs.samplingrate,10)),t.attribs.channels&&(r.channels=parseInt(t.attribs.channels,10)),t.attribs.duration&&(r.duration=parseInt(t.attribs.duration,10)),t.attribs.height&&(r.height=parseInt(t.attribs.height,10)),t.attribs.width&&(r.width=parseInt(t.attribs.width,10)),t.attribs.lang&&(r.lang=t.attribs.lang),r})}function Cx(e,t){return iy.getElementsByTagName(e,t,!0)}function Fm(e,t){return iy.getElementsByTagName(e,t,!0,1)[0]}function dl(e,t,r){return r===void 0&&(r=!1),iy.getText(iy.getElementsByTagName(e,t,r,1)).trim()}function jM(e,t){if(!t)return null;var r=t.attribs;return r[e]}function ni(e,t,r,n,i){i===void 0&&(i=!1);var o=dl(r,n,i);o&&(e[t]=o)}function sqe(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}function lqe(e,t){t===void 0&&(t={xmlMode:!0});var r=new OU(t);return new aqe.Parser(r,t).end(e),r.feed}Yl.parseFeed=lqe;(function(e){var t=Le&&Le.__createBinding||(Object.create?function(d,m,v,b){b===void 0&&(b=v),Object.defineProperty(d,b,{enumerable:!0,get:function(){return m[v]}})}:function(d,m,v,b){b===void 0&&(b=v),d[b]=m[v]}),r=Le&&Le.__setModuleDefault||(Object.create?function(d,m){Object.defineProperty(d,"default",{enumerable:!0,value:m})}:function(d,m){d.default=m}),n=Le&&Le.__importStar||function(d){if(d&&d.__esModule)return d;var m={};if(d!=null)for(var v in d)v!=="default"&&Object.prototype.hasOwnProperty.call(d,v)&&t(m,d,v);return r(m,d),m},i=Le&&Le.__exportStar||function(d,m){for(var v in d)v!=="default"&&!Object.prototype.hasOwnProperty.call(m,v)&&t(m,d,v)},o=Le&&Le.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.RssHandler=e.DefaultHandler=e.DomUtils=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DomHandler=e.Parser=void 0;var a=j1;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return a.Parser}});var s=Xn;Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return s.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return s.DomHandler}});function u(d,m){var v=new s.DomHandler(void 0,m);return new a.Parser(v,m).end(d),v.root}e.parseDocument=u;function l(d,m){return u(d,m).children}e.parseDOM=l;function c(d,m,v){var b=new s.DomHandler(d,m,v);return new a.Parser(b,m)}e.createDomStream=c;var h=Hb;Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return o(h).default}});var f=n(vf);e.ElementType=f,i(Yl,e),e.DomUtils=n(R1);var p=Yl;Object.defineProperty(e,"RssHandler",{enumerable:!0,get:function(){return p.FeedHandler}})})(fu);var tl={},pp={},No={},LM;function gP(){if(LM)return No;LM=1;const e=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];return No.REPLACEMENT_CHARACTER="�",No.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},No.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]},No.isSurrogate=function(t){return t>=55296&&t<=57343},No.isSurrogatePair=function(t){return t>=56320&&t<=57343},No.getSurrogatePairCodePoint=function(t,r){return(t-55296)*1024+9216+r},No.isControlCodePoint=function(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159},No.isUndefinedCodePoint=function(t){return t>=64976&&t<=65007||e.indexOf(t)>-1},No}var BM,FM;function yP(){return FM||(FM=1,BM={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"}),BM}var MT,zM;function uqe(){if(zM)return MT;zM=1;function e(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function t(l,c){for(var h=0;h<c.length;h++){var f=c[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,n(f.key),f)}}function r(l,c,h){return c&&t(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),l}function n(l){var c=i(l,"string");return typeof c=="symbol"?c:c+""}function i(l,c){if(typeof l!="object"||!l)return l;var h=l[Symbol.toPrimitive];if(h!==void 0){var f=h.call(l,c);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}const o=gP(),a=yP(),s=o.CODE_POINTS,u=65536;return MT=(function(){function l(){e(this,l),this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=u}return r(l,[{key:"_err",value:function(){}},{key:"_addGap",value:function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}},{key:"_processSurrogate",value:function(c){if(this.pos!==this.lastCharPos){const h=this.html.charCodeAt(this.pos+1);if(o.isSurrogatePair(h))return this.pos++,this._addGap(),o.getSurrogatePairCodePoint(c,h)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,s.EOF;return this._err(a.surrogateInInputStream),c}},{key:"dropParsedChunk",value:function(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])}},{key:"write",value:function(c,h){this.html?this.html+=c:this.html=c,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=h}},{key:"insertHtmlAtCurrentPos",value:function(c){this.html=this.html.substring(0,this.pos+1)+c+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1}},{key:"advance",value:function(){if(this.pos++,this.pos>this.lastCharPos)return this.endOfChunkHit=!this.lastChunkWritten,s.EOF;let c=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&c===s.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):c===s.CARRIAGE_RETURN?(this.skipNextNewLine=!0,s.LINE_FEED):(this.skipNextNewLine=!1,o.isSurrogate(c)&&(c=this._processSurrogate(c)),c>31&&c<127||c===s.LINE_FEED||c===s.CARRIAGE_RETURN||c>159&&c<64976||this._checkForProblematicCharacters(c),c)}},{key:"_checkForProblematicCharacters",value:function(c){o.isControlCodePoint(c)?this._err(a.controlCharacterInInputStream):o.isUndefinedCodePoint(c)&&this._err(a.noncharacterInInputStream)}},{key:"retreat",value:function(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}}])})(),MT}var HM,UM;function cqe(){return UM||(UM=1,HM=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])),HM}var IT,VM;function Vb(){if(VM)return IT;VM=1;function e(Ne,F){if(!(Ne instanceof F))throw new TypeError("Cannot call a class as a function")}function t(Ne,F){for(var it=0;it<F.length;it++){var St=F[it];St.enumerable=St.enumerable||!1,St.configurable=!0,"value"in St&&(St.writable=!0),Object.defineProperty(Ne,n(St.key),St)}}function r(Ne,F,it){return F&&t(Ne.prototype,F),Object.defineProperty(Ne,"prototype",{writable:!1}),Ne}function n(Ne){var F=i(Ne,"string");return typeof F=="symbol"?F:F+""}function i(Ne,F){if(typeof Ne!="object"||!Ne)return Ne;var it=Ne[Symbol.toPrimitive];if(it!==void 0){var St=it.call(Ne,F);if(typeof St!="object")return St;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ne)}const o=uqe(),a=gP(),s=cqe(),u=yP(),l=a.CODE_POINTS,c=a.CODE_POINT_SEQUENCES,h={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},f=1,p=2,d=4,m=f|p|d,v="DATA_STATE",b="RCDATA_STATE",g="RAWTEXT_STATE",y="SCRIPT_DATA_STATE",_="PLAINTEXT_STATE",w="TAG_OPEN_STATE",T="END_TAG_OPEN_STATE",O="TAG_NAME_STATE",E="RCDATA_LESS_THAN_SIGN_STATE",S="RCDATA_END_TAG_OPEN_STATE",A="RCDATA_END_TAG_NAME_STATE",M="RAWTEXT_LESS_THAN_SIGN_STATE",H="RAWTEXT_END_TAG_OPEN_STATE",N="RAWTEXT_END_TAG_NAME_STATE",k="SCRIPT_DATA_LESS_THAN_SIGN_STATE",R="SCRIPT_DATA_END_TAG_OPEN_STATE",B="SCRIPT_DATA_END_TAG_NAME_STATE",z="SCRIPT_DATA_ESCAPE_START_STATE",U="SCRIPT_DATA_ESCAPE_START_DASH_STATE",V="SCRIPT_DATA_ESCAPED_STATE",W="SCRIPT_DATA_ESCAPED_DASH_STATE",te="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",re="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",X="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",$="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",ee="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",le="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",fe="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",Ee="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",ce="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",Se="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",Oe="BEFORE_ATTRIBUTE_NAME_STATE",he="ATTRIBUTE_NAME_STATE",Pe="AFTER_ATTRIBUTE_NAME_STATE",Fe="BEFORE_ATTRIBUTE_VALUE_STATE",We="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",et="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",He="ATTRIBUTE_VALUE_UNQUOTED_STATE",$e="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",vt="SELF_CLOSING_START_TAG_STATE",Ct="BOGUS_COMMENT_STATE",Lt="MARKUP_DECLARATION_OPEN_STATE",Ye="COMMENT_START_STATE",_e="COMMENT_START_DASH_STATE",K="COMMENT_STATE",oe="COMMENT_LESS_THAN_SIGN_STATE",ue="COMMENT_LESS_THAN_SIGN_BANG_STATE",q="COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE",ae="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE",ge="COMMENT_END_DASH_STATE",be="COMMENT_END_STATE",Re="COMMENT_END_BANG_STATE",je="DOCTYPE_STATE",ze="BEFORE_DOCTYPE_NAME_STATE",qe="DOCTYPE_NAME_STATE",nt="AFTER_DOCTYPE_NAME_STATE",Tt="AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE",Xe="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",Ut="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",C="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",L="AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE",G="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",se="AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE",de="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Q="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",J="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",ve="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",pe="BOGUS_DOCTYPE_STATE",De="CDATA_SECTION_STATE",Ve="CDATA_SECTION_BRACKET_STATE",Ke="CDATA_SECTION_END_STATE",ke="CHARACTER_REFERENCE_STATE",ye="NAMED_CHARACTER_REFERENCE_STATE",xe="AMBIGUOS_AMPERSAND_STATE",Y="NUMERIC_CHARACTER_REFERENCE_STATE",Z="HEXADEMICAL_CHARACTER_REFERENCE_START_STATE",ie="DECIMAL_CHARACTER_REFERENCE_START_STATE",we="HEXADEMICAL_CHARACTER_REFERENCE_STATE",Te="DECIMAL_CHARACTER_REFERENCE_STATE",Ue="NUMERIC_CHARACTER_REFERENCE_END_STATE";function Be(Ne){return Ne===l.SPACE||Ne===l.LINE_FEED||Ne===l.TABULATION||Ne===l.FORM_FEED}function mt(Ne){return Ne>=l.DIGIT_0&&Ne<=l.DIGIT_9}function bt(Ne){return Ne>=l.LATIN_CAPITAL_A&&Ne<=l.LATIN_CAPITAL_Z}function gt(Ne){return Ne>=l.LATIN_SMALL_A&&Ne<=l.LATIN_SMALL_Z}function at(Ne){return gt(Ne)||bt(Ne)}function Bt(Ne){return at(Ne)||mt(Ne)}function rr(Ne){return Ne>=l.LATIN_CAPITAL_A&&Ne<=l.LATIN_CAPITAL_F}function ht(Ne){return Ne>=l.LATIN_SMALL_A&&Ne<=l.LATIN_SMALL_F}function qt(Ne){return mt(Ne)||rr(Ne)||ht(Ne)}function Yt(Ne){return Ne+32}function Mt(Ne){return Ne<=65535?String.fromCharCode(Ne):(Ne-=65536,String.fromCharCode(Ne>>>10&1023|55296)+String.fromCharCode(56320|Ne&1023))}function nr(Ne){return String.fromCharCode(Yt(Ne))}function Vr(Ne,F){const it=s[++Ne];let St=++Ne,pr=St+it-1;for(;St<=pr;){const It=St+pr>>>1,cr=s[It];if(cr<F)St=It+1;else if(cr>F)pr=It-1;else return s[It+it]}return-1}let Wt=(function(){function Ne(){e(this,Ne),this.preprocessor=new o,this.tokenQueue=[],this.allowCDATA=!1,this.state=v,this.returnState="",this.charRefCode=-1,this.tempBuff=[],this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null}return r(Ne,[{key:"_err",value:function(){}},{key:"_errOnNextCodePoint",value:function(F){this._consume(),this._err(F),this._unconsume()}},{key:"getNextToken",value:function(){for(;!this.tokenQueue.length&&this.active;){this.consumedAfterSnapshot=0;const F=this._consume();this._ensureHibernation()||this[this.state](F)}return this.tokenQueue.shift()}},{key:"write",value:function(F,it){this.active=!0,this.preprocessor.write(F,it)}},{key:"insertHtmlAtCurrentPos",value:function(F){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(F)}},{key:"_ensureHibernation",value:function(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:Ne.HIBERNATION_TOKEN}),!0}return!1}},{key:"_consume",value:function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}},{key:"_unconsume",value:function(){this.consumedAfterSnapshot--,this.preprocessor.retreat()}},{key:"_reconsumeInState",value:function(F){this.state=F,this._unconsume()}},{key:"_consumeSequenceIfMatch",value:function(F,it,St){let pr=0,It=!0;const cr=F.length;let xn=0,bi=it,Kr;for(;xn<cr;xn++){if(xn>0&&(bi=this._consume(),pr++),bi===l.EOF){It=!1;break}if(Kr=F[xn],bi!==Kr&&(St||bi!==Yt(Kr))){It=!1;break}}if(!It)for(;pr--;)this._unconsume();return It}},{key:"_isTempBufferEqualToScriptString",value:function(){if(this.tempBuff.length!==c.SCRIPT_STRING.length)return!1;for(let F=0;F<this.tempBuff.length;F++)if(this.tempBuff[F]!==c.SCRIPT_STRING[F])return!1;return!0}},{key:"_createStartTagToken",value:function(){this.currentToken={type:Ne.START_TAG_TOKEN,tagName:"",selfClosing:!1,ackSelfClosing:!1,attrs:[]}}},{key:"_createEndTagToken",value:function(){this.currentToken={type:Ne.END_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}}},{key:"_createCommentToken",value:function(){this.currentToken={type:Ne.COMMENT_TOKEN,data:""}}},{key:"_createDoctypeToken",value:function(F){this.currentToken={type:Ne.DOCTYPE_TOKEN,name:F,forceQuirks:!1,publicId:null,systemId:null}}},{key:"_createCharacterToken",value:function(F,it){this.currentCharacterToken={type:F,chars:it}}},{key:"_createEOFToken",value:function(){this.currentToken={type:Ne.EOF_TOKEN}}},{key:"_createAttr",value:function(F){this.currentAttr={name:F,value:""}}},{key:"_leaveAttrName",value:function(F){Ne.getTokenAttr(this.currentToken,this.currentAttr.name)===null?this.currentToken.attrs.push(this.currentAttr):this._err(u.duplicateAttribute),this.state=F}},{key:"_leaveAttrValue",value:function(F){this.state=F}},{key:"_emitCurrentToken",value:function(){this._emitCurrentCharacterToken();const F=this.currentToken;this.currentToken=null,F.type===Ne.START_TAG_TOKEN?this.lastStartTagName=F.tagName:F.type===Ne.END_TAG_TOKEN&&(F.attrs.length>0&&this._err(u.endTagWithAttributes),F.selfClosing&&this._err(u.endTagWithTrailingSolidus)),this.tokenQueue.push(F)}},{key:"_emitCurrentCharacterToken",value:function(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)}},{key:"_emitEOFToken",value:function(){this._createEOFToken(),this._emitCurrentToken()}},{key:"_appendCharToCurrentCharacterToken",value:function(F,it){this.currentCharacterToken&&this.currentCharacterToken.type!==F&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=it:this._createCharacterToken(F,it)}},{key:"_emitCodePoint",value:function(F){let it=Ne.CHARACTER_TOKEN;Be(F)?it=Ne.WHITESPACE_CHARACTER_TOKEN:F===l.NULL&&(it=Ne.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(it,Mt(F))}},{key:"_emitSeveralCodePoints",value:function(F){for(let it=0;it<F.length;it++)this._emitCodePoint(F[it])}},{key:"_emitChars",value:function(F){this._appendCharToCurrentCharacterToken(Ne.CHARACTER_TOKEN,F)}},{key:"_matchNamedCharacterReference",value:function(F){let it=null,St=1,pr=Vr(0,F);for(this.tempBuff.push(F);pr>-1;){const It=s[pr],cr=It<m;cr&&It&f&&(it=It&p?[s[++pr],s[++pr]]:[s[++pr]],St=0);const xn=this._consume();if(this.tempBuff.push(xn),St++,xn===l.EOF)break;cr?pr=It&d?Vr(pr,xn):-1:pr=xn===It?++pr:-1}for(;St--;)this.tempBuff.pop(),this._unconsume();return it}},{key:"_isCharacterReferenceInAttribute",value:function(){return this.returnState===We||this.returnState===et||this.returnState===He}},{key:"_isCharacterReferenceAttributeQuirk",value:function(F){if(!F&&this._isCharacterReferenceInAttribute()){const it=this._consume();return this._unconsume(),it===l.EQUALS_SIGN||Bt(it)}return!1}},{key:"_flushCodePointsConsumedAsCharacterReference",value:function(){if(this._isCharacterReferenceInAttribute())for(let F=0;F<this.tempBuff.length;F++)this.currentAttr.value+=Mt(this.tempBuff[F]);else this._emitSeveralCodePoints(this.tempBuff);this.tempBuff=[]}},{key:v,value:function(F){this.preprocessor.dropParsedChunk(),F===l.LESS_THAN_SIGN?this.state=w:F===l.AMPERSAND?(this.returnState=v,this.state=ke):F===l.NULL?(this._err(u.unexpectedNullCharacter),this._emitCodePoint(F)):F===l.EOF?this._emitEOFToken():this._emitCodePoint(F)}},{key:b,value:function(F){this.preprocessor.dropParsedChunk(),F===l.AMPERSAND?(this.returnState=b,this.state=ke):F===l.LESS_THAN_SIGN?this.state=E:F===l.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(a.REPLACEMENT_CHARACTER)):F===l.EOF?this._emitEOFToken():this._emitCodePoint(F)}},{key:g,value:function(F){this.preprocessor.dropParsedChunk(),F===l.LESS_THAN_SIGN?this.state=M:F===l.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(a.REPLACEMENT_CHARACTER)):F===l.EOF?this._emitEOFToken():this._emitCodePoint(F)}},{key:y,value:function(F){this.preprocessor.dropParsedChunk(),F===l.LESS_THAN_SIGN?this.state=k:F===l.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(a.REPLACEMENT_CHARACTER)):F===l.EOF?this._emitEOFToken():this._emitCodePoint(F)}},{key:_,value:function(F){this.preprocessor.dropParsedChunk(),F===l.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(a.REPLACEMENT_CHARACTER)):F===l.EOF?this._emitEOFToken():this._emitCodePoint(F)}},{key:w,value:function(F){F===l.EXCLAMATION_MARK?this.state=Lt:F===l.SOLIDUS?this.state=T:at(F)?(this._createStartTagToken(),this._reconsumeInState(O)):F===l.QUESTION_MARK?(this._err(u.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(),this._reconsumeInState(Ct)):F===l.EOF?(this._err(u.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken()):(this._err(u.invalidFirstCharacterOfTagName),this._emitChars("<"),this._reconsumeInState(v))}},{key:T,value:function(F){at(F)?(this._createEndTagToken(),this._reconsumeInState(O)):F===l.GREATER_THAN_SIGN?(this._err(u.missingEndTagName),this.state=v):F===l.EOF?(this._err(u.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken()):(this._err(u.invalidFirstCharacterOfTagName),this._createCommentToken(),this._reconsumeInState(Ct))}},{key:O,value:function(F){Be(F)?this.state=Oe:F===l.SOLIDUS?this.state=vt:F===l.GREATER_THAN_SIGN?(this.state=v,this._emitCurrentToken()):bt(F)?this.currentToken.tagName+=nr(F):F===l.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.tagName+=a.REPLACEMENT_CHARACTER):F===l.EOF?(this._err(u.eofInTag),this._emitEOFToken()):this.currentToken.tagName+=Mt(F)}},{key:E,value:function(F){F===l.SOLIDUS?(this.tempBuff=[],this.state=S):(this._emitChars("<"),this._reconsumeInState(b))}},{key:S,value:function(F){at(F)?(this._createEndTagToken(),this._reconsumeInState(A)):(this._emitChars("</"),this._reconsumeInState(b))}},{key:A,value:function(F){if(bt(F))this.currentToken.tagName+=nr(F),this.tempBuff.push(F);else if(gt(F))this.currentToken.tagName+=Mt(F),this.tempBuff.push(F);else{if(this.lastStartTagName===this.currentToken.tagName){if(Be(F)){this.state=Oe;return}if(F===l.SOLIDUS){this.state=vt;return}if(F===l.GREATER_THAN_SIGN){this.state=v,this._emitCurrentToken();return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(b)}}},{key:M,value:function(F){F===l.SOLIDUS?(this.tempBuff=[],this.state=H):(this._emitChars("<"),this._reconsumeInState(g))}},{key:H,value:function(F){at(F)?(this._createEndTagToken(),this._reconsumeInState(N)):(this._emitChars("</"),this._reconsumeInState(g))}},{key:N,value:function(F){if(bt(F))this.currentToken.tagName+=nr(F),this.tempBuff.push(F);else if(gt(F))this.currentToken.tagName+=Mt(F),this.tempBuff.push(F);else{if(this.lastStartTagName===this.currentToken.tagName){if(Be(F)){this.state=Oe;return}if(F===l.SOLIDUS){this.state=vt;return}if(F===l.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=v;return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(g)}}},{key:k,value:function(F){F===l.SOLIDUS?(this.tempBuff=[],this.state=R):F===l.EXCLAMATION_MARK?(this.state=z,this._emitChars("<!")):(this._emitChars("<"),this._reconsumeInState(y))}},{key:R,value:function(F){at(F)?(this._createEndTagToken(),this._reconsumeInState(B)):(this._emitChars("</"),this._reconsumeInState(y))}},{key:B,value:function(F){if(bt(F))this.currentToken.tagName+=nr(F),this.tempBuff.push(F);else if(gt(F))this.currentToken.tagName+=Mt(F),this.tempBuff.push(F);else{if(this.lastStartTagName===this.currentToken.tagName){if(Be(F)){this.state=Oe;return}else if(F===l.SOLIDUS){this.state=vt;return}else if(F===l.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=v;return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(y)}}},{key:z,value:function(F){F===l.HYPHEN_MINUS?(this.state=U,this._emitChars("-")):this._reconsumeInState(y)}},{key:U,value:function(F){F===l.HYPHEN_MINUS?(this.state=te,this._emitChars("-")):this._reconsumeInState(y)}},{key:V,value:function(F){F===l.HYPHEN_MINUS?(this.state=W,this._emitChars("-")):F===l.LESS_THAN_SIGN?this.state=re:F===l.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(a.REPLACEMENT_CHARACTER)):F===l.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(F)}},{key:W,value:function(F){F===l.HYPHEN_MINUS?(this.state=te,this._emitChars("-")):F===l.LESS_THAN_SIGN?this.state=re:F===l.NULL?(this._err(u.unexpectedNullCharacter),this.state=V,this._emitChars(a.REPLACEMENT_CHARACTER)):F===l.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=V,this._emitCodePoint(F))}},{key:te,value:function(F){F===l.HYPHEN_MINUS?this._emitChars("-"):F===l.LESS_THAN_SIGN?this.state=re:F===l.GREATER_THAN_SIGN?(this.state=y,this._emitChars(">")):F===l.NULL?(this._err(u.unexpectedNullCharacter),this.state=V,this._emitChars(a.REPLACEMENT_CHARACTER)):F===l.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=V,this._emitCodePoint(F))}},{key:re,value:function(F){F===l.SOLIDUS?(this.tempBuff=[],this.state=X):at(F)?(this.tempBuff=[],this._emitChars("<"),this._reconsumeInState(ee)):(this._emitChars("<"),this._reconsumeInState(V))}},{key:X,value:function(F){at(F)?(this._createEndTagToken(),this._reconsumeInState($)):(this._emitChars("</"),this._reconsumeInState(V))}},{key:$,value:function(F){if(bt(F))this.currentToken.tagName+=nr(F),this.tempBuff.push(F);else if(gt(F))this.currentToken.tagName+=Mt(F),this.tempBuff.push(F);else{if(this.lastStartTagName===this.currentToken.tagName){if(Be(F)){this.state=Oe;return}if(F===l.SOLIDUS){this.state=vt;return}if(F===l.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=v;return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(V)}}},{key:ee,value:function(F){Be(F)||F===l.SOLIDUS||F===l.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?le:V,this._emitCodePoint(F)):bt(F)?(this.tempBuff.push(Yt(F)),this._emitCodePoint(F)):gt(F)?(this.tempBuff.push(F),this._emitCodePoint(F)):this._reconsumeInState(V)}},{key:le,value:function(F){F===l.HYPHEN_MINUS?(this.state=fe,this._emitChars("-")):F===l.LESS_THAN_SIGN?(this.state=ce,this._emitChars("<")):F===l.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(a.REPLACEMENT_CHARACTER)):F===l.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(F)}},{key:fe,value:function(F){F===l.HYPHEN_MINUS?(this.state=Ee,this._emitChars("-")):F===l.LESS_THAN_SIGN?(this.state=ce,this._emitChars("<")):F===l.NULL?(this._err(u.unexpectedNullCharacter),this.state=le,this._emitChars(a.REPLACEMENT_CHARACTER)):F===l.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=le,this._emitCodePoint(F))}},{key:Ee,value:function(F){F===l.HYPHEN_MINUS?this._emitChars("-"):F===l.LESS_THAN_SIGN?(this.state=ce,this._emitChars("<")):F===l.GREATER_THAN_SIGN?(this.state=y,this._emitChars(">")):F===l.NULL?(this._err(u.unexpectedNullCharacter),this.state=le,this._emitChars(a.REPLACEMENT_CHARACTER)):F===l.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=le,this._emitCodePoint(F))}},{key:ce,value:function(F){F===l.SOLIDUS?(this.tempBuff=[],this.state=Se,this._emitChars("/")):this._reconsumeInState(le)}},{key:Se,value:function(F){Be(F)||F===l.SOLIDUS||F===l.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?V:le,this._emitCodePoint(F)):bt(F)?(this.tempBuff.push(Yt(F)),this._emitCodePoint(F)):gt(F)?(this.tempBuff.push(F),this._emitCodePoint(F)):this._reconsumeInState(le)}},{key:Oe,value:function(F){Be(F)||(F===l.SOLIDUS||F===l.GREATER_THAN_SIGN||F===l.EOF?this._reconsumeInState(Pe):F===l.EQUALS_SIGN?(this._err(u.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=he):(this._createAttr(""),this._reconsumeInState(he)))}},{key:he,value:function(F){Be(F)||F===l.SOLIDUS||F===l.GREATER_THAN_SIGN||F===l.EOF?(this._leaveAttrName(Pe),this._unconsume()):F===l.EQUALS_SIGN?this._leaveAttrName(Fe):bt(F)?this.currentAttr.name+=nr(F):F===l.QUOTATION_MARK||F===l.APOSTROPHE||F===l.LESS_THAN_SIGN?(this._err(u.unexpectedCharacterInAttributeName),this.currentAttr.name+=Mt(F)):F===l.NULL?(this._err(u.unexpectedNullCharacter),this.currentAttr.name+=a.REPLACEMENT_CHARACTER):this.currentAttr.name+=Mt(F)}},{key:Pe,value:function(F){Be(F)||(F===l.SOLIDUS?this.state=vt:F===l.EQUALS_SIGN?this.state=Fe:F===l.GREATER_THAN_SIGN?(this.state=v,this._emitCurrentToken()):F===l.EOF?(this._err(u.eofInTag),this._emitEOFToken()):(this._createAttr(""),this._reconsumeInState(he)))}},{key:Fe,value:function(F){Be(F)||(F===l.QUOTATION_MARK?this.state=We:F===l.APOSTROPHE?this.state=et:F===l.GREATER_THAN_SIGN?(this._err(u.missingAttributeValue),this.state=v,this._emitCurrentToken()):this._reconsumeInState(He))}},{key:We,value:function(F){F===l.QUOTATION_MARK?this.state=$e:F===l.AMPERSAND?(this.returnState=We,this.state=ke):F===l.NULL?(this._err(u.unexpectedNullCharacter),this.currentAttr.value+=a.REPLACEMENT_CHARACTER):F===l.EOF?(this._err(u.eofInTag),this._emitEOFToken()):this.currentAttr.value+=Mt(F)}},{key:et,value:function(F){F===l.APOSTROPHE?this.state=$e:F===l.AMPERSAND?(this.returnState=et,this.state=ke):F===l.NULL?(this._err(u.unexpectedNullCharacter),this.currentAttr.value+=a.REPLACEMENT_CHARACTER):F===l.EOF?(this._err(u.eofInTag),this._emitEOFToken()):this.currentAttr.value+=Mt(F)}},{key:He,value:function(F){Be(F)?this._leaveAttrValue(Oe):F===l.AMPERSAND?(this.returnState=He,this.state=ke):F===l.GREATER_THAN_SIGN?(this._leaveAttrValue(v),this._emitCurrentToken()):F===l.NULL?(this._err(u.unexpectedNullCharacter),this.currentAttr.value+=a.REPLACEMENT_CHARACTER):F===l.QUOTATION_MARK||F===l.APOSTROPHE||F===l.LESS_THAN_SIGN||F===l.EQUALS_SIGN||F===l.GRAVE_ACCENT?(this._err(u.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=Mt(F)):F===l.EOF?(this._err(u.eofInTag),this._emitEOFToken()):this.currentAttr.value+=Mt(F)}},{key:$e,value:function(F){Be(F)?this._leaveAttrValue(Oe):F===l.SOLIDUS?this._leaveAttrValue(vt):F===l.GREATER_THAN_SIGN?(this._leaveAttrValue(v),this._emitCurrentToken()):F===l.EOF?(this._err(u.eofInTag),this._emitEOFToken()):(this._err(u.missingWhitespaceBetweenAttributes),this._reconsumeInState(Oe))}},{key:vt,value:function(F){F===l.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=v,this._emitCurrentToken()):F===l.EOF?(this._err(u.eofInTag),this._emitEOFToken()):(this._err(u.unexpectedSolidusInTag),this._reconsumeInState(Oe))}},{key:Ct,value:function(F){F===l.GREATER_THAN_SIGN?(this.state=v,this._emitCurrentToken()):F===l.EOF?(this._emitCurrentToken(),this._emitEOFToken()):F===l.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.data+=a.REPLACEMENT_CHARACTER):this.currentToken.data+=Mt(F)}},{key:Lt,value:function(F){this._consumeSequenceIfMatch(c.DASH_DASH_STRING,F,!0)?(this._createCommentToken(),this.state=Ye):this._consumeSequenceIfMatch(c.DOCTYPE_STRING,F,!1)?this.state=je:this._consumeSequenceIfMatch(c.CDATA_START_STRING,F,!0)?this.allowCDATA?this.state=De:(this._err(u.cdataInHtmlContent),this._createCommentToken(),this.currentToken.data="[CDATA[",this.state=Ct):this._ensureHibernation()||(this._err(u.incorrectlyOpenedComment),this._createCommentToken(),this._reconsumeInState(Ct))}},{key:Ye,value:function(F){F===l.HYPHEN_MINUS?this.state=_e:F===l.GREATER_THAN_SIGN?(this._err(u.abruptClosingOfEmptyComment),this.state=v,this._emitCurrentToken()):this._reconsumeInState(K)}},{key:_e,value:function(F){F===l.HYPHEN_MINUS?this.state=be:F===l.GREATER_THAN_SIGN?(this._err(u.abruptClosingOfEmptyComment),this.state=v,this._emitCurrentToken()):F===l.EOF?(this._err(u.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(K))}},{key:K,value:function(F){F===l.HYPHEN_MINUS?this.state=ge:F===l.LESS_THAN_SIGN?(this.currentToken.data+="<",this.state=oe):F===l.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.data+=a.REPLACEMENT_CHARACTER):F===l.EOF?(this._err(u.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.data+=Mt(F)}},{key:oe,value:function(F){F===l.EXCLAMATION_MARK?(this.currentToken.data+="!",this.state=ue):F===l.LESS_THAN_SIGN?this.currentToken.data+="!":this._reconsumeInState(K)}},{key:ue,value:function(F){F===l.HYPHEN_MINUS?this.state=q:this._reconsumeInState(K)}},{key:q,value:function(F){F===l.HYPHEN_MINUS?this.state=ae:this._reconsumeInState(ge)}},{key:ae,value:function(F){F!==l.GREATER_THAN_SIGN&&F!==l.EOF&&this._err(u.nestedComment),this._reconsumeInState(be)}},{key:ge,value:function(F){F===l.HYPHEN_MINUS?this.state=be:F===l.EOF?(this._err(u.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(K))}},{key:be,value:function(F){F===l.GREATER_THAN_SIGN?(this.state=v,this._emitCurrentToken()):F===l.EXCLAMATION_MARK?this.state=Re:F===l.HYPHEN_MINUS?this.currentToken.data+="-":F===l.EOF?(this._err(u.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--",this._reconsumeInState(K))}},{key:Re,value:function(F){F===l.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=ge):F===l.GREATER_THAN_SIGN?(this._err(u.incorrectlyClosedComment),this.state=v,this._emitCurrentToken()):F===l.EOF?(this._err(u.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--!",this._reconsumeInState(K))}},{key:je,value:function(F){Be(F)?this.state=ze:F===l.GREATER_THAN_SIGN?this._reconsumeInState(ze):F===l.EOF?(this._err(u.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingWhitespaceBeforeDoctypeName),this._reconsumeInState(ze))}},{key:ze,value:function(F){Be(F)||(bt(F)?(this._createDoctypeToken(nr(F)),this.state=qe):F===l.NULL?(this._err(u.unexpectedNullCharacter),this._createDoctypeToken(a.REPLACEMENT_CHARACTER),this.state=qe):F===l.GREATER_THAN_SIGN?(this._err(u.missingDoctypeName),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=v):F===l.EOF?(this._err(u.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._createDoctypeToken(Mt(F)),this.state=qe))}},{key:qe,value:function(F){Be(F)?this.state=nt:F===l.GREATER_THAN_SIGN?(this.state=v,this._emitCurrentToken()):bt(F)?this.currentToken.name+=nr(F):F===l.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.name+=a.REPLACEMENT_CHARACTER):F===l.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.name+=Mt(F)}},{key:nt,value:function(F){Be(F)||(F===l.GREATER_THAN_SIGN?(this.state=v,this._emitCurrentToken()):F===l.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this._consumeSequenceIfMatch(c.PUBLIC_STRING,F,!1)?this.state=Tt:this._consumeSequenceIfMatch(c.SYSTEM_STRING,F,!1)?this.state=se:this._ensureHibernation()||(this._err(u.invalidCharacterSequenceAfterDoctypeName),this.currentToken.forceQuirks=!0,this._reconsumeInState(pe)))}},{key:Tt,value:function(F){Be(F)?this.state=Xe:F===l.QUOTATION_MARK?(this._err(u.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=Ut):F===l.APOSTROPHE?(this._err(u.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=C):F===l.GREATER_THAN_SIGN?(this._err(u.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=v,this._emitCurrentToken()):F===l.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(pe))}},{key:Xe,value:function(F){Be(F)||(F===l.QUOTATION_MARK?(this.currentToken.publicId="",this.state=Ut):F===l.APOSTROPHE?(this.currentToken.publicId="",this.state=C):F===l.GREATER_THAN_SIGN?(this._err(u.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=v,this._emitCurrentToken()):F===l.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(pe)))}},{key:Ut,value:function(F){F===l.QUOTATION_MARK?this.state=L:F===l.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.publicId+=a.REPLACEMENT_CHARACTER):F===l.GREATER_THAN_SIGN?(this._err(u.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=v):F===l.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=Mt(F)}},{key:C,value:function(F){F===l.APOSTROPHE?this.state=L:F===l.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.publicId+=a.REPLACEMENT_CHARACTER):F===l.GREATER_THAN_SIGN?(this._err(u.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=v):F===l.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=Mt(F)}},{key:L,value:function(F){Be(F)?this.state=G:F===l.GREATER_THAN_SIGN?(this.state=v,this._emitCurrentToken()):F===l.QUOTATION_MARK?(this._err(u.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=Q):F===l.APOSTROPHE?(this._err(u.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=J):F===l.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(pe))}},{key:G,value:function(F){Be(F)||(F===l.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=v):F===l.QUOTATION_MARK?(this.currentToken.systemId="",this.state=Q):F===l.APOSTROPHE?(this.currentToken.systemId="",this.state=J):F===l.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(pe)))}},{key:se,value:function(F){Be(F)?this.state=de:F===l.QUOTATION_MARK?(this._err(u.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=Q):F===l.APOSTROPHE?(this._err(u.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=J):F===l.GREATER_THAN_SIGN?(this._err(u.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=v,this._emitCurrentToken()):F===l.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(pe))}},{key:de,value:function(F){Be(F)||(F===l.QUOTATION_MARK?(this.currentToken.systemId="",this.state=Q):F===l.APOSTROPHE?(this.currentToken.systemId="",this.state=J):F===l.GREATER_THAN_SIGN?(this._err(u.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=v,this._emitCurrentToken()):F===l.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(pe)))}},{key:Q,value:function(F){F===l.QUOTATION_MARK?this.state=ve:F===l.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.systemId+=a.REPLACEMENT_CHARACTER):F===l.GREATER_THAN_SIGN?(this._err(u.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=v):F===l.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=Mt(F)}},{key:J,value:function(F){F===l.APOSTROPHE?this.state=ve:F===l.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.systemId+=a.REPLACEMENT_CHARACTER):F===l.GREATER_THAN_SIGN?(this._err(u.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=v):F===l.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=Mt(F)}},{key:ve,value:function(F){Be(F)||(F===l.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=v):F===l.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.unexpectedCharacterAfterDoctypeSystemIdentifier),this._reconsumeInState(pe)))}},{key:pe,value:function(F){F===l.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=v):F===l.NULL?this._err(u.unexpectedNullCharacter):F===l.EOF&&(this._emitCurrentToken(),this._emitEOFToken())}},{key:De,value:function(F){F===l.RIGHT_SQUARE_BRACKET?this.state=Ve:F===l.EOF?(this._err(u.eofInCdata),this._emitEOFToken()):this._emitCodePoint(F)}},{key:Ve,value:function(F){F===l.RIGHT_SQUARE_BRACKET?this.state=Ke:(this._emitChars("]"),this._reconsumeInState(De))}},{key:Ke,value:function(F){F===l.GREATER_THAN_SIGN?this.state=v:F===l.RIGHT_SQUARE_BRACKET?this._emitChars("]"):(this._emitChars("]]"),this._reconsumeInState(De))}},{key:ke,value:function(F){this.tempBuff=[l.AMPERSAND],F===l.NUMBER_SIGN?(this.tempBuff.push(F),this.state=Y):Bt(F)?this._reconsumeInState(ye):(this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}},{key:ye,value:function(F){const it=this._matchNamedCharacterReference(F);if(this._ensureHibernation())this.tempBuff=[l.AMPERSAND];else if(it){const St=this.tempBuff[this.tempBuff.length-1]===l.SEMICOLON;this._isCharacterReferenceAttributeQuirk(St)||(St||this._errOnNextCodePoint(u.missingSemicolonAfterCharacterReference),this.tempBuff=it),this._flushCodePointsConsumedAsCharacterReference(),this.state=this.returnState}else this._flushCodePointsConsumedAsCharacterReference(),this.state=xe}},{key:xe,value:function(F){Bt(F)?this._isCharacterReferenceInAttribute()?this.currentAttr.value+=Mt(F):this._emitCodePoint(F):(F===l.SEMICOLON&&this._err(u.unknownNamedCharacterReference),this._reconsumeInState(this.returnState))}},{key:Y,value:function(F){this.charRefCode=0,F===l.LATIN_SMALL_X||F===l.LATIN_CAPITAL_X?(this.tempBuff.push(F),this.state=Z):this._reconsumeInState(ie)}},{key:Z,value:function(F){qt(F)?this._reconsumeInState(we):(this._err(u.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}},{key:ie,value:function(F){mt(F)?this._reconsumeInState(Te):(this._err(u.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}},{key:we,value:function(F){rr(F)?this.charRefCode=this.charRefCode*16+F-55:ht(F)?this.charRefCode=this.charRefCode*16+F-87:mt(F)?this.charRefCode=this.charRefCode*16+F-48:F===l.SEMICOLON?this.state=Ue:(this._err(u.missingSemicolonAfterCharacterReference),this._reconsumeInState(Ue))}},{key:Te,value:function(F){mt(F)?this.charRefCode=this.charRefCode*10+F-48:F===l.SEMICOLON?this.state=Ue:(this._err(u.missingSemicolonAfterCharacterReference),this._reconsumeInState(Ue))}},{key:Ue,value:function(){if(this.charRefCode===l.NULL)this._err(u.nullCharacterReference),this.charRefCode=l.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(u.characterReferenceOutsideUnicodeRange),this.charRefCode=l.REPLACEMENT_CHARACTER;else if(a.isSurrogate(this.charRefCode))this._err(u.surrogateCharacterReference),this.charRefCode=l.REPLACEMENT_CHARACTER;else if(a.isUndefinedCodePoint(this.charRefCode))this._err(u.noncharacterCharacterReference);else if(a.isControlCodePoint(this.charRefCode)||this.charRefCode===l.CARRIAGE_RETURN){this._err(u.controlCharacterReference);const F=h[this.charRefCode];F&&(this.charRefCode=F)}this.tempBuff=[this.charRefCode],this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)}}])})();return Wt.CHARACTER_TOKEN="CHARACTER_TOKEN",Wt.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",Wt.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",Wt.START_TAG_TOKEN="START_TAG_TOKEN",Wt.END_TAG_TOKEN="END_TAG_TOKEN",Wt.COMMENT_TOKEN="COMMENT_TOKEN",Wt.DOCTYPE_TOKEN="DOCTYPE_TOKEN",Wt.EOF_TOKEN="EOF_TOKEN",Wt.HIBERNATION_TOKEN="HIBERNATION_TOKEN",Wt.MODE={DATA:v,RCDATA:b,RAWTEXT:g,SCRIPT_DATA:y,PLAINTEXT:_},Wt.getTokenAttr=function(Ne,F){for(let it=Ne.attrs.length-1;it>=0;it--)if(Ne.attrs[it].name===F)return Ne.attrs[it].value;return null},IT=Wt,IT}var rl={},GM;function Ds(){if(GM)return rl;GM=1;const e=rl.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};rl.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},rl.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};const t=rl.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};return rl.SPECIAL_ELEMENTS={[e.HTML]:{[t.ADDRESS]:!0,[t.APPLET]:!0,[t.AREA]:!0,[t.ARTICLE]:!0,[t.ASIDE]:!0,[t.BASE]:!0,[t.BASEFONT]:!0,[t.BGSOUND]:!0,[t.BLOCKQUOTE]:!0,[t.BODY]:!0,[t.BR]:!0,[t.BUTTON]:!0,[t.CAPTION]:!0,[t.CENTER]:!0,[t.COL]:!0,[t.COLGROUP]:!0,[t.DD]:!0,[t.DETAILS]:!0,[t.DIR]:!0,[t.DIV]:!0,[t.DL]:!0,[t.DT]:!0,[t.EMBED]:!0,[t.FIELDSET]:!0,[t.FIGCAPTION]:!0,[t.FIGURE]:!0,[t.FOOTER]:!0,[t.FORM]:!0,[t.FRAME]:!0,[t.FRAMESET]:!0,[t.H1]:!0,[t.H2]:!0,[t.H3]:!0,[t.H4]:!0,[t.H5]:!0,[t.H6]:!0,[t.HEAD]:!0,[t.HEADER]:!0,[t.HGROUP]:!0,[t.HR]:!0,[t.HTML]:!0,[t.IFRAME]:!0,[t.IMG]:!0,[t.INPUT]:!0,[t.LI]:!0,[t.LINK]:!0,[t.LISTING]:!0,[t.MAIN]:!0,[t.MARQUEE]:!0,[t.MENU]:!0,[t.META]:!0,[t.NAV]:!0,[t.NOEMBED]:!0,[t.NOFRAMES]:!0,[t.NOSCRIPT]:!0,[t.OBJECT]:!0,[t.OL]:!0,[t.P]:!0,[t.PARAM]:!0,[t.PLAINTEXT]:!0,[t.PRE]:!0,[t.SCRIPT]:!0,[t.SECTION]:!0,[t.SELECT]:!0,[t.SOURCE]:!0,[t.STYLE]:!0,[t.SUMMARY]:!0,[t.TABLE]:!0,[t.TBODY]:!0,[t.TD]:!0,[t.TEMPLATE]:!0,[t.TEXTAREA]:!0,[t.TFOOT]:!0,[t.TH]:!0,[t.THEAD]:!0,[t.TITLE]:!0,[t.TR]:!0,[t.TRACK]:!0,[t.UL]:!0,[t.WBR]:!0,[t.XMP]:!0},[e.MATHML]:{[t.MI]:!0,[t.MO]:!0,[t.MN]:!0,[t.MS]:!0,[t.MTEXT]:!0,[t.ANNOTATION_XML]:!0},[e.SVG]:{[t.TITLE]:!0,[t.FOREIGN_OBJECT]:!0,[t.DESC]:!0}},rl}var RT,YM;function hqe(){if(YM)return RT;YM=1;function e(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function t(h,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(h,n(d.key),d)}}function r(h,f,p){return f&&t(h.prototype,f),Object.defineProperty(h,"prototype",{writable:!1}),h}function n(h){var f=i(h,"string");return typeof f=="symbol"?f:f+""}function i(h,f){if(typeof h!="object"||!h)return h;var p=h[Symbol.toPrimitive];if(p!==void 0){var d=p.call(h,f);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}const o=Ds(),a=o.TAG_NAMES,s=o.NAMESPACES;function u(h){switch(h.length){case 1:return h===a.P;case 2:return h===a.RB||h===a.RP||h===a.RT||h===a.DD||h===a.DT||h===a.LI;case 3:return h===a.RTC;case 6:return h===a.OPTION;case 8:return h===a.OPTGROUP}return!1}function l(h){switch(h.length){case 1:return h===a.P;case 2:return h===a.RB||h===a.RP||h===a.RT||h===a.DD||h===a.DT||h===a.LI||h===a.TD||h===a.TH||h===a.TR;case 3:return h===a.RTC;case 5:return h===a.TBODY||h===a.TFOOT||h===a.THEAD;case 6:return h===a.OPTION;case 7:return h===a.CAPTION;case 8:return h===a.OPTGROUP||h===a.COLGROUP}return!1}function c(h,f){switch(h.length){case 2:if(h===a.TD||h===a.TH)return f===s.HTML;if(h===a.MI||h===a.MO||h===a.MN||h===a.MS)return f===s.MATHML;break;case 4:if(h===a.HTML)return f===s.HTML;if(h===a.DESC)return f===s.SVG;break;case 5:if(h===a.TABLE)return f===s.HTML;if(h===a.MTEXT)return f===s.MATHML;if(h===a.TITLE)return f===s.SVG;break;case 6:return(h===a.APPLET||h===a.OBJECT)&&f===s.HTML;case 7:return(h===a.CAPTION||h===a.MARQUEE)&&f===s.HTML;case 8:return h===a.TEMPLATE&&f===s.HTML;case 13:return h===a.FOREIGN_OBJECT&&f===s.SVG;case 14:return h===a.ANNOTATION_XML&&f===s.MATHML}return!1}return RT=(function(){function h(f,p){e(this,h),this.stackTop=-1,this.items=[],this.current=f,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=p}return r(h,[{key:"_indexOf",value:function(f){let p=-1;for(let d=this.stackTop;d>=0;d--)if(this.items[d]===f){p=d;break}return p}},{key:"_isInTemplate",value:function(){return this.currentTagName===a.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===s.HTML}},{key:"_updateCurrentElement",value:function(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null}},{key:"push",value:function(f){this.items[++this.stackTop]=f,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++}},{key:"pop",value:function(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()}},{key:"replace",value:function(f,p){const d=this._indexOf(f);this.items[d]=p,d===this.stackTop&&this._updateCurrentElement()}},{key:"insertAfter",value:function(f,p){const d=this._indexOf(f)+1;this.items.splice(d,0,p),d===++this.stackTop&&this._updateCurrentElement()}},{key:"popUntilTagNamePopped",value:function(f){for(;this.stackTop>-1;){const p=this.currentTagName,d=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),p===f&&d===s.HTML)break}}},{key:"popUntilElementPopped",value:function(f){for(;this.stackTop>-1;){const p=this.current;if(this.pop(),p===f)break}}},{key:"popUntilNumberedHeaderPopped",value:function(){for(;this.stackTop>-1;){const f=this.currentTagName,p=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),f===a.H1||f===a.H2||f===a.H3||f===a.H4||f===a.H5||f===a.H6&&p===s.HTML)break}}},{key:"popUntilTableCellPopped",value:function(){for(;this.stackTop>-1;){const f=this.currentTagName,p=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),f===a.TD||f===a.TH&&p===s.HTML)break}}},{key:"popAllUpToHtmlElement",value:function(){this.stackTop=0,this._updateCurrentElement()}},{key:"clearBackToTableContext",value:function(){for(;this.currentTagName!==a.TABLE&&this.currentTagName!==a.TEMPLATE&&this.currentTagName!==a.HTML||this.treeAdapter.getNamespaceURI(this.current)!==s.HTML;)this.pop()}},{key:"clearBackToTableBodyContext",value:function(){for(;this.currentTagName!==a.TBODY&&this.currentTagName!==a.TFOOT&&this.currentTagName!==a.THEAD&&this.currentTagName!==a.TEMPLATE&&this.currentTagName!==a.HTML||this.treeAdapter.getNamespaceURI(this.current)!==s.HTML;)this.pop()}},{key:"clearBackToTableRowContext",value:function(){for(;this.currentTagName!==a.TR&&this.currentTagName!==a.TEMPLATE&&this.currentTagName!==a.HTML||this.treeAdapter.getNamespaceURI(this.current)!==s.HTML;)this.pop()}},{key:"remove",value:function(f){for(let p=this.stackTop;p>=0;p--)if(this.items[p]===f){this.items.splice(p,1),this.stackTop--,this._updateCurrentElement();break}}},{key:"tryPeekProperlyNestedBodyElement",value:function(){const f=this.items[1];return f&&this.treeAdapter.getTagName(f)===a.BODY?f:null}},{key:"contains",value:function(f){return this._indexOf(f)>-1}},{key:"getCommonAncestor",value:function(f){let p=this._indexOf(f);return--p>=0?this.items[p]:null}},{key:"isRootHtmlElementCurrent",value:function(){return this.stackTop===0&&this.currentTagName===a.HTML}},{key:"hasInScope",value:function(f){for(let p=this.stackTop;p>=0;p--){const d=this.treeAdapter.getTagName(this.items[p]),m=this.treeAdapter.getNamespaceURI(this.items[p]);if(d===f&&m===s.HTML)return!0;if(c(d,m))return!1}return!0}},{key:"hasNumberedHeaderInScope",value:function(){for(let f=this.stackTop;f>=0;f--){const p=this.treeAdapter.getTagName(this.items[f]),d=this.treeAdapter.getNamespaceURI(this.items[f]);if((p===a.H1||p===a.H2||p===a.H3||p===a.H4||p===a.H5||p===a.H6)&&d===s.HTML)return!0;if(c(p,d))return!1}return!0}},{key:"hasInListItemScope",value:function(f){for(let p=this.stackTop;p>=0;p--){const d=this.treeAdapter.getTagName(this.items[p]),m=this.treeAdapter.getNamespaceURI(this.items[p]);if(d===f&&m===s.HTML)return!0;if((d===a.UL||d===a.OL)&&m===s.HTML||c(d,m))return!1}return!0}},{key:"hasInButtonScope",value:function(f){for(let p=this.stackTop;p>=0;p--){const d=this.treeAdapter.getTagName(this.items[p]),m=this.treeAdapter.getNamespaceURI(this.items[p]);if(d===f&&m===s.HTML)return!0;if(d===a.BUTTON&&m===s.HTML||c(d,m))return!1}return!0}},{key:"hasInTableScope",value:function(f){for(let p=this.stackTop;p>=0;p--){const d=this.treeAdapter.getTagName(this.items[p]);if(this.treeAdapter.getNamespaceURI(this.items[p])===s.HTML){if(d===f)return!0;if(d===a.TABLE||d===a.TEMPLATE||d===a.HTML)return!1}}return!0}},{key:"hasTableBodyContextInTableScope",value:function(){for(let f=this.stackTop;f>=0;f--){const p=this.treeAdapter.getTagName(this.items[f]);if(this.treeAdapter.getNamespaceURI(this.items[f])===s.HTML){if(p===a.TBODY||p===a.THEAD||p===a.TFOOT)return!0;if(p===a.TABLE||p===a.HTML)return!1}}return!0}},{key:"hasInSelectScope",value:function(f){for(let p=this.stackTop;p>=0;p--){const d=this.treeAdapter.getTagName(this.items[p]);if(this.treeAdapter.getNamespaceURI(this.items[p])===s.HTML){if(d===f)return!0;if(d!==a.OPTION&&d!==a.OPTGROUP)return!1}}return!0}},{key:"generateImpliedEndTags",value:function(){for(;u(this.currentTagName);)this.pop()}},{key:"generateImpliedEndTagsThoroughly",value:function(){for(;l(this.currentTagName);)this.pop()}},{key:"generateImpliedEndTagsWithExclusion",value:function(f){for(;u(this.currentTagName)&&this.currentTagName!==f;)this.pop()}}])})(),RT}var DT,WM;function fqe(){if(WM)return DT;WM=1;function e(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}function t(s,u){for(var l=0;l<u.length;l++){var c=u[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,n(c.key),c)}}function r(s,u,l){return u&&t(s.prototype,u),Object.defineProperty(s,"prototype",{writable:!1}),s}function n(s){var u=i(s,"string");return typeof u=="symbol"?u:u+""}function i(s,u){if(typeof s!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var c=l.call(s,u);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}const o=3;let a=(function(){function s(u){e(this,s),this.length=0,this.entries=[],this.treeAdapter=u,this.bookmark=null}return r(s,[{key:"_getNoahArkConditionCandidates",value:function(u){const l=[];if(this.length>=o){const c=this.treeAdapter.getAttrList(u).length,h=this.treeAdapter.getTagName(u),f=this.treeAdapter.getNamespaceURI(u);for(let p=this.length-1;p>=0;p--){const d=this.entries[p];if(d.type===s.MARKER_ENTRY)break;const m=d.element,v=this.treeAdapter.getAttrList(m);this.treeAdapter.getTagName(m)===h&&this.treeAdapter.getNamespaceURI(m)===f&&v.length===c&&l.push({idx:p,attrs:v})}}return l.length<o?[]:l}},{key:"_ensureNoahArkCondition",value:function(u){const l=this._getNoahArkConditionCandidates(u);let c=l.length;if(c){const h=this.treeAdapter.getAttrList(u),f=h.length,p=Object.create(null);for(let d=0;d<f;d++){const m=h[d];p[m.name]=m.value}for(let d=0;d<f;d++)for(let m=0;m<c;m++){const v=l[m].attrs[d];if(p[v.name]!==v.value&&(l.splice(m,1),c--),l.length<o)return}for(let d=c-1;d>=o-1;d--)this.entries.splice(l[d].idx,1),this.length--}}},{key:"insertMarker",value:function(){this.entries.push({type:s.MARKER_ENTRY}),this.length++}},{key:"pushElement",value:function(u,l){this._ensureNoahArkCondition(u),this.entries.push({type:s.ELEMENT_ENTRY,element:u,token:l}),this.length++}},{key:"insertElementAfterBookmark",value:function(u,l){let c=this.length-1;for(;c>=0&&this.entries[c]!==this.bookmark;c--);this.entries.splice(c+1,0,{type:s.ELEMENT_ENTRY,element:u,token:l}),this.length++}},{key:"removeEntry",value:function(u){for(let l=this.length-1;l>=0;l--)if(this.entries[l]===u){this.entries.splice(l,1),this.length--;break}}},{key:"clearToLastMarker",value:function(){for(;this.length;){const u=this.entries.pop();if(this.length--,u.type===s.MARKER_ENTRY)break}}},{key:"getElementEntryInScopeWithTagName",value:function(u){for(let l=this.length-1;l>=0;l--){const c=this.entries[l];if(c.type===s.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(c.element)===u)return c}return null}},{key:"getElementEntry",value:function(u){for(let l=this.length-1;l>=0;l--){const c=this.entries[l];if(c.type===s.ELEMENT_ENTRY&&c.element===u)return c}return null}}])})();return a.MARKER_ENTRY="MARKER_ENTRY",a.ELEMENT_ENTRY="ELEMENT_ENTRY",DT=a,DT}var NT,XM;function $a(){if(XM)return NT;XM=1;function e(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function t(a,s){for(var u=0;u<s.length;u++){var l=s[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,n(l.key),l)}}function r(a,s,u){return s&&t(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),a}function n(a){var s=i(a,"string");return typeof s=="symbol"?s:s+""}function i(a,s){if(typeof a!="object"||!a)return a;var u=a[Symbol.toPrimitive];if(u!==void 0){var l=u.call(a,s);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}let o=(function(){function a(s){e(this,a);const u={},l=this._getOverriddenMethods(this,u);for(const c of Object.keys(l))typeof l[c]=="function"&&(u[c]=s[c],s[c]=l[c])}return r(a,[{key:"_getOverriddenMethods",value:function(){throw new Error("Not implemented")}}])})();return o.install=function(a,s,u){a.__mixins||(a.__mixins=[]);for(let c=0;c<a.__mixins.length;c++)if(a.__mixins[c].constructor===s)return a.__mixins[c];const l=new s(a,u);return a.__mixins.push(l),l},NT=o,NT}var jT,$M;function PU(){if($M)return jT;$M=1;function e(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}function t(p,d){for(var m=0;m<d.length;m++){var v=d[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,n(v.key),v)}}function r(p,d,m){return d&&t(p.prototype,d),Object.defineProperty(p,"prototype",{writable:!1}),p}function n(p){var d=i(p,"string");return typeof d=="symbol"?d:d+""}function i(p,d){if(typeof p!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var v=m.call(p,d);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}function o(p,d,m){return d=l(d),a(p,u()?Reflect.construct(d,m||[],l(p).constructor):d.apply(p,m))}function a(p,d){if(d&&(typeof d=="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(p)}function s(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function u(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!p})()}function l(p){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},l(p)}function c(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),d&&h(p,d)}function h(p,d){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,v){return m.__proto__=v,m},h(p,d)}const f=$a();return jT=(function(p){function d(m){var v;return e(this,d),v=o(this,d,[m]),v.preprocessor=m,v.isEol=!1,v.lineStartPos=0,v.droppedBufferSize=0,v.offset=0,v.col=0,v.line=1,v}return c(d,p),r(d,[{key:"_getOverriddenMethods",value:function(m,v){return{advance(){const b=this.pos+1,g=this.html[b];return m.isEol&&(m.isEol=!1,m.line++,m.lineStartPos=b),(g===`
`||g==="\r"&&this.html[b+1]!==`
`)&&(m.isEol=!0),m.col=b-m.lineStartPos+1,m.offset=m.droppedBufferSize+b,v.advance.call(this)},retreat(){v.retreat.call(this),m.isEol=!1,m.col=this.pos-m.lineStartPos+1},dropParsedChunk(){const b=this.pos;v.dropParsedChunk.call(this);const g=b-this.pos;m.lineStartPos-=g,m.droppedBufferSize+=g,m.offset=m.droppedBufferSize+this.pos}}}}])})(f),jT}var LT,qM;function CU(){if(qM)return LT;qM=1;function e(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function t(m,v){for(var b=0;b<v.length;b++){var g=v[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,n(g.key),g)}}function r(m,v,b){return v&&t(m.prototype,v),Object.defineProperty(m,"prototype",{writable:!1}),m}function n(m){var v=i(m,"string");return typeof v=="symbol"?v:v+""}function i(m,v){if(typeof m!="object"||!m)return m;var b=m[Symbol.toPrimitive];if(b!==void 0){var g=b.call(m,v);if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}function o(m,v,b){return v=l(v),a(m,u()?Reflect.construct(v,b||[],l(m).constructor):v.apply(m,b))}function a(m,v){if(v&&(typeof v=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(m)}function s(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function l(m){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},l(m)}function c(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),v&&h(m,v)}function h(m,v){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,g){return b.__proto__=g,b},h(m,v)}const f=$a(),p=Vb(),d=PU();return LT=(function(m){function v(b){var g;return e(this,v),g=o(this,v,[b]),g.tokenizer=b,g.posTracker=f.install(b.preprocessor,d),g.currentAttrLocation=null,g.ctLoc=null,g}return c(v,m),r(v,[{key:"_getCurrentLocation",value:function(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}},{key:"_attachCurrentAttrLocationInfo",value:function(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;const b=this.tokenizer.currentToken,g=this.tokenizer.currentAttr;b.location.attrs||(b.location.attrs=Object.create(null)),b.location.attrs[g.name]=this.currentAttrLocation}},{key:"_getOverriddenMethods",value:function(b,g){const y={_createStartTagToken(){g._createStartTagToken.call(this),this.currentToken.location=b.ctLoc},_createEndTagToken(){g._createEndTagToken.call(this),this.currentToken.location=b.ctLoc},_createCommentToken(){g._createCommentToken.call(this),this.currentToken.location=b.ctLoc},_createDoctypeToken(_){g._createDoctypeToken.call(this,_),this.currentToken.location=b.ctLoc},_createCharacterToken(_,w){g._createCharacterToken.call(this,_,w),this.currentCharacterToken.location=b.ctLoc},_createEOFToken(){g._createEOFToken.call(this),this.currentToken.location=b._getCurrentLocation()},_createAttr(_){g._createAttr.call(this,_),b.currentAttrLocation=b._getCurrentLocation()},_leaveAttrName(_){g._leaveAttrName.call(this,_),b._attachCurrentAttrLocationInfo()},_leaveAttrValue(_){g._leaveAttrValue.call(this,_),b._attachCurrentAttrLocationInfo()},_emitCurrentToken(){const _=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=_.startLine,this.currentCharacterToken.location.endCol=_.startCol,this.currentCharacterToken.location.endOffset=_.startOffset),this.currentToken.type===p.EOF_TOKEN?(_.endLine=_.startLine,_.endCol=_.startCol,_.endOffset=_.startOffset):(_.endLine=b.posTracker.line,_.endCol=b.posTracker.col+1,_.endOffset=b.posTracker.offset+1),g._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){const _=this.currentCharacterToken&&this.currentCharacterToken.location;_&&_.endOffset===-1&&(_.endLine=b.posTracker.line,_.endCol=b.posTracker.col,_.endOffset=b.posTracker.offset),g._emitCurrentCharacterToken.call(this)}};return Object.keys(p.MODE).forEach(_=>{const w=p.MODE[_];y[w]=function(T){b.ctLoc=b._getCurrentLocation(),g[w].call(this,T)}}),y}}])})(f),LT}var BT,KM;function pqe(){if(KM)return BT;KM=1;function e(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}function t(p,d){for(var m=0;m<d.length;m++){var v=d[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,n(v.key),v)}}function r(p,d,m){return d&&t(p.prototype,d),Object.defineProperty(p,"prototype",{writable:!1}),p}function n(p){var d=i(p,"string");return typeof d=="symbol"?d:d+""}function i(p,d){if(typeof p!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var v=m.call(p,d);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}function o(p,d,m){return d=l(d),a(p,u()?Reflect.construct(d,m||[],l(p).constructor):d.apply(p,m))}function a(p,d){if(d&&(typeof d=="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(p)}function s(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function u(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!p})()}function l(p){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},l(p)}function c(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),d&&h(p,d)}function h(p,d){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,v){return m.__proto__=v,m},h(p,d)}const f=$a();return BT=(function(p){function d(m,v){var b;return e(this,d),b=o(this,d,[m]),b.onItemPop=v.onItemPop,b}return c(d,p),r(d,[{key:"_getOverriddenMethods",value:function(m,v){return{pop(){m.onItemPop(this.current),v.pop.call(this)},popAllUpToHtmlElement(){for(let b=this.stackTop;b>0;b--)m.onItemPop(this.items[b]);v.popAllUpToHtmlElement.call(this)},remove(b){m.onItemPop(this.current),v.remove.call(this,b)}}}}])})(f),BT}var FT,ZM;function dqe(){if(ZM)return FT;ZM=1;function e(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function t(b,g){for(var y=0;y<g.length;y++){var _=g[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,n(_.key),_)}}function r(b,g,y){return g&&t(b.prototype,g),Object.defineProperty(b,"prototype",{writable:!1}),b}function n(b){var g=i(b,"string");return typeof g=="symbol"?g:g+""}function i(b,g){if(typeof b!="object"||!b)return b;var y=b[Symbol.toPrimitive];if(y!==void 0){var _=y.call(b,g);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}function o(b,g,y){return g=l(g),a(b,u()?Reflect.construct(g,y||[],l(b).constructor):g.apply(b,y))}function a(b,g){if(g&&(typeof g=="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(b)}function s(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function u(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!b})()}function l(b){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},l(b)}function c(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),g&&h(b,g)}function h(b,g){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,_){return y.__proto__=_,y},h(b,g)}const f=$a(),p=Vb(),d=CU(),m=pqe(),v=Ds().TAG_NAMES;return FT=(function(b){function g(y){var _;return e(this,g),_=o(this,g,[y]),_.parser=y,_.treeAdapter=_.parser.treeAdapter,_.posTracker=null,_.lastStartTagToken=null,_.lastFosterParentingLocation=null,_.currentToken=null,_}return c(g,b),r(g,[{key:"_setStartLocation",value:function(y){let _=null;this.lastStartTagToken&&(_=Object.assign({},this.lastStartTagToken.location),_.startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(y,_)}},{key:"_setEndLocation",value:function(y,_){if(this.treeAdapter.getNodeSourceCodeLocation(y)&&_.location){const w=_.location,T=this.treeAdapter.getTagName(y),O=_.type===p.END_TAG_TOKEN&&T===_.tagName,E={};O?(E.endTag=Object.assign({},w),E.endLine=w.endLine,E.endCol=w.endCol,E.endOffset=w.endOffset):(E.endLine=w.startLine,E.endCol=w.startCol,E.endOffset=w.startOffset),this.treeAdapter.updateNodeSourceCodeLocation(y,E)}}},{key:"_getOverriddenMethods",value:function(y,_){return{_bootstrap(w,T){_._bootstrap.call(this,w,T),y.lastStartTagToken=null,y.lastFosterParentingLocation=null,y.currentToken=null;const O=f.install(this.tokenizer,d);y.posTracker=O.posTracker,f.install(this.openElements,m,{onItemPop:function(E){y._setEndLocation(E,y.currentToken)}})},_runParsingLoop(w){_._runParsingLoop.call(this,w);for(let T=this.openElements.stackTop;T>=0;T--)y._setEndLocation(this.openElements.items[T],y.currentToken)},_processTokenInForeignContent(w){y.currentToken=w,_._processTokenInForeignContent.call(this,w)},_processToken(w){if(y.currentToken=w,_._processToken.call(this,w),w.type===p.END_TAG_TOKEN&&(w.tagName===v.HTML||w.tagName===v.BODY&&this.openElements.hasInScope(v.BODY)))for(let T=this.openElements.stackTop;T>=0;T--){const O=this.openElements.items[T];if(this.treeAdapter.getTagName(O)===w.tagName){y._setEndLocation(O,w);break}}},_setDocumentType(w){_._setDocumentType.call(this,w);const T=this.treeAdapter.getChildNodes(this.document),O=T.length;for(let E=0;E<O;E++){const S=T[E];if(this.treeAdapter.isDocumentTypeNode(S)){this.treeAdapter.setNodeSourceCodeLocation(S,w.location);break}}},_attachElementToTree(w){y._setStartLocation(w),y.lastStartTagToken=null,_._attachElementToTree.call(this,w)},_appendElement(w,T){y.lastStartTagToken=w,_._appendElement.call(this,w,T)},_insertElement(w,T){y.lastStartTagToken=w,_._insertElement.call(this,w,T)},_insertTemplate(w){y.lastStartTagToken=w,_._insertTemplate.call(this,w);const T=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(T,null)},_insertFakeRootElement(){_._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode(w,T){_._appendCommentNode.call(this,w,T);const O=this.treeAdapter.getChildNodes(T),E=O[O.length-1];this.treeAdapter.setNodeSourceCodeLocation(E,w.location)},_findFosterParentingLocation(){return y.lastFosterParentingLocation=_._findFosterParentingLocation.call(this),y.lastFosterParentingLocation},_insertCharacters(w){_._insertCharacters.call(this,w);const T=this._shouldFosterParentOnInsertion(),O=T&&y.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,E=this.treeAdapter.getChildNodes(O),S=T&&y.lastFosterParentingLocation.beforeElement?E.indexOf(y.lastFosterParentingLocation.beforeElement)-1:E.length-1,A=E[S];if(this.treeAdapter.getNodeSourceCodeLocation(A)){const{endLine:M,endCol:H,endOffset:N}=w.location;this.treeAdapter.updateNodeSourceCodeLocation(A,{endLine:M,endCol:H,endOffset:N})}else this.treeAdapter.setNodeSourceCodeLocation(A,w.location)}}}}])})(f),FT}var zT,QM;function vP(){if(QM)return zT;QM=1;function e(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}function t(p,d){for(var m=0;m<d.length;m++){var v=d[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,n(v.key),v)}}function r(p,d,m){return d&&t(p.prototype,d),Object.defineProperty(p,"prototype",{writable:!1}),p}function n(p){var d=i(p,"string");return typeof d=="symbol"?d:d+""}function i(p,d){if(typeof p!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var v=m.call(p,d);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}function o(p,d,m){return d=l(d),a(p,u()?Reflect.construct(d,m||[],l(p).constructor):d.apply(p,m))}function a(p,d){if(d&&(typeof d=="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(p)}function s(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function u(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!p})()}function l(p){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},l(p)}function c(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),d&&h(p,d)}function h(p,d){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,v){return m.__proto__=v,m},h(p,d)}const f=$a();return zT=(function(p){function d(m,v){var b;return e(this,d),b=o(this,d,[m]),b.posTracker=null,b.onParseError=v.onParseError,b}return c(d,p),r(d,[{key:"_setErrorLocation",value:function(m){m.startLine=m.endLine=this.posTracker.line,m.startCol=m.endCol=this.posTracker.col,m.startOffset=m.endOffset=this.posTracker.offset}},{key:"_reportError",value:function(m){const v={code:m,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(v),this.onParseError(v)}},{key:"_getOverriddenMethods",value:function(m){return{_err(v){m._reportError(v)}}}}])})(f),zT}var HT,JM;function mqe(){if(JM)return HT;JM=1;function e(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function t(g,y){for(var _=0;_<y.length;_++){var w=y[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,n(w.key),w)}}function r(g,y,_){return y&&t(g.prototype,y),Object.defineProperty(g,"prototype",{writable:!1}),g}function n(g){var y=i(g,"string");return typeof y=="symbol"?y:y+""}function i(g,y){if(typeof g!="object"||!g)return g;var _=g[Symbol.toPrimitive];if(_!==void 0){var w=_.call(g,y);if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}function o(g,y,_){return y=f(y),a(g,u()?Reflect.construct(y,_||[],f(g).constructor):y.apply(g,_))}function a(g,y){if(y&&(typeof y=="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(g)}function s(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function u(){try{var g=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!g})()}function l(g,y,_,w){var T=c(f(g.prototype),y,_);return typeof T=="function"?function(O){return T.apply(_,O)}:T}function c(){return c=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(g,y,_){var w=h(g,y);if(w){var T=Object.getOwnPropertyDescriptor(w,y);return T.get?T.get.call(arguments.length<3?g:_):T.value}},c.apply(null,arguments)}function h(g,y){for(;!{}.hasOwnProperty.call(g,y)&&(g=f(g))!==null;);return g}function f(g){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},f(g)}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),y&&d(g,y)}function d(g,y){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},d(g,y)}const m=vP(),v=PU(),b=$a();return HT=(function(g){function y(_,w){var T;return e(this,y),T=o(this,y,[_,w]),T.posTracker=b.install(_,v),T.lastErrOffset=-1,T}return p(y,g),r(y,[{key:"_reportError",value:function(_){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,l(y,"_reportError",this)([_]))}}])})(m),HT}var UT,eI;function gqe(){if(eI)return UT;eI=1;function e(f,p,d){return Object.defineProperty(f,"prototype",{writable:!1}),f}function t(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function r(f,p,d){return p=a(p),n(f,o()?Reflect.construct(p,d||[],a(f).constructor):p.apply(f,d))}function n(f,p){if(p&&(typeof p=="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(f)}function i(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function o(){try{var f=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o=function(){return!!f})()}function a(f){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)},a(f)}function s(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),p&&u(f,p)}function u(f,p){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,m){return d.__proto__=m,d},u(f,p)}const l=vP(),c=mqe(),h=$a();return UT=(function(f){function p(d,m){var v;t(this,p),v=r(this,p,[d,m]);const b=h.install(d.preprocessor,c,m);return v.posTracker=b.posTracker,v}return s(p,f),e(p)})(l),UT}var VT,tI;function yqe(){if(tI)return VT;tI=1;function e(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function t(v,b){for(var g=0;g<b.length;g++){var y=b[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,n(y.key),y)}}function r(v,b,g){return b&&t(v.prototype,b),Object.defineProperty(v,"prototype",{writable:!1}),v}function n(v){var b=i(v,"string");return typeof b=="symbol"?b:b+""}function i(v,b){if(typeof v!="object"||!v)return v;var g=v[Symbol.toPrimitive];if(g!==void 0){var y=g.call(v,b);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}function o(v,b,g){return b=l(b),a(v,u()?Reflect.construct(b,g||[],l(v).constructor):b.apply(v,g))}function a(v,b){if(b&&(typeof b=="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(v)}function s(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function u(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!v})()}function l(v){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},l(v)}function c(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),b&&h(v,b)}function h(v,b){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,y){return g.__proto__=y,g},h(v,b)}const f=vP(),p=gqe(),d=CU(),m=$a();return VT=(function(v){function b(g,y){var _;return e(this,b),_=o(this,b,[g,y]),_.opts=y,_.ctLoc=null,_.locBeforeToken=!1,_}return c(b,v),r(b,[{key:"_setErrorLocation",value:function(g){this.ctLoc&&(g.startLine=this.ctLoc.startLine,g.startCol=this.ctLoc.startCol,g.startOffset=this.ctLoc.startOffset,g.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,g.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,g.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)}},{key:"_getOverriddenMethods",value:function(g,y){return{_bootstrap(_,w){y._bootstrap.call(this,_,w),m.install(this.tokenizer,p,g.opts),m.install(this.tokenizer,d)},_processInputToken(_){g.ctLoc=_.location,y._processInputToken.call(this,_)},_err(_,w){g.locBeforeToken=w&&w.beforeToken,g._reportError(_)}}}}])})(f),VT}var Kt={},rI;function AU(){if(rI)return Kt;rI=1;const{DOCUMENT_MODE:e}=Ds();Kt.createDocument=function(){return{nodeName:"#document",mode:e.NO_QUIRKS,childNodes:[]}},Kt.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},Kt.createElement=function(i,o,a){return{nodeName:i,tagName:i,attrs:a,namespaceURI:o,childNodes:[],parentNode:null}},Kt.createCommentNode=function(i){return{nodeName:"#comment",data:i,parentNode:null}};const t=function(i){return{nodeName:"#text",value:i,parentNode:null}},r=Kt.appendChild=function(i,o){i.childNodes.push(o),o.parentNode=i},n=Kt.insertBefore=function(i,o,a){const s=i.childNodes.indexOf(a);i.childNodes.splice(s,0,o),o.parentNode=i};return Kt.setTemplateContent=function(i,o){i.content=o},Kt.getTemplateContent=function(i){return i.content},Kt.setDocumentType=function(i,o,a,s){let u=null;for(let l=0;l<i.childNodes.length;l++)if(i.childNodes[l].nodeName==="#documentType"){u=i.childNodes[l];break}u?(u.name=o,u.publicId=a,u.systemId=s):r(i,{nodeName:"#documentType",name:o,publicId:a,systemId:s})},Kt.setDocumentMode=function(i,o){i.mode=o},Kt.getDocumentMode=function(i){return i.mode},Kt.detachNode=function(i){if(i.parentNode){const o=i.parentNode.childNodes.indexOf(i);i.parentNode.childNodes.splice(o,1),i.parentNode=null}},Kt.insertText=function(i,o){if(i.childNodes.length){const a=i.childNodes[i.childNodes.length-1];if(a.nodeName==="#text"){a.value+=o;return}}r(i,t(o))},Kt.insertTextBefore=function(i,o,a){const s=i.childNodes[i.childNodes.indexOf(a)-1];s&&s.nodeName==="#text"?s.value+=o:n(i,t(o),a)},Kt.adoptAttributes=function(i,o){const a=[];for(let s=0;s<i.attrs.length;s++)a.push(i.attrs[s].name);for(let s=0;s<o.length;s++)a.indexOf(o[s].name)===-1&&i.attrs.push(o[s])},Kt.getFirstChild=function(i){return i.childNodes[0]},Kt.getChildNodes=function(i){return i.childNodes},Kt.getParentNode=function(i){return i.parentNode},Kt.getAttrList=function(i){return i.attrs},Kt.getTagName=function(i){return i.tagName},Kt.getNamespaceURI=function(i){return i.namespaceURI},Kt.getTextNodeContent=function(i){return i.value},Kt.getCommentNodeContent=function(i){return i.data},Kt.getDocumentTypeNodeName=function(i){return i.name},Kt.getDocumentTypeNodePublicId=function(i){return i.publicId},Kt.getDocumentTypeNodeSystemId=function(i){return i.systemId},Kt.isTextNode=function(i){return i.nodeName==="#text"},Kt.isCommentNode=function(i){return i.nodeName==="#comment"},Kt.isDocumentTypeNode=function(i){return i.nodeName==="#documentType"},Kt.isElementNode=function(i){return!!i.tagName},Kt.setNodeSourceCodeLocation=function(i,o){i.sourceCodeLocation=o},Kt.getNodeSourceCodeLocation=function(i){return i.sourceCodeLocation},Kt.updateNodeSourceCodeLocation=function(i,o){i.sourceCodeLocation=Object.assign(i.sourceCodeLocation,o)},Kt}var nI,iI;function MU(){return iI||(iI=1,nI=function(e,t){return t=t||Object.create(null),[e,t].reduce((r,n)=>(Object.keys(n).forEach(i=>{r[i]=n[i]}),r),Object.create(null))}),nI}var dp={},oI;function bP(){if(oI)return dp;oI=1;const{DOCUMENT_MODE:e}=Ds(),t="html",r="about:legacy-compat",n="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",i=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],o=i.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),a=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],s=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],u=s.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]);function l(h){const f=h.indexOf('"')!==-1?"'":'"';return f+h+f}function c(h,f){for(let p=0;p<f.length;p++)if(h.indexOf(f[p])===0)return!0;return!1}return dp.isConforming=function(h){return h.name===t&&h.publicId===null&&(h.systemId===null||h.systemId===r)},dp.getDocumentMode=function(h){if(h.name!==t)return e.QUIRKS;const f=h.systemId;if(f&&f.toLowerCase()===n)return e.QUIRKS;let p=h.publicId;if(p!==null){if(p=p.toLowerCase(),a.indexOf(p)>-1)return e.QUIRKS;let d=f===null?o:i;if(c(p,d))return e.QUIRKS;if(d=f===null?s:u,c(p,d))return e.LIMITED_QUIRKS}return e.NO_QUIRKS},dp.serializeContent=function(h,f,p){let d="!DOCTYPE ";return h&&(d+=h),f?d+=" PUBLIC "+l(f):p&&(d+=" SYSTEM"),p!==null&&(d+=" "+l(p)),d},dp}var ua={},aI;function vqe(){if(aI)return ua;aI=1;const e=Vb(),t=Ds(),r=t.TAG_NAMES,n=t.NAMESPACES,i=t.ATTRS,o={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},a="definitionurl",s="definitionURL",u={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},l={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:n.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:n.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:n.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:n.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:n.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:n.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:n.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:n.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:n.XML},"xml:space":{prefix:"xml",name:"space",namespace:n.XML},xmlns:{prefix:"",name:"xmlns",namespace:n.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:n.XMLNS}},c=ua.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},h={[r.B]:!0,[r.BIG]:!0,[r.BLOCKQUOTE]:!0,[r.BODY]:!0,[r.BR]:!0,[r.CENTER]:!0,[r.CODE]:!0,[r.DD]:!0,[r.DIV]:!0,[r.DL]:!0,[r.DT]:!0,[r.EM]:!0,[r.EMBED]:!0,[r.H1]:!0,[r.H2]:!0,[r.H3]:!0,[r.H4]:!0,[r.H5]:!0,[r.H6]:!0,[r.HEAD]:!0,[r.HR]:!0,[r.I]:!0,[r.IMG]:!0,[r.LI]:!0,[r.LISTING]:!0,[r.MENU]:!0,[r.META]:!0,[r.NOBR]:!0,[r.OL]:!0,[r.P]:!0,[r.PRE]:!0,[r.RUBY]:!0,[r.S]:!0,[r.SMALL]:!0,[r.SPAN]:!0,[r.STRONG]:!0,[r.STRIKE]:!0,[r.SUB]:!0,[r.SUP]:!0,[r.TABLE]:!0,[r.TT]:!0,[r.U]:!0,[r.UL]:!0,[r.VAR]:!0};ua.causesExit=function(d){const m=d.tagName;return m===r.FONT&&(e.getTokenAttr(d,i.COLOR)!==null||e.getTokenAttr(d,i.SIZE)!==null||e.getTokenAttr(d,i.FACE)!==null)?!0:h[m]},ua.adjustTokenMathMLAttrs=function(d){for(let m=0;m<d.attrs.length;m++)if(d.attrs[m].name===a){d.attrs[m].name=s;break}},ua.adjustTokenSVGAttrs=function(d){for(let m=0;m<d.attrs.length;m++){const v=u[d.attrs[m].name];v&&(d.attrs[m].name=v)}},ua.adjustTokenXMLAttrs=function(d){for(let m=0;m<d.attrs.length;m++){const v=l[d.attrs[m].name];v&&(d.attrs[m].prefix=v.prefix,d.attrs[m].name=v.name,d.attrs[m].namespace=v.namespace)}},ua.adjustTokenSVGTagName=function(d){const m=c[d.tagName];m&&(d.tagName=m)};function f(d,m){return m===n.MATHML&&(d===r.MI||d===r.MO||d===r.MN||d===r.MS||d===r.MTEXT)}function p(d,m,v){if(m===n.MATHML&&d===r.ANNOTATION_XML){for(let b=0;b<v.length;b++)if(v[b].name===i.ENCODING){const g=v[b].value.toLowerCase();return g===o.TEXT_HTML||g===o.APPLICATION_XML}}return m===n.SVG&&(d===r.FOREIGN_OBJECT||d===r.DESC||d===r.TITLE)}return ua.isIntegrationPoint=function(d,m,v,b){return!!((!b||b===n.HTML)&&p(d,m,v)||(!b||b===n.MATHML)&&f(d,m))},ua}var GT,sI;function bqe(){if(sI)return GT;sI=1;function e(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}function t(x,I){for(var D=0;D<I.length;D++){var Me=I[D];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(x,n(Me.key),Me)}}function r(x,I,D){return I&&t(x.prototype,I),Object.defineProperty(x,"prototype",{writable:!1}),x}function n(x){var I=i(x,"string");return typeof I=="symbol"?I:I+""}function i(x,I){if(typeof x!="object"||!x)return x;var D=x[Symbol.toPrimitive];if(D!==void 0){var Me=D.call(x,I);if(typeof Me!="object")return Me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}const o=Vb(),a=hqe(),s=fqe(),u=dqe(),l=yqe(),c=$a(),h=AU(),f=MU(),p=bP(),d=vqe(),m=yP(),v=gP(),b=Ds(),g=b.TAG_NAMES,y=b.NAMESPACES,_=b.ATTRS,w={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:h},T="hidden",O=8,E=3,S="INITIAL_MODE",A="BEFORE_HTML_MODE",M="BEFORE_HEAD_MODE",H="IN_HEAD_MODE",N="IN_HEAD_NO_SCRIPT_MODE",k="AFTER_HEAD_MODE",R="IN_BODY_MODE",B="TEXT_MODE",z="IN_TABLE_MODE",U="IN_TABLE_TEXT_MODE",V="IN_CAPTION_MODE",W="IN_COLUMN_GROUP_MODE",te="IN_TABLE_BODY_MODE",re="IN_ROW_MODE",X="IN_CELL_MODE",$="IN_SELECT_MODE",ee="IN_SELECT_IN_TABLE_MODE",le="IN_TEMPLATE_MODE",fe="AFTER_BODY_MODE",Ee="IN_FRAMESET_MODE",ce="AFTER_FRAMESET_MODE",Se="AFTER_AFTER_BODY_MODE",Oe="AFTER_AFTER_FRAMESET_MODE",he={[g.TR]:re,[g.TBODY]:te,[g.THEAD]:te,[g.TFOOT]:te,[g.CAPTION]:V,[g.COLGROUP]:W,[g.TABLE]:z,[g.BODY]:R,[g.FRAMESET]:Ee},Pe={[g.CAPTION]:z,[g.COLGROUP]:z,[g.TBODY]:z,[g.TFOOT]:z,[g.THEAD]:z,[g.COL]:W,[g.TR]:te,[g.TD]:re,[g.TH]:re},Fe={[S]:{[o.CHARACTER_TOKEN]:be,[o.NULL_CHARACTER_TOKEN]:be,[o.WHITESPACE_CHARACTER_TOKEN]:Ye,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:ge,[o.START_TAG_TOKEN]:be,[o.END_TAG_TOKEN]:be,[o.EOF_TOKEN]:be},[A]:{[o.CHARACTER_TOKEN]:ze,[o.NULL_CHARACTER_TOKEN]:ze,[o.WHITESPACE_CHARACTER_TOKEN]:Ye,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:Ye,[o.START_TAG_TOKEN]:Re,[o.END_TAG_TOKEN]:je,[o.EOF_TOKEN]:ze},[M]:{[o.CHARACTER_TOKEN]:Tt,[o.NULL_CHARACTER_TOKEN]:Tt,[o.WHITESPACE_CHARACTER_TOKEN]:Ye,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:_e,[o.START_TAG_TOKEN]:qe,[o.END_TAG_TOKEN]:nt,[o.EOF_TOKEN]:Tt},[H]:{[o.CHARACTER_TOKEN]:C,[o.NULL_CHARACTER_TOKEN]:C,[o.WHITESPACE_CHARACTER_TOKEN]:q,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:_e,[o.START_TAG_TOKEN]:Xe,[o.END_TAG_TOKEN]:Ut,[o.EOF_TOKEN]:C},[N]:{[o.CHARACTER_TOKEN]:se,[o.NULL_CHARACTER_TOKEN]:se,[o.WHITESPACE_CHARACTER_TOKEN]:q,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:_e,[o.START_TAG_TOKEN]:L,[o.END_TAG_TOKEN]:G,[o.EOF_TOKEN]:se},[k]:{[o.CHARACTER_TOKEN]:J,[o.NULL_CHARACTER_TOKEN]:J,[o.WHITESPACE_CHARACTER_TOKEN]:q,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:_e,[o.START_TAG_TOKEN]:de,[o.END_TAG_TOKEN]:Q,[o.EOF_TOKEN]:J},[R]:{[o.CHARACTER_TOKEN]:pe,[o.NULL_CHARACTER_TOKEN]:Ye,[o.WHITESPACE_CHARACTER_TOKEN]:ve,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:Ye,[o.START_TAG_TOKEN]:cr,[o.END_TAG_TOKEN]:Lf,[o.EOF_TOKEN]:Ri},[B]:{[o.CHARACTER_TOKEN]:q,[o.NULL_CHARACTER_TOKEN]:q,[o.WHITESPACE_CHARACTER_TOKEN]:q,[o.COMMENT_TOKEN]:Ye,[o.DOCTYPE_TOKEN]:Ye,[o.START_TAG_TOKEN]:Ye,[o.END_TAG_TOKEN]:C_,[o.EOF_TOKEN]:A_},[z]:{[o.CHARACTER_TOKEN]:Di,[o.NULL_CHARACTER_TOKEN]:Di,[o.WHITESPACE_CHARACTER_TOKEN]:Di,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:Ye,[o.START_TAG_TOKEN]:Bf,[o.END_TAG_TOKEN]:Ff,[o.EOF_TOKEN]:Ri},[U]:{[o.CHARACTER_TOKEN]:j_,[o.NULL_CHARACTER_TOKEN]:Ye,[o.WHITESPACE_CHARACTER_TOKEN]:om,[o.COMMENT_TOKEN]:Ro,[o.DOCTYPE_TOKEN]:Ro,[o.START_TAG_TOKEN]:Ro,[o.END_TAG_TOKEN]:Ro,[o.EOF_TOKEN]:Ro},[V]:{[o.CHARACTER_TOKEN]:pe,[o.NULL_CHARACTER_TOKEN]:Ye,[o.WHITESPACE_CHARACTER_TOKEN]:ve,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:Ye,[o.START_TAG_TOKEN]:L_,[o.END_TAG_TOKEN]:zf,[o.EOF_TOKEN]:Ri},[W]:{[o.CHARACTER_TOKEN]:Us,[o.NULL_CHARACTER_TOKEN]:Us,[o.WHITESPACE_CHARACTER_TOKEN]:q,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:Ye,[o.START_TAG_TOKEN]:B_,[o.END_TAG_TOKEN]:am,[o.EOF_TOKEN]:Ri},[te]:{[o.CHARACTER_TOKEN]:Di,[o.NULL_CHARACTER_TOKEN]:Di,[o.WHITESPACE_CHARACTER_TOKEN]:Di,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:Ye,[o.START_TAG_TOKEN]:sm,[o.END_TAG_TOKEN]:Vs,[o.EOF_TOKEN]:Ri},[re]:{[o.CHARACTER_TOKEN]:Di,[o.NULL_CHARACTER_TOKEN]:Di,[o.WHITESPACE_CHARACTER_TOKEN]:Di,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:Ye,[o.START_TAG_TOKEN]:lm,[o.END_TAG_TOKEN]:F_,[o.EOF_TOKEN]:Ri},[X]:{[o.CHARACTER_TOKEN]:pe,[o.NULL_CHARACTER_TOKEN]:Ye,[o.WHITESPACE_CHARACTER_TOKEN]:ve,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:Ye,[o.START_TAG_TOKEN]:z_,[o.END_TAG_TOKEN]:H_,[o.EOF_TOKEN]:Ri},[$]:{[o.CHARACTER_TOKEN]:q,[o.NULL_CHARACTER_TOKEN]:Ye,[o.WHITESPACE_CHARACTER_TOKEN]:q,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:Ye,[o.START_TAG_TOKEN]:ne,[o.END_TAG_TOKEN]:me,[o.EOF_TOKEN]:Ri},[ee]:{[o.CHARACTER_TOKEN]:q,[o.NULL_CHARACTER_TOKEN]:Ye,[o.WHITESPACE_CHARACTER_TOKEN]:q,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:Ye,[o.START_TAG_TOKEN]:Ce,[o.END_TAG_TOKEN]:Ze,[o.EOF_TOKEN]:Ri},[le]:{[o.CHARACTER_TOKEN]:pe,[o.NULL_CHARACTER_TOKEN]:Ye,[o.WHITESPACE_CHARACTER_TOKEN]:ve,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:Ye,[o.START_TAG_TOKEN]:yr,[o.END_TAG_TOKEN]:At,[o.EOF_TOKEN]:wr},[fe]:{[o.CHARACTER_TOKEN]:dr,[o.NULL_CHARACTER_TOKEN]:dr,[o.WHITESPACE_CHARACTER_TOKEN]:ve,[o.COMMENT_TOKEN]:oe,[o.DOCTYPE_TOKEN]:Ye,[o.START_TAG_TOKEN]:Yr,[o.END_TAG_TOKEN]:Zr,[o.EOF_TOKEN]:ae},[Ee]:{[o.CHARACTER_TOKEN]:Ye,[o.NULL_CHARACTER_TOKEN]:Ye,[o.WHITESPACE_CHARACTER_TOKEN]:q,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:Ye,[o.START_TAG_TOKEN]:Nn,[o.END_TAG_TOKEN]:wi,[o.EOF_TOKEN]:ae},[ce]:{[o.CHARACTER_TOKEN]:Ye,[o.NULL_CHARACTER_TOKEN]:Ye,[o.WHITESPACE_CHARACTER_TOKEN]:q,[o.COMMENT_TOKEN]:K,[o.DOCTYPE_TOKEN]:Ye,[o.START_TAG_TOKEN]:rn,[o.END_TAG_TOKEN]:Jn,[o.EOF_TOKEN]:ae},[Se]:{[o.CHARACTER_TOKEN]:Ti,[o.NULL_CHARACTER_TOKEN]:Ti,[o.WHITESPACE_CHARACTER_TOKEN]:ve,[o.COMMENT_TOKEN]:ue,[o.DOCTYPE_TOKEN]:Ye,[o.START_TAG_TOKEN]:ei,[o.END_TAG_TOKEN]:Ti,[o.EOF_TOKEN]:ae},[Oe]:{[o.CHARACTER_TOKEN]:Ye,[o.NULL_CHARACTER_TOKEN]:Ye,[o.WHITESPACE_CHARACTER_TOKEN]:ve,[o.COMMENT_TOKEN]:ue,[o.DOCTYPE_TOKEN]:Ye,[o.START_TAG_TOKEN]:io,[o.END_TAG_TOKEN]:Ye,[o.EOF_TOKEN]:ae}};GT=(function(){function x(I){e(this,x),this.options=f(w,I),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&c.install(this,u),this.options.onParseError&&c.install(this,l,{onParseError:this.options.onParseError})}return r(x,[{key:"parse",value:function(I){const D=this.treeAdapter.createDocument();return this._bootstrap(D,null),this.tokenizer.write(I,!0),this._runParsingLoop(null),D}},{key:"parseFragment",value:function(I,D){D||(D=this.treeAdapter.createElement(g.TEMPLATE,y.HTML,[]));const Me=this.treeAdapter.createElement("documentmock",y.HTML,[]);this._bootstrap(Me,D),this.treeAdapter.getTagName(D)===g.TEMPLATE&&this._pushTmplInsertionMode(le),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(I,!0),this._runParsingLoop(null);const ft=this.treeAdapter.getFirstChild(Me),mr=this.treeAdapter.createDocumentFragment();return this._adoptNodes(ft,mr),mr}},{key:"_bootstrap",value:function(I,D){this.tokenizer=new o(this.options),this.stopped=!1,this.insertionMode=S,this.originalInsertionMode="",this.document=I,this.fragmentContext=D,this.headElement=null,this.formElement=null,this.openElements=new a(this.document,this.treeAdapter),this.activeFormattingElements=new s(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1}},{key:"_err",value:function(){}},{key:"_runParsingLoop",value:function(I){for(;!this.stopped;){this._setupTokenizerCDATAMode();const D=this.tokenizer.getNextToken();if(D.type===o.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,D.type===o.WHITESPACE_CHARACTER_TOKEN&&D.chars[0]===`
`)){if(D.chars.length===1)continue;D.chars=D.chars.substr(1)}if(this._processInputToken(D),I&&this.pendingScript)break}}},{key:"runParsingLoopForCurrentChunk",value:function(I,D){if(this._runParsingLoop(D),D&&this.pendingScript){const Me=this.pendingScript;this.pendingScript=null,D(Me);return}I&&I()}},{key:"_setupTokenizerCDATAMode",value:function(){const I=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=I&&I!==this.document&&this.treeAdapter.getNamespaceURI(I)!==y.HTML&&!this._isIntegrationPoint(I)}},{key:"_switchToTextParsing",value:function(I,D){this._insertElement(I,y.HTML),this.tokenizer.state=D,this.originalInsertionMode=this.insertionMode,this.insertionMode=B}},{key:"switchToPlaintextParsing",value:function(){this.insertionMode=B,this.originalInsertionMode=R,this.tokenizer.state=o.MODE.PLAINTEXT}},{key:"_getAdjustedCurrentElement",value:function(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}},{key:"_findFormInFragmentContext",value:function(){let I=this.fragmentContext;do{if(this.treeAdapter.getTagName(I)===g.FORM){this.formElement=I;break}I=this.treeAdapter.getParentNode(I)}while(I)}},{key:"_initTokenizerForFragmentParsing",value:function(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===y.HTML){const I=this.treeAdapter.getTagName(this.fragmentContext);I===g.TITLE||I===g.TEXTAREA?this.tokenizer.state=o.MODE.RCDATA:I===g.STYLE||I===g.XMP||I===g.IFRAME||I===g.NOEMBED||I===g.NOFRAMES||I===g.NOSCRIPT?this.tokenizer.state=o.MODE.RAWTEXT:I===g.SCRIPT?this.tokenizer.state=o.MODE.SCRIPT_DATA:I===g.PLAINTEXT&&(this.tokenizer.state=o.MODE.PLAINTEXT)}}},{key:"_setDocumentType",value:function(I){const D=I.name||"",Me=I.publicId||"",ft=I.systemId||"";this.treeAdapter.setDocumentType(this.document,D,Me,ft)}},{key:"_attachElementToTree",value:function(I){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(I);else{const D=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(D,I)}}},{key:"_appendElement",value:function(I,D){const Me=this.treeAdapter.createElement(I.tagName,D,I.attrs);this._attachElementToTree(Me)}},{key:"_insertElement",value:function(I,D){const Me=this.treeAdapter.createElement(I.tagName,D,I.attrs);this._attachElementToTree(Me),this.openElements.push(Me)}},{key:"_insertFakeElement",value:function(I){const D=this.treeAdapter.createElement(I,y.HTML,[]);this._attachElementToTree(D),this.openElements.push(D)}},{key:"_insertTemplate",value:function(I){const D=this.treeAdapter.createElement(I.tagName,y.HTML,I.attrs),Me=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(D,Me),this._attachElementToTree(D),this.openElements.push(D)}},{key:"_insertFakeRootElement",value:function(){const I=this.treeAdapter.createElement(g.HTML,y.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,I),this.openElements.push(I)}},{key:"_appendCommentNode",value:function(I,D){const Me=this.treeAdapter.createCommentNode(I.data);this.treeAdapter.appendChild(D,Me)}},{key:"_insertCharacters",value:function(I){if(this._shouldFosterParentOnInsertion())this._fosterParentText(I.chars);else{const D=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(D,I.chars)}}},{key:"_adoptNodes",value:function(I,D){for(let Me=this.treeAdapter.getFirstChild(I);Me;Me=this.treeAdapter.getFirstChild(I))this.treeAdapter.detachNode(Me),this.treeAdapter.appendChild(D,Me)}},{key:"_shouldProcessTokenInForeignContent",value:function(I){const D=this._getAdjustedCurrentElement();if(!D||D===this.document)return!1;const Me=this.treeAdapter.getNamespaceURI(D);if(Me===y.HTML||this.treeAdapter.getTagName(D)===g.ANNOTATION_XML&&Me===y.MATHML&&I.type===o.START_TAG_TOKEN&&I.tagName===g.SVG)return!1;const ft=I.type===o.CHARACTER_TOKEN||I.type===o.NULL_CHARACTER_TOKEN||I.type===o.WHITESPACE_CHARACTER_TOKEN;return(I.type===o.START_TAG_TOKEN&&I.tagName!==g.MGLYPH&&I.tagName!==g.MALIGNMARK||ft)&&this._isIntegrationPoint(D,y.MATHML)||(I.type===o.START_TAG_TOKEN||ft)&&this._isIntegrationPoint(D,y.HTML)?!1:I.type!==o.EOF_TOKEN}},{key:"_processToken",value:function(I){Fe[this.insertionMode][I.type](this,I)}},{key:"_processTokenInBodyMode",value:function(I){Fe[R][I.type](this,I)}},{key:"_processTokenInForeignContent",value:function(I){I.type===o.CHARACTER_TOKEN?um(this,I):I.type===o.NULL_CHARACTER_TOKEN?oa(this,I):I.type===o.WHITESPACE_CHARACTER_TOKEN?q(this,I):I.type===o.COMMENT_TOKEN?K(this,I):I.type===o.START_TAG_TOKEN?Tu(this,I):I.type===o.END_TAG_TOKEN&&xu(this,I)}},{key:"_processInputToken",value:function(I){this._shouldProcessTokenInForeignContent(I)?this._processTokenInForeignContent(I):this._processToken(I),I.type===o.START_TAG_TOKEN&&I.selfClosing&&!I.ackSelfClosing&&this._err(m.nonVoidHtmlElementStartTagWithTrailingSolidus)}},{key:"_isIntegrationPoint",value:function(I,D){const Me=this.treeAdapter.getTagName(I),ft=this.treeAdapter.getNamespaceURI(I),mr=this.treeAdapter.getAttrList(I);return d.isIntegrationPoint(Me,ft,mr,D)}},{key:"_reconstructActiveFormattingElements",value:function(){const I=this.activeFormattingElements.length;if(I){let D=I,Me=null;do if(D--,Me=this.activeFormattingElements.entries[D],Me.type===s.MARKER_ENTRY||this.openElements.contains(Me.element)){D++;break}while(D>0);for(let ft=D;ft<I;ft++)Me=this.activeFormattingElements.entries[ft],this._insertElement(Me.token,this.treeAdapter.getNamespaceURI(Me.element)),Me.element=this.openElements.current}}},{key:"_closeTableCell",value:function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=re}},{key:"_closePElement",value:function(){this.openElements.generateImpliedEndTagsWithExclusion(g.P),this.openElements.popUntilTagNamePopped(g.P)}},{key:"_resetInsertionMode",value:function(){for(let I=this.openElements.stackTop,D=!1;I>=0;I--){let Me=this.openElements.items[I];I===0&&(D=!0,this.fragmentContext&&(Me=this.fragmentContext));const ft=this.treeAdapter.getTagName(Me),mr=he[ft];if(mr){this.insertionMode=mr;break}else if(!D&&(ft===g.TD||ft===g.TH)){this.insertionMode=X;break}else if(!D&&ft===g.HEAD){this.insertionMode=H;break}else if(ft===g.SELECT){this._resetInsertionModeForSelect(I);break}else if(ft===g.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}else if(ft===g.HTML){this.insertionMode=this.headElement?k:M;break}else if(D){this.insertionMode=R;break}}}},{key:"_resetInsertionModeForSelect",value:function(I){if(I>0)for(let D=I-1;D>0;D--){const Me=this.openElements.items[D],ft=this.treeAdapter.getTagName(Me);if(ft===g.TEMPLATE)break;if(ft===g.TABLE){this.insertionMode=ee;return}}this.insertionMode=$}},{key:"_pushTmplInsertionMode",value:function(I){this.tmplInsertionModeStack.push(I),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=I}},{key:"_popTmplInsertionMode",value:function(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]}},{key:"_isElementCausesFosterParenting",value:function(I){const D=this.treeAdapter.getTagName(I);return D===g.TABLE||D===g.TBODY||D===g.TFOOT||D===g.THEAD||D===g.TR}},{key:"_shouldFosterParentOnInsertion",value:function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)}},{key:"_findFosterParentingLocation",value:function(){const I={parent:null,beforeElement:null};for(let D=this.openElements.stackTop;D>=0;D--){const Me=this.openElements.items[D],ft=this.treeAdapter.getTagName(Me),mr=this.treeAdapter.getNamespaceURI(Me);if(ft===g.TEMPLATE&&mr===y.HTML){I.parent=this.treeAdapter.getTemplateContent(Me);break}else if(ft===g.TABLE){I.parent=this.treeAdapter.getParentNode(Me),I.parent?I.beforeElement=Me:I.parent=this.openElements.items[D-1];break}}return I.parent||(I.parent=this.openElements.items[0]),I}},{key:"_fosterParentElement",value:function(I){const D=this._findFosterParentingLocation();D.beforeElement?this.treeAdapter.insertBefore(D.parent,I,D.beforeElement):this.treeAdapter.appendChild(D.parent,I)}},{key:"_fosterParentText",value:function(I){const D=this._findFosterParentingLocation();D.beforeElement?this.treeAdapter.insertTextBefore(D.parent,I,D.beforeElement):this.treeAdapter.insertText(D.parent,I)}},{key:"_isSpecialElement",value:function(I){const D=this.treeAdapter.getTagName(I),Me=this.treeAdapter.getNamespaceURI(I);return b.SPECIAL_ELEMENTS[Me][D]}}])})();function We(x,I){let D=x.activeFormattingElements.getElementEntryInScopeWithTagName(I.tagName);return D?x.openElements.contains(D.element)?x.openElements.hasInScope(I.tagName)||(D=null):(x.activeFormattingElements.removeEntry(D),D=null):_i(x,I),D}function et(x,I){let D=null;for(let Me=x.openElements.stackTop;Me>=0;Me--){const ft=x.openElements.items[Me];if(ft===I.element)break;x._isSpecialElement(ft)&&(D=ft)}return D||(x.openElements.popUntilElementPopped(I.element),x.activeFormattingElements.removeEntry(I)),D}function He(x,I,D){let Me=I,ft=x.openElements.getCommonAncestor(I);for(let mr=0,En=ft;En!==D;mr++,En=ft){ft=x.openElements.getCommonAncestor(En);const Hf=x.activeFormattingElements.getElementEntry(En),OC=Hf&&mr>=E;!Hf||OC?(OC&&x.activeFormattingElements.removeEntry(Hf),x.openElements.remove(En)):(En=$e(x,Hf),Me===I&&(x.activeFormattingElements.bookmark=Hf),x.treeAdapter.detachNode(Me),x.treeAdapter.appendChild(En,Me),Me=En)}return Me}function $e(x,I){const D=x.treeAdapter.getNamespaceURI(I.element),Me=x.treeAdapter.createElement(I.token.tagName,D,I.token.attrs);return x.openElements.replace(I.element,Me),I.element=Me,Me}function vt(x,I,D){if(x._isElementCausesFosterParenting(I))x._fosterParentElement(D);else{const Me=x.treeAdapter.getTagName(I),ft=x.treeAdapter.getNamespaceURI(I);Me===g.TEMPLATE&&ft===y.HTML&&(I=x.treeAdapter.getTemplateContent(I)),x.treeAdapter.appendChild(I,D)}}function Ct(x,I,D){const Me=x.treeAdapter.getNamespaceURI(D.element),ft=D.token,mr=x.treeAdapter.createElement(ft.tagName,Me,ft.attrs);x._adoptNodes(I,mr),x.treeAdapter.appendChild(I,mr),x.activeFormattingElements.insertElementAfterBookmark(mr,D.token),x.activeFormattingElements.removeEntry(D),x.openElements.remove(D.element),x.openElements.insertAfter(I,mr)}function Lt(x,I){let D;for(let Me=0;Me<O&&(D=We(x,I),!!D);Me++){const ft=et(x,D);if(!ft)break;x.activeFormattingElements.bookmark=D;const mr=He(x,ft,D.element),En=x.openElements.getCommonAncestor(D.element);x.treeAdapter.detachNode(mr),vt(x,En,mr),Ct(x,ft,D)}}function Ye(){}function _e(x){x._err(m.misplacedDoctype)}function K(x,I){x._appendCommentNode(I,x.openElements.currentTmplContent||x.openElements.current)}function oe(x,I){x._appendCommentNode(I,x.openElements.items[0])}function ue(x,I){x._appendCommentNode(I,x.document)}function q(x,I){x._insertCharacters(I)}function ae(x){x.stopped=!0}function ge(x,I){x._setDocumentType(I);const D=I.forceQuirks?b.DOCUMENT_MODE.QUIRKS:p.getDocumentMode(I);p.isConforming(I)||x._err(m.nonConformingDoctype),x.treeAdapter.setDocumentMode(x.document,D),x.insertionMode=A}function be(x,I){x._err(m.missingDoctype,{beforeToken:!0}),x.treeAdapter.setDocumentMode(x.document,b.DOCUMENT_MODE.QUIRKS),x.insertionMode=A,x._processToken(I)}function Re(x,I){I.tagName===g.HTML?(x._insertElement(I,y.HTML),x.insertionMode=M):ze(x,I)}function je(x,I){const D=I.tagName;(D===g.HTML||D===g.HEAD||D===g.BODY||D===g.BR)&&ze(x,I)}function ze(x,I){x._insertFakeRootElement(),x.insertionMode=M,x._processToken(I)}function qe(x,I){const D=I.tagName;D===g.HTML?cr(x,I):D===g.HEAD?(x._insertElement(I,y.HTML),x.headElement=x.openElements.current,x.insertionMode=H):Tt(x,I)}function nt(x,I){const D=I.tagName;D===g.HEAD||D===g.BODY||D===g.HTML||D===g.BR?Tt(x,I):x._err(m.endTagWithoutMatchingOpenElement)}function Tt(x,I){x._insertFakeElement(g.HEAD),x.headElement=x.openElements.current,x.insertionMode=H,x._processToken(I)}function Xe(x,I){const D=I.tagName;D===g.HTML?cr(x,I):D===g.BASE||D===g.BASEFONT||D===g.BGSOUND||D===g.LINK||D===g.META?(x._appendElement(I,y.HTML),I.ackSelfClosing=!0):D===g.TITLE?x._switchToTextParsing(I,o.MODE.RCDATA):D===g.NOSCRIPT?x.options.scriptingEnabled?x._switchToTextParsing(I,o.MODE.RAWTEXT):(x._insertElement(I,y.HTML),x.insertionMode=N):D===g.NOFRAMES||D===g.STYLE?x._switchToTextParsing(I,o.MODE.RAWTEXT):D===g.SCRIPT?x._switchToTextParsing(I,o.MODE.SCRIPT_DATA):D===g.TEMPLATE?(x._insertTemplate(I,y.HTML),x.activeFormattingElements.insertMarker(),x.framesetOk=!1,x.insertionMode=le,x._pushTmplInsertionMode(le)):D===g.HEAD?x._err(m.misplacedStartTagForHeadElement):C(x,I)}function Ut(x,I){const D=I.tagName;D===g.HEAD?(x.openElements.pop(),x.insertionMode=k):D===g.BODY||D===g.BR||D===g.HTML?C(x,I):D===g.TEMPLATE&&x.openElements.tmplCount>0?(x.openElements.generateImpliedEndTagsThoroughly(),x.openElements.currentTagName!==g.TEMPLATE&&x._err(m.closingOfElementWithOpenChildElements),x.openElements.popUntilTagNamePopped(g.TEMPLATE),x.activeFormattingElements.clearToLastMarker(),x._popTmplInsertionMode(),x._resetInsertionMode()):x._err(m.endTagWithoutMatchingOpenElement)}function C(x,I){x.openElements.pop(),x.insertionMode=k,x._processToken(I)}function L(x,I){const D=I.tagName;D===g.HTML?cr(x,I):D===g.BASEFONT||D===g.BGSOUND||D===g.HEAD||D===g.LINK||D===g.META||D===g.NOFRAMES||D===g.STYLE?Xe(x,I):D===g.NOSCRIPT?x._err(m.nestedNoscriptInHead):se(x,I)}function G(x,I){const D=I.tagName;D===g.NOSCRIPT?(x.openElements.pop(),x.insertionMode=H):D===g.BR?se(x,I):x._err(m.endTagWithoutMatchingOpenElement)}function se(x,I){const D=I.type===o.EOF_TOKEN?m.openElementsLeftAfterEof:m.disallowedContentInNoscriptInHead;x._err(D),x.openElements.pop(),x.insertionMode=H,x._processToken(I)}function de(x,I){const D=I.tagName;D===g.HTML?cr(x,I):D===g.BODY?(x._insertElement(I,y.HTML),x.framesetOk=!1,x.insertionMode=R):D===g.FRAMESET?(x._insertElement(I,y.HTML),x.insertionMode=Ee):D===g.BASE||D===g.BASEFONT||D===g.BGSOUND||D===g.LINK||D===g.META||D===g.NOFRAMES||D===g.SCRIPT||D===g.STYLE||D===g.TEMPLATE||D===g.TITLE?(x._err(m.abandonedHeadElementChild),x.openElements.push(x.headElement),Xe(x,I),x.openElements.remove(x.headElement)):D===g.HEAD?x._err(m.misplacedStartTagForHeadElement):J(x,I)}function Q(x,I){const D=I.tagName;D===g.BODY||D===g.HTML||D===g.BR?J(x,I):D===g.TEMPLATE?Ut(x,I):x._err(m.endTagWithoutMatchingOpenElement)}function J(x,I){x._insertFakeElement(g.BODY),x.insertionMode=R,x._processToken(I)}function ve(x,I){x._reconstructActiveFormattingElements(),x._insertCharacters(I)}function pe(x,I){x._reconstructActiveFormattingElements(),x._insertCharacters(I),x.framesetOk=!1}function De(x,I){x.openElements.tmplCount===0&&x.treeAdapter.adoptAttributes(x.openElements.items[0],I.attrs)}function Ve(x,I){const D=x.openElements.tryPeekProperlyNestedBodyElement();D&&x.openElements.tmplCount===0&&(x.framesetOk=!1,x.treeAdapter.adoptAttributes(D,I.attrs))}function Ke(x,I){const D=x.openElements.tryPeekProperlyNestedBodyElement();x.framesetOk&&D&&(x.treeAdapter.detachNode(D),x.openElements.popAllUpToHtmlElement(),x._insertElement(I,y.HTML),x.insertionMode=Ee)}function ke(x,I){x.openElements.hasInButtonScope(g.P)&&x._closePElement(),x._insertElement(I,y.HTML)}function ye(x,I){x.openElements.hasInButtonScope(g.P)&&x._closePElement();const D=x.openElements.currentTagName;(D===g.H1||D===g.H2||D===g.H3||D===g.H4||D===g.H5||D===g.H6)&&x.openElements.pop(),x._insertElement(I,y.HTML)}function xe(x,I){x.openElements.hasInButtonScope(g.P)&&x._closePElement(),x._insertElement(I,y.HTML),x.skipNextNewLine=!0,x.framesetOk=!1}function Y(x,I){const D=x.openElements.tmplCount>0;(!x.formElement||D)&&(x.openElements.hasInButtonScope(g.P)&&x._closePElement(),x._insertElement(I,y.HTML),D||(x.formElement=x.openElements.current))}function Z(x,I){x.framesetOk=!1;const D=I.tagName;for(let Me=x.openElements.stackTop;Me>=0;Me--){const ft=x.openElements.items[Me],mr=x.treeAdapter.getTagName(ft);let En=null;if(D===g.LI&&mr===g.LI?En=g.LI:(D===g.DD||D===g.DT)&&(mr===g.DD||mr===g.DT)&&(En=mr),En){x.openElements.generateImpliedEndTagsWithExclusion(En),x.openElements.popUntilTagNamePopped(En);break}if(mr!==g.ADDRESS&&mr!==g.DIV&&mr!==g.P&&x._isSpecialElement(ft))break}x.openElements.hasInButtonScope(g.P)&&x._closePElement(),x._insertElement(I,y.HTML)}function ie(x,I){x.openElements.hasInButtonScope(g.P)&&x._closePElement(),x._insertElement(I,y.HTML),x.tokenizer.state=o.MODE.PLAINTEXT}function we(x,I){x.openElements.hasInScope(g.BUTTON)&&(x.openElements.generateImpliedEndTags(),x.openElements.popUntilTagNamePopped(g.BUTTON)),x._reconstructActiveFormattingElements(),x._insertElement(I,y.HTML),x.framesetOk=!1}function Te(x,I){const D=x.activeFormattingElements.getElementEntryInScopeWithTagName(g.A);D&&(Lt(x,I),x.openElements.remove(D.element),x.activeFormattingElements.removeEntry(D)),x._reconstructActiveFormattingElements(),x._insertElement(I,y.HTML),x.activeFormattingElements.pushElement(x.openElements.current,I)}function Ue(x,I){x._reconstructActiveFormattingElements(),x._insertElement(I,y.HTML),x.activeFormattingElements.pushElement(x.openElements.current,I)}function Be(x,I){x._reconstructActiveFormattingElements(),x.openElements.hasInScope(g.NOBR)&&(Lt(x,I),x._reconstructActiveFormattingElements()),x._insertElement(I,y.HTML),x.activeFormattingElements.pushElement(x.openElements.current,I)}function mt(x,I){x._reconstructActiveFormattingElements(),x._insertElement(I,y.HTML),x.activeFormattingElements.insertMarker(),x.framesetOk=!1}function bt(x,I){x.treeAdapter.getDocumentMode(x.document)!==b.DOCUMENT_MODE.QUIRKS&&x.openElements.hasInButtonScope(g.P)&&x._closePElement(),x._insertElement(I,y.HTML),x.framesetOk=!1,x.insertionMode=z}function gt(x,I){x._reconstructActiveFormattingElements(),x._appendElement(I,y.HTML),x.framesetOk=!1,I.ackSelfClosing=!0}function at(x,I){x._reconstructActiveFormattingElements(),x._appendElement(I,y.HTML);const D=o.getTokenAttr(I,_.TYPE);(!D||D.toLowerCase()!==T)&&(x.framesetOk=!1),I.ackSelfClosing=!0}function Bt(x,I){x._appendElement(I,y.HTML),I.ackSelfClosing=!0}function rr(x,I){x.openElements.hasInButtonScope(g.P)&&x._closePElement(),x._appendElement(I,y.HTML),x.framesetOk=!1,I.ackSelfClosing=!0}function ht(x,I){I.tagName=g.IMG,gt(x,I)}function qt(x,I){x._insertElement(I,y.HTML),x.skipNextNewLine=!0,x.tokenizer.state=o.MODE.RCDATA,x.originalInsertionMode=x.insertionMode,x.framesetOk=!1,x.insertionMode=B}function Yt(x,I){x.openElements.hasInButtonScope(g.P)&&x._closePElement(),x._reconstructActiveFormattingElements(),x.framesetOk=!1,x._switchToTextParsing(I,o.MODE.RAWTEXT)}function Mt(x,I){x.framesetOk=!1,x._switchToTextParsing(I,o.MODE.RAWTEXT)}function nr(x,I){x._switchToTextParsing(I,o.MODE.RAWTEXT)}function Vr(x,I){x._reconstructActiveFormattingElements(),x._insertElement(I,y.HTML),x.framesetOk=!1,x.insertionMode===z||x.insertionMode===V||x.insertionMode===te||x.insertionMode===re||x.insertionMode===X?x.insertionMode=ee:x.insertionMode=$}function Wt(x,I){x.openElements.currentTagName===g.OPTION&&x.openElements.pop(),x._reconstructActiveFormattingElements(),x._insertElement(I,y.HTML)}function Ne(x,I){x.openElements.hasInScope(g.RUBY)&&x.openElements.generateImpliedEndTags(),x._insertElement(I,y.HTML)}function F(x,I){x.openElements.hasInScope(g.RUBY)&&x.openElements.generateImpliedEndTagsWithExclusion(g.RTC),x._insertElement(I,y.HTML)}function it(x,I){x.openElements.hasInButtonScope(g.P)&&x._closePElement(),x._insertElement(I,y.HTML)}function St(x,I){x._reconstructActiveFormattingElements(),d.adjustTokenMathMLAttrs(I),d.adjustTokenXMLAttrs(I),I.selfClosing?x._appendElement(I,y.MATHML):x._insertElement(I,y.MATHML),I.ackSelfClosing=!0}function pr(x,I){x._reconstructActiveFormattingElements(),d.adjustTokenSVGAttrs(I),d.adjustTokenXMLAttrs(I),I.selfClosing?x._appendElement(I,y.SVG):x._insertElement(I,y.SVG),I.ackSelfClosing=!0}function It(x,I){x._reconstructActiveFormattingElements(),x._insertElement(I,y.HTML)}function cr(x,I){const D=I.tagName;switch(D.length){case 1:D===g.I||D===g.S||D===g.B||D===g.U?Ue(x,I):D===g.P?ke(x,I):D===g.A?Te(x,I):It(x,I);break;case 2:D===g.DL||D===g.OL||D===g.UL?ke(x,I):D===g.H1||D===g.H2||D===g.H3||D===g.H4||D===g.H5||D===g.H6?ye(x,I):D===g.LI||D===g.DD||D===g.DT?Z(x,I):D===g.EM||D===g.TT?Ue(x,I):D===g.BR?gt(x,I):D===g.HR?rr(x,I):D===g.RB?Ne(x,I):D===g.RT||D===g.RP?F(x,I):D!==g.TH&&D!==g.TD&&D!==g.TR&&It(x,I);break;case 3:D===g.DIV||D===g.DIR||D===g.NAV?ke(x,I):D===g.PRE?xe(x,I):D===g.BIG?Ue(x,I):D===g.IMG||D===g.WBR?gt(x,I):D===g.XMP?Yt(x,I):D===g.SVG?pr(x,I):D===g.RTC?Ne(x,I):D!==g.COL&&It(x,I);break;case 4:D===g.HTML?De(x,I):D===g.BASE||D===g.LINK||D===g.META?Xe(x,I):D===g.BODY?Ve(x,I):D===g.MAIN||D===g.MENU?ke(x,I):D===g.FORM?Y(x,I):D===g.CODE||D===g.FONT?Ue(x,I):D===g.NOBR?Be(x,I):D===g.AREA?gt(x,I):D===g.MATH?St(x,I):D===g.MENU?it(x,I):D!==g.HEAD&&It(x,I);break;case 5:D===g.STYLE||D===g.TITLE?Xe(x,I):D===g.ASIDE?ke(x,I):D===g.SMALL?Ue(x,I):D===g.TABLE?bt(x,I):D===g.EMBED?gt(x,I):D===g.INPUT?at(x,I):D===g.PARAM||D===g.TRACK?Bt(x,I):D===g.IMAGE?ht(x,I):D!==g.FRAME&&D!==g.TBODY&&D!==g.TFOOT&&D!==g.THEAD&&It(x,I);break;case 6:D===g.SCRIPT?Xe(x,I):D===g.CENTER||D===g.FIGURE||D===g.FOOTER||D===g.HEADER||D===g.HGROUP||D===g.DIALOG?ke(x,I):D===g.BUTTON?we(x,I):D===g.STRIKE||D===g.STRONG?Ue(x,I):D===g.APPLET||D===g.OBJECT?mt(x,I):D===g.KEYGEN?gt(x,I):D===g.SOURCE?Bt(x,I):D===g.IFRAME?Mt(x,I):D===g.SELECT?Vr(x,I):D===g.OPTION?Wt(x,I):It(x,I);break;case 7:D===g.BGSOUND?Xe(x,I):D===g.DETAILS||D===g.ADDRESS||D===g.ARTICLE||D===g.SECTION||D===g.SUMMARY?ke(x,I):D===g.LISTING?xe(x,I):D===g.MARQUEE?mt(x,I):D===g.NOEMBED?nr(x,I):D!==g.CAPTION&&It(x,I);break;case 8:D===g.BASEFONT?Xe(x,I):D===g.FRAMESET?Ke(x,I):D===g.FIELDSET?ke(x,I):D===g.TEXTAREA?qt(x,I):D===g.TEMPLATE?Xe(x,I):D===g.NOSCRIPT?x.options.scriptingEnabled?nr(x,I):It(x,I):D===g.OPTGROUP?Wt(x,I):D!==g.COLGROUP&&It(x,I);break;case 9:D===g.PLAINTEXT?ie(x,I):It(x,I);break;case 10:D===g.BLOCKQUOTE||D===g.FIGCAPTION?ke(x,I):It(x,I);break;default:It(x,I)}}function xn(x){x.openElements.hasInScope(g.BODY)&&(x.insertionMode=fe)}function bi(x,I){x.openElements.hasInScope(g.BODY)&&(x.insertionMode=fe,x._processToken(I))}function Kr(x,I){const D=I.tagName;x.openElements.hasInScope(D)&&(x.openElements.generateImpliedEndTags(),x.openElements.popUntilTagNamePopped(D))}function no(x){const I=x.openElements.tmplCount>0,D=x.formElement;I||(x.formElement=null),(D||I)&&x.openElements.hasInScope(g.FORM)&&(x.openElements.generateImpliedEndTags(),I?x.openElements.popUntilTagNamePopped(g.FORM):x.openElements.remove(D))}function _u(x){x.openElements.hasInButtonScope(g.P)||x._insertFakeElement(g.P),x._closePElement()}function Ao(x){x.openElements.hasInListItemScope(g.LI)&&(x.openElements.generateImpliedEndTagsWithExclusion(g.LI),x.openElements.popUntilTagNamePopped(g.LI))}function Mo(x,I){const D=I.tagName;x.openElements.hasInScope(D)&&(x.openElements.generateImpliedEndTagsWithExclusion(D),x.openElements.popUntilTagNamePopped(D))}function nm(x){x.openElements.hasNumberedHeaderInScope()&&(x.openElements.generateImpliedEndTags(),x.openElements.popUntilNumberedHeaderPopped())}function im(x,I){const D=I.tagName;x.openElements.hasInScope(D)&&(x.openElements.generateImpliedEndTags(),x.openElements.popUntilTagNamePopped(D),x.activeFormattingElements.clearToLastMarker())}function P_(x){x._reconstructActiveFormattingElements(),x._insertFakeElement(g.BR),x.openElements.pop(),x.framesetOk=!1}function _i(x,I){const D=I.tagName;for(let Me=x.openElements.stackTop;Me>0;Me--){const ft=x.openElements.items[Me];if(x.treeAdapter.getTagName(ft)===D){x.openElements.generateImpliedEndTagsWithExclusion(D),x.openElements.popUntilElementPopped(ft);break}if(x._isSpecialElement(ft))break}}function Lf(x,I){const D=I.tagName;switch(D.length){case 1:D===g.A||D===g.B||D===g.I||D===g.S||D===g.U?Lt(x,I):D===g.P?_u(x):_i(x,I);break;case 2:D===g.DL||D===g.UL||D===g.OL?Kr(x,I):D===g.LI?Ao(x):D===g.DD||D===g.DT?Mo(x,I):D===g.H1||D===g.H2||D===g.H3||D===g.H4||D===g.H5||D===g.H6?nm(x):D===g.BR?P_(x):D===g.EM||D===g.TT?Lt(x,I):_i(x,I);break;case 3:D===g.BIG?Lt(x,I):D===g.DIR||D===g.DIV||D===g.NAV||D===g.PRE?Kr(x,I):_i(x,I);break;case 4:D===g.BODY?xn(x):D===g.HTML?bi(x,I):D===g.FORM?no(x):D===g.CODE||D===g.FONT||D===g.NOBR?Lt(x,I):D===g.MAIN||D===g.MENU?Kr(x,I):_i(x,I);break;case 5:D===g.ASIDE?Kr(x,I):D===g.SMALL?Lt(x,I):_i(x,I);break;case 6:D===g.CENTER||D===g.FIGURE||D===g.FOOTER||D===g.HEADER||D===g.HGROUP||D===g.DIALOG?Kr(x,I):D===g.APPLET||D===g.OBJECT?im(x,I):D===g.STRIKE||D===g.STRONG?Lt(x,I):_i(x,I);break;case 7:D===g.ADDRESS||D===g.ARTICLE||D===g.DETAILS||D===g.SECTION||D===g.SUMMARY||D===g.LISTING?Kr(x,I):D===g.MARQUEE?im(x,I):_i(x,I);break;case 8:D===g.FIELDSET?Kr(x,I):D===g.TEMPLATE?Ut(x,I):_i(x,I);break;case 10:D===g.BLOCKQUOTE||D===g.FIGCAPTION?Kr(x,I):_i(x,I);break;default:_i(x,I)}}function Ri(x,I){x.tmplInsertionModeStackTop>-1?wr(x,I):x.stopped=!0}function C_(x,I){I.tagName===g.SCRIPT&&(x.pendingScript=x.openElements.current),x.openElements.pop(),x.insertionMode=x.originalInsertionMode}function A_(x,I){x._err(m.eofInElementThatCanContainOnlyText),x.openElements.pop(),x.insertionMode=x.originalInsertionMode,x._processToken(I)}function Di(x,I){const D=x.openElements.currentTagName;D===g.TABLE||D===g.TBODY||D===g.TFOOT||D===g.THEAD||D===g.TR?(x.pendingCharacterTokens=[],x.hasNonWhitespacePendingCharacterToken=!1,x.originalInsertionMode=x.insertionMode,x.insertionMode=U,x._processToken(I)):Gr(x,I)}function wu(x,I){x.openElements.clearBackToTableContext(),x.activeFormattingElements.insertMarker(),x._insertElement(I,y.HTML),x.insertionMode=V}function Ja(x,I){x.openElements.clearBackToTableContext(),x._insertElement(I,y.HTML),x.insertionMode=W}function M_(x,I){x.openElements.clearBackToTableContext(),x._insertFakeElement(g.COLGROUP),x.insertionMode=W,x._processToken(I)}function I_(x,I){x.openElements.clearBackToTableContext(),x._insertElement(I,y.HTML),x.insertionMode=te}function Io(x,I){x.openElements.clearBackToTableContext(),x._insertFakeElement(g.TBODY),x.insertionMode=te,x._processToken(I)}function R_(x,I){x.openElements.hasInTableScope(g.TABLE)&&(x.openElements.popUntilTagNamePopped(g.TABLE),x._resetInsertionMode(),x._processToken(I))}function D_(x,I){const D=o.getTokenAttr(I,_.TYPE);D&&D.toLowerCase()===T?x._appendElement(I,y.HTML):Gr(x,I),I.ackSelfClosing=!0}function N_(x,I){!x.formElement&&x.openElements.tmplCount===0&&(x._insertElement(I,y.HTML),x.formElement=x.openElements.current,x.openElements.pop())}function Bf(x,I){const D=I.tagName;switch(D.length){case 2:D===g.TD||D===g.TH||D===g.TR?Io(x,I):Gr(x,I);break;case 3:D===g.COL?M_(x,I):Gr(x,I);break;case 4:D===g.FORM?N_(x,I):Gr(x,I);break;case 5:D===g.TABLE?R_(x,I):D===g.STYLE?Xe(x,I):D===g.TBODY||D===g.TFOOT||D===g.THEAD?I_(x,I):D===g.INPUT?D_(x,I):Gr(x,I);break;case 6:D===g.SCRIPT?Xe(x,I):Gr(x,I);break;case 7:D===g.CAPTION?wu(x,I):Gr(x,I);break;case 8:D===g.COLGROUP?Ja(x,I):D===g.TEMPLATE?Xe(x,I):Gr(x,I);break;default:Gr(x,I)}}function Ff(x,I){const D=I.tagName;D===g.TABLE?x.openElements.hasInTableScope(g.TABLE)&&(x.openElements.popUntilTagNamePopped(g.TABLE),x._resetInsertionMode()):D===g.TEMPLATE?Ut(x,I):D!==g.BODY&&D!==g.CAPTION&&D!==g.COL&&D!==g.COLGROUP&&D!==g.HTML&&D!==g.TBODY&&D!==g.TD&&D!==g.TFOOT&&D!==g.TH&&D!==g.THEAD&&D!==g.TR&&Gr(x,I)}function Gr(x,I){const D=x.fosterParentingEnabled;x.fosterParentingEnabled=!0,x._processTokenInBodyMode(I),x.fosterParentingEnabled=D}function om(x,I){x.pendingCharacterTokens.push(I)}function j_(x,I){x.pendingCharacterTokens.push(I),x.hasNonWhitespacePendingCharacterToken=!0}function Ro(x,I){let D=0;if(x.hasNonWhitespacePendingCharacterToken)for(;D<x.pendingCharacterTokens.length;D++)Gr(x,x.pendingCharacterTokens[D]);else for(;D<x.pendingCharacterTokens.length;D++)x._insertCharacters(x.pendingCharacterTokens[D]);x.insertionMode=x.originalInsertionMode,x._processToken(I)}function L_(x,I){const D=I.tagName;D===g.CAPTION||D===g.COL||D===g.COLGROUP||D===g.TBODY||D===g.TD||D===g.TFOOT||D===g.TH||D===g.THEAD||D===g.TR?x.openElements.hasInTableScope(g.CAPTION)&&(x.openElements.generateImpliedEndTags(),x.openElements.popUntilTagNamePopped(g.CAPTION),x.activeFormattingElements.clearToLastMarker(),x.insertionMode=z,x._processToken(I)):cr(x,I)}function zf(x,I){const D=I.tagName;D===g.CAPTION||D===g.TABLE?x.openElements.hasInTableScope(g.CAPTION)&&(x.openElements.generateImpliedEndTags(),x.openElements.popUntilTagNamePopped(g.CAPTION),x.activeFormattingElements.clearToLastMarker(),x.insertionMode=z,D===g.TABLE&&x._processToken(I)):D!==g.BODY&&D!==g.COL&&D!==g.COLGROUP&&D!==g.HTML&&D!==g.TBODY&&D!==g.TD&&D!==g.TFOOT&&D!==g.TH&&D!==g.THEAD&&D!==g.TR&&Lf(x,I)}function B_(x,I){const D=I.tagName;D===g.HTML?cr(x,I):D===g.COL?(x._appendElement(I,y.HTML),I.ackSelfClosing=!0):D===g.TEMPLATE?Xe(x,I):Us(x,I)}function am(x,I){const D=I.tagName;D===g.COLGROUP?x.openElements.currentTagName===g.COLGROUP&&(x.openElements.pop(),x.insertionMode=z):D===g.TEMPLATE?Ut(x,I):D!==g.COL&&Us(x,I)}function Us(x,I){x.openElements.currentTagName===g.COLGROUP&&(x.openElements.pop(),x.insertionMode=z,x._processToken(I))}function sm(x,I){const D=I.tagName;D===g.TR?(x.openElements.clearBackToTableBodyContext(),x._insertElement(I,y.HTML),x.insertionMode=re):D===g.TH||D===g.TD?(x.openElements.clearBackToTableBodyContext(),x._insertFakeElement(g.TR),x.insertionMode=re,x._processToken(I)):D===g.CAPTION||D===g.COL||D===g.COLGROUP||D===g.TBODY||D===g.TFOOT||D===g.THEAD?x.openElements.hasTableBodyContextInTableScope()&&(x.openElements.clearBackToTableBodyContext(),x.openElements.pop(),x.insertionMode=z,x._processToken(I)):Bf(x,I)}function Vs(x,I){const D=I.tagName;D===g.TBODY||D===g.TFOOT||D===g.THEAD?x.openElements.hasInTableScope(D)&&(x.openElements.clearBackToTableBodyContext(),x.openElements.pop(),x.insertionMode=z):D===g.TABLE?x.openElements.hasTableBodyContextInTableScope()&&(x.openElements.clearBackToTableBodyContext(),x.openElements.pop(),x.insertionMode=z,x._processToken(I)):(D!==g.BODY&&D!==g.CAPTION&&D!==g.COL&&D!==g.COLGROUP||D!==g.HTML&&D!==g.TD&&D!==g.TH&&D!==g.TR)&&Ff(x,I)}function lm(x,I){const D=I.tagName;D===g.TH||D===g.TD?(x.openElements.clearBackToTableRowContext(),x._insertElement(I,y.HTML),x.insertionMode=X,x.activeFormattingElements.insertMarker()):D===g.CAPTION||D===g.COL||D===g.COLGROUP||D===g.TBODY||D===g.TFOOT||D===g.THEAD||D===g.TR?x.openElements.hasInTableScope(g.TR)&&(x.openElements.clearBackToTableRowContext(),x.openElements.pop(),x.insertionMode=te,x._processToken(I)):Bf(x,I)}function F_(x,I){const D=I.tagName;D===g.TR?x.openElements.hasInTableScope(g.TR)&&(x.openElements.clearBackToTableRowContext(),x.openElements.pop(),x.insertionMode=te):D===g.TABLE?x.openElements.hasInTableScope(g.TR)&&(x.openElements.clearBackToTableRowContext(),x.openElements.pop(),x.insertionMode=te,x._processToken(I)):D===g.TBODY||D===g.TFOOT||D===g.THEAD?(x.openElements.hasInTableScope(D)||x.openElements.hasInTableScope(g.TR))&&(x.openElements.clearBackToTableRowContext(),x.openElements.pop(),x.insertionMode=te,x._processToken(I)):(D!==g.BODY&&D!==g.CAPTION&&D!==g.COL&&D!==g.COLGROUP||D!==g.HTML&&D!==g.TD&&D!==g.TH)&&Ff(x,I)}function z_(x,I){const D=I.tagName;D===g.CAPTION||D===g.COL||D===g.COLGROUP||D===g.TBODY||D===g.TD||D===g.TFOOT||D===g.TH||D===g.THEAD||D===g.TR?(x.openElements.hasInTableScope(g.TD)||x.openElements.hasInTableScope(g.TH))&&(x._closeTableCell(),x._processToken(I)):cr(x,I)}function H_(x,I){const D=I.tagName;D===g.TD||D===g.TH?x.openElements.hasInTableScope(D)&&(x.openElements.generateImpliedEndTags(),x.openElements.popUntilTagNamePopped(D),x.activeFormattingElements.clearToLastMarker(),x.insertionMode=re):D===g.TABLE||D===g.TBODY||D===g.TFOOT||D===g.THEAD||D===g.TR?x.openElements.hasInTableScope(D)&&(x._closeTableCell(),x._processToken(I)):D!==g.BODY&&D!==g.CAPTION&&D!==g.COL&&D!==g.COLGROUP&&D!==g.HTML&&Lf(x,I)}function ne(x,I){const D=I.tagName;D===g.HTML?cr(x,I):D===g.OPTION?(x.openElements.currentTagName===g.OPTION&&x.openElements.pop(),x._insertElement(I,y.HTML)):D===g.OPTGROUP?(x.openElements.currentTagName===g.OPTION&&x.openElements.pop(),x.openElements.currentTagName===g.OPTGROUP&&x.openElements.pop(),x._insertElement(I,y.HTML)):D===g.INPUT||D===g.KEYGEN||D===g.TEXTAREA||D===g.SELECT?x.openElements.hasInSelectScope(g.SELECT)&&(x.openElements.popUntilTagNamePopped(g.SELECT),x._resetInsertionMode(),D!==g.SELECT&&x._processToken(I)):(D===g.SCRIPT||D===g.TEMPLATE)&&Xe(x,I)}function me(x,I){const D=I.tagName;if(D===g.OPTGROUP){const Me=x.openElements.items[x.openElements.stackTop-1],ft=Me&&x.treeAdapter.getTagName(Me);x.openElements.currentTagName===g.OPTION&&ft===g.OPTGROUP&&x.openElements.pop(),x.openElements.currentTagName===g.OPTGROUP&&x.openElements.pop()}else D===g.OPTION?x.openElements.currentTagName===g.OPTION&&x.openElements.pop():D===g.SELECT&&x.openElements.hasInSelectScope(g.SELECT)?(x.openElements.popUntilTagNamePopped(g.SELECT),x._resetInsertionMode()):D===g.TEMPLATE&&Ut(x,I)}function Ce(x,I){const D=I.tagName;D===g.CAPTION||D===g.TABLE||D===g.TBODY||D===g.TFOOT||D===g.THEAD||D===g.TR||D===g.TD||D===g.TH?(x.openElements.popUntilTagNamePopped(g.SELECT),x._resetInsertionMode(),x._processToken(I)):ne(x,I)}function Ze(x,I){const D=I.tagName;D===g.CAPTION||D===g.TABLE||D===g.TBODY||D===g.TFOOT||D===g.THEAD||D===g.TR||D===g.TD||D===g.TH?x.openElements.hasInTableScope(D)&&(x.openElements.popUntilTagNamePopped(g.SELECT),x._resetInsertionMode(),x._processToken(I)):me(x,I)}function yr(x,I){const D=I.tagName;if(D===g.BASE||D===g.BASEFONT||D===g.BGSOUND||D===g.LINK||D===g.META||D===g.NOFRAMES||D===g.SCRIPT||D===g.STYLE||D===g.TEMPLATE||D===g.TITLE)Xe(x,I);else{const Me=Pe[D]||R;x._popTmplInsertionMode(),x._pushTmplInsertionMode(Me),x.insertionMode=Me,x._processToken(I)}}function At(x,I){I.tagName===g.TEMPLATE&&Ut(x,I)}function wr(x,I){x.openElements.tmplCount>0?(x.openElements.popUntilTagNamePopped(g.TEMPLATE),x.activeFormattingElements.clearToLastMarker(),x._popTmplInsertionMode(),x._resetInsertionMode(),x._processToken(I)):x.stopped=!0}function Yr(x,I){I.tagName===g.HTML?cr(x,I):dr(x,I)}function Zr(x,I){I.tagName===g.HTML?x.fragmentContext||(x.insertionMode=Se):dr(x,I)}function dr(x,I){x.insertionMode=R,x._processToken(I)}function Nn(x,I){const D=I.tagName;D===g.HTML?cr(x,I):D===g.FRAMESET?x._insertElement(I,y.HTML):D===g.FRAME?(x._appendElement(I,y.HTML),I.ackSelfClosing=!0):D===g.NOFRAMES&&Xe(x,I)}function wi(x,I){I.tagName===g.FRAMESET&&!x.openElements.isRootHtmlElementCurrent()&&(x.openElements.pop(),!x.fragmentContext&&x.openElements.currentTagName!==g.FRAMESET&&(x.insertionMode=ce))}function rn(x,I){const D=I.tagName;D===g.HTML?cr(x,I):D===g.NOFRAMES&&Xe(x,I)}function Jn(x,I){I.tagName===g.HTML&&(x.insertionMode=Oe)}function ei(x,I){I.tagName===g.HTML?cr(x,I):Ti(x,I)}function Ti(x,I){x.insertionMode=R,x._processToken(I)}function io(x,I){const D=I.tagName;D===g.HTML?cr(x,I):D===g.NOFRAMES&&Xe(x,I)}function oa(x,I){I.chars=v.REPLACEMENT_CHARACTER,x._insertCharacters(I)}function um(x,I){x._insertCharacters(I),x.framesetOk=!1}function Tu(x,I){if(d.causesExit(I)&&!x.fragmentContext){for(;x.treeAdapter.getNamespaceURI(x.openElements.current)!==y.HTML&&!x._isIntegrationPoint(x.openElements.current);)x.openElements.pop();x._processToken(I)}else{const D=x._getAdjustedCurrentElement(),Me=x.treeAdapter.getNamespaceURI(D);Me===y.MATHML?d.adjustTokenMathMLAttrs(I):Me===y.SVG&&(d.adjustTokenSVGTagName(I),d.adjustTokenSVGAttrs(I)),d.adjustTokenXMLAttrs(I),I.selfClosing?x._appendElement(I,Me):x._insertElement(I,Me),I.ackSelfClosing=!0}}function xu(x,I){for(let D=x.openElements.stackTop;D>0;D--){const Me=x.openElements.items[D];if(x.treeAdapter.getNamespaceURI(Me)===y.HTML){x._processToken(I);break}if(x.treeAdapter.getTagName(Me).toLowerCase()===I.tagName){x.openElements.popUntilElementPopped(Me);break}}}return GT}var YT,lI;function _qe(){if(lI)return YT;lI=1;function e(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function t(g,y){for(var _=0;_<y.length;_++){var w=y[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,n(w.key),w)}}function r(g,y,_){return y&&t(g.prototype,y),Object.defineProperty(g,"prototype",{writable:!1}),g}function n(g){var y=i(g,"string");return typeof y=="symbol"?y:y+""}function i(g,y){if(typeof g!="object"||!g)return g;var _=g[Symbol.toPrimitive];if(_!==void 0){var w=_.call(g,y);if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}const o=AU(),a=MU(),s=bP(),u=Ds(),l=u.TAG_NAMES,c=u.NAMESPACES,h={treeAdapter:o},f=/&/g,p=/\u00a0/g,d=/"/g,m=/</g,v=/>/g;let b=(function(){function g(y,_){e(this,g),this.options=a(h,_),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=y}return r(g,[{key:"serialize",value:function(){return this._serializeChildNodes(this.startNode),this.html}},{key:"_serializeChildNodes",value:function(y){const _=this.treeAdapter.getChildNodes(y);if(_)for(let w=0,T=_.length;w<T;w++){const O=_[w];this.treeAdapter.isElementNode(O)?this._serializeElement(O):this.treeAdapter.isTextNode(O)?this._serializeTextNode(O):this.treeAdapter.isCommentNode(O)?this._serializeCommentNode(O):this.treeAdapter.isDocumentTypeNode(O)&&this._serializeDocumentTypeNode(O)}}},{key:"_serializeElement",value:function(y){const _=this.treeAdapter.getTagName(y),w=this.treeAdapter.getNamespaceURI(y);if(this.html+="<"+_,this._serializeAttributes(y),this.html+=">",_!==l.AREA&&_!==l.BASE&&_!==l.BASEFONT&&_!==l.BGSOUND&&_!==l.BR&&_!==l.COL&&_!==l.EMBED&&_!==l.FRAME&&_!==l.HR&&_!==l.IMG&&_!==l.INPUT&&_!==l.KEYGEN&&_!==l.LINK&&_!==l.META&&_!==l.PARAM&&_!==l.SOURCE&&_!==l.TRACK&&_!==l.WBR){const T=_===l.TEMPLATE&&w===c.HTML?this.treeAdapter.getTemplateContent(y):y;this._serializeChildNodes(T),this.html+="</"+_+">"}}},{key:"_serializeAttributes",value:function(y){const _=this.treeAdapter.getAttrList(y);for(let w=0,T=_.length;w<T;w++){const O=_[w],E=g.escapeString(O.value,!0);this.html+=" ",O.namespace?O.namespace===c.XML?this.html+="xml:"+O.name:O.namespace===c.XMLNS?(O.name!=="xmlns"&&(this.html+="xmlns:"),this.html+=O.name):O.namespace===c.XLINK?this.html+="xlink:"+O.name:this.html+=O.prefix+":"+O.name:this.html+=O.name,this.html+='="'+E+'"'}}},{key:"_serializeTextNode",value:function(y){const _=this.treeAdapter.getTextNodeContent(y),w=this.treeAdapter.getParentNode(y);let T;w&&this.treeAdapter.isElementNode(w)&&(T=this.treeAdapter.getTagName(w)),T===l.STYLE||T===l.SCRIPT||T===l.XMP||T===l.IFRAME||T===l.NOEMBED||T===l.NOFRAMES||T===l.PLAINTEXT||T===l.NOSCRIPT?this.html+=_:this.html+=g.escapeString(_,!1)}},{key:"_serializeCommentNode",value:function(y){this.html+="<!--"+this.treeAdapter.getCommentNodeContent(y)+"-->"}},{key:"_serializeDocumentTypeNode",value:function(y){const _=this.treeAdapter.getDocumentTypeNodeName(y);this.html+="<"+s.serializeContent(_,null,null)+">"}}])})();return b.escapeString=function(g,y){return g=g.replace(f,"&amp;").replace(p,"&nbsp;"),y?g=g.replace(d,"&quot;"):g=g.replace(m,"&lt;").replace(v,"&gt;"),g},YT=b,YT}var uI;function wqe(){if(uI)return pp;uI=1;const e=bqe(),t=_qe();return pp.parse=function(r,n){return new e(n).parse(r)},pp.parseFragment=function(r,n,i){return typeof r=="string"&&(i=n,n=r,r=null),new e(i).parseFragment(n,r)},pp.serialize=function(r,n){return new t(r,n).serialize()},pp}var Zt={},cI;function Tqe(){if(cI)return Zt;cI=1;function e(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}function t(p,d){for(var m=0;m<d.length;m++){var v=d[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,n(v.key),v)}}function r(p,d,m){return d&&t(p.prototype,d),Object.defineProperty(p,"prototype",{writable:!1}),p}function n(p){var d=i(p,"string");return typeof d=="symbol"?d:d+""}function i(p,d){if(typeof p!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var v=m.call(p,d);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}const o=bP(),{DOCUMENT_MODE:a}=Ds(),s={element:1,text:3,cdata:4,comment:8},u={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"};let l=(function(){function p(d){e(this,p);for(const m of Object.keys(d))this[m]=d[m]}return r(p,[{key:"firstChild",get:function(){const d=this.children;return d&&d[0]||null}},{key:"lastChild",get:function(){const d=this.children;return d&&d[d.length-1]||null}},{key:"nodeType",get:function(){return s[this.type]||s.element}}])})();Object.keys(u).forEach(p=>{const d=u[p];Object.defineProperty(l.prototype,p,{get:function(){return this[d]||null},set:function(m){return this[d]=m,m}})}),Zt.createDocument=function(){return new l({type:"root",name:"root",parent:null,prev:null,next:null,children:[],"x-mode":a.NO_QUIRKS})},Zt.createDocumentFragment=function(){return new l({type:"root",name:"root",parent:null,prev:null,next:null,children:[]})},Zt.createElement=function(p,d,m){const v=Object.create(null),b=Object.create(null),g=Object.create(null);for(let y=0;y<m.length;y++){const _=m[y].name;v[_]=m[y].value,b[_]=m[y].namespace,g[_]=m[y].prefix}return new l({type:p==="script"||p==="style"?p:"tag",name:p,namespace:d,attribs:v,"x-attribsNamespace":b,"x-attribsPrefix":g,children:[],parent:null,prev:null,next:null})},Zt.createCommentNode=function(p){return new l({type:"comment",data:p,parent:null,prev:null,next:null})};const c=function(p){return new l({type:"text",data:p,parent:null,prev:null,next:null})},h=Zt.appendChild=function(p,d){const m=p.children[p.children.length-1];m&&(m.next=d,d.prev=m),p.children.push(d),d.parent=p},f=Zt.insertBefore=function(p,d,m){const v=p.children.indexOf(m),b=m.prev;b&&(b.next=d,d.prev=b),m.prev=d,d.next=m,p.children.splice(v,0,d),d.parent=p};return Zt.setTemplateContent=function(p,d){h(p,d)},Zt.getTemplateContent=function(p){return p.children[0]},Zt.setDocumentType=function(p,d,m,v){const b=o.serializeContent(d,m,v);let g=null;for(let y=0;y<p.children.length;y++)if(p.children[y].type==="directive"&&p.children[y].name==="!doctype"){g=p.children[y];break}g?(g.data=b,g["x-name"]=d,g["x-publicId"]=m,g["x-systemId"]=v):h(p,new l({type:"directive",name:"!doctype",data:b,"x-name":d,"x-publicId":m,"x-systemId":v}))},Zt.setDocumentMode=function(p,d){p["x-mode"]=d},Zt.getDocumentMode=function(p){return p["x-mode"]},Zt.detachNode=function(p){if(p.parent){const d=p.parent.children.indexOf(p),m=p.prev,v=p.next;p.prev=null,p.next=null,m&&(m.next=v),v&&(v.prev=m),p.parent.children.splice(d,1),p.parent=null}},Zt.insertText=function(p,d){const m=p.children[p.children.length-1];m&&m.type==="text"?m.data+=d:h(p,c(d))},Zt.insertTextBefore=function(p,d,m){const v=p.children[p.children.indexOf(m)-1];v&&v.type==="text"?v.data+=d:f(p,c(d),m)},Zt.adoptAttributes=function(p,d){for(let m=0;m<d.length;m++){const v=d[m].name;typeof p.attribs[v]>"u"&&(p.attribs[v]=d[m].value,p["x-attribsNamespace"][v]=d[m].namespace,p["x-attribsPrefix"][v]=d[m].prefix)}},Zt.getFirstChild=function(p){return p.children[0]},Zt.getChildNodes=function(p){return p.children},Zt.getParentNode=function(p){return p.parent},Zt.getAttrList=function(p){const d=[];for(const m in p.attribs)d.push({name:m,value:p.attribs[m],namespace:p["x-attribsNamespace"][m],prefix:p["x-attribsPrefix"][m]});return d},Zt.getTagName=function(p){return p.name},Zt.getNamespaceURI=function(p){return p.namespace},Zt.getTextNodeContent=function(p){return p.data},Zt.getCommentNodeContent=function(p){return p.data},Zt.getDocumentTypeNodeName=function(p){return p["x-name"]},Zt.getDocumentTypeNodePublicId=function(p){return p["x-publicId"]},Zt.getDocumentTypeNodeSystemId=function(p){return p["x-systemId"]},Zt.isTextNode=function(p){return p.type==="text"},Zt.isCommentNode=function(p){return p.type==="comment"},Zt.isDocumentTypeNode=function(p){return p.type==="directive"&&p.name==="!doctype"},Zt.isElementNode=function(p){return!!p.attribs},Zt.setNodeSourceCodeLocation=function(p,d){p.sourceCodeLocation=d},Zt.getNodeSourceCodeLocation=function(p){return p.sourceCodeLocation},Zt.updateNodeSourceCodeLocation=function(p,d){p.sourceCodeLocation=Object.assign(p.sourceCodeLocation,d)},Zt}var hI;function IU(){if(hI)return tl;hI=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.render=tl.parse=void 0;var e=Rs,t=Xn,r=wqe(),n=e.__importDefault(Tqe());function i(a,s,u){var l={scriptingEnabled:typeof s.scriptingEnabled=="boolean"?s.scriptingEnabled:!0,treeAdapter:n.default,sourceCodeLocationInfo:s.sourceCodeLocationInfo},c=s.context;return u?r.parse(a,l):r.parseFragment(c,a,l)}tl.parse=i;function o(a){for(var s,u=("length"in a)?a:[a],l=0;l<u.length;l+=1){var c=u[l];t.isDocument(c)&&(s=Array.prototype.splice).call.apply(s,e.__spreadArray([u,l,1],c.children))}return r.serialize({children:u},{treeAdapter:n.default})}return tl.render=o,tl}var fI={},pI;function RU(){return pI||(pI=1,(function(e){var t=Le&&Le.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.render=e.parse=void 0;var r=fu;Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return r.parseDocument}});var n=pU();Object.defineProperty(e,"render",{enumerable:!0,get:function(){return t(n).default}})})(fI)),fI}var dI;function L1(){if(dI)return gn;dI=1,Object.defineProperty(gn,"__esModule",{value:!0}),gn.merge=gn.contains=gn.root=gn.parseHTML=gn.text=gn.xml=gn.html=void 0;var e=Rs,t=e.__importStar(lP()),r=kU(),n=fu,i=IU(),o=RU();function a(v,b,g){var y,_=b?typeof b=="string"?r.select(b,(y=v?._root)!==null&&y!==void 0?y:[],g):b:v?._root.children;return _?g.xmlMode||g._useHtmlParser2?o.render(_,g):i.render(_):""}function s(v){return typeof v=="object"&&v!=null&&!("length"in v)&&!("type"in v)}function u(v,b){!b&&s(v)&&(b=v,v=void 0);var g=e.__assign(e.__assign(e.__assign({},t.default),this?this._options:{}),t.flatten(b??{}));return a(this||void 0,v,g)}gn.html=u;function l(v){var b=e.__assign(e.__assign({},this._options),{xmlMode:!0});return a(this,v,b)}gn.xml=l;function c(v){for(var b=v||(this?this.root():[]),g="",y=0;y<b.length;y++){var _=b[y];n.DomUtils.isText(_)?g+=_.data:n.DomUtils.hasChildren(_)&&_.type!==n.ElementType.Comment&&_.type!==n.ElementType.Script&&_.type!==n.ElementType.Style&&(g+=c(_.children))}return g}gn.text=c;function h(v,b,g){if(g===void 0&&(g=typeof b=="boolean"?b:!1),!v||typeof v!="string")return null;typeof b=="boolean"&&(g=b);var y=this.load(v,t.default,!1);return g||y("script").remove(),y.root()[0].children.slice()}gn.parseHTML=h;function f(){return this(this._root)}gn.root=f;function p(v,b){if(b===v)return!1;for(var g=b;g&&g!==g.parent;)if(g=g.parent,g===v)return!0;return!1}gn.contains=p;function d(v,b){if(!(!m(v)||!m(b))){for(var g=v.length,y=+b.length,_=0;_<y;_++)v[g++]=b[_];return v.length=g,v}}gn.merge=d;function m(v){if(Array.isArray(v))return!0;if(typeof v!="object"||!Object.prototype.hasOwnProperty.call(v,"length")||typeof v.length!="number"||v.length<0)return!1;for(var b=0;b<v.length;b++)if(!(b in v))return!1;return!0}return gn}var mp={},Bu={},mI;function _P(){if(mI)return Bu;mI=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.update=void 0;var e=fu,t=RU(),r=IU(),n=Xn;function i(a,s,u){if(typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=a.toString()),typeof a=="string")return s.xmlMode||s._useHtmlParser2?t.parse(a,s):r.parse(a,s,u);var l=a;if(!Array.isArray(l)&&n.isDocument(l))return l;var c=new n.Document([]);return o(l,c),c}Bu.default=i;function o(a,s){var u=Array.isArray(a)?a:[a];s?s.children=u:s=null;for(var l=0;l<u.length;l++){var c=u[l];c.parent&&c.parent.children!==u&&e.DomUtils.removeElement(c),s?(c.prev=u[l-1]||null,c.next=u[l+1]||null):c.prev=c.next=null,c.parent=s}return s}return Bu.update=o,Bu}var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.isHtml=Dr.cloneDom=Dr.domEach=Dr.cssCase=Dr.camelCase=Dr.isCheerio=Dr.isTag=void 0;var xqe=fu,WT=Xn;Dr.isTag=xqe.DomUtils.isTag;function Eqe(e){return e.cheerio!=null}Dr.isCheerio=Eqe;function Sqe(e){return e.replace(/[_.-](\w|$)/g,function(t,r){return r.toUpperCase()})}Dr.camelCase=Sqe;function kqe(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()}Dr.cssCase=kqe;function Oqe(e,t){for(var r=e.length,n=0;n<r;n++)t(e[n],n);return e}Dr.domEach=Oqe;function Pqe(e){var t="length"in e?Array.prototype.map.call(e,function(n){return WT.cloneNode(n,!0)}):[WT.cloneNode(e,!0)],r=new WT.Document(t);return t.forEach(function(n){n.parent=r}),t}Dr.cloneDom=Pqe;var Cqe=/<[a-zA-Z][^]*>/;function Aqe(e){return Cqe.test(e)}Dr.isHtml=Aqe;var Fr={},gI;function Mqe(){if(gI)return Fr;gI=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.toggleClass=Fr.removeClass=Fr.addClass=Fr.hasClass=Fr.removeAttr=Fr.val=Fr.data=Fr.prop=Fr.attr=void 0;var e=L1(),t=Dr,r=Object.prototype.hasOwnProperty,n=/\s+/,i="data-",o={null:null,true:!0,false:!1},a=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,s=/^{[^]*}$|^\[[^]*]$/;function u(S,A,M){var H;if(!(!S||!t.isTag(S))){if((H=S.attribs)!==null&&H!==void 0||(S.attribs={}),!A)return S.attribs;if(r.call(S.attribs,A))return!M&&a.test(A)?A:S.attribs[A];if(S.name==="option"&&A==="value")return e.text(S.children);if(S.name==="input"&&(S.attribs.type==="radio"||S.attribs.type==="checkbox")&&A==="value")return"on"}}function l(S,A,M){M===null?g(S,A):S.attribs[A]=""+M}function c(S,A){if(typeof S=="object"||A!==void 0){if(typeof A=="function"){if(typeof S!="string")throw new Error("Bad combination of arguments.");return t.domEach(this,function(M,H){t.isTag(M)&&l(M,S,A.call(M,H,M.attribs[S]))})}return t.domEach(this,function(M){t.isTag(M)&&(typeof S=="object"?Object.keys(S).forEach(function(H){var N=S[H];l(M,H,N)}):l(M,S,A))})}return arguments.length>1?this:u(this[0],S,this.options.xmlMode)}Fr.attr=c;function h(S,A,M){if(!(!S||!t.isTag(S)))return A in S?S[A]:!M&&a.test(A)?u(S,A,!1)!==void 0:u(S,A,M)}function f(S,A,M,H){A in S?S[A]=M:l(S,A,!H&&a.test(A)?M?"":null:""+M)}function p(S,A){var M=this;if(typeof S=="string"&&A===void 0)switch(S){case"style":{var H=this.css(),N=Object.keys(H);return N.forEach(function(R,B){H[B]=R}),H.length=N.length,H}case"tagName":case"nodeName":{var k=this[0];return t.isTag(k)?k.name.toUpperCase():void 0}case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return h(this[0],S,this.options.xmlMode)}if(typeof S=="object"||A!==void 0){if(typeof A=="function"){if(typeof S=="object")throw new Error("Bad combination of arguments.");return t.domEach(this,function(R,B){t.isTag(R)&&f(R,S,A.call(R,B,h(R,S,M.options.xmlMode)),M.options.xmlMode)})}return t.domEach(this,function(R){t.isTag(R)&&(typeof S=="object"?Object.keys(S).forEach(function(B){var z=S[B];f(R,B,z,M.options.xmlMode)}):f(R,S,A,M.options.xmlMode))})}}Fr.prop=p;function d(S,A,M){var H,N=S;(H=N.data)!==null&&H!==void 0||(N.data={}),typeof A=="object"?Object.assign(N.data,A):typeof A=="string"&&M!==void 0&&(N.data[A]=M)}function m(S,A){var M,H,N;A==null?(M=Object.keys(S.attribs).filter(function(z){return z.startsWith(i)}),H=M.map(function(z){return t.camelCase(z.slice(i.length))})):(M=[i+t.cssCase(A)],H=[A]);for(var k=0;k<M.length;++k){var R=M[k],B=H[k];if(r.call(S.attribs,R)&&!r.call(S.data,B)){if(N=S.attribs[R],r.call(o,N))N=o[N];else if(N===String(Number(N)))N=Number(N);else if(s.test(N))try{N=JSON.parse(N)}catch{}S.data[B]=N}}return A==null?S.data:N}function v(S,A){var M,H=this[0];if(!(!H||!t.isTag(H))){var N=H;return(M=N.data)!==null&&M!==void 0||(N.data={}),S?typeof S=="object"||A!==void 0?(t.domEach(this,function(k){t.isTag(k)&&(typeof S=="object"?d(k,S):d(k,S,A))}),this):r.call(N.data,S)?N.data[S]:m(N,S):m(N)}}Fr.data=v;function b(S){var A=arguments.length===0,M=this[0];if(!M||!t.isTag(M))return A?void 0:this;switch(M.name){case"textarea":return this.text(S);case"select":{var H=this.find("option:selected");if(!A){if(this.attr("multiple")==null&&typeof S=="object")return this;this.find("option").removeAttr("selected");for(var N=typeof S!="object"?[S]:S,k=0;k<N.length;k++)this.find('option[value="'+N[k]+'"]').attr("selected","");return this}return this.attr("multiple")?H.toArray().map(function(R){return e.text(R.children)}):H.attr("value")}case"input":case"option":return A?this.attr("value"):this.attr("value",S)}}Fr.val=b;function g(S,A){!S.attribs||!r.call(S.attribs,A)||delete S.attribs[A]}function y(S){return S?S.trim().split(n):[]}function _(S){for(var A=y(S),M=function(k){t.domEach(H,function(R){t.isTag(R)&&g(R,A[k])})},H=this,N=0;N<A.length;N++)M(N);return this}Fr.removeAttr=_;function w(S){return this.toArray().some(function(A){var M=t.isTag(A)&&A.attribs.class,H=-1;if(M&&S.length)for(;(H=M.indexOf(S,H+1))>-1;){var N=H+S.length;if((H===0||n.test(M[H-1]))&&(N===M.length||n.test(M[N])))return!0}return!1})}Fr.hasClass=w;function T(S){if(typeof S=="function")return t.domEach(this,function(U,V){if(t.isTag(U)){var W=U.attribs.class||"";T.call([U],S.call(U,V,W))}});if(!S||typeof S!="string")return this;for(var A=S.split(n),M=this.length,H=0;H<M;H++){var N=this[H];if(t.isTag(N)){var k=u(N,"class",!1);if(!k)l(N,"class",A.join(" ").trim());else{for(var R=" "+k+" ",B=0;B<A.length;B++){var z=A[B]+" ";R.includes(" "+z)||(R+=z)}l(N,"class",R.trim())}}}return this}Fr.addClass=T;function O(S){if(typeof S=="function")return t.domEach(this,function(N,k){t.isTag(N)&&O.call([N],S.call(N,k,N.attribs.class||""))});var A=y(S),M=A.length,H=arguments.length===0;return t.domEach(this,function(N){if(t.isTag(N))if(H)N.attribs.class="";else{for(var k=y(N.attribs.class),R=!1,B=0;B<M;B++){var z=k.indexOf(A[B]);z>=0&&(k.splice(z,1),R=!0,B--)}R&&(N.attribs.class=k.join(" "))}})}Fr.removeClass=O;function E(S,A){if(typeof S=="function")return t.domEach(this,function(W,te){t.isTag(W)&&E.call([W],S.call(W,te,W.attribs.class||"",A),A)});if(!S||typeof S!="string")return this;for(var M=S.split(n),H=M.length,N=typeof A=="boolean"?A?1:-1:0,k=this.length,R=0;R<k;R++){var B=this[R];if(t.isTag(B)){for(var z=y(B.attribs.class),U=0;U<H;U++){var V=z.indexOf(M[U]);N>=0&&V<0?z.push(M[U]):N<=0&&V>=0&&z.splice(V,1)}B.attribs.class=z.join(" ")}}return this}return Fr.toggleClass=E,Fr}var Je={},yI;function Iqe(){if(yI)return Je;yI=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.addBack=Je.add=Je.end=Je.slice=Je.index=Je.toArray=Je.get=Je.eq=Je.last=Je.first=Je.has=Je.not=Je.is=Je.filterArray=Je.filter=Je.map=Je.each=Je.contents=Je.children=Je.siblings=Je.prevUntil=Je.prevAll=Je.prev=Je.nextUntil=Je.nextAll=Je.next=Je.closest=Je.parentsUntil=Je.parents=Je.parent=Je.find=void 0;var e=Rs,t=Xn,r=e.__importStar(kU()),n=Dr,i=L1(),o=fu,a=o.DomUtils.uniqueSort,s=/^\s*[~+]/;function u(U){var V;if(!U)return this._make([]);var W=this.toArray();if(typeof U!="string"){var te=n.isCheerio(U)?U.toArray():[U];return this._make(te.filter(function($){return W.some(function(ee){return i.contains(ee,$)})}))}var re=s.test(U)?W:this.children().toArray(),X={context:W,root:(V=this._root)===null||V===void 0?void 0:V[0],xmlMode:this.options.xmlMode};return this._make(r.select(U,re,X))}Je.find=u;function l(U){return function(V){for(var W=[],te=1;te<arguments.length;te++)W[te-1]=arguments[te];return function(re){var X,$=U(V,this);return re&&($=_($,re,this.options.xmlMode,(X=this._root)===null||X===void 0?void 0:X[0])),this._make(this.length>1&&$.length>1?W.reduce(function(ee,le){return le(ee)},$):$)}}}var c=l(function(U,V){for(var W,te=[],re=0;re<V.length;re++){var X=U(V[re]);te.push(X)}return(W=new Array).concat.apply(W,te)}),h=l(function(U,V){for(var W=[],te=0;te<V.length;te++){var re=U(V[te]);re!==null&&W.push(re)}return W});function f(U){for(var V=[],W=1;W<arguments.length;W++)V[W-1]=arguments[W];var te=null,re=l(function(X,$){var ee=[];return n.domEach($,function(le){for(var fe;(fe=X(le))&&!te?.(fe,ee.length);le=fe)ee.push(fe)}),ee}).apply(void 0,e.__spreadArray([U],V));return function(X,$){var ee=this;te=typeof X=="string"?function(fe){return r.is(fe,X,ee.options)}:X?g(X):null;var le=re.call(this,$);return te=null,le}}function p(U){return Array.from(new Set(U))}Je.parent=h(function(U){var V=U.parent;return V&&!t.isDocument(V)?V:null},p),Je.parents=c(function(U){for(var V=[];U.parent&&!t.isDocument(U.parent);)V.push(U.parent),U=U.parent;return V},a,function(U){return U.reverse()}),Je.parentsUntil=f(function(U){var V=U.parent;return V&&!t.isDocument(V)?V:null},a,function(U){return U.reverse()});function d(U){var V=this,W=[];return U?(n.domEach(this,function(te){for(var re;te&&te.type!=="root";){if(!U||_([te],U,V.options.xmlMode,(re=V._root)===null||re===void 0?void 0:re[0]).length){te&&!W.includes(te)&&W.push(te);break}te=te.parent}}),this._make(W)):this._make(W)}Je.closest=d,Je.next=h(function(U){return o.DomUtils.nextElementSibling(U)}),Je.nextAll=c(function(U){for(var V=[];U.next;)U=U.next,n.isTag(U)&&V.push(U);return V},p),Je.nextUntil=f(function(U){return o.DomUtils.nextElementSibling(U)},p),Je.prev=h(function(U){return o.DomUtils.prevElementSibling(U)}),Je.prevAll=c(function(U){for(var V=[];U.prev;)U=U.prev,n.isTag(U)&&V.push(U);return V},p),Je.prevUntil=f(function(U){return o.DomUtils.prevElementSibling(U)},p),Je.siblings=c(function(U){return o.DomUtils.getSiblings(U).filter(function(V){return n.isTag(V)&&V!==U})},a),Je.children=c(function(U){return o.DomUtils.getChildren(U).filter(n.isTag)},p);function m(){var U=this.toArray().reduce(function(V,W){return t.hasChildren(W)?V.concat(W.children):V},[]);return this._make(U)}Je.contents=m;function v(U){for(var V=0,W=this.length;V<W&&U.call(this[V],V,this[V])!==!1;)++V;return this}Je.each=v;function b(U){for(var V=[],W=0;W<this.length;W++){var te=this[W],re=U.call(te,W,te);re!=null&&(V=V.concat(re))}return this._make(V)}Je.map=b;function g(U){return typeof U=="function"?function(V,W){return U.call(V,W,V)}:n.isCheerio(U)?function(V){return Array.prototype.includes.call(U,V)}:function(V){return U===V}}function y(U){var V;return this._make(_(this.toArray(),U,this.options.xmlMode,(V=this._root)===null||V===void 0?void 0:V[0]))}Je.filter=y;function _(U,V,W,te){return typeof V=="string"?r.filter(V,U,{xmlMode:W,root:te}):U.filter(g(V))}Je.filterArray=_;function w(U){var V=this.toArray();return typeof U=="string"?r.some(V.filter(n.isTag),U,this.options):U?V.some(g(U)):!1}Je.is=w;function T(U){var V=this.toArray();if(typeof U=="string"){var W=new Set(r.filter(U,V,this.options));V=V.filter(function(re){return!W.has(re)})}else{var te=g(U);V=V.filter(function(re,X){return!te(re,X)})}return this._make(V)}Je.not=T;function O(U){var V=this;return this.filter(typeof U=="string"?":has("+U+")":function(W,te){return V._make(te).find(U).length>0})}Je.has=O;function E(){return this.length>1?this._make(this[0]):this}Je.first=E;function S(){return this.length>0?this._make(this[this.length-1]):this}Je.last=S;function A(U){var V;return U=+U,U===0&&this.length<=1?this:(U<0&&(U=this.length+U),this._make((V=this[U])!==null&&V!==void 0?V:[]))}Je.eq=A;function M(U){return U==null?this.toArray():this[U<0?this.length+U:U]}Je.get=M;function H(){return Array.prototype.slice.call(this)}Je.toArray=H;function N(U){var V,W;return U==null?(V=this.parent().children(),W=this[0]):typeof U=="string"?(V=this._make(U),W=this[0]):(V=this,W=n.isCheerio(U)?U[0]:U),Array.prototype.indexOf.call(V,W)}Je.index=N;function k(U,V){return this._make(Array.prototype.slice.call(this,U,V))}Je.slice=k;function R(){var U;return(U=this.prevObject)!==null&&U!==void 0?U:this._make([])}Je.end=R;function B(U,V){var W=this._make(U,V),te=a(e.__spreadArray(e.__spreadArray([],this.get()),W.get()));return this._make(te)}Je.add=B;function z(U){return this.prevObject?this.add(U?this.prevObject.filter(U):this.prevObject):this}return Je.addBack=z,Je}var Pt={},vI;function Rqe(){if(vI)return Pt;vI=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.clone=Pt.text=Pt.toString=Pt.html=Pt.empty=Pt.replaceWith=Pt.remove=Pt.insertBefore=Pt.before=Pt.insertAfter=Pt.after=Pt.wrapAll=Pt.unwrap=Pt.wrapInner=Pt.wrap=Pt.prepend=Pt.append=Pt.prependTo=Pt.appendTo=Pt._makeDomArray=void 0;var e=Rs,t=Xn,r=Xn,n=e.__importStar(_P()),i=L1(),o=Dr,a=fu;function s(A,M){var H=this;return A==null?[]:o.isCheerio(A)?M?o.cloneDom(A.get()):A.get():Array.isArray(A)?A.reduce(function(N,k){return N.concat(H._makeDomArray(k,M))},[]):typeof A=="string"?n.default(A,this.options,!1).children:M?o.cloneDom([A]):[A]}Pt._makeDomArray=s;function u(A){return function(){for(var M=this,H=[],N=0;N<arguments.length;N++)H[N]=arguments[N];var k=this.length-1;return o.domEach(this,function(R,B){if(t.hasChildren(R)){var z=typeof H[0]=="function"?H[0].call(R,B,i.html(R.children)):H,U=M._makeDomArray(z,B<k);A(U,R.children,R)}})}}function l(A,M,H,N,k){for(var R,B,z=e.__spreadArray([M,H],N),U=A[M-1]||null,V=A[M+H]||null,W=0;W<N.length;++W){var te=N[W],re=te.parent;if(re){var X=re.children.indexOf(N[W]);X>-1&&(re.children.splice(X,1),k===re&&M>X&&z[0]--)}te.parent=k,te.prev&&(te.prev.next=(R=te.next)!==null&&R!==void 0?R:null),te.next&&(te.next.prev=(B=te.prev)!==null&&B!==void 0?B:null),te.prev=N[W-1]||U,te.next=N[W+1]||V}return U&&(U.next=N[0]),V&&(V.prev=N[N.length-1]),A.splice.apply(A,z)}function c(A){var M=o.isCheerio(A)?A:this._make(A);return M.append(this),this}Pt.appendTo=c;function h(A){var M=o.isCheerio(A)?A:this._make(A);return M.prepend(this),this}Pt.prependTo=h,Pt.append=u(function(A,M,H){l(M,M.length,0,A,H)}),Pt.prepend=u(function(A,M,H){l(M,0,0,A,H)});function f(A){return function(M){for(var H=this.length-1,N=this.parents().last(),k=0;k<this.length;k++){var R=this[k],B=typeof M=="function"?M.call(R,k,R):typeof M=="string"&&!o.isHtml(M)?N.find(M).clone():M,z=this._makeDomArray(B,k<H)[0];if(!(!z||!a.DomUtils.hasChildren(z))){for(var U=z,V=0;V<U.children.length;){var W=U.children[V];o.isTag(W)?(U=W,V=0):V++}A(R,U,[z])}}return this}}Pt.wrap=f(function(A,M,H){var N=A.parent;if(N){var k=N.children,R=k.indexOf(A);n.update([A],M),l(k,R,0,H,N)}}),Pt.wrapInner=f(function(A,M,H){t.hasChildren(A)&&(n.update(A.children,M),n.update(H,A))});function p(A){var M=this;return this.parent(A).not("body").each(function(H,N){M._make(N).replaceWith(N.children)}),this}Pt.unwrap=p;function d(A){var M=this[0];if(M){for(var H=this._make(typeof A=="function"?A.call(M,0,M):A).insertBefore(M),N=void 0,k=0;k<H.length;k++)H[k].type==="tag"&&(N=H[k]);for(var R=0;N&&R<N.children.length;){var B=N.children[R];B.type==="tag"?(N=B,R=0):R++}N&&this._make(N).append(this)}return this}Pt.wrapAll=d;function m(){for(var A=this,M=[],H=0;H<arguments.length;H++)M[H]=arguments[H];var N=this.length-1;return o.domEach(this,function(k,R){var B=k.parent;if(!(!a.DomUtils.hasChildren(k)||!B)){var z=B.children,U=z.indexOf(k);if(!(U<0)){var V=typeof M[0]=="function"?M[0].call(k,R,i.html(k.children)):M,W=A._makeDomArray(V,R<N);l(z,U+1,0,W,B)}}})}Pt.after=m;function v(A){var M=this;typeof A=="string"&&(A=this._make(A)),this.remove();var H=[];return this._makeDomArray(A).forEach(function(N){var k=M.clone().toArray(),R=N.parent;if(R){var B=R.children,z=B.indexOf(N);z<0||(l(B,z+1,0,k,R),H.push.apply(H,k))}}),this._make(H)}Pt.insertAfter=v;function b(){for(var A=this,M=[],H=0;H<arguments.length;H++)M[H]=arguments[H];var N=this.length-1;return o.domEach(this,function(k,R){var B=k.parent;if(!(!a.DomUtils.hasChildren(k)||!B)){var z=B.children,U=z.indexOf(k);if(!(U<0)){var V=typeof M[0]=="function"?M[0].call(k,R,i.html(k.children)):M,W=A._makeDomArray(V,R<N);l(z,U,0,W,B)}}})}Pt.before=b;function g(A){var M=this,H=this._make(A);this.remove();var N=[];return o.domEach(H,function(k){var R=M.clone().toArray(),B=k.parent;if(B){var z=B.children,U=z.indexOf(k);U<0||(l(z,U,0,R,B),N.push.apply(N,R))}}),this._make(N)}Pt.insertBefore=g;function y(A){var M=A?this.filter(A):this;return o.domEach(M,function(H){a.DomUtils.removeElement(H),H.prev=H.next=H.parent=null}),this}Pt.remove=y;function _(A){var M=this;return o.domEach(this,function(H,N){var k=H.parent;if(k){var R=k.children,B=typeof A=="function"?A.call(H,N,H):A,z=M._makeDomArray(B);n.update(z,null);var U=R.indexOf(H);l(R,U,1,z,k),z.includes(H)||(H.parent=H.prev=H.next=null)}})}Pt.replaceWith=_;function w(){return o.domEach(this,function(A){a.DomUtils.hasChildren(A)&&(A.children.forEach(function(M){M.next=M.prev=M.parent=null}),A.children.length=0)})}Pt.empty=w;function T(A){if(A===void 0){var M=this[0];return!M||!a.DomUtils.hasChildren(M)?null:i.html(M.children,this.options)}var H=e.__assign(e.__assign({},this.options),{context:null});return o.domEach(this,function(N){if(a.DomUtils.hasChildren(N)){N.children.forEach(function(R){R.next=R.prev=R.parent=null}),H.context=N;var k=o.isCheerio(A)?A.toArray():n.default(""+A,H,!1).children;n.update(k,N)}})}Pt.html=T;function O(){return i.html(this,this.options)}Pt.toString=O;function E(A){var M=this;return A===void 0?i.text(this):typeof A=="function"?o.domEach(this,function(H,N){E.call(M._make(H),A.call(H,N,i.text([H])))}):o.domEach(this,function(H){if(a.DomUtils.hasChildren(H)){H.children.forEach(function(k){k.next=k.prev=k.parent=null});var N=new r.Text(A);n.update(N,H)}})}Pt.text=E;function S(){return this._make(o.cloneDom(this.get()))}return Pt.clone=S,Pt}var gp={},bI;function Dqe(){if(bI)return gp;bI=1,Object.defineProperty(gp,"__esModule",{value:!0}),gp.css=void 0;var e=Dr;function t(a,s){return a!=null&&s!=null||typeof a=="object"&&!Array.isArray(a)?e.domEach(this,function(u,l){e.isTag(u)&&r(u,a,s,l)}):n(this[0],a)}gp.css=t;function r(a,s,u,l){if(typeof s=="string"){var c=n(a),h=typeof u=="function"?u.call(a,l,c[s]):u;h===""?delete c[s]:h!=null&&(c[s]=h),a.attribs.style=i(c)}else typeof s=="object"&&Object.keys(s).forEach(function(f,p){r(a,f,s[f],p)})}function n(a,s){if(!(!a||!e.isTag(a))){var u=o(a.attribs.style);if(typeof s=="string")return u[s];if(Array.isArray(s)){var l={};return s.forEach(function(c){u[c]!=null&&(l[c]=u[c])}),l}return u}}function i(a){return Object.keys(a).reduce(function(s,u){return""+s+(s?" ":"")+u+": "+a[u]+";"},"")}function o(a){return a=(a||"").trim(),a?a.split(";").reduce(function(s,u){var l=u.indexOf(":");return l<1||l===u.length-1||(s[u.slice(0,l).trim()]=u.slice(l+1).trim()),s},{}):{}}return gp}var nl={},_I;function Nqe(){if(_I)return nl;_I=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.serializeArray=nl.serialize=void 0;var e=Dr,t="input,select,textarea,keygen",r=/%20/g,n=/\r?\n/g;function i(){var a=this.serializeArray(),s=a.map(function(u){return encodeURIComponent(u.name)+"="+encodeURIComponent(u.value)});return s.join("&").replace(r,"+")}nl.serialize=i;function o(){var a=this;return this.map(function(s,u){var l=a._make(u);return e.isTag(u)&&u.name==="form"?l.find(t).toArray():l.filter(t).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(s,u){var l,c=a._make(u),h=c.attr("name"),f=(l=c.val())!==null&&l!==void 0?l:"";return Array.isArray(f)?f.map(function(p){return{name:h,value:p.replace(n,`\r
`)}}):{name:h,value:f.replace(n,`\r
`)}}).toArray()}return nl.serializeArray=o,nl}var wI;function jqe(){if(wI)return mp;wI=1,Object.defineProperty(mp,"__esModule",{value:!0}),mp.Cheerio=void 0;var e=Rs,t=e.__importDefault(_P()),r=e.__importDefault(lP()),n=Dr,i=e.__importStar(Mqe()),o=e.__importStar(Iqe()),a=e.__importStar(Rqe()),s=e.__importStar(Dqe()),u=e.__importStar(Nqe()),l=(function(){function h(f,p,d,m){var v=this;if(m===void 0&&(m=r.default),this.length=0,this.options=m,!f)return this;if(d&&(typeof d=="string"&&(d=t.default(d,this.options,!1)),this._root=new this.constructor(d,null,null,this.options),this._root._root=this._root),n.isCheerio(f))return f;var b=typeof f=="string"&&n.isHtml(f)?t.default(f,this.options,!1).children:c(f)?[f]:Array.isArray(f)?f:null;if(b)return b.forEach(function(_,w){v[w]=_}),this.length=b.length,this;var g=f,y=p?typeof p=="string"?n.isHtml(p)?this._make(t.default(p,this.options,!1)):(g=p+" "+g,this._root):n.isCheerio(p)?p:this._make(p):this._root;return y?y.find(g):this}return h.prototype._make=function(f,p){var d=new this.constructor(f,p,this._root,this.options);return d.prevObject=this,d},h})();mp.Cheerio=l,l.prototype.cheerio="[cheerio object]",l.prototype.splice=Array.prototype.splice,l.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(l.prototype,i,o,a,s,u);function c(h){return!!h.name||h.type==="root"||h.type==="text"||h.type==="comment"}return mp}var TI;function xI(){if(TI)return lp;TI=1,Object.defineProperty(lp,"__esModule",{value:!0}),lp.load=void 0;var e=Rs,t=e.__importStar(lP()),r=e.__importStar(L1()),n=jqe(),i=e.__importDefault(_P());function o(a,s,u){if(u===void 0&&(u=!0),a==null)throw new Error("cheerio.load() expects a string");var l=e.__assign(e.__assign({},t.default),t.flatten(s)),c=i.default(a,l,u),h=(function(p){e.__extends(d,p);function d(){return p!==null&&p.apply(this,arguments)||this}return d})(n.Cheerio);function f(p,d,m,v){return m===void 0&&(m=c),new h(p,d,m,e.__assign(e.__assign({},l),t.flatten(v)))}return Object.assign(f,r,{load:o,_root:c,_options:l,fn:h.prototype,prototype:h.prototype}),f}return lp.load=o,lp}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.root=e.parseHTML=e.merge=e.contains=void 0;var t=Rs;t.__exportStar(z1e(),e),t.__exportStar(xI(),e);var r=xI();e.default=r.load([]);var n=t.__importStar(L1());e.contains=n.contains,e.merge=n.merge,e.parseHTML=n.parseHTML,e.root=n.root})(wH);var pu={},Gb={},Lqe=(function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}})();function Bqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zm(e,t){return new Error(String(e)+" is a required method of "+String(t)+", but was not implemented.")}var DU=(function(){function e(){Bqe(this,e),this.options={}}return Lqe(e,[{key:"createRenderer",value:(function(){function t(r){throw zm("createRenderer","EnzymeAdapter")}return t})()},{key:"nodeToElement",value:(function(){function t(r){throw zm("nodeToElement","EnzymeAdapter")}return t})()},{key:"matchesElementType",value:(function(){function t(r,n){if(!r)return r;var i=r.type;return i===n}return t})()},{key:"isValidElement",value:(function(){function t(r){throw zm("isValidElement","EnzymeAdapter")}return t})()},{key:"createElement",value:(function(){function t(r,n){throw zm("createElement","EnzymeAdapter")}return t})()},{key:"invokeSetStateCallback",value:(function(){function t(r,n){n.call(r)}return t})()}]),e})();DU.MODES={STRING:"string",MOUNT:"mount",SHALLOW:"shallow"};var NU=DU;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=NU,r=n(t);function n(o){return o&&o.__esModule?o:{default:o}}function i(o){if(!o)throw new Error(`
      Enzyme Internal Error: Enzyme expects an adapter to be configured, but found none.
      To configure an adapter, you should call \`Enzyme.configure({ adapter: new Adapter() })\`
      before using any of Enzyme's top level APIs, where \`Adapter\` is the adapter
      corresponding to the library currently being tested. For example:

      import Adapter from 'enzyme-adapter-react-15';

      To find out more about this, see https://airbnb.io/enzyme/docs/installation/index.html
    `);if(typeof o=="function")throw Object.getPrototypeOf(o)===r.default?new Error(`
        Enzyme Internal Error: Enzyme expects an adapter instance to be configured -
        you provided an adapter *constructor*.
        To configure an adapter, you should call \`Enzyme.configure({ adapter: new Adapter() })\`
        before using any of Enzyme's top level APIs, where \`Adapter\` is the adapter
        corresponding to the library currently being tested. For example:

        import Adapter from 'enzyme-adapter-react-15';

        To find out more about this, see https://airbnb.io/enzyme/docs/installation/index.html
      `):new Error(`
      Enzyme Internal Error: Enzyme expects an adapter to be configured -
      an enzyme adapter must be an object instance; you provided a function.
      To configure an adapter, you should call \`Enzyme.configure({ adapter: new Adapter() })\`
      before using any of Enzyme's top level APIs, where \`Adapter\` is the adapter
      corresponding to the library currently being tested. For example:

      import Adapter from 'enzyme-adapter-react-15';

      To find out more about this, see https://airbnb.io/enzyme/docs/installation/index.html
    `);if(!(o instanceof r.default))throw new Error("Enzyme Internal Error: configured enzyme adapter did not inherit from the EnzymeAdapter base class")}})(Gb);Object.defineProperty(pu,"__esModule",{value:!0});pu.get=Uqe;pu.merge=BU;pu.reset=Vqe;var Fqe=gf,jU=LU(Fqe),zqe=Gb,Hqe=LU(zqe);function LU(e){return e&&e.__esModule?e:{default:e}}var wP={};function Uqe(){return(0,jU.default)({},wP)}function BU(e){e.adapter&&(0,Hqe.default)(e.adapter),(0,jU.default)(wP,e)}function Vqe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};wP={},BU(e)}var tn={},Ax={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=(function(n){function i(o,a){return n.apply(this,arguments)}return i.toString=function(){return n.toString()},i})(function(n,i){return typeof n!="object"||n===null||typeof i!="object"||i===null?!1:Object.keys(i).every(function(o){if(!n.propertyIsEnumerable(o))return!1;var a=i[o],s=n[o];return!(typeof a=="object"&&a!==null?!r(s,a):s!==a)})});t.default=r,e.exports=t.default})(Ax,Ax.exports);var Gqe=Ax.exports,Ns={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=Gb,r=i(t),n=pu;function i(a){return a&&a.__esModule?a:{default:a}}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(a.adapter)return(0,r.default)(a.adapter),a.adapter;var s=(0,n.get)(),u=s.adapter;return(0,r.default)(u),u}})(Ns);Object.defineProperty(tn,"__esModule",{value:!0});var Yqe=(function(){function e(t,r){var n=[],i=!0,o=!1,a=void 0;try{for(var s=t[Symbol.iterator](),u;!(i=(u=s.next()).done)&&(n.push(u.value),!(r&&n.length===r));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})();tn.propsOfNode=Yb;tn.childrenOfNode=bf;tn.hasClassName=sKe;tn.treeForEach=TP;tn.treeFilter=xP;tn.findParentNode=lKe;tn.pathToNode=FU;tn.parentsOfNode=cKe;tn.nodeHasId=hKe;tn.nodeMatchesObjectProps=mKe;tn.getTextFromNode=zU;tn.getTextFromHostNodes=HU;tn.getHTMLFromHostNodes=UU;var Wqe=gf,Xqe=du(Wqe),$qe=C1,EI=du($qe),qqe=hH,Kqe=du(qqe),Zqe=Gqe,Qqe=du(Zqe),Jqe=aP,eKe=du(Jqe),tKe=Fz,rKe=du(tKe),nKe=Ns,iKe=du(nKe);function du(e){return e&&e.__esModule?e:{default:e}}function oKe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aKe(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else return Array.from(e)}function Yb(e){return e&&e.props||{}}function bf(e){if(!e)return[];var t=(0,iKe.default)(),r=t.isFragment&&typeof t.isFragment=="function",n=Array.isArray(e.rendered)?(0,EI.default)(e.rendered,1):[e.rendered];return r?(0,EI.default)(n.map(function(i){return t.isFragment(i)?bf(i):i}),1):n}function sKe(e,t){var r=Yb(e).className||"";return r=String(r).replace(/\s/g," "),(0,rKe.default)(t)?t.test(r):(" "+String(r)+" ").indexOf(" "+String(t)+" ")>-1}function TP(e,t){e&&t(e),bf(e).forEach(function(r){return TP(r,t)})}function xP(e,t){var r=[];return TP(e,function(n){t(n)&&r.push(n)}),r}function lKe(e,t){var r=xP(e,function(n){return n.rendered?bf(n).indexOf(t)!==-1:!1});return r[0]||null}function uKe(e,t){return e.filter(function(r){return xP(r,t).length!==0})}function FU(e,t){for(var r=[t],n=[],i=function(s){return e===s};r.length;){var o=r.pop(),a=bf(o);if(o===e)return uKe(n,i);n.push(o),a.length===0&&n.pop(),r.push.apply(r,aKe(a))}return null}function cKe(e,t){return(FU(e,t)||[]).reverse()}function hKe(e,t){return Yb(e).id===t}var fKe={};function pKe(e){return typeof e<"u"?e:fKe}function dKe(e){return(0,Kqe.default)(e).reduce(function(t,r){var n=Yqe(r,2),i=n[0],o=n[1];return(0,Xqe.default)({},t,oKe({},i,pKe(o)))},{})}function mKe(e,t){return(0,Qqe.default)(Yb(e),dKe(t))}function gKe(e){return typeof e=="string"?String(e||""):e&&e.textContent||""}function EP(e,t){var r=t.getCustom,n=t.handleHostNodes,i=t.recurse,o=t.nullRenderReturnsNull,a=o===void 0?!1:o;return e==null?"":typeof e=="string"||typeof e=="number"?String(e):r&&e.type&&typeof e.type=="function"?r(e):n&&e.nodeType==="host"?n(e):e.rendered==null&&a?null:bf(e).map(i).join("")}function zU(e){return EP(e,{recurse:zU,getCustom:(function(){function t(r){var n=r.type;return"<"+String(n.displayName||(0,eKe.default)(n))+" />"}return t})()})}function HU(e,t){return EP(e,{recurse:(function(){function r(n){return HU(n,t)}return r})(),handleHostNodes:(function(){function r(n){var i=[].concat(t.nodeToHostNode(n,!0));return i.map(gKe).join("")}return r})()})}function yKe(e){return e==null?null:e.outerHTML.replace(/\sdata-(reactid|reactroot)+="([^"]*)+"/g,"")}function UU(e,t){return EP(e,{recurse:(function(){function r(n){return UU(n,t)}return r})(),handleHostNodes:(function(){function r(n){var i=[].concat(t.nodeToHostNode(n,!0));return i.map(yKe).join("")}return r})(),nullRenderReturnsNull:!0})}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.shallowEqual=e.ITERATOR_SYMBOL=void 0;var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},r=(function(){function q(ae,ge){var be=[],Re=!0,je=!1,ze=void 0;try{for(var qe=ae[Symbol.iterator](),nt;!(Re=(nt=qe.next()).done)&&(be.push(nt.value),!(ge&&be.length===ge));Re=!0);}catch(Tt){je=!0,ze=Tt}finally{try{!Re&&qe.return&&qe.return()}finally{if(je)throw ze}}return be}return function(ae,ge){if(Array.isArray(ae))return ae;if(Symbol.iterator in Object(ae))return q(ae,ge);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})();e.getAdapter=B,e.makeOptions=U,e.isCustomComponent=V,e.isCustomComponentElement=W,e.propsOfNode=te,e.typeOfNode=re,e.nodeHasType=X,e.nodeMatches=ce,e.nodeEqual=Se,e.containsChildrenSubArray=Oe,e.childrenToSimplifiedArray=Fe,e.isReactElementAlike=et,e.withSetStateAllowed=He,e.AND=$e,e.displayNameOfNode=vt,e.sym=Ct,e.privateSet=Lt,e.cloneElement=Ye,e.spyMethod=_e;var n=oH;Object.defineProperty(e,"shallowEqual",{enumerable:!0,get:(function(){function q(){return N(n).default}return q})()}),e.isEmptyValue=K,e.renderedDive=oe,e.loadCheerioRoot=ue;var i=gf,o=N(i),a=ub,s=N(a),u=iP,l=N(u),c=hH,h=N(c),f=aP,p=N(f),d=A1,m=N(d),v=C1,b=N(v),g=Wz,y=N(g),_=wH,w=N(_),T=Dr,O=pu,E=tn,S=Ns,A=N(S),M=Gb,H=N(M);function N(q){return q&&q.__esModule?q:{default:q}}function k(q,ae,ge){return ae in q?Object.defineProperty(q,ae,{value:ge,enumerable:!0,configurable:!0,writable:!0}):q[ae]=ge,q}function R(q,ae){var ge={};for(var be in q)ae.indexOf(be)>=0||Object.prototype.hasOwnProperty.call(q,be)&&(ge[be]=q[be]);return ge}e.ITERATOR_SYMBOL=typeof Symbol=="function"&&Symbol.iterator;function B(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn("getAdapter from Utils is deprecated; please use ./getAdapter instead"),(0,A.default)(q)}function z(q,ae){if(q&&ae&&q!==ae)throw new TypeError("If both the `attachTo` and `hydrateIn` options are provided, they must be === (for backwards compatibility)")}function U(q){var ae=(0,O.get)(),ge=ae.attachTo,be=ae.hydrateIn,Re=R(ae,["attachTo","hydrateIn"]);z(ge,be);var je=q.attachTo,ze=q.hydrateIn;z(je,ze);var qe=ze||be||ge||je||void 0,nt=ze||be||void 0,Tt=(0,o.default)({},qe&&{attachTo:qe},nt&&{hydrateIn:nt});return(0,o.default)({},Re,q,Tt)}function V(q,ae){return(0,H.default)(ae),ae.isCustomComponent?!!ae.isCustomComponent(q):typeof q=="function"}function W(q,ae){return ae.isCustomComponentElement?!!ae.isCustomComponentElement(q):!!q&&ae.isValidElement(q)&&typeof q.type=="function"}function te(q){return(0,h.default)(q&&q.props||{}).filter(function(ae){var ge=r(ae,2),be=ge[1];return typeof be<"u"}).reduce(function(ae,ge){var be=r(ge,2),Re=be[0],je=be[1];return(0,o.default)(ae,k({},Re,je))},{})}function re(q){return q?q.type:null}function X(q,ae){if(!ae||!q)return!1;var ge=(0,A.default)();if(ge.displayNameOfNode){var be=ge.displayNameOfNode(q);return be===ae}return q.type?typeof q.type=="string"?q.type===ae:(typeof q.type=="function"?(0,p.default)(q.type)===ae:q.type.name===ae)||q.type.displayName===ae:!1}function $(q,ae,ge,be){var Re=be?ce:Se;if(q===ae)return!0;if(!Array.isArray(q)&&!Array.isArray(ae))return Re(q,ae,ge);var je=(0,b.default)(q,1/0),ze=(0,b.default)(ae,1/0);if(je.length!==ze.length)return!1;if(je.length===0&&ze.length===0)return!0;for(var qe=0;qe<je.length;qe+=1)if(!Re(je[qe],ze[qe],ge))return!1;return!0}function ee(q,ae,ge){return $(q,ae,ge,!0)}function le(q,ae,ge){return $(q,ae,ge,!1)}function fe(q,ae){var ge=r(ae,2),be=ge[0],Re=ge[1],je=Re==null?{}:k({},be,Re);return(0,o.default)({},q,je)}function Ee(q,ae,ge,be){if(q===ae)return!0;if(!q||!ae||q.type!==ae.type)return!1;var Re=te(q),je=te(ae);be&&(Re=(0,h.default)(Re).reduce(fe,{}),je=(0,h.default)(je).reduce(fe,{}));for(var ze=Object.keys(Re),qe=0;qe<ze.length;qe+=1){var nt=ze[qe];if(nt!=="children")if(nt in je){if(je[nt]!==Re[nt])if(t(je[nt])===t(Re[nt])&&t(Re[nt])==="object"){if(!(0,s.default)(Re[nt],je[nt]))return!1}else return!1}else return!1}var Tt="children"in Re,Xe="children"in je,Ut=be?ee:le;if((Tt||Xe)&&!Ut(Fe(Re.children,be),Fe(je.children,be),ge))return!1;if(!We(q)){var C=Object.keys(je);return ge(ze.length-Tt,C.length-Xe)}return!1}function ce(q,ae){var ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.default;return Ee(q,ae,ge,!0)}function Se(q,ae){var ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.default;return Ee(q,ae,ge,!1)}function Oe(q,ae,ge){var be=(0,E.childrenOfNode)(ae),Re=function(je,ze){return he(q,be.slice(ze,ze+ge.length),ge)};return be.some(Re)}function he(q,ae,ge){return ae.length===ge.length&&ae.every(function(be,Re){return q(be,ge[Re])})}function Pe(q){var ae=[],ge=function(be){be===null||be===!1||typeof be>"u"||ae.push(be)};return Array.isArray(q)?q.forEach(ge):ge(q),ae}function Fe(q){for(var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ge=Pe(q),be=[],Re=0;Re<ge.length;Re+=1){var je=ge[Re],ze=be.pop();typeof ze>"u"?be.push(je):We(je)&&We(ze)?be.push(ze+je):(be.push(ze),be.push(je))}return ae?be.map(function(qe){return typeof qe=="string"?(0,y.default)(qe):qe}):be}function We(q){return typeof q=="string"||typeof q=="number"}function et(q,ae){return ae.isValidElement(q)||We(q)||Array.isArray(q)}function He(q){var ae=!1;typeof globalThis.document>"u"&&(ae=!0,globalThis.document={}),q(),ae&&(globalThis.document=void 0,delete globalThis.document)}function $e(q){var ae=q.slice().reverse();return function(ge){return ae.every(function(be){return be(ge)})}}function vt(q){if(!q)return null;var ae=q.type;return ae?ae.displayName||(typeof ae=="function"?(0,p.default)(ae):ae.name||ae):null}function Ct(q){return typeof Symbol=="function"?Symbol.for("enzyme."+String(q)):q}function Lt(q,ae,ge){Object.defineProperty(q,ae,{value:ge,enumerable:!1,writable:!0})}function Ye(q,ae,ge){return q.createElement(ae.type,(0,o.default)({},ae.props,ge))}function _e(q,ae){var ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},be=void 0,Re=q[ae],je=(0,m.default)(q,ae),ze=void 0;return je&&(ze=Object.getOwnPropertyDescriptor(q,ae)),Object.defineProperty(q,ae,{configurable:!0,enumerable:!ze||!!ze.enumerable,value:ge(Re)||(function(){function qe(){for(var nt=arguments.length,Tt=Array(nt),Xe=0;Xe<nt;Xe++)Tt[Xe]=arguments[Xe];var Ut=Re.apply(this,Tt);return be=Ut,Ut}return qe})()}),{restore:(function(){function qe(){je?ze?Object.defineProperty(q,ae,ze):q[ae]=Re:delete q[ae]}return qe})(),getLastReturnValue:(function(){function qe(){return be}return qe})()}}function K(q){return q===null||q===!1}function oe(q){return K(q)?!0:[].concat(q).every(function(ae){if(ae){var ge=ae.rendered;return K(ge)||oe(ge)}return K(ae)})}function ue(q){return q?(0,T.isHtml)(q)?w.default.load("")(q):w.default.load(q,null,!1).root():w.default.root()}})(M1);var js={},vKe="[object Symbol]",VU=/[&<>"'`]/g,bKe=RegExp(VU.source),_Ke={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},wKe=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,TKe=typeof self=="object"&&self&&self.Object===Object&&self,xKe=wKe||TKe||Function("return this")();function EKe(e){return function(t){return e?.[t]}}var SKe=EKe(_Ke),kKe=Object.prototype,OKe=kKe.toString,SI=xKe.Symbol,kI=SI?SI.prototype:void 0,OI=kI?kI.toString:void 0;function PKe(e){if(typeof e=="string")return e;if(AKe(e))return OI?OI.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function CKe(e){return!!e&&typeof e=="object"}function AKe(e){return typeof e=="symbol"||CKe(e)&&OKe.call(e)==vKe}function MKe(e){return e==null?"":PKe(e)}function IKe(e){return e=MKe(e),e&&bKe.test(e)?e.replace(VU,SKe):e}var RKe=IKe,GU=Dn,DKe=GU("String.prototype.valueOf"),NKe=function(e){try{return DKe(e),!0}catch{return!1}},jKe=GU("Object.prototype.toString"),LKe="[object String]",BKe=P1(),YU=function(e){return typeof e=="string"?!0:!e||typeof e!="object"?!1:BKe?NKe(e):jKe(e)===LKe},WU=Dn,FKe=WU("Number.prototype.toString"),zKe=function(e){try{return FKe(e),!0}catch{return!1}},HKe=WU("Object.prototype.toString"),UKe="[object Number]",VKe=P1(),GKe=function(e){return typeof e=="number"?!0:!e||typeof e!="object"?!1:VKe?zKe(e):HKe(e)===UKe},XU=Dn,YKe=XU("Boolean.prototype.toString"),WKe=XU("Object.prototype.toString"),XKe=function(e){try{return YKe(e),!0}catch{return!1}},$Ke="[object Boolean]",qKe=P1(),KKe=function(e){return typeof e=="boolean"?!0:e===null||typeof e!="object"?!1:qKe?XKe(e):WKe(e)===$Ke};Object.defineProperty(js,"__esModule",{value:!0});var PI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};js.typeName=KU;js.spaces=ZU;js.indent=QU;js.debugNode=SP;js.debugNodes=gZe;var ZKe=RKe,QKe=qa(ZKe),JKe=aP,$U=qa(JKe),eZe=YU,tZe=qa(eZe),rZe=GKe,nZe=qa(rZe),iZe=Db,oZe=qa(iZe),aZe=KKe,sZe=qa(aZe),lZe=bz,ec=qa(lZe),uZe=A1,Fu=qa(uZe),qU=tn,cZe=Ns,Mx=qa(cZe);function qa(e){return e&&e.__esModule?e:{default:e}}var hZe=Function.bind.call(Function.call,Boolean.prototype.valueOf);function KU(e){var t=(0,Mx.default)();return t.displayNameOfNode?(0,Mx.default)().displayNameOfNode(e)||"Component":typeof e.type=="function"?e.type.displayName||(0,$U.default)(e.type)||"Component":e.type}function ZU(e){return Array(e+1).join(" ")}function QU(e,t){return t.split(`
`).map(function(r){return""+String(ZU(e))+String(r)}).join(`
`)}function fZe(e,t){return(0,tZe.default)(e)?(0,ec.default)(String(e),{quoteStyle:"double"}):(0,nZe.default)(e)?"{"+String((0,ec.default)(Number(e)))+"}":(0,sZe.default)(e)?"{"+String((0,ec.default)(hZe(e)))+"}":(0,oZe.default)(e)?"{"+String((0,ec.default)(e))+"}":(typeof e>"u"?"undefined":PI(e))==="object"?t.verbose?"{"+String((0,ec.default)(e))+"}":"{{...}}":"{["+(typeof e>"u"?"undefined":PI(e))+"]}"}function pZe(e,t){var r=(0,qU.propsOfNode)(e),n=Object.keys(r).filter(function(i){return i!=="children"});return n.map(function(i){return String(i)+"="+String(fZe(r[i],t))}).join(" ")}function dZe(e,t){return e.length?`
`+String(e.map(function(r){return QU(t,r)}).join(`
`))+`
`:""}function mZe(e){return(0,Fu.default)(e,"nodeType")&&typeof e.nodeType=="string"&&(0,Fu.default)(e,"type")&&(0,Fu.default)(e,"key")&&(0,Fu.default)(e,"ref")&&(0,Fu.default)(e,"instance")&&(0,Fu.default)(e,"rendered")}function SP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string"||typeof e=="number")return(0,QKe.default)(e);if(typeof e=="function"){var n=(0,$U.default)(e);return"[function"+(n?" "+String(n):"")+"]"}if(!e)return"";var i=(0,Mx.default)();if(!i.isValidElement(e)&&!mZe(e))return"{"+String((0,ec.default)(e))+"}";var o=(0,qU.childrenOfNode)(e).map(function(f){return SP(f,t,r)}).filter(Boolean),a=KU(e),s=r.ignoreProps?"":pZe(e,r),u=s?" ":"",l=o.length?">":" ",c=dZe(o,t),h=o.length?"</"+String(a)+">":"/>";return"<"+String(a)+u+String(s)+l+String(c)+h}function gZe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.map(function(r){return SP(r,void 0,t)}).join(`


`)}var _f={},lh={},kP={};Object.defineProperty(kP,"__esModule",{value:!0});var CI=function(e){return JSON.stringify(e)},yZe=function(e){var t=e.body,r=[],n=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(n=(s=a.next()).done);n=!0){var u=s.value,l=void 0;if(u.type==="universalSelector")l="*";else if(u.type==="typeSelector")l=u.name;else if(u.type==="idSelector")l="#"+u.name;else if(u.type==="classSelector")l="."+u.name;else if(u.type==="attributePresenceSelector")l="["+u.name+"]";else if(u.type==="attributeValueSelector")l="["+u.name+u.operator+CI(u.value)+"]";else if(u.type==="pseudoClassSelector")l=":"+u.name,u.parameters.length&&(l+="("+u.parameters.map(CI).join(", ")+")");else if(u.type==="pseudoElementSelector")l="::"+u.name;else throw new Error("Unknown token.");r.push(l)}}catch(c){i=!0,o=c}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r.join("")};kP.default=function(){var e=function(t){var r=[],n=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(n=(s=a.next()).done);n=!0){var u=s.value;if(u.type==="selector")r.push(yZe(u));else if(u.type==="descendantCombinator")r.push(" ");else if(u.type==="childCombinator")r.push(" > ");else if(u.type==="adjacentSiblingCombinator")r.push(" + ");else if(u.type==="generalSiblingCombinator")r.push(" ~ ");else throw new Error("Unknown token.")}}catch(l){i=!0,o=l}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r.join("")};return{generate:e}};var OP={},JU={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.nearley=r()})(Le,function(){function t(l,c,h){return this.id=++t.highestId,this.name=l,this.symbols=c,this.postprocess=h,this}t.highestId=0,t.prototype.toString=function(l){var c=typeof l>"u"?this.symbols.map(u).join(" "):this.symbols.slice(0,l).map(u).join(" ")+" ● "+this.symbols.slice(l).map(u).join(" ");return this.name+" → "+c};function r(l,c,h,f){this.rule=l,this.dot=c,this.reference=h,this.data=[],this.wantedBy=f,this.isComplete=this.dot===l.symbols.length}r.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},r.prototype.nextState=function(l){var c=new r(this.rule,this.dot+1,this.reference,this.wantedBy);return c.left=this,c.right=l,c.isComplete&&(c.data=c.build(),c.right=void 0),c},r.prototype.build=function(){var l=[],c=this;do l.push(c.right.data),c=c.left;while(c.left);return l.reverse(),l},r.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,a.fail))};function n(l,c){this.grammar=l,this.index=c,this.states=[],this.wants={},this.scannable=[],this.completed={}}n.prototype.process=function(l){for(var c=this.states,h=this.wants,f=this.completed,p=0;p<c.length;p++){var d=c[p];if(d.isComplete){if(d.finish(),d.data!==a.fail){for(var m=d.wantedBy,v=m.length;v--;){var b=m[v];this.complete(b,d)}if(d.reference===this.index){var g=d.rule.name;(this.completed[g]=this.completed[g]||[]).push(d)}}}else{var g=d.rule.symbols[d.dot];if(typeof g!="string"){this.scannable.push(d);continue}if(h[g]){if(h[g].push(d),f.hasOwnProperty(g))for(var y=f[g],v=0;v<y.length;v++){var _=y[v];this.complete(d,_)}}else h[g]=[d],this.predict(g)}}},n.prototype.predict=function(l){for(var c=this.grammar.byName[l]||[],h=0;h<c.length;h++){var f=c[h],p=this.wants[l],d=new r(f,0,this.index,p);this.states.push(d)}},n.prototype.complete=function(l,c){var h=l.nextState(c);this.states.push(h)};function i(l,c){this.rules=l,this.start=c||this.rules[0].name;var h=this.byName={};this.rules.forEach(function(f){h.hasOwnProperty(f.name)||(h[f.name]=[]),h[f.name].push(f)})}i.fromCompiled=function(f,c){var h=f.Lexer;f.ParserStart&&(c=f.ParserStart,f=f.ParserRules);var f=f.map(function(d){return new t(d.name,d.symbols,d.postprocess)}),p=new i(f,c);return p.lexer=h,p};function o(){this.reset("")}o.prototype.reset=function(l,c){this.buffer=l,this.index=0,this.line=c?c.line:1,this.lastLineBreak=c?-c.col:0},o.prototype.next=function(){if(this.index<this.buffer.length){var l=this.buffer[this.index++];return l===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:l}}},o.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},o.prototype.formatError=function(l,c){var h=this.buffer;if(typeof h=="string"){var f=h.split(`
`).slice(Math.max(0,this.line-5),this.line),p=h.indexOf(`
`,this.index);p===-1&&(p=h.length);var d=this.index-this.lastLineBreak,m=String(this.line).length;return c+=" at line "+this.line+" col "+d+`:

`,c+=f.map(function(b,g){return v(this.line-f.length+g+1,m)+" "+b},this).join(`
`),c+=`
`+v("",m+d)+`^
`,c}else return c+" at index "+(this.index-1);function v(b,g){var y=String(b);return Array(g-y.length+1).join(" ")+y}};function a(l,c,f){if(l instanceof i)var p=l,f=c;else var p=i.fromCompiled(l,c);this.grammar=p,this.options={keepHistory:!1,lexer:p.lexer||new o};for(var d in f||{})this.options[d]=f[d];this.lexer=this.options.lexer,this.lexerState=void 0;var m=new n(p,0);this.table=[m],m.wants[p.start]=[],m.predict(p.start),m.process(),this.current=0}a.fail={},a.prototype.feed=function(l){var c=this.lexer;c.reset(l,this.lexerState);for(var h;;){try{if(h=c.next(),!h)break}catch(O){var m=new n(this.grammar,this.current+1);this.table.push(m);var f=new Error(this.reportLexerError(O));throw f.offset=this.current,f.token=O.token,f}var p=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var d=this.current+1,m=new n(this.grammar,d);this.table.push(m);for(var v=h.text!==void 0?h.text:h.value,b=c.constructor===o?h.value:h,g=p.scannable,y=g.length;y--;){var _=g[y],w=_.rule.symbols[_.dot];if(w.test?w.test(b):w.type?w.type===h.type:w.literal===v){var T=_.nextState({data:b,token:h,isToken:!0,reference:d-1});m.states.push(T)}}if(m.process(),m.states.length===0){var f=new Error(this.reportError(h));throw f.offset=this.current,f.token=h,f}this.options.keepHistory&&(p.lexerState=c.save()),this.current++}return p&&(this.lexerState=c.save()),this.results=this.finish(),this},a.prototype.reportLexerError=function(l){var c,h,f=l.token;return f?(c="input "+JSON.stringify(f.text[0])+" (lexer error)",h=this.lexer.formatError(f,"Syntax error")):(c="input (lexer error)",h=l.message),this.reportErrorCommon(h,c)},a.prototype.reportError=function(l){var c=(l.type?l.type+" token: ":"")+JSON.stringify(l.value!==void 0?l.value:l),h=this.lexer.formatError(l,"Syntax error");return this.reportErrorCommon(h,c)},a.prototype.reportErrorCommon=function(l,c){var h=[];h.push(l);var f=this.table.length-2,p=this.table[f],d=p.states.filter(function(v){var b=v.rule.symbols[v.dot];return b&&typeof b!="string"});if(d.length===0)h.push("Unexpected "+c+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(p.states,h);else{h.push("Unexpected "+c+`. Instead, I was expecting to see one of the following:
`);var m=d.map(function(v){return this.buildFirstStateStack(v,[])||[v]},this);m.forEach(function(v){var b=v[0],g=b.rule.symbols[b.dot],y=this.getSymbolDisplay(g);h.push("A "+y+" based on:"),this.displayStateStack(v,h)},this)}return h.push(""),h.join(`
`)},a.prototype.displayStateStack=function(l,c){for(var h,f=0,p=0;p<l.length;p++){var d=l[p],m=d.rule.toString(d.dot);m===h?f++:(f>0&&c.push("    ^ "+f+" more lines identical to this"),f=0,c.push("    "+m)),h=m}},a.prototype.getSymbolDisplay=function(l){return s(l)},a.prototype.buildFirstStateStack=function(l,c){if(c.indexOf(l)!==-1)return null;if(l.wantedBy.length===0)return[l];var h=l.wantedBy[0],f=[l].concat(c),p=this.buildFirstStateStack(h,f);return p===null?null:[l].concat(p)},a.prototype.save=function(){var l=this.table[this.current];return l.lexerState=this.lexerState,l},a.prototype.restore=function(l){var c=l.index;this.current=c,this.table[c]=l,this.table.splice(c+1),this.lexerState=l.lexerState,this.results=this.finish()},a.prototype.rewind=function(l){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[l])},a.prototype.finish=function(){var l=[],c=this.grammar.start,h=this.table[this.table.length-1];return h.states.forEach(function(f){f.rule.name===c&&f.dot===f.rule.symbols.length&&f.reference===0&&f.data!==a.fail&&l.push(f)}),l.map(function(f){return f.data})};function s(l){var c=typeof l;if(c==="string")return l;if(c==="object"){if(l.literal)return JSON.stringify(l.literal);if(l instanceof RegExp)return"character matching "+l;if(l.type)return l.type+" token";if(l.test)return"token matching "+String(l.test);throw new Error("Unknown symbol type: "+l)}}function u(l){var c=typeof l;if(c==="string")return l;if(c==="object"){if(l.literal)return JSON.stringify(l.literal);if(l instanceof RegExp)return l.toString();if(l.type)return"%"+l.type;if(l.test)return"<"+String(l.test)+">";throw new Error("Unknown symbol type: "+l)}}return{Parser:a,Grammar:i,Rule:t}})})(JU);var vZe=JU.exports,eV={exports:{}},bZe=1/0,_Ze=9007199254740991,wZe="[object Arguments]",TZe="[object Function]",xZe="[object GeneratorFunction]",EZe=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,SZe=typeof self=="object"&&self&&self.Object===Object&&self,kZe=EZe||SZe||Function("return this")(),PP=Object.prototype,OZe=PP.hasOwnProperty,tV=PP.toString,AI=kZe.Symbol,PZe=PP.propertyIsEnumerable,MI=AI?AI.isConcatSpreadable:void 0;function rV(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=CZe),i||(i=[]);++o<a;){var s=e[o];r(s)?rV(s,t-1,r,n,i):i[i.length]=s}return i}function CZe(e){return IZe(e)||MZe(e)||!!(MI&&e&&e[MI])}function AZe(e){var t=e?e.length:0;return t?rV(e,bZe):[]}function MZe(e){return DZe(e)&&OZe.call(e,"callee")&&(!PZe.call(e,"callee")||tV.call(e)==wZe)}var IZe=Array.isArray;function RZe(e){return e!=null&&jZe(e.length)&&!NZe(e)}function DZe(e){return BZe(e)&&RZe(e)}function NZe(e){var t=LZe(e)?tV.call(e):"";return t==TZe||t==xZe}function jZe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=_Ze}function LZe(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function BZe(e){return!!e&&typeof e=="object"}var FZe=AZe;(function(e){(function(){function t(h){return h[0]}var r=FZe,n=function(h,f){return function(p){return p[h].concat([p[f]])}},i=function(h){return h=h.filter(function(f){return f!==null}),r(h)},o={" ":"descendantCombinator","+":"adjacentSiblingCombinator",">":"childCombinator","~":"generalSiblingCombinator"},a=function(h){return(Array.isArray(h[0])?h[0]:[h[0]]).concat({type:o[h[2]]}).concat(h[4])},s=function(h,f,p){var d=r(h).join(""),m=parseFloat(d);return isNaN(m)?p:m},u=function(h,f,p){return h[0]==="true"?!0:h[0]==="false"?!1:p},l=function(h,f,p){if(h[0]==="NaN")return NaN;if(h[0]!=="undefined")return h[0]==="null"?null:p},c={Lexer:void 0,ParserRules:[{name:"combinator",symbols:["selector"]},{name:"combinator",symbols:["combinator","_",/[>+~ ]/,"_","selector"],postprocess:a},{name:"selector",symbols:["selectorBody"],postprocess:function(h){return{type:"selector",body:h[0]}}},{name:"selectorBody$ebnf$1",symbols:["typeSelector"],postprocess:t},{name:"selectorBody$ebnf$1",symbols:[],postprocess:function(h){return null}},{name:"selectorBody$ebnf$2",symbols:[]},{name:"selectorBody$ebnf$2",symbols:["selectorBody$ebnf$2","simpleSelector"],postprocess:function(h){return h[0].concat([h[1]])}},{name:"selectorBody",symbols:["selectorBody$ebnf$1","selectorBody$ebnf$2"],postprocess:function(h,f,p){var d=i(h);return d.length?d:p}},{name:"selectorBody$ebnf$3",symbols:[]},{name:"selectorBody$ebnf$3",symbols:["selectorBody$ebnf$3","simpleSelector"],postprocess:function(h){return h[0].concat([h[1]])}},{name:"selectorBody",symbols:["universalSelector","selectorBody$ebnf$3"],postprocess:i},{name:"simpleSelector",symbols:["idSelector"]},{name:"simpleSelector",symbols:["classSelector"]},{name:"simpleSelector",symbols:["attributeValueSelector"]},{name:"simpleSelector",symbols:["attributePresenceSelector"]},{name:"simpleSelector",symbols:["pseudoClassSelector"]},{name:"simpleSelector",symbols:["pseudoElementSelector"]},{name:"typeSelector",symbols:["attributeName"],postprocess:function(h){return{type:"typeSelector",name:h[0]}}},{name:"className$ebnf$1",symbols:[{literal:"-"}],postprocess:t},{name:"className$ebnf$1",symbols:[],postprocess:function(h){return null}},{name:"className$ebnf$2",symbols:[]},{name:"className$ebnf$2",symbols:["className$ebnf$2",/[_a-zA-Z0-9-]/],postprocess:function(h){return h[0].concat([h[1]])}},{name:"className",symbols:["className$ebnf$1",/[_a-zA-Z]/,"className$ebnf$2"],postprocess:function(h){return(h[0]||"")+h[1]+h[2].join("")}},{name:"attributeName$ebnf$1",symbols:[]},{name:"attributeName$ebnf$1",symbols:["attributeName$ebnf$1",/[_a-zA-Z()0-9-]/],postprocess:function(h){return h[0].concat([h[1]])}},{name:"attributeName",symbols:[/[_a-z()A-Z]/,"attributeName$ebnf$1"],postprocess:function(h){return h[0]+h[1].join("")}},{name:"classSelector",symbols:[{literal:"."},"className"],postprocess:function(h){return{type:"classSelector",name:h[1]}}},{name:"idSelector",symbols:[{literal:"#"},"attributeName"],postprocess:function(h){return{type:"idSelector",name:h[1]}}},{name:"universalSelector",symbols:[{literal:"*"}],postprocess:function(h){return{type:"universalSelector"}}},{name:"attributePresenceSelector",symbols:[{literal:"["},"attributeName",{literal:"]"}],postprocess:function(h){return{type:"attributePresenceSelector",name:h[1]}}},{name:"attributeOperator",symbols:[{literal:"="}]},{name:"attributeOperator$string$1",symbols:[{literal:"~"},{literal:"="}],postprocess:function(h){return h.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$1"]},{name:"attributeOperator$string$2",symbols:[{literal:"|"},{literal:"="}],postprocess:function(h){return h.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$2"]},{name:"attributeOperator$string$3",symbols:[{literal:"^"},{literal:"="}],postprocess:function(h){return h.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$3"]},{name:"attributeOperator$string$4",symbols:[{literal:"$"},{literal:"="}],postprocess:function(h){return h.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$4"]},{name:"attributeOperator$string$5",symbols:[{literal:"*"},{literal:"="}],postprocess:function(h){return h.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$5"]},{name:"attributeValueSelector",symbols:[{literal:"["},"attributeName","attributeOperator","attributeValue",{literal:"]"}],postprocess:function(h){return{type:"attributeValueSelector",name:h[1],value:h[3],operator:h[2][0]}}},{name:"attributeValue",symbols:["falsyPrimitiveStrings"],postprocess:t},{name:"attributeValue",symbols:["numericValue"],postprocess:t},{name:"attributeValue",symbols:["sqstring"],postprocess:t},{name:"attributeValue",symbols:["dqstring"],postprocess:t},{name:"falsyPrimitiveStrings$string$1",symbols:[{literal:"f"},{literal:"a"},{literal:"l"},{literal:"s"},{literal:"e"}],postprocess:function(h){return h.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$1"],postprocess:u},{name:"falsyPrimitiveStrings$string$2",symbols:[{literal:"t"},{literal:"r"},{literal:"u"},{literal:"e"}],postprocess:function(h){return h.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$2"],postprocess:u},{name:"falsyPrimitiveStrings$string$3",symbols:[{literal:"N"},{literal:"a"},{literal:"N"}],postprocess:function(h){return h.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$3"],postprocess:l},{name:"falsyPrimitiveStrings$string$4",symbols:[{literal:"n"},{literal:"u"},{literal:"l"},{literal:"l"}],postprocess:function(h){return h.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$4"],postprocess:l},{name:"falsyPrimitiveStrings$string$5",symbols:[{literal:"u"},{literal:"n"},{literal:"d"},{literal:"e"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"e"},{literal:"d"}],postprocess:function(h){return h.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$5"],postprocess:l},{name:"numericValue",symbols:["int",{literal:"."},"int"],postprocess:s},{name:"numericValue",symbols:[{literal:"+"},"int",{literal:"."},"int"],postprocess:s},{name:"numericValue",symbols:[{literal:"-"},"int",{literal:"."},"int"],postprocess:s},{name:"numericValue",symbols:[{literal:"-"},"int"],postprocess:s},{name:"numericValue",symbols:["int"],postprocess:s},{name:"numericValue",symbols:[{literal:"+"},"int"],postprocess:s},{name:"numericValue$string$1",symbols:[{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(h){return h.join("")}},{name:"numericValue",symbols:["numericValue$string$1"],postprocess:s},{name:"numericValue$string$2",symbols:[{literal:"+"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(h){return h.join("")}},{name:"numericValue",symbols:["numericValue$string$2"],postprocess:s},{name:"numericValue$string$3",symbols:[{literal:"-"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(h){return h.join("")}},{name:"numericValue",symbols:["numericValue$string$3"],postprocess:s},{name:"int$ebnf$1",symbols:[/[0-9]/]},{name:"int$ebnf$1",symbols:["int$ebnf$1",/[0-9]/],postprocess:function(h){return h[0].concat([h[1]])}},{name:"int",symbols:["int$ebnf$1"]},{name:"classParameters",symbols:[]},{name:"classParameters",symbols:["classParameter"]},{name:"classParameters",symbols:["classParameters",{literal:","},"_","classParameter"],postprocess:n(0,3)},{name:"classParameter$ebnf$1",symbols:[/[^()"', ]/]},{name:"classParameter$ebnf$1",symbols:["classParameter$ebnf$1",/[^()"', ]/],postprocess:function(h){return h[0].concat([h[1]])}},{name:"classParameter",symbols:["classParameter$ebnf$1"],postprocess:function(h){return h[0].join("")}},{name:"classParameter",symbols:["sqstring"],postprocess:t},{name:"classParameter",symbols:["dqstring"],postprocess:t},{name:"pseudoElementSelector$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:function(h){return h.join("")}},{name:"pseudoElementSelector",symbols:["pseudoElementSelector$string$1","pseudoClassSelectorName"],postprocess:function(h){return{type:"pseudoElementSelector",name:h[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName"],postprocess:function(h){return{type:"pseudoClassSelector",name:h[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName",{literal:"("},"classParameters",{literal:")"}],postprocess:function(h){return{type:"pseudoClassSelector",name:h[1],parameters:h[3]}}},{name:"pseudoClassSelectorName$ebnf$1",symbols:[/[a-zA-Z0-9-_]/]},{name:"pseudoClassSelectorName$ebnf$1",symbols:["pseudoClassSelectorName$ebnf$1",/[a-zA-Z0-9-_]/],postprocess:function(h){return h[0].concat([h[1]])}},{name:"pseudoClassSelectorName",symbols:[/[a-zA-Z]/,"pseudoClassSelectorName$ebnf$1"],postprocess:function(h){return h[0]+h[1].join("")}},{name:"dqstring$ebnf$1",symbols:[]},{name:"dqstring$ebnf$1",symbols:["dqstring$ebnf$1","dstrchar"],postprocess:function(h){return h[0].concat([h[1]])}},{name:"dqstring",symbols:[{literal:'"'},"dqstring$ebnf$1",{literal:'"'}],postprocess:function(h){return h[1].join("")}},{name:"dstrchar",symbols:[/[^"]/],postprocess:t},{name:"dstrchar$string$1",symbols:[{literal:"\\"},{literal:'"'}],postprocess:function(h){return h.join("")}},{name:"dstrchar",symbols:["dstrchar$string$1"],postprocess:function(h){return'"'}},{name:"sqstring$ebnf$1",symbols:[]},{name:"sqstring$ebnf$1",symbols:["sqstring$ebnf$1","sstrchar"],postprocess:function(h){return h[0].concat([h[1]])}},{name:"sqstring",symbols:[{literal:"'"},"sqstring$ebnf$1",{literal:"'"}],postprocess:function(h){return h[1].join("")}},{name:"sstrchar",symbols:[/[^']/],postprocess:t},{name:"sstrchar$string$1",symbols:[{literal:"\\"},{literal:"'"}],postprocess:function(h){return h.join("")}},{name:"sstrchar",symbols:["sstrchar$string$1"],postprocess:function(h){return"'"}},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1",/[ ]/],postprocess:function(h){return h[0].concat([h[1]])}},{name:"_",symbols:["_$ebnf$1"],postprocess:function(h){return null}}],ParserStart:"combinator"};e.exports=c})()})(eV);var zZe=eV.exports;Object.defineProperty(OP,"__esModule",{value:!0});var HZe=vZe,UZe=zZe,II=VZe(UZe);function VZe(e){return e&&e.__esModule?e:{default:e}}OP.default=function(){var e=function(t){var r=new HZe.Parser(II.default.ParserRules,II.default.ParserStart),n=r.feed(t).results;if(n.length===0)throw new Error("Found no parsings.");if(n.length>1)throw new Error("Ambiguous results.");return n[0]};return{parse:e}};Object.defineProperty(lh,"__esModule",{value:!0});lh.createParser=lh.createGenerator=void 0;var GZe=kP,YZe=nV(GZe),WZe=OP,XZe=nV(WZe);function nV(e){return e&&e.__esModule?e:{default:e}}lh.createGenerator=YZe.default;lh.createParser=XZe.default;var $Ze=yf,qZe=Dn,KZe=qZe("Object.prototype.propertyIsEnumerable"),iV=function(e){var t=$Ze(e),r=[];for(var n in t)KZe(t,n)&&(r[r.length]=t[n]);return r},ZZe=iV,oV=function(){return typeof Object.values=="function"?Object.values:ZZe},QZe=oV,JZe=Qn,eQe=function(){var e=QZe();return JZe(Object,{values:e},{values:function(){return Object.values!==e}}),e},tQe=Qn,rQe=Xa,nQe=iV,aV=oV,iQe=eQe,sV=rQe(aV(),Object);tQe(sV,{getPolyfill:aV,implementation:nQe,shim:iQe});var oQe=sV,lV=to,uV=Xa,aQe=uV(lV("String.prototype.indexOf")),CP=function(e,t){var r=lV(e,!!t);return typeof r=="function"&&aQe(e,".prototype.")>-1?uV(r):r},sQe=Iz,lQe=Dz,uQe=Lz,cQe=O1,hQe=Bz,fQe=Cz,pQe=qz,dQe=Az,mQe=Kz,RI=nP,gQe=CP,yQe=YU,vQe=mf,DI=vQe("a"),bQe=DI[0]!=="a"||!(0 in DI),_Qe=gQe("String.prototype.split"),cV=function(e){var t=mQe(this),r=bQe&&yQe(t)?_Qe(t,""):t,n=pQe(r);if(!fQe(e))throw new TypeError("Array.prototype.filter callback must be a function");var i;arguments.length>1&&(i=arguments[1]);for(var o=sQe(t,0),a=0,s=0;a<n;){var u=RI(a),l=hQe(t,u);if(l){var c=cQe(t,u),h=dQe(lQe(e,i,[c,a,t]));h&&(uQe(o,RI(s),c),s+=1)}a+=1}return o},wQe=function(e){var t=!0,r=!0,n=!1;if(typeof e=="function"){try{e.call("f",function(i,o,a){typeof a!="object"&&(t=!1)}),e.call([null],function(){"use strict";r=typeof this=="string"},"x")}catch{n=!0}return!n&&t&&r}return!1},TQe=wQe,xQe=cV,hV=function(){var e=Array.prototype.filter;return TQe(e)?e:xQe},XT,NI;function EQe(){if(NI)return XT;NI=1;var e=Qn,t=hV;return XT=function(){var r=t();return e(Array.prototype,{filter:r},{filter:function(){return Array.prototype.filter!==r}}),r},XT}var SQe=Qn,kQe=yf,OQe=Xa,PQe=CP,CQe=cV,fV=hV,AQe=OQe.apply(fV()),MQe=EQe(),IQe=PQe("Array.prototype.slice"),pV=function(e,t){return kQe(e),AQe(e,IQe(arguments,1))};SQe(pV,{getPolyfill:fV,implementation:CQe,shim:MQe});var RQe=pV,DQe=CP,NQe=DQe("Array.prototype.push"),jQe=function(e,t){for(var r=[],n=0;n<e.length;n+=1)NQe(r,t(e[n],n));return r},LQe=[["HTMLElement","article"],["HTMLElement","section"],["HTMLBaseFontElement","basefont","HTMLBaseFontElementConstructor"],["HTMLPhraseElement","cite","HTMLElement"],["HTMLElement","noscript"],["HTMLBGSoundElement","bgsound","HTMLElement"],["HTMLPhraseElement","blink","HTMLElement"],["HTMLElement","multicol"],["HTMLNextIdElement","nextid","HTMLElement"],["HTMLElement","rb"],["HTMLElement","spacer"],["HTMLAnchorElement","a","HTMLElement"],["HTMLAreaElement","area","HTMLElement"],["HTMLAudioElement","audio","HTMLElement"],["HTMLBaseElement","base","HTMLElement"],["HTMLBodyElement","body","HTMLElement"],["HTMLBRElement","br","HTMLElement"],["HTMLButtonElement","button"],["HTMLCanvasElement","canvas"],["HTMLContentElement","content","HTMLElement"],["HTMLDataElement","data","HTMLElement"],["HTMLDataListElement","datalist"],["HTMLDialogElement","dialog","HTMLElement"],["HTMLDirectoryElement","dir"],["HTMLDivElement","div"],["HTMLDListElement","dl"],["HTMLEmbedElement","embed"],["HTMLFieldSetElement","fieldset"],["HTMLFontElement","font"],["HTMLFormElement","form"],["HTMLFrameElement","frame"],["HTMLFrameSetElement","frameset"],["HTMLHeadElement","head"],["HTMLHeadingElement","h1"],["HTMLHeadingElement","h2"],["HTMLHeadingElement","h3"],["HTMLHeadingElement","h4"],["HTMLHeadingElement","h5"],["HTMLHeadingElement","h6"],["HTMLHtmlElement","html"],["HTMLHRElement","hr"],["HTMLIFrameElement","iframe"],["HTMLImageElement","img"],["HTMLInputElement","input"],["HTMLIsIndexElement","index","HTMLElement"],["HTMLKeygenElement","keygen","HTMLBlockElement"],["HTMLLabelElement","label"],["HTMLLegendElement","legend"],["HTMLLIElement","li"],["HTMLLinkElement","link"],["HTMLElement","main"],["HTMLMapElement","map"],["HTMLMarqueeElement","marquee"],["HTMLMenuElement","menu"],["HTMLMetaElement","meta"],["HTMLMeterElement","meter","HTMLElement"],["HTMLModElement","del"],["HTMLModElement","ins"],["HTMLObjectElement","object"],["HTMLOListElement","ol"],["HTMLOptGroupElement","optgroup"],["HTMLOptionElement","option"],["HTMLOutputElement","output"],["HTMLParagraphElement","p"],["HTMLParamElement","param"],["HTMLPictureElement","picture","HTMLElement"],["HTMLPreElement","pre"],["HTMLProgressElement","progress","HTMLElement"],["HTMLQuoteElement","q","HTMLBlockquoteElement"],["HTMLQuoteElement","blockquote","HTMLBlockElement","HTMLBlockquoteElement"],["HTMLScriptElement","script"],["HTMLSelectElement","select"],["HTMLShadowElement","shadow","HTMLElement"],["HTMLSourceElement","source"],["HTMLSpanElement","span","HTMLElement"],["HTMLStyleElement","style"],["HTMLTableElement","table"],["HTMLTableCaptionElement","caption"],["HTMLTableCellElement","td","HTMLTableDataCellElement"],["HTMLTableCellElement","th","HTMLTableHeaderCellElement"],["HTMLTableRowElement","tr"],["HTMLTableColElement","col"],["HTMLTableColElement","colgroup"],["HTMLTableSectionElement","tbody"],["HTMLTableSectionElement","thead"],["HTMLTableSectionElement","tfoot"],["HTMLTemplateElement","template","HTMLElement"],["HTMLTextAreaElement","textarea"],["HTMLTimeElement","time","HTMLElement"],["HTMLTitleElement","title"],["HTMLTrackElement","track","HTMLElement"],["HTMLUListElement","ul"],["HTMLVideoElement","video"],["HTMLElement","abbr"],["HTMLElement","address"],["HTMLElement","aside"],["HTMLElement","b"],["HTMLElement","bdi"],["HTMLElement","bdo"],["HTMLElement","code"],["HTMLElement","dd"],["HTMLDetailsElement","details","HTMLElement"],["HTMLElement","dfn"],["HTMLElement","dt"],["HTMLElement","em"],["HTMLElement","figcaption"],["HTMLElement","figure"],["HTMLElement","footer"],["HTMLElement","header"],["HTMLElement","hgroup"],["HTMLElement","i"],["HTMLElement","kbd"],["HTMLElement","mark"],["HTMLElement","nav"],["HTMLElement","rp"],["HTMLElement","rt"],["HTMLElement","ruby"],["HTMLElement","s"],["HTMLElement","samp"],["HTMLSlotElement","slot","HTMLElement"],["HTMLElement","small"],["HTMLElement","strong"],["HTMLElement","summary"],["HTMLElement","u"],["HTMLElement","var"],["HTMLElement","wbr"]],BQe=function(e,t,r){if(typeof document<"u"&&typeof document.createElement=="function"){var n=document.createElement(e).constructor;if(n!==r)return n}},FQe=function(){var e=globalThis.HTMLUnknownElement;return{all:globalThis.HTMLElement,elements:jQe(LQe,function(t){for(var r=t[0],n=t[1],i,o,a=2;a<arguments.length&&!o;a+=1)i=t[a],o=i&&globalThis[i];var s=globalThis[r];return{constructor:BQe(n,o||s,e),constructorName:o?i:r,expectedConstructor:o||s,tag:n}}),unknown:e}},zQe=RQe,HQe=FQe,UQe=function(e){if(!e)return[];var t=HQe();return e===t.unknown?[]:e===t.all?t.elements:zQe(t.elements,function(r){return r.constructor===e})};Object.defineProperty(_f,"__esModule",{value:!0});var dV=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VQe=(function(){function e(t,r){var n=[],i=!0,o=!1,a=void 0;try{for(var s=t[Symbol.iterator](),u;!(i=(u=s.next()).done)&&(n.push(u.value),!(r&&n.length===r));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})();_f.buildPredicate=wV;_f.reduceTreeBySelector=Wb;_f.reduceTreesBySelector=kJe;var GQe=lh,YQe=oQe,WQe=wf(YQe),XQe=C1,AP=wf(XQe),$Qe=iP,qQe=wf($Qe),KQe=A1,ZQe=wf(KQe),QQe=UQe,JQe=wf(QQe),Wn=tn,mV=M1,eJe=Ns,gV=wf(eJe);function wf(e){return e&&e.__esModule?e:{default:e}}function tJe(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else return Array.from(e)}var rJe=(0,GQe.createParser)(),nJe="childCombinator",iJe="adjacentSiblingCombinator",oJe="generalSiblingCombinator",aJe="descendantCombinator",yV="selector",sJe="typeSelector",lJe="classSelector",uJe="idSelector",cJe="universalSelector",vV="attributePresenceSelector",hJe="attributeValueSelector",fJe="pseudoClassSelector",pJe="pseudoElementSelector",jI="=",dJe="~=",mJe="|=",gJe="^=",yJe="$=",vJe="*=";function bV(e){return[].concat(tJe(new Set(e)))}function MP(e,t){return bV(t.reduce(e,[]))}function _V(e){try{return rJe.parse(e)}catch{throw new Error("Failed to parse selector: "+String(e))}}function LI(e,t){var r=t.operator,n=t.value,i=t.name,o=(0,mV.propsOfNode)(e),a=Object.getOwnPropertyDescriptor(o,i);if(a&&a.get)return!1;var s=o[i];if(typeof s>"u")return!1;if(t.type===vV)return(0,ZQe.default)(o,t.name);if((typeof s!="string"||typeof n!="string")&&r!==jI)return!1;switch(r){case jI:return(0,qQe.default)(s,n);case dJe:return s.split(" ").indexOf(n)!==-1;case mJe:return s===n||s.startsWith(String(n)+"-");case gJe:return n===""?!1:s.slice(0,n.length)===n;case yJe:return n===""?!1:s.slice(-n.length)===n;case vJe:return n===""?!1:s.indexOf(n)!==-1;default:throw new Error('Enzyme::Selector: Unknown attribute selector operator "'+String(r)+'"')}}function bJe(e,t,r){var n=t.name,i=t.parameters;if(n==="not")return i.every(function(f){return Wb(f,e).length===0});if(n==="empty")return(0,Wn.treeFilter)(e,function(f){return f!==e}).length===0;if(n==="first-child"){var o=(0,Wn.findParentNode)(r,e),a=o.rendered,s=VQe(a,1),u=s[0];return u===e}if(n==="last-child"){var l=(0,Wn.findParentNode)(r,e),c=l.rendered;return c[c.length-1]===e}if(n==="focus"){if(typeof document>"u")throw new Error('Enzyme::Selector does not support the ":focus" pseudo-element without a global `document`.');var h=(0,gV.default)();return document.activeElement&&h.nodeToHostNode(e)===document.activeElement}throw new TypeError('Enzyme::Selector does not support the "'+String(t.name)+'" pseudo-element or pseudo-class selectors.')}function _Je(e,t,r){if(e===null||typeof e=="string")return!1;switch(t.type){case cJe:return!0;case lJe:return(0,Wn.hasClassName)(e,t.name);case sJe:return(0,mV.nodeHasType)(e,t.name);case uJe:return(0,Wn.nodeHasId)(e,t.name);case vV:return LI(e,t);case hJe:return LI(e,t);case pJe:case fJe:return bJe(e,t,r);default:throw new Error("Unknown token type: "+String(t.type))}}function Ix(e,t){return function(r){return e.body.every(function(n){return _Je(r,n,t)})}}function wJe(e){return e.some(function(t){return t.type!==yV})}function wV(e){if(typeof e=="string"){var t=_V(e);if(wJe(t))throw new TypeError("This method does not support complex CSS selectors");return Ix(t[0])}var r=(0,gV.default)(),n=r.isValidElementType?r.isValidElementType(e):typeof e=="function";if(n)return function(o){return r.matchesElementType(o,e)};if((typeof e>"u"?"undefined":dV(e))==="object"){if(!Array.isArray(e)&&e!==null&&Object.keys(e).length>0){var i=(0,WQe.default)(e).some(function(o){return typeof o>"u"});if(i)throw new TypeError("Enzyme::Props can’t have `undefined` values. Try using ‘findWhere()’ instead.");return function(o){return(0,Wn.nodeMatchesObjectProps)(o,e)}}throw new TypeError("Enzyme::Selector does not support an array, null, or empty object as a selector")}throw new TypeError("Enzyme::Selector expects a string, object, or valid element type (Component Constructor)")}function TJe(e,t,r){return e.reduce(function(n,i){var o=(0,Wn.findParentNode)(r,i);if(!o)return n;var a=(0,Wn.childrenOfNode)(o),s=a.indexOf(i),u=a[s+1];return u&&t(u)&&n.push(u),n},[])}function xJe(e,t,r){return MP(function(n,i){var o=(0,Wn.findParentNode)(r,i);if(!o)return n;var a=(0,Wn.childrenOfNode)(o),s=a.indexOf(i),u=a.slice(s+1);return n.concat(u.filter(t))},e)}function EJe(e,t){return MP(function(r,n){return r.concat((0,Wn.childrenOfNode)(n).filter(t))},e)}function SJe(e,t){return MP(function(r,n){return r.concat((0,Wn.treeFilter)(n,t))},(0,AP.default)(e.map(Wn.childrenOfNode)))}function Wb(e,t){if(typeof e!="string"){var r=(0,JQe.default)(e);if(r.length>0)return(0,AP.default)(r.map(function(c){return Wb(c.tag,t)}))}if(typeof e=="function"||(typeof e>"u"?"undefined":dV(e))==="object")return(0,Wn.treeFilter)(t,wV(e));var n=[];if(typeof e=="string")for(var i=_V(e),o=0;o<i.length;){var a=i[o];if(a.type===yV){var s=Ix(a,t);n=n.concat((0,Wn.treeFilter)(t,s))}else{var u=a.type;o+=1;var l=Ix(i[o],t);switch(u){case iJe:n=TJe(n,l,t);break;case oJe:n=xJe(n,l,t);break;case nJe:n=EJe(n,l);break;case aJe:{n=SJe(n,l);break}default:throw new Error("Unknown combinator selector: "+String(u))}}o+=1}else throw new TypeError("Enzyme::Selector expects a string, object, or Component Constructor");return n}function kJe(e,t){var r=t.map(function(n){return Wb(e,n)});return bV((0,AP.default)(r,1))}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},r=(function(){function re(X,$){for(var ee=0;ee<$.length;ee++){var le=$[ee];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(X,le.key,le)}}return function(X,$,ee){return $&&re(X.prototype,$),ee&&re(X,ee),X}})(),n=gf,i=m(n),o=C1,a=m(o),s=A1,u=m(s),l=M1,c=Ns,h=m(c),f=js,p=tn,d=_f;function m(re){return re&&re.__esModule?re:{default:re}}function v(re,X,$){return X in re?Object.defineProperty(re,X,{value:$,enumerable:!0,configurable:!0,writable:!0}):re[X]=$,re}function b(re,X){if(!re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:re}function g(re,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);re.prototype=Object.create(X&&X.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(re,X):re.__proto__=X)}function y(re,X){if(!(re instanceof X))throw new TypeError("Cannot call a class as a function")}var _=(0,l.sym)("__node__"),w=(0,l.sym)("__nodes__"),T=(0,l.sym)("__renderer__"),O=(0,l.sym)("__unrendered__"),E=(0,l.sym)("__root__"),S=(0,l.sym)("__options__"),A=(0,l.sym)("__rootNodes__"),M=(0,l.sym)("__wrappingComponent__"),H=(0,l.sym)("__linkedRoots__"),N=(0,l.sym)("__updatedBy__");function k(re,X){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.treeFilter;return re.flatMap(function(ee){return $(ee.getNodeInternal(),X)})}function R(re,X){return re.wrap(re.getNodesInternal().filter(X).filter(Boolean))}function B(re){if(re[E].length!==1)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return re[E]!==re?re[A][0]:re[E][_]}function z(re,X){return(0,p.parentsOfNode)(X,B(re))}function U(re,X){X?Array.isArray(X)?((0,l.privateSet)(re,_,X[0]),(0,l.privateSet)(re,w,X)):((0,l.privateSet)(re,_,X),(0,l.privateSet)(re,w,[X])):((0,l.privateSet)(re,_,null),(0,l.privateSet)(re,w,[])),(0,l.privateSet)(re,"length",re[w].length)}var V=(function(){function re(X,$){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(y(this,re),!globalThis.window&&!globalThis.document)throw new Error("It looks like you called `mount()` without a global document being loaded.");var le=(0,l.makeOptions)(ee);if($)(0,l.privateSet)(this,T,$[T]),(0,l.privateSet)(this,E,$),U(this,X),(0,l.privateSet)(this,A,$[w]),(0,l.privateSet)(this,S,$[S]),(0,l.privateSet)(this,H,[]);else{var fe=(0,h.default)(le);if(!fe.isValidElement(X))throw new TypeError("ReactWrapper can only wrap valid elements");var Ee=fe.createRenderer((0,i.default)({mode:"mount"},le));if((0,l.privateSet)(this,T,Ee),Ee.render(X,le.context),(0,l.privateSet)(this,E,this),U(this,this[T].getNode()),(0,l.privateSet)(this,S,le),(0,l.privateSet)(this,H,[]),(0,l.isCustomComponent)(le.wrappingComponent,fe)){if(typeof this[T].getWrappingComponentRenderer!="function")throw new TypeError("your adapter does not support `wrappingComponent`. Try upgrading it!");(0,l.privateSet)(this,M,new W(this,this[T].getWrappingComponentRenderer())),this[H].push(this[M])}}(0,l.privateSet)(this,O,X),(0,l.privateSet)(this,N,null)}return r(re,[{key:"root",value:(function(){function X(){return this[E]}return X})()},{key:"getNodeInternal",value:(function(){function X(){if(this.length!==1)throw new Error("ReactWrapper::getNode() can only be called when wrapping one node");return this[w][0]}return X})()},{key:"getNodesInternal",value:(function(){function X(){return this[w]}return X})()},{key:"getElement",value:(function(){function X(){var $=this;return this.single("getElement",function(){return(0,h.default)($[S]).nodeToElement($[_])})}return X})()},{key:"getElements",value:(function(){function X(){var $=this;return this[w].map(function(ee){return(0,h.default)($[S]).nodeToElement(ee)})}return X})()},{key:"getNode",value:(function(){function X(){throw new Error("ReactWrapper::getNode() is no longer supported. Use ReactWrapper::instance() instead")}return X})()},{key:"getNodes",value:(function(){function X(){throw new Error("ReactWrapper::getNodes() is no longer supported.")}return X})()},{key:"getDOMNode",value:(function(){function X(){var $=(0,h.default)(this[S]);return this.single("getDOMNode",function(ee){return $.nodeToHostNode(ee,!0)})}return X})()},{key:"ref",value:(function(){function X($){if(this[E]!==this)throw new Error("ReactWrapper::ref(refname) can only be called on the root");return this.instance().refs[$]}return X})()},{key:"instance",value:(function(){function X(){var $=this;return this.single("instance",function(){return $[_].instance})}return X})()},{key:"getWrappingComponent",value:(function(){function X(){if(this[E]!==this)throw new Error("ReactWrapper::getWrappingComponent() can only be called on the root");if(!this[S].wrappingComponent)throw new Error("ReactWrapper::getWrappingComponent() can only be called on a wrapper that was originally passed a `wrappingComponent` option");return this[M]}return X})()},{key:"update",value:(function(){function X(){var $=this,ee=this[E];return this!==ee?ee.update():(U(this,this[T].getNode()),this[H].forEach(function(le){if(le!==$[N]){le[N]=$;try{le.update()}finally{le[N]=null}}}),this)}return X})()},{key:"unmount",value:(function(){function X(){var $=this;if(this[E]!==this)throw new Error("ReactWrapper::unmount() can only be called on the root");return this.single("unmount",function(){$[T].unmount(),$.update()}),this}return X})()},{key:"mount",value:(function(){function X(){var $=this;if(this[E]!==this)throw new Error("ReactWrapper::mount() can only be called on the root");return this[T].render(this[O],this[S].context,function(){return $.update()}),this}return X})()},{key:"setProps",value:(function(){function X($){var ee=this,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(this[E]!==this)throw new Error("ReactWrapper::setProps() can only be called on the root");if(arguments.length>1&&typeof le!="function")throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");var fe=(0,h.default)(this[S]);return this[O]=(0,l.cloneElement)(fe,this[O],$),this[T].render(this[O],null,function(){ee.update(),le&&le()}),this}return X})()},{key:"setState",value:(function(){function X($){var ee=this,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(this.instance()===null||this.getNodeInternal().nodeType!=="class")throw new Error("ReactWrapper::setState() can only be called on class components");if(arguments.length>1&&typeof le!="function")throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.instance().setState($,function(){if(ee.update(),le){var fe=(0,h.default)(ee[S]),Ee=ee.instance();fe.invokeSetStateCallback?fe.invokeSetStateCallback(Ee,le):le.call(Ee)}}),this}return X})()},{key:"setContext",value:(function(){function X($){var ee=this;if(this[E]!==this)throw new Error("ReactWrapper::setContext() can only be called on the root");if(!this[S].context)throw new Error("ReactWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this[T].render(this[O],$,function(){return ee.update()}),this}return X})()},{key:"contains",value:(function(){function X($){var ee=(0,h.default)(this[S]),le=Array.isArray($)?function(fe){return(0,l.containsChildrenSubArray)(l.nodeEqual,fe,$.map(function(Ee){return ee.elementToNode(Ee)}))}:function(fe){return(0,l.nodeEqual)(ee.elementToNode($),fe)};return k(this,le).length>0}return X})()},{key:"containsMatchingElement",value:(function(){function X($){var ee=(0,h.default)(this[S]).elementToNode($),le=(function(){function fe(Ee){return(0,l.nodeMatches)(ee,Ee,function(ce,Se){return ce<=Se})}return fe})();return k(this,le).length>0}return X})()},{key:"containsAllMatchingElements",value:(function(){function X($){var ee=this;if(!Array.isArray($))throw new TypeError("nodes should be an Array");return $.every(function(le){return ee.containsMatchingElement(le)})}return X})()},{key:"containsAnyMatchingElements",value:(function(){function X($){var ee=this;return Array.isArray($)&&$.some(function(le){return ee.containsMatchingElement(le)})}return X})()},{key:"equals",value:(function(){function X($){var ee=this;return this.single("equals",function(){return(0,l.nodeEqual)(ee.getNodeInternal(),$)})}return X})()},{key:"matchesElement",value:(function(){function X($){var ee=this;return this.single("matchesElement",function(){var le=(0,h.default)(ee[S]),fe=le.elementToNode($);return(0,l.nodeMatches)(fe,ee.getNodeInternal(),function(Ee,ce){return Ee<=ce})})}return X})()},{key:"find",value:(function(){function X($){return this.wrap((0,d.reduceTreesBySelector)($,this.getNodesInternal()))}return X})()},{key:"is",value:(function(){function X($){var ee=(0,d.buildPredicate)($);return this.single("is",function(le){return ee(le)})}return X})()},{key:"isEmptyRender",value:(function(){function X(){var $=this.getNodeInternal();return(0,l.renderedDive)($)}return X})()},{key:"filterWhere",value:(function(){function X($){var ee=this;return R(this,function(le){return $(ee.wrap(le))})}return X})()},{key:"filter",value:(function(){function X($){var ee=(0,d.buildPredicate)($);return R(this,ee)}return X})()},{key:"not",value:(function(){function X($){var ee=(0,d.buildPredicate)($);return R(this,function(le){return!ee(le)})}return X})()},{key:"text",value:(function(){function X(){var $=(0,h.default)(this[S]);return this.single("text",function(ee){return(0,p.getTextFromHostNodes)(ee,$)})}return X})()},{key:"html",value:(function(){function X(){var $=(0,h.default)(this[S]);return this.single("html",function(ee){return(0,p.getHTMLFromHostNodes)(ee,$)})}return X})()},{key:"render",value:(function(){function X(){var $=this.html();return(0,l.loadCheerioRoot)($)}return X})()},{key:"simulate",value:(function(){function X($){var ee=this,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.single("simulate",function(fe){return ee[T].simulateEvent(fe,$,le),ee[E].update(),ee})}return X})()},{key:"simulateError",value:(function(){function X($){var ee=this;if(this[E]===this)throw new Error("ReactWrapper::simulateError() may not be called on the root");return this.single("simulateError",function(le){if(le.nodeType==="host")throw new Error("ReactWrapper::simulateError() can only be called on custom components");var fe=ee[T];if(typeof fe.simulateError!="function")throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var Ee=B(ee),ce=[le].concat(z(ee,le));return fe.simulateError(ce,Ee,$),ee[E].update(),ee})}return X})()},{key:"props",value:(function(){function X(){return this.single("props",p.propsOfNode)}return X})()},{key:"state",value:(function(){function X($){var ee=this,le=this[E]===this?this[T].getNode():this.getNodeInternal();if(this.instance()===null||le.nodeType!=="class")throw new Error("ReactWrapper::state() can only be called on class components");var fe=this.single("state",function(){return ee.instance().state});if(typeof $<"u"){if(fe==null)throw new TypeError('ReactWrapper::state("'+String($)+'") requires that `state` not be `null` or `undefined`');return fe[$]}return fe}return X})()},{key:"context",value:(function(){function X($){var ee=this;if(this[E]!==this)throw new Error("ReactWrapper::context() can only be called on the root");var le=this.single("context",function(){return ee.instance()});if(le===null)throw new Error("ReactWrapper::context() can only be called on components with instances");var fe=le.context;return typeof $<"u"?fe[$]:fe}return X})()},{key:"children",value:(function(){function X($){var ee=this.flatMap(function(le){return(0,p.childrenOfNode)(le.getNodeInternal())});return $?ee.filter($):ee}return X})()},{key:"childAt",value:(function(){function X($){var ee=this;return this.single("childAt",function(){return ee.children().at($)})}return X})()},{key:"parents",value:(function(){function X($){var ee=this;return this.single("parents",function(le){var fe=ee.wrap(z(ee,le));return $?fe.filter($):fe})}return X})()},{key:"parent",value:(function(){function X(){return this.flatMap(function($){return[$.parents().get(0)]})}return X})()},{key:"closest",value:(function(){function X($){if(this.is($))return this;var ee=this.parents().filter($);return ee.length>0?ee.first():this.findWhere(function(){return!1})}return X})()},{key:"prop",value:(function(){function X($){return this.props()[$]}return X})()},{key:"invoke",value:(function(){function X($){var ee=this;return this.single("invoke",function(){var le=ee.prop($);if(typeof le!="function")throw new TypeError("ReactWrapper::invoke() requires the name of a prop whose value is a function");return function(){for(var fe=arguments.length,Ee=Array(fe),ce=0;ce<fe;ce++)Ee[ce]=arguments[ce];var Se=typeof ee[T].wrapInvoke=="function"?ee[T].wrapInvoke(function(){return le.apply(void 0,Ee)}):le.apply(void 0,Ee);return ee[E].update(),Se}})}return X})()},{key:"renderProp",value:(function(){function X($){var ee=this,le=(0,h.default)(this[S]);if(typeof le.wrap!="function")throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",function(fe){if(fe.nodeType==="host")throw new TypeError("ReactWrapper::renderProp() can only be called on custom components");if(typeof $!="string")throw new TypeError("ReactWrapper::renderProp(): `propName` must be a string");var Ee=ee.props();if(!(0,u.default)(Ee,$))throw new Error("ReactWrapper::renderProp(): no prop called “"+String($)+"“ found");var ce=Ee[$];if(typeof ce!="function")throw new TypeError("ReactWrapper::renderProp(): expected prop “"+String($)+"“ to contain a function, but it holds “"+(typeof ce>"u"?"undefined":t(ce))+"“");return function(){var Se=ce.apply(void 0,arguments),Oe=le.wrap(Se);return ee.wrap(Oe,null,ee[S])}})}return X})()},{key:"key",value:(function(){function X(){return this.single("key",function($){return $.key===void 0?null:$.key})}return X})()},{key:"type",value:(function(){function X(){return this.single("type",function($){return(0,l.typeOfNode)($)})}return X})()},{key:"name",value:(function(){function X(){var $=(0,h.default)(this[S]);return this.single("name",function(ee){return $.displayNameOfNode?$.displayNameOfNode(ee):(0,l.displayNameOfNode)(ee)})}return X})()},{key:"hasClass",value:(function(){function X($){return typeof $=="string"&&$.indexOf(".")!==-1&&console.warn("It looks like you're calling `ReactWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",function(ee){return(0,p.hasClassName)(ee,$)})}return X})()},{key:"forEach",value:(function(){function X($){var ee=this;return this.getNodesInternal().forEach(function(le,fe){return $.call(ee,ee.wrap(le),fe)}),this}return X})()},{key:"map",value:(function(){function X($){var ee=this;return this.getNodesInternal().map(function(le,fe){return $.call(ee,ee.wrap(le),fe)})}return X})()},{key:"reduce",value:(function(){function X($){var ee=this,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce(function(fe,Ee,ce){return $.call(ee,fe,ee.wrap(Ee),ce)},le):this.getNodesInternal().reduce(function(fe,Ee,ce){return $.call(ee,ce===1?ee.wrap(fe):fe,ee.wrap(Ee),ce)})}return X})()},{key:"reduceRight",value:(function(){function X($){var ee=this,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight(function(fe,Ee,ce){return $.call(ee,fe,ee.wrap(Ee),ce)},le):this.getNodesInternal().reduceRight(function(fe,Ee,ce){return $.call(ee,ce===1?ee.wrap(fe):fe,ee.wrap(Ee),ce)})}return X})()},{key:"slice",value:(function(){function X($,ee){return this.wrap(this.getNodesInternal().slice($,ee))}return X})()},{key:"some",value:(function(){function X($){if(this[E]===this)throw new Error("ReactWrapper::some() can not be called on the root");var ee=(0,d.buildPredicate)($);return this.getNodesInternal().some(ee)}return X})()},{key:"someWhere",value:(function(){function X($){var ee=this;return this.getNodesInternal().some(function(le,fe){return $.call(ee,ee.wrap(le),fe)})}return X})()},{key:"every",value:(function(){function X($){var ee=(0,d.buildPredicate)($);return this.getNodesInternal().every(ee)}return X})()},{key:"everyWhere",value:(function(){function X($){var ee=this;return this.getNodesInternal().every(function(le,fe){return $.call(ee,ee.wrap(le),fe)})}return X})()},{key:"flatMap",value:(function(){function X($){var ee=this,le=this.getNodesInternal().map(function(Ee,ce){return $.call(ee,ee.wrap(Ee),ce)}),fe=(0,a.default)(le,1);return this.wrap(fe.filter(Boolean))}return X})()},{key:"findWhere",value:(function(){function X($){var ee=this;return k(this,function(le){var fe=ee.wrap(le);return fe.length>0&&$(fe)})}return X})()},{key:"get",value:(function(){function X($){return this.getElements()[$]}return X})()},{key:"at",value:(function(){function X($){var ee=this.getNodesInternal();return $<ee.length?this.wrap(ee[$]):this.wrap([])}return X})()},{key:"first",value:(function(){function X(){return this.at(0)}return X})()},{key:"last",value:(function(){function X(){return this.at(this.length-1)}return X})()},{key:"isEmpty",value:(function(){function X(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}return X})()},{key:"exists",value:(function(){function X(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return arguments.length>0?this.find($).exists():this.length>0}return X})()},{key:"single",value:(function(){function X($,ee){var le=typeof $=="string"?$:"unknown",fe=typeof ee=="function"?ee:$;if(this.length!==1)throw new Error("Method “"+le+"” is meant to be run on 1 node. "+String(this.length)+" found instead.");return fe.call(this,this.getNodeInternal())}return X})()},{key:"wrap",value:(function(){function X($){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this[E];if($ instanceof re)return $;for(var le=arguments.length,fe=Array(le>2?le-2:0),Ee=2;Ee<le;Ee++)fe[Ee-2]=arguments[Ee];return new(Function.prototype.bind.apply(re,[null].concat([$,ee],fe)))}return X})()},{key:"debug",value:(function(){function X(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,f.debugNodes)(this.getNodesInternal(),$)}return X})()},{key:"tap",value:(function(){function X($){return $(this),this}return X})()},{key:"detach",value:(function(){function X(){if(this[E]!==this)throw new Error("ReactWrapper::detach() can only be called on the root");if(!this[S].attachTo)throw new Error("ReactWrapper::detach() can only be called on when the `attachTo` option was passed into `mount()`.");this[T].unmount()}return X})()},{key:"hostNodes",value:(function(){function X(){return this.filterWhere(function($){return typeof $.type()=="string"})}return X})()}]),re})(),W=(function(re){g(X,re);function X($,ee){y(this,X);var le=b(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,ee.getNode(),$));return(0,l.privateSet)(le,E,le),(0,l.privateSet)(le,T,ee),le[H].push($),le}return r(X,[{key:"getWrappingComponent",value:(function(){function $(){throw new TypeError("ReactWrapper::getWrappingComponent() can only be called on the root")}return $})()}]),X})(V);l.ITERATOR_SYMBOL&&Object.defineProperty(V.prototype,l.ITERATOR_SYMBOL,{configurable:!0,value:(function(){function re(){var X,$=this[w][l.ITERATOR_SYMBOL](),ee=(0,h.default)(this[S]);return X={},v(X,l.ITERATOR_SYMBOL,function(){return this}),v(X,"next",(function(){function le(){var fe=$.next();return fe.done?{done:!0}:{done:!1,value:ee.nodeToElement(fe.value)}}return le})()),X}return re})()});function te(re,X){Object.defineProperty(V.prototype,re,{get:(function(){function $(){throw new Error(`
        Attempted to access ReactWrapper::`+String(re)+`, which was previously a private property on
        Enzyme ReactWrapper instances, but is no longer and should not be relied upon.
        `+String(X)+`
      `)}return $})(),enumerable:!1,configurable:!1})}te("node","Consider using the getElement() method instead."),te("nodes","Consider using the getElements() method instead."),te("renderer",""),te("options",""),te("complexSelector",""),e.default=V})(GO);var IP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function _e(K,oe,ue){K===null&&(K=Function.prototype);var q=Object.getOwnPropertyDescriptor(K,oe);if(q===void 0){var ae=Object.getPrototypeOf(K);return ae===null?void 0:_e(ae,oe,ue)}else{if("value"in q)return q.value;var ge=q.get;return ge===void 0?void 0:ge.call(ue)}}return _e})(),r=(function(){function _e(K,oe){for(var ue=0;ue<oe.length;ue++){var q=oe[ue];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(K,q.key,q)}}return function(K,oe,ue){return oe&&_e(K.prototype,oe),ue&&_e(K,ue),K}})(),n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},i=gf,o=g(i),a=C1,s=g(a),u=A1,l=g(u),c=oH,h=g(c),f=M1,p=Ns,d=g(p),m=js,v=tn,b=_f;function g(_e){return _e&&_e.__esModule?_e:{default:_e}}function y(_e,K){if(!_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:_e}function _(_e,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);_e.prototype=Object.create(K&&K.prototype,{constructor:{value:_e,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(_e,K):_e.__proto__=K)}function w(_e){if(Array.isArray(_e)){for(var K=0,oe=Array(_e.length);K<_e.length;K++)oe[K]=_e[K];return oe}else return Array.from(_e)}function T(_e,K){if(!(_e instanceof K))throw new TypeError("Cannot call a class as a function")}function O(_e,K,oe){return K in _e?Object.defineProperty(_e,K,{value:oe,enumerable:!0,configurable:!0,writable:!0}):_e[K]=oe,_e}var E=(0,f.sym)("__node__"),S=(0,f.sym)("__nodes__"),A=(0,f.sym)("__renderer__"),M=(0,f.sym)("__unrendered__"),H=(0,f.sym)("__root__"),N=(0,f.sym)("__options__"),k=(0,f.sym)("__setState__"),R=(0,f.sym)("__rootNodes__"),B=(0,f.sym)("__childContext__"),z=(0,f.sym)("__wrappingComponent__"),U=(0,f.sym)("__primaryWrapper__"),V=(0,f.sym)("__rootFinder__"),W=(0,f.sym)("__providerValues__");function te(_e,K){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.treeFilter;return _e.flatMap(function(ue){return oe(ue.getNodeInternal(),K)})}function re(_e,K){return _e.wrap(_e.getNodesInternal().filter(K).filter(Boolean))}function X(_e){var K=_e.lifecycleExperimental,oe=_e.disableLifecycleMethods,ue=_e.enableComponentDidUpdateOnSetState,q=_e.supportPrevContextArgumentOfComponentDidUpdate,ae=_e.lifecycles;if(typeof K<"u"&&typeof K!="boolean")throw new Error("lifecycleExperimental must be either true or false if provided");if(typeof oe<"u"&&typeof oe!="boolean")throw new Error("disableLifecycleMethods must be either true or false if provided");if(K!=null&&oe!=null&&K===oe)throw new Error("lifecycleExperimental and disableLifecycleMethods cannot be set to the same value");if(typeof ue<"u"&&ae.componentDidUpdate&&ae.componentDidUpdate.onSetState!==ue)throw new TypeError("the legacy enableComponentDidUpdateOnSetState option should be matched by `lifecycles: { componentDidUpdate: { onSetState: true } }`, for compatibility");if(typeof q<"u"&&ae.componentDidUpdate&&ae.componentDidUpdate.prevContext!==q)throw new TypeError("the legacy supportPrevContextArgumentOfComponentDidUpdate option should be matched by `lifecycles: { componentDidUpdate: { prevContext: true } }`, for compatibility")}function $(_e){var K=_e.options,oe=K.lifecycles,ue=oe===void 0?{}:oe,q=K.enableComponentDidUpdateOnSetState,ae=K.supportPrevContextArgumentOfComponentDidUpdate,ge=typeof q<"u",be=typeof ae<"u",Re=ge||be?(0,o.default)({},ge&&{onSetState:!!q},be&&{prevContext:!!ae}):null,je=ue.getDerivedStateFromProps,ze=je?{hasShouldComponentUpdateBug:!!je.hasShouldComponentUpdateBug}:!1;return(0,o.default)({},ue,{setState:(0,o.default)({},ue.setState),getChildContext:(0,o.default)({calledByRenderer:!0},ue.getChildContext)},Re&&{componentDidUpdate:Re},{getDerivedStateFromProps:ze})}function ee(_e){return _e.nodeType==="host"?_e:_e.rendered}function le(_e){if(_e[H].length!==1)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return _e[H]!==_e?_e[R][0]:_e[H][E]}function fe(_e,K){return(0,v.parentsOfNode)(K,le(_e))}function Ee(_e,K){Array.isArray(K)?((0,f.privateSet)(_e,E,K[0]),(0,f.privateSet)(_e,S,K)):((0,f.privateSet)(_e,E,K),(0,f.privateSet)(_e,S,[K])),(0,f.privateSet)(_e,"length",_e[S].length)}function ce(_e,K,oe,ue){return!(0,h.default)(_e,K)||!(0,h.default)(oe,ue)}function Se(_e){return _e&&_e.isPureReactComponent}function Oe(_e,K,oe){var ue=_e.instance,q=_e.type,ae=(0,f.displayNameOfNode)(_e);if(n(q.childContextTypes)!=="object")return console.warn(String(ae)+".getChildContext(): childContextTypes must be defined in order to use getChildContext()."),{};var ge=ue.getChildContext();return Object.keys(ge).forEach(function(be){if(!(be in q.childContextTypes))throw new Error(String(ae)+'.getChildContext(): key "'+String(be)+'" is not defined in childContextTypes.')}),typeof oe.checkPropTypes=="function"&&oe.checkPropTypes(q.childContextTypes,ge,"child context",K),ge}function he(_e,K){return!(0,f.isCustomComponentElement)(_e,K)||!_e.type.prototype||typeof _e.type.prototype.getChildContext!="function"?null:(0,f.spyMethod)(_e.type.prototype,"getChildContext")}function Pe(_e,K,oe,ue,q){var ae=K[A];if(_e.options.legacyContextMode==="parent")if(q)(0,f.privateSet)(K,B,q.getLastReturnValue()),q.restore();else if(typeof oe.getChildContext=="function"){var ge=[K[E]].concat(fe(K,K[E])),be=Oe(ue,ge,ae);(0,f.privateSet)(K,B,be)}else(0,f.privateSet)(K,B,null)}function Fe(_e,K){var oe=_e.type.getDerivedStateFromProps;if(typeof oe=="function")var ue=_e.instance,q=(0,f.spyMethod)(ue,"shouldComponentUpdate",function(ge){return(function(){function be(){ue.state=K;for(var Re=arguments.length,je=Array(Re),ze=0;ze<Re;ze++)je[ze]=arguments[ze];var qe=ge.apply(ue,je),nt=je[1];return ue.state=nt,ae(),qe}return be})()}),ae=q.restore}function We(_e,K,oe){var ue=_e[E],q=ue&&oe.nodeToElement(ue);if(_e.type()===K)return _e.dive();if(q&&(0,f.isCustomComponentElement)(q,oe))return We(_e.dive(),K,oe);for(var ae=_e.children(),ge=0;ge<ae.length;ge+=1){var be=We(ae.at(ge),K,oe);if(typeof be<"u")return be}}function et(_e,K){var oe=We(_e,_e[V],K);if(!oe)throw new Error("`wrappingComponent` must render its children!");return{legacyContext:oe[N].context,providerValues:oe[W]}}function He(_e,K,oe,ue){var q=(0,f.makeOptions)(oe),ae=(0,d.default)(oe);if((0,f.privateSet)(q,W,oe[W]),K||!(0,f.isCustomComponent)(q.wrappingComponent,ae))return q;if(typeof ae.wrapWithWrappingComponent!="function")throw new TypeError("your adapter does not support `wrappingComponent`. Try upgrading it!");var ge=ae.wrapWithWrappingComponent(_e,q),be=ge.node,Re=ge.RootFinder,je=new Lt(be,ue,Re),ze=et(je,ae),qe=ze.legacyContext,nt=ze.providerValues;return(0,f.privateSet)(ue,z,je),(0,o.default)({},q,O({context:(0,o.default)({},q.context,qe)},W,nt))}function $e(_e){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=(0,o.default)({},_e[N],K,{context:K.context||(0,o.default)({},_e[N].context,_e[H][B])});return(0,f.privateSet)(oe,W,_e[H][W]),oe}var vt=(function(){function _e(K,oe){var ue=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};T(this,_e),X(q);var ae=He(K,oe,q,this),ge=(0,d.default)(ae),be=$(ge);if(oe)(0,f.privateSet)(this,H,oe),(0,f.privateSet)(this,M,null),(0,f.privateSet)(this,A,oe[A]),Ee(this,K),(0,f.privateSet)(this,N,oe[N]),(0,f.privateSet)(this,R,oe[S]),(0,f.privateSet)(this,W,null);else{if(!ge.isValidElement(K))throw new TypeError("ShallowWrapper can only wrap valid elements");var Re=be.getChildContext.calledByRenderer?he(K,ge):null;(0,f.privateSet)(this,H,this),(0,f.privateSet)(this,M,K);var je=ge.createRenderer((0,o.default)({mode:"shallow"},ae));(0,f.privateSet)(this,A,je);var ze=new Map(ae[W]||[]);this[A].render(K,ae.context,{providerValues:ze});var qe=this[A].getNode();Ee(this,ee(qe)),(0,f.privateSet)(this,N,ae),(0,f.privateSet)(this,W,ze);var nt=qe.instance;nt&&!ae.disableLifecycleMethods&&(be.componentDidUpdate.onSetState&&!nt[k]&&((0,f.privateSet)(nt,k,nt.setState),nt.setState=function(Tt){var Xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return ue.setState.apply(ue,w(Xe==null?[Tt]:[Tt,Xe]))}),typeof nt.componentDidMount=="function"&&this[A].batchedUpdates(function(){nt.componentDidMount()}),Pe(ge,this,nt,qe,Re))}}return r(_e,[{key:"root",value:(function(){function K(){return this[H]}return K})()},{key:"getNodeInternal",value:(function(){function K(){if(this.length!==1)throw new Error("ShallowWrapper::getNode() can only be called when wrapping one node");return this[H]===this&&this.update(),this[E]}return K})()},{key:"getNodesInternal",value:(function(){function K(){return this[H]===this&&this.length===1&&this.update(),this[S]}return K})()},{key:"getElement",value:(function(){function K(){var oe=this;return this.single("getElement",function(ue){return(0,d.default)(oe[N]).nodeToElement(ue)})}return K})()},{key:"getElements",value:(function(){function K(){var oe=this;return this.getNodesInternal().map(function(ue){return(0,d.default)(oe[N]).nodeToElement(ue)})}return K})()},{key:"getNode",value:(function(){function K(){throw new Error("ShallowWrapper::getNode() is no longer supported. Use ShallowWrapper::getElement() instead")}return K})()},{key:"getNodes",value:(function(){function K(){throw new Error("ShallowWrapper::getNodes() is no longer supported. Use ShallowWrapper::getElements() instead")}return K})()},{key:"instance",value:(function(){function K(){if(this[H]!==this)throw new Error("ShallowWrapper::instance() can only be called on the root");return this[A].getNode().instance}return K})()},{key:"getWrappingComponent",value:(function(){function K(){if(this[H]!==this)throw new Error("ShallowWrapper::getWrappingComponent() can only be called on the root");if(!this[N].wrappingComponent)throw new Error("ShallowWrapper::getWrappingComponent() can only be called on a wrapper that was originally passed a `wrappingComponent` option");return this[z]}return K})()},{key:"update",value:(function(){function K(){if(this[H]!==this)throw new Error("ShallowWrapper::update() can only be called on the root");if(this.length!==1)throw new Error("ShallowWrapper::update() can only be called when wrapping one node");return Ee(this,ee(this[A].getNode())),this}return K})()},{key:"unmount",value:(function(){function K(){return this[A].unmount(),this[H][z]&&this[H][z].unmount(),this}return K})()},{key:"rerender",value:(function(){function K(oe,ue){var q=this,ae=(0,d.default)(this[N]);return this.single("rerender",function(){(0,f.withSetStateAllowed)(function(){var ge=q[A].getNode(),be=ge.instance||{},Re=ge.type||{},je=be.state,ze=be.props||q[M].props,qe=be.context||q[N].context,nt=ue||qe;ue&&(q[N]=(0,o.default)({},q[N],{context:nt})),q[A].batchedUpdates(function(){var Tt=$(ae),Xe=!0,Ut=void 0,C=void 0;if(!q[N].disableLifecycleMethods&&be){if(typeof be.shouldComponentUpdate=="function"){var L=Tt.getDerivedStateFromProps;L&&L.hasShouldComponentUpdateBug&&Fe(ge,je),Ut=(0,f.spyMethod)(be,"shouldComponentUpdate")}Tt.getChildContext.calledByRenderer&&typeof be.getChildContext=="function"&&(C=(0,f.spyMethod)(be,"getChildContext"))}if(!Ut&&Se(be)&&(Xe=ce(ze,oe,je,be.state)),oe&&(q[M]=(0,f.cloneElement)(ae,q[M],oe)),q[A].render(q[M],nt,{providerValues:q[W]}),Ut&&(Xe=Ut.getLastReturnValue(),Ut.restore()),Xe&&!q[N].disableLifecycleMethods&&be)if(Pe(ae,q,be,ge,C),Tt.getSnapshotBeforeUpdate){var G=void 0;typeof be.getSnapshotBeforeUpdate=="function"&&(G=be.getSnapshotBeforeUpdate(ze,je)),Tt.componentDidUpdate&&typeof be.componentDidUpdate=="function"&&(!je||(0,h.default)(je,q.instance().state)||typeof Re.getDerivedStateFromProps=="function")&&be.componentDidUpdate(ze,je,G)}else Tt.componentDidUpdate&&typeof be.componentDidUpdate=="function"&&(Tt.componentDidUpdate.prevContext?be.componentDidUpdate(ze,je,qe):(!je||(0,h.default)(q.instance().state,je))&&be.componentDidUpdate(ze,je));else(0,h.default)(oe,be.props)||(be.props=(Object.freeze||Object)((0,o.default)({},be.props,oe)));q.update()})})}),this}return K})()},{key:"setProps",value:(function(){function K(oe){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(this[H]!==this)throw new Error("ShallowWrapper::setProps() can only be called on the root");if(arguments.length>1&&typeof ue!="function")throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");return this.rerender(oe),ue&&ue(),this}return K})()},{key:"setState",value:(function(){function K(oe){var ue=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(this[H]!==this)throw new Error("ShallowWrapper::setState() can only be called on the root");if(this.instance()===null||this[A].getNode().nodeType!=="class")throw new Error("ShallowWrapper::setState() can only be called on class components");if(arguments.length>1&&typeof q!="function")throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.single("setState",function(){(0,f.withSetStateAllowed)(function(){var ae=(0,d.default)(ue[N]),ge=$(ae),be=ue[A].getNode(),Re=be.instance,je=Re.props,ze=Re.state,qe=Re.context,nt=typeof oe=="function"?oe.call(Re,ze,je):oe,Tt=!ge.setState.skipsComponentDidUpdateOnNullish||nt!=null,Xe=void 0,Ut=void 0,C=!0;if(!ue[N].disableLifecycleMethods&&Re){if(ge.componentDidUpdate&&ge.componentDidUpdate.onSetState&&typeof Re.shouldComponentUpdate=="function"){var L=ge.getDerivedStateFromProps;L&&L.hasShouldComponentUpdateBug&&Fe(be,oe),Xe=(0,f.spyMethod)(Re,"shouldComponentUpdate")}ge.getChildContext.calledByRenderer&&typeof Re.getChildContext=="function"&&(Ut=(0,f.spyMethod)(Re,"getChildContext"))}if(!Xe&&Se(Re)&&(C=ce(je,Re.props,ze,(0,o.default)({},ze,nt))),Re[k]?Re[k](nt):Re.setState(nt),Xe&&(C=Xe.getLastReturnValue(),Xe.restore()),Tt&&C&&!ue[N].disableLifecycleMethods&&(Pe(ae,ue,Re,be,Ut),ge.componentDidUpdate&&ge.componentDidUpdate.onSetState))if(ge.getSnapshotBeforeUpdate&&typeof Re.getSnapshotBeforeUpdate=="function"){var G=Re.getSnapshotBeforeUpdate(je,ze);typeof Re.componentDidUpdate=="function"&&Re.componentDidUpdate(je,ze,G)}else typeof Re.componentDidUpdate=="function"&&(ge.componentDidUpdate.prevContext?Re.componentDidUpdate(je,ze,qe):Re.componentDidUpdate(je,ze));ue.update(),q&&(ae.invokeSetStateCallback?ae.invokeSetStateCallback(Re,q):q.call(Re))})}),this}return K})()},{key:"setContext",value:(function(){function K(oe){if(this[H]!==this)throw new Error("ShallowWrapper::setContext() can only be called on the root");if(!this[N].context)throw new Error("ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this.rerender(null,oe)}return K})()},{key:"contains",value:(function(){function K(oe){var ue=(0,d.default)(this[N]);if(!(0,f.isReactElementAlike)(oe,ue))throw new Error("ShallowWrapper::contains() can only be called with a ReactElement (or an array of them), a string, or a number as an argument.");var q=Array.isArray(oe)?function(ae){return(0,f.containsChildrenSubArray)(f.nodeEqual,ae,oe.map(function(ge){return ue.elementToNode(ge)}))}:function(ae){return(0,f.nodeEqual)(ue.elementToNode(oe),ae)};return te(this,q).length>0}return K})()},{key:"containsMatchingElement",value:(function(){function K(oe){var ue=(0,d.default)(this[N]),q=ue.elementToNode(oe),ae=(function(){function ge(be){return(0,f.nodeMatches)(q,be,function(Re,je){return Re<=je})}return ge})();return te(this,ae).length>0}return K})()},{key:"containsAllMatchingElements",value:(function(){function K(oe){var ue=this;if(!Array.isArray(oe))throw new TypeError("nodes should be an Array");return oe.every(function(q){return ue.containsMatchingElement(q)})}return K})()},{key:"containsAnyMatchingElements",value:(function(){function K(oe){var ue=this;return Array.isArray(oe)&&oe.some(function(q){return ue.containsMatchingElement(q)})}return K})()},{key:"equals",value:(function(){function K(oe){var ue=this;return this.single("equals",function(){return(0,f.nodeEqual)(ue.getNodeInternal(),oe)})}return K})()},{key:"matchesElement",value:(function(){function K(oe){var ue=this;return this.single("matchesElement",function(){var q=(0,d.default)(ue[N]),ae=q.elementToNode(oe);return(0,f.nodeMatches)(ae,ue.getNodeInternal(),function(ge,be){return ge<=be})})}return K})()},{key:"find",value:(function(){function K(oe){return this.wrap((0,b.reduceTreesBySelector)(oe,this.getNodesInternal()))}return K})()},{key:"is",value:(function(){function K(oe){var ue=(0,b.buildPredicate)(oe);return this.single("is",function(q){return ue(q)})}return K})()},{key:"isEmptyRender",value:(function(){function K(){var oe=this.getNodesInternal();return oe.every(function(ue){return(0,f.isEmptyValue)(ue)})}return K})()},{key:"filterWhere",value:(function(){function K(oe){var ue=this;return re(this,function(q){return oe(ue.wrap(q))})}return K})()},{key:"filter",value:(function(){function K(oe){var ue=(0,b.buildPredicate)(oe);return re(this,ue)}return K})()},{key:"not",value:(function(){function K(oe){var ue=(0,b.buildPredicate)(oe);return re(this,function(q){return!ue(q)})}return K})()},{key:"text",value:(function(){function K(){return this.single("text",v.getTextFromNode)}return K})()},{key:"html",value:(function(){function K(){var oe=this;return this.single("html",function(ue){if(oe.type()===null)return null;var q=(0,d.default)(oe[N]),ae=q.createRenderer((0,o.default)({},oe[N],{mode:"string"}));return ae.render(q.nodeToElement(ue))})}return K})()},{key:"render",value:(function(){function K(){var oe=this.html();return(0,f.loadCheerioRoot)(oe)}return K})()},{key:"simulate",value:(function(){function K(oe){for(var ue=this,q=arguments.length,ae=Array(q>1?q-1:0),ge=1;ge<q;ge++)ae[ge-1]=arguments[ge];return this.single("simulate",function(be){var Re;return(Re=ue[A]).simulateEvent.apply(Re,[be,oe].concat(ae)),ue[H].update(),ue})}return K})()},{key:"simulateError",value:(function(){function K(oe){var ue=this;return this.single("simulateError",function(q){if(q.nodeType==="host")throw new TypeError("ShallowWrapper::simulateError() can only be called on custom components");var ae=ue[A];if(typeof ae.simulateError!="function")throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var ge=le(ue),be=[q].concat(fe(ue,q));return ae.simulateError(be,ge,oe),ue})}return K})()},{key:"props",value:(function(){function K(){return this.single("props",v.propsOfNode)}return K})()},{key:"state",value:(function(){function K(oe){var ue=this;if(this[H]!==this)throw new Error("ShallowWrapper::state() can only be called on the root");if(this.instance()===null||this[A].getNode().nodeType!=="class")throw new Error("ShallowWrapper::state() can only be called on class components");var q=this.single("state",function(){return ue.instance().state});if(typeof oe<"u"){if(q==null)throw new TypeError('ShallowWrapper::state("'+String(oe)+'") requires that `state` not be `null` or `undefined`');return q[oe]}return q}return K})()},{key:"context",value:(function(){function K(oe){var ue=this;if(this[H]!==this)throw new Error("ShallowWrapper::context() can only be called on the root");if(!this[N].context)throw new Error("ShallowWrapper::context() can only be called on a wrapper that was originally passed a context option");if(this.instance()===null)throw new Error("ShallowWrapper::context() can only be called on wrapped nodes that have a non-null instance");var q=this.single("context",function(){return ue.instance().context});return oe?q[oe]:q}return K})()},{key:"children",value:(function(){function K(oe){var ue=this.flatMap(function(q){return(0,v.childrenOfNode)(q.getNodeInternal())});return oe?ue.filter(oe):ue}return K})()},{key:"childAt",value:(function(){function K(oe){var ue=this;return this.single("childAt",function(){return ue.children().at(oe)})}return K})()},{key:"parents",value:(function(){function K(oe){var ue=this;return this.single("parents",function(q){var ae=ue.wrap(fe(ue,q));return oe?ae.filter(oe):ae})}return K})()},{key:"parent",value:(function(){function K(){return this.flatMap(function(oe){return[oe.parents().get(0)]})}return K})()},{key:"closest",value:(function(){function K(oe){if(this.is(oe))return this;var ue=this.parents().filter(oe);return ue.length>0?ue.first():this.findWhere(function(){return!1})}return K})()},{key:"shallow",value:(function(){function K(){var oe=this,ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.single("shallow",function(q){var ae=$e(oe,ue);return oe.wrap((0,d.default)(oe[N]).nodeToElement(q),null,ae)})}return K})()},{key:"prop",value:(function(){function K(oe){return this.props()[oe]}return K})()},{key:"invoke",value:(function(){function K(oe){var ue=this;return this.single("invoke",function(){var q=ue.prop(oe);if(typeof q!="function")throw new TypeError("ShallowWrapper::invoke() requires the name of a prop whose value is a function");return function(){var ae=q.apply(void 0,arguments);return ue[H].update(),ae}})}return K})()},{key:"renderProp",value:(function(){function K(oe){var ue=this,q=(0,d.default)(this[N]);if(typeof q.wrap!="function")throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",function(ae){if(ae.nodeType==="host")throw new TypeError("ShallowWrapper::renderProp() can only be called on custom components");if(typeof oe!="string")throw new TypeError("ShallowWrapper::renderProp(): `propName` must be a string");var ge=ue.props();if(!(0,l.default)(ge,oe))throw new Error("ShallowWrapper::renderProp(): no prop called “"+String(oe)+"“ found");var be=ge[oe];if(typeof be!="function")throw new TypeError("ShallowWrapper::renderProp(): expected prop “"+String(oe)+"“ to contain a function, but it holds “"+(typeof be>"u"?"undefined":n(be))+"“");return function(){var Re=be.apply(void 0,arguments),je=q.wrap(Re);return ue.wrap(je,null,ue[N])}})}return K})()},{key:"key",value:(function(){function K(){return this.single("key",function(oe){return oe.key===void 0?null:oe.key})}return K})()},{key:"type",value:(function(){function K(){return this.single("type",function(oe){return(0,f.typeOfNode)(oe)})}return K})()},{key:"name",value:(function(){function K(){var oe=(0,d.default)(this[N]);return this.single("name",function(ue){return oe.displayNameOfNode?oe.displayNameOfNode(ue):(0,f.displayNameOfNode)(ue)})}return K})()},{key:"hasClass",value:(function(){function K(oe){return typeof oe=="string"&&oe.indexOf(".")!==-1&&console.warn("It looks like you're calling `ShallowWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",function(ue){return(0,v.hasClassName)(ue,oe)})}return K})()},{key:"forEach",value:(function(){function K(oe){var ue=this;return this.getNodesInternal().forEach(function(q,ae){return oe.call(ue,ue.wrap(q),ae)}),this}return K})()},{key:"map",value:(function(){function K(oe){var ue=this;return this.getNodesInternal().map(function(q,ae){return oe.call(ue,ue.wrap(q),ae)})}return K})()},{key:"reduce",value:(function(){function K(oe){var ue=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce(function(ae,ge,be){return oe.call(ue,ae,ue.wrap(ge),be)},q):this.getNodesInternal().reduce(function(ae,ge,be){return oe.call(ue,be===1?ue.wrap(ae):ae,ue.wrap(ge),be)})}return K})()},{key:"reduceRight",value:(function(){function K(oe){var ue=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight(function(ae,ge,be){return oe.call(ue,ae,ue.wrap(ge),be)},q):this.getNodesInternal().reduceRight(function(ae,ge,be){return oe.call(ue,be===1?ue.wrap(ae):ae,ue.wrap(ge),be)})}return K})()},{key:"slice",value:(function(){function K(oe,ue){return this.wrap(this.getNodesInternal().slice(oe,ue))}return K})()},{key:"some",value:(function(){function K(oe){if(this[H]===this)throw new Error("ShallowWrapper::some() can not be called on the root");var ue=(0,b.buildPredicate)(oe);return this.getNodesInternal().some(ue)}return K})()},{key:"someWhere",value:(function(){function K(oe){var ue=this;return this.getNodesInternal().some(function(q,ae){return oe.call(ue,ue.wrap(q),ae)})}return K})()},{key:"every",value:(function(){function K(oe){var ue=(0,b.buildPredicate)(oe);return this.getNodesInternal().every(ue)}return K})()},{key:"everyWhere",value:(function(){function K(oe){var ue=this;return this.getNodesInternal().every(function(q,ae){return oe.call(ue,ue.wrap(q),ae)})}return K})()},{key:"flatMap",value:(function(){function K(oe){var ue=this,q=this.getNodesInternal().map(function(ge,be){return oe.call(ue,ue.wrap(ge),be)}),ae=(0,s.default)(q,1);return this.wrap(ae.filter(Boolean))}return K})()},{key:"findWhere",value:(function(){function K(oe){var ue=this;return te(this,function(q){var ae=ue.wrap(q);return ae.length>0&&oe(ae)})}return K})()},{key:"get",value:(function(){function K(oe){return this.getElements()[oe]}return K})()},{key:"at",value:(function(){function K(oe){var ue=this.getNodesInternal();return oe<ue.length?this.wrap(ue[oe]):this.wrap([])}return K})()},{key:"first",value:(function(){function K(){return this.at(0)}return K})()},{key:"last",value:(function(){function K(){return this.at(this.length-1)}return K})()},{key:"isEmpty",value:(function(){function K(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}return K})()},{key:"exists",value:(function(){function K(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return arguments.length>0?this.find(oe).exists():this.length>0}return K})()},{key:"single",value:(function(){function K(oe,ue){var q=typeof oe=="string"?oe:"unknown",ae=typeof ue=="function"?ue:oe;if(this.length!==1)throw new Error("Method “"+q+"” is meant to be run on 1 node. "+String(this.length)+" found instead.");return ae.call(this,this.getNodeInternal())}return K})()},{key:"wrap",value:(function(){function K(oe){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this[H];if(oe instanceof _e)return oe;for(var q=arguments.length,ae=Array(q>2?q-2:0),ge=2;ge<q;ge++)ae[ge-2]=arguments[ge];return new(Function.prototype.bind.apply(_e,[null].concat([oe,ue],ae)))}return K})()},{key:"debug",value:(function(){function K(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,m.debugNodes)(this.getNodesInternal(),oe)}return K})()},{key:"tap",value:(function(){function K(oe){return oe(this),this}return K})()},{key:"dive",value:(function(){function K(){var oe=this,ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=(0,d.default)(this[N]),ae="dive";return this.single(ae,function(ge){if(ge&&ge.nodeType==="host")throw new TypeError("ShallowWrapper::"+ae+"() can not be called on Host Components");var be=(0,d.default)(oe[N]).nodeToElement(ge);if(!(0,f.isCustomComponentElement)(be,q))throw new TypeError("ShallowWrapper::"+ae+"() can only be called on components");var Re=$e(oe,ue);return oe.wrap(be,null,Re)})}return K})()},{key:"hostNodes",value:(function(){function K(){return this.filterWhere(function(oe){return typeof oe.type()=="string"})}return K})()}]),_e})();function Ct(_e){var K=(0,d.default)(_e[N]),oe=_e[U],ue=oe[A],q=ue.getNode(),ae=et(_e,K),ge=ae.legacyContext,be=ae.providerValues,Re=oe[W];if(oe.setContext((0,o.default)({},_e[U][N].context,ge)),oe[W]=new Map([].concat(w(Re),w(be))),typeof K.isContextConsumer=="function"&&K.isContextConsumer(q.type)){var je=q.type,ze=K.getProviderFromConsumer(je),qe=be.get(ze),nt=Re.get(ze);qe!==nt&&oe.rerender()}}var Lt=(function(_e){_(K,_e);function K(oe,ue,q){T(this,K);var ae=y(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,oe));return(0,f.privateSet)(ae,U,ue),(0,f.privateSet)(ae,V,q),ae}return r(K,[{key:"rerender",value:(function(){function oe(){for(var ue,q=arguments.length,ae=Array(q),ge=0;ge<q;ge++)ae[ge]=arguments[ge];var be=(ue=t(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"rerender",this)).call.apply(ue,[this].concat(ae));return Ct(this),be}return oe})()},{key:"setState",value:(function(){function oe(){for(var ue,q=arguments.length,ae=Array(q),ge=0;ge<q;ge++)ae[ge]=arguments[ge];var be=(ue=t(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"setState",this)).call.apply(ue,[this].concat(ae));return Ct(this),be}return oe})()},{key:"getWrappingComponent",value:(function(){function oe(){throw new Error("ShallowWrapper::getWrappingComponent() can only be called on the root")}return oe})()}]),K})(vt);f.ITERATOR_SYMBOL&&Object.defineProperty(vt.prototype,f.ITERATOR_SYMBOL,{configurable:!0,value:(function(){function _e(){var K,oe=this.getNodesInternal()[f.ITERATOR_SYMBOL](),ue=(0,d.default)(this[N]);return K={},O(K,f.ITERATOR_SYMBOL,function(){return this}),O(K,"next",(function(){function q(){var ae=oe.next();return ae.done?{done:!0}:{done:!1,value:ue.nodeToElement(ae.value)}}return q})()),K}return _e})()});function Ye(_e,K){Object.defineProperty(vt.prototype,_e,{get:(function(){function oe(){throw new Error(`
        Attempted to access ShallowWrapper::`+String(_e)+`, which was previously a private property on
        Enzyme ShallowWrapper instances, but is no longer and should not be relied upon.
        `+String(K)+`
      `)}return oe})(),enumerable:!1,configurable:!1})}Ye("node","Consider using the getElement() method instead."),Ye("nodes","Consider using the getElements() method instead."),Ye("renderer",""),Ye("options",""),Ye("complexSelector",""),e.default=vt})(IP);var TV={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=GO,r=n(t);function n(o){return o&&o.__esModule?o:{default:o}}function i(o,a){return new r.default(o,null,a)}})(TV);var xV={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=IP,r=n(t);function n(o){return o&&o.__esModule?o:{default:o}}function i(o,a){return new r.default(o,null,a)}})(xV);var EV={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=gf,r=a(t),n=Ns,i=a(n),o=M1;function a(u){return u&&u.__esModule?u:{default:u}}function s(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=(0,i.default)(l),h=c.createRenderer((0,r.default)({mode:"string"},l)),f=h.render(u,l.context);return(0,o.loadCheerioRoot)(f)}})(EV);var OJe=GO,PJe=Tf(OJe),CJe=IP,AJe=Tf(CJe),MJe=NU,IJe=Tf(MJe),RJe=TV,DJe=Tf(RJe),NJe=xV,jJe=Tf(NJe),LJe=EV,BJe=Tf(LJe),FJe=pu;function Tf(e){return e&&e.__esModule?e:{default:e}}var zJe={render:BJe.default,shallow:jJe.default,mount:DJe.default,ShallowWrapper:AJe.default,ReactWrapper:PJe.default,configure:FJe.merge,EnzymeAdapter:IJe.default};const RP=100,HJe=(e,t,r,n)=>{for(const{viewId:i,trackId:o,track:a}of e.instance().iterateOverTracks())i===t&&o===r&&(a.options={...a.options,...n});e.setState(e.instance().state)},UJe=e=>{for(const t of e.iterateOverTracks())if(YF(e,t.viewId)?.activeTransitions)return!0;return!1},SV=(e,t)=>{UJe(e)?setTimeout(()=>{SV(e,t)},RP):t()},DP=e=>{Xd>0?setTimeout(()=>DP(e),RP):e()},VJe=e=>{var t;for(const r of e.iterateOverTracks()){let n=VO(e,r.viewId,r.trackId);if(!(!r.track.server&&!r.track.tilesetUid&&!(r.track.data&&r.track.data.type==="divided")&&!(r.track.data&&r.track.data.type==="local-tiles")))if(r.track.data&&r.track.data.type==="divided"||r.track.server&&r.track.tilesetUid||r.track.data&&r.track.data.type==="local-tiles"){if(!n||(n.originalTrack&&(n=n.originalTrack),!(n.tilesetInfo||n.chromInfo))||(t=n.fetching)!=null&&t.size)return!0}else throw Error('"server" and "tilesetUid" belong together')}return!1},oy=(e,t)=>{VJe(e)?setTimeout(()=>{oy(e,t)},RP):t()},kV=(e,t,r,n,i={})=>{const{style:o="width:800px; background-color: lightgreen;",bounded:a=!1,extendedDelay:s=!1}=i;t&&(t.unmount(),t.detach()),e&&globalThis.document.body.removeChild(e);const u=globalThis.document.createElement("div");globalThis.document.body.appendChild(u),u.setAttribute("style",o),u.setAttribute("id","simple-hg-component");const l=zJe.mount(P.createElement(rm,{options:{bounded:a},viewConfig:r}),{attachTo:u});return l.update(),DP(()=>{if(s){const c=()=>setTimeout(()=>{n()},1e3);oy(l.instance(),c)}else oy(l.instance(),n)}),[u,l]},GJe=e=>{e&&(Xo.unmountComponentAtNode(e),document.body.removeChild(e))};async function YJe(e,t,r,n){let i;return await new Promise(o=>{i=kV(e,t,r,o,n)}),i}var WJe={value:()=>{}};function xf(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new jg(r)}function jg(e){this._=e}function XJe(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}jg.prototype=xf.prototype={constructor:jg,on:function(e,t){var r=this._,n=XJe(e+"",r),i,o=-1,a=n.length;if(arguments.length<2){for(;++o<a;)if((i=(e=n[o]).type)&&(i=$Je(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=n[o]).type)r[i]=BI(r[i],e.name,t);else if(t==null)for(i in r)r[i]=BI(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new jg(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,i=o.length;n<i;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,o=n.length;i<o;++i)n[i].value.apply(t,r)}};function $Je(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function BI(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=WJe,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}function $T(e){e.stopImmediatePropagation()}function jc(e){e.preventDefault(),e.stopImmediatePropagation()}function Xb(e){var t=e.document.documentElement,r=ut(e).on("dragstart.drag",jc,!0);"onselectstart"in t?r.on("selectstart.drag",jc,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function $b(e,t){var r=e.document.documentElement,n=ut(e).on("dragstart.drag",null);t&&(n.on("click.drag",jc,!0),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Hm=e=>()=>e;function Rx(e,{sourceEvent:t,subject:r,target:n,identifier:i,active:o,x:a,y:s,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}Rx.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function qJe(e){return!e.ctrlKey&&!e.button}function KJe(){return this.parentNode}function ZJe(e,t){return t??{x:e.x,y:e.y}}function QJe(){return navigator.maxTouchPoints||"ontouchstart"in this}function ma(){var e=qJe,t=KJe,r=ZJe,n=QJe,i={},o=xf("start","drag","end"),a=0,s,u,l,c,h=0;function f(_){_.on("mousedown.drag",p).filter(n).on("touchstart.drag",v).on("touchmove.drag",b).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(_,w){if(!(c||!e.call(this,_,w))){var T=y(this,t.call(this,_,w),_,w,"mouse");T&&(ut(_.view).on("mousemove.drag",d,!0).on("mouseup.drag",m,!0),Xb(_.view),$T(_),l=!1,s=_.clientX,u=_.clientY,T("start",_))}}function d(_){if(jc(_),!l){var w=_.clientX-s,T=_.clientY-u;l=w*w+T*T>h}i.mouse("drag",_)}function m(_){ut(_.view).on("mousemove.drag mouseup.drag",null),$b(_.view,l),jc(_),i.mouse("end",_)}function v(_,w){if(e.call(this,_,w)){var T=_.changedTouches,O=t.call(this,_,w),E=T.length,S,A;for(S=0;S<E;++S)(A=y(this,O,_,w,T[S].identifier,T[S]))&&($T(_),A("start",_,T[S]))}}function b(_){var w=_.changedTouches,T=w.length,O,E;for(O=0;O<T;++O)(E=i[w[O].identifier])&&(jc(_),E("drag",_,w[O]))}function g(_){var w=_.changedTouches,T=w.length,O,E;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),O=0;O<T;++O)(E=i[w[O].identifier])&&($T(_),E("end",_,w[O]))}function y(_,w,T,O,E,S){var A=o.copy(),M=sr(S||T,w),H,N,k;if((k=r.call(_,new Rx("beforestart",{sourceEvent:T,target:f,identifier:E,active:a,x:M[0],y:M[1],dx:0,dy:0,dispatch:A}),O))!=null)return H=k.x-M[0]||0,N=k.y-M[1]||0,function R(B,z,U){var V=M,W;switch(B){case"start":i[E]=R,W=a++;break;case"end":delete i[E],--a;case"drag":M=sr(U||z,w),W=a;break}A.call(B,_,new Rx(B,{sourceEvent:z,subject:k,target:f,identifier:E,active:W,x:M[0]+H,y:M[1]+N,dx:M[0]-V[0],dy:M[1]-V[1],dispatch:A}),O)}}return f.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Hm(!!_),f):e},f.container=function(_){return arguments.length?(t=typeof _=="function"?_:Hm(_),f):t},f.subject=function(_){return arguments.length?(r=typeof _=="function"?_:Hm(_),f):r},f.touchable=function(_){return arguments.length?(n=typeof _=="function"?_:Hm(!!_),f):n},f.on=function(){var _=o.on.apply(o,arguments);return _===o?f:_},f.clickDistance=function(_){return arguments.length?(h=(_=+_)*_,f):Math.sqrt(h)},f}const JJe=Object.freeze(Object.defineProperty({__proto__:null,drag:ma,dragDisable:Xb,dragEnable:$b},Symbol.toStringTag,{value:"Module"}));var uh=0,Vp=0,yp=0,OV=1e3,ay,Gp,sy=0,Wl=0,qb=0,Yd=typeof performance=="object"&&performance.now?performance:Date,PV=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function NP(){return Wl||(PV(eet),Wl=Yd.now()+qb)}function eet(){Wl=0}function ly(){this._call=this._time=this._next=null}ly.prototype=CV.prototype={constructor:ly,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?NP():+r)+(t==null?0:+t),!this._next&&Gp!==this&&(Gp?Gp._next=this:ay=this,Gp=this),this._call=e,this._time=r,Dx()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dx())}};function CV(e,t,r){var n=new ly;return n.restart(e,t,r),n}function tet(){NP(),++uh;for(var e=ay,t;e;)(t=Wl-e._time)>=0&&e._call.call(void 0,t),e=e._next;--uh}function FI(){Wl=(sy=Yd.now())+qb,uh=Vp=0;try{tet()}finally{uh=0,net(),Wl=0}}function ret(){var e=Yd.now(),t=e-sy;t>OV&&(qb-=t,sy=e)}function net(){for(var e,t=ay,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:ay=r);Gp=e,Dx(n)}function Dx(e){if(!uh){Vp&&(Vp=clearTimeout(Vp));var t=e-Wl;t>24?(e<1/0&&(Vp=setTimeout(FI,e-Yd.now()-qb)),yp&&(yp=clearInterval(yp))):(yp||(sy=Yd.now(),yp=setInterval(ret,OV)),uh=1,PV(FI))}}function zI(e,t,r){var n=new ly;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var iet=xf("start","end","cancel","interrupt"),oet=[],AV=0,Nx=1,jx=2,Lg=3,HI=4,Lx=5,Bg=6;function Kb(e,t,r,n,i,o){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;aet(e,r,{name:t,index:n,group:i,on:iet,tween:oet,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:AV})}function jP(e,t){var r=Oo(e,t);if(r.state>AV)throw new Error("too late; already scheduled");return r}function ra(e,t){var r=Oo(e,t);if(r.state>Lg)throw new Error("too late; already running");return r}function Oo(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function aet(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=CV(o,0,r.time);function o(l){r.state=Nx,r.timer.restart(a,r.delay,r.time),r.delay<=l&&a(l-r.delay)}function a(l){var c,h,f,p;if(r.state!==Nx)return u();for(c in n)if(p=n[c],p.name===r.name){if(p.state===Lg)return zI(a);p.state===HI?(p.state=Bg,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[c]):+c<t&&(p.state=Bg,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[c])}if(zI(function(){r.state===Lg&&(r.state=HI,r.timer.restart(s,r.delay,r.time),s(l))}),r.state=jx,r.on.call("start",e,e.__data__,r.index,r.group),r.state===jx){for(r.state=Lg,i=new Array(f=r.tween.length),c=0,h=-1;c<f;++c)(p=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(i[++h]=p);i.length=h+1}}function s(l){for(var c=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(u),r.state=Lx,1),h=-1,f=i.length;++h<f;)i[h].call(e,c);r.state===Lx&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=Bg,r.timer.stop(),delete n[t];for(var l in n)return;delete e.__transition}}function bd(e,t){var r=e.__transition,n,i,o=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){o=!1;continue}i=n.state>jx&&n.state<Lx,n.state=Bg,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}o&&delete e.__transition}}function set(e){return this.each(function(){bd(this,e)})}function uet(e,t){var r,n;return function(){var i=ra(this,e),o=i.tween;if(o!==r){n=r=o;for(var a=0,s=n.length;a<s;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function cet(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=ra(this,e),a=o.tween;if(a!==n){i=(n=a).slice();for(var s={name:t,value:r},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function het(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Oo(this.node(),r).tween,i=0,o=n.length,a;i<o;++i)if((a=n[i]).name===e)return a.value;return null}return this.each((t==null?uet:cet)(r,e,t))}function LP(e,t,r){var n=e._id;return e.each(function(){var i=ra(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Oo(i,n).value[t]}}function MV(e,t){var r;return(typeof t=="number"?Hi:t instanceof di?Jc:(r=di(t))?(t=r,Jc):U9)(e,t)}function fet(e){return function(){this.removeAttribute(e)}}function pet(e){return function(){this.removeAttributeNS(e.space,e.local)}}function det(e,t,r){var n,i=r+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===n?o:o=t(n=a,r)}}function met(e,t,r){var n,i=r+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===n?o:o=t(n=a,r)}}function get(e,t,r){var n,i,o;return function(){var a,s=r(this),u;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=s+"",a===u?null:a===n&&u===i?o:(i=u,o=t(n=a,s)))}}function yet(e,t,r){var n,i,o;return function(){var a,s=r(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=s+"",a===u?null:a===n&&u===i?o:(i=u,o=t(n=a,s)))}}function vet(e,t){var r=ru(e),n=r==="transform"?SL:MV;return this.attrTween(e,typeof t=="function"?(r.local?yet:get)(r,n,LP(this,"attr."+e,t)):t==null?(r.local?pet:fet)(r):(r.local?met:det)(r,n,t))}function bet(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function _et(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function wet(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&_et(e,o)),r}return i._value=t,i}function Tet(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&bet(e,o)),r}return i._value=t,i}function xet(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=ru(e);return this.tween(r,(n.local?wet:Tet)(n,t))}function Eet(e,t){return function(){jP(this,e).delay=+t.apply(this,arguments)}}function ket(e,t){return t=+t,function(){jP(this,e).delay=t}}function Oet(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Eet:ket)(t,e)):Oo(this.node(),t).delay}function Pet(e,t){return function(){ra(this,e).duration=+t.apply(this,arguments)}}function Cet(e,t){return t=+t,function(){ra(this,e).duration=t}}function Aet(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Pet:Cet)(t,e)):Oo(this.node(),t).duration}function Met(e,t){if(typeof t!="function")throw new Error;return function(){ra(this,e).ease=t}}function Iet(e){var t=this._id;return arguments.length?this.each(Met(t,e)):Oo(this.node(),t).ease}function Ret(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;ra(this,e).ease=r}}function Det(e){if(typeof e!="function")throw new Error;return this.each(Ret(this._id,e))}function Net(e){typeof e!="function"&&(e=sb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=[],u,l=0;l<a;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&s.push(u);return new Ko(n,this._parents,this._name,this._id)}function jet(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),a=new Array(n),s=0;s<o;++s)for(var u=t[s],l=r[s],c=u.length,h=a[s]=new Array(c),f,p=0;p<c;++p)(f=u[p]||l[p])&&(h[p]=f);for(;s<n;++s)a[s]=t[s];return new Ko(a,this._parents,this._name,this._id)}function Let(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Bet(e,t,r){var n,i,o=Let(t)?jP:ra;return function(){var a=o(this,e),s=a.on;s!==n&&(i=(n=s).copy()).on(t,r),a.on=i}}function Fet(e,t){var r=this._id;return arguments.length<2?Oo(this.node(),r).on.on(e):this.each(Bet(r,e,t))}function zet(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function Het(){return this.on("end.remove",zet(this._id))}function Uet(e){var t=this._name,r=this._id;typeof e!="function"&&(e=g1(e));for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a)for(var s=n[a],u=s.length,l=o[a]=new Array(u),c,h,f=0;f<u;++f)(c=s[f])&&(h=e.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),l[f]=h,Kb(l[f],t,r,f,l,Oo(c,r)));return new Ko(o,this._parents,t,r)}function Vet(e){var t=this._name,r=this._id;typeof e!="function"&&(e=ab(e));for(var n=this._groups,i=n.length,o=[],a=[],s=0;s<i;++s)for(var u=n[s],l=u.length,c,h=0;h<l;++h)if(c=u[h]){for(var f=e.call(c,c.__data__,h,u),p,d=Oo(c,r),m=0,v=f.length;m<v;++m)(p=f[m])&&Kb(p,t,r,m,f,d);o.push(f),a.push(c)}return new Ko(o,a,t,r)}var Get=xo.prototype.constructor;function Yet(){return new Get(this._groups,this._parents)}function Wet(e,t){var r,n,i;return function(){var o=Zi(this,e),a=(this.style.removeProperty(e),Zi(this,e));return o===a?null:o===r&&a===n?i:i=t(r=o,n=a)}}function IV(e){return function(){this.style.removeProperty(e)}}function Xet(e,t,r){var n,i=r+"",o;return function(){var a=Zi(this,e);return a===i?null:a===n?o:o=t(n=a,r)}}function $et(e,t,r){var n,i,o;return function(){var a=Zi(this,e),s=r(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),Zi(this,e))),a===u?null:a===n&&u===i?o:(i=u,o=t(n=a,s))}}function qet(e,t){var r,n,i,o="style."+t,a="end."+o,s;return function(){var u=ra(this,e),l=u.on,c=u.value[o]==null?s||(s=IV(t)):void 0;(l!==r||i!==c)&&(n=(r=l).copy()).on(a,i=c),u.on=n}}function Ket(e,t,r){var n=(e+="")=="transform"?EL:MV;return t==null?this.styleTween(e,Wet(e,n)).on("end.style."+e,IV(e)):typeof t=="function"?this.styleTween(e,$et(e,n,LP(this,"style."+e,t))).each(qet(this._id,e)):this.styleTween(e,Xet(e,n,t),r).on("end.style."+e,null)}function Zet(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function Qet(e,t,r){var n,i;function o(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&Zet(e,a,r)),n}return o._value=t,o}function Jet(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Qet(e,t,r??""))}function ett(e){return function(){this.textContent=e}}function ttt(e){return function(){var t=e(this);this.textContent=t??""}}function rtt(e){return this.tween("text",typeof e=="function"?ttt(LP(this,"text",e)):ett(e==null?"":e+""))}function ntt(e){return function(t){this.textContent=e.call(this,t)}}function itt(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&ntt(i)),t}return n._value=e,n}function ott(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,itt(e))}function att(){for(var e=this._name,t=this._id,r=DV(),n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,u,l=0;l<s;++l)if(u=a[l]){var c=Oo(u,t);Kb(u,e,r,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ko(n,this._parents,e,r)}function stt(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};r.each(function(){var l=ra(this,n),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),l.on=t}),i===0&&o()})}var ltt=0;function Ko(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function RV(e){return xo().transition(e)}function DV(){return++ltt}var ca=xo.prototype;Ko.prototype=RV.prototype={constructor:Ko,select:Uet,selectAll:Vet,selectChild:ca.selectChild,selectChildren:ca.selectChildren,filter:Net,merge:jet,selection:Yet,transition:att,call:ca.call,nodes:ca.nodes,node:ca.node,size:ca.size,empty:ca.empty,each:ca.each,on:Fet,attr:vet,attrTween:xet,style:Ket,styleTween:Jet,text:rtt,textTween:ott,remove:Het,tween:het,delay:Oet,duration:Aet,ease:Iet,easeVarying:Det,end:stt,[Symbol.iterator]:ca[Symbol.iterator]};function utt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ctt={time:null,delay:0,duration:250,ease:utt};function htt(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function ftt(e){var t,r;e instanceof Ko?(t=e._id,e=e._name):(t=DV(),(r=ctt).time=NP(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&Kb(u,e,t,l,a,r||htt(u,t));return new Ko(n,this._parents,e,t)}xo.prototype.interrupt=set;xo.prototype.transition=ftt;var ptt=[null];function dtt(e,t){var r=e.__transition,n,i;if(r){t=t==null?null:t+"";for(i in r)if((n=r[i]).state>Nx&&n.name===t)return new Ko([[e]],ptt,t,+i)}return null}const mtt=Object.freeze(Object.defineProperty({__proto__:null,active:dtt,interrupt:bd,transition:RV},Symbol.toStringTag,{value:"Module"})),Um=e=>()=>e;function gtt(e,{sourceEvent:t,target:r,transform:n,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function Go(e,t,r){this.k=e,this.x=t,this.y=r}Go.prototype={constructor:Go,scale:function(e){return e===1?this:new Go(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Go(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var sn=new Go(1,0,0);NV.prototype=Go.prototype;function NV(e){for(;!e.__zoom;)if(!(e=e.parentNode))return sn;return e.__zoom}function qT(e){e.stopImmediatePropagation()}function vp(e){e.preventDefault(),e.stopImmediatePropagation()}function ytt(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function vtt(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function UI(){return this.__zoom||sn}function btt(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function _tt(){return navigator.maxTouchPoints||"ontouchstart"in this}function wtt(e,t,r){var n=e.invertX(t[0][0])-r[0][0],i=e.invertX(t[1][0])-r[1][0],o=e.invertY(t[0][1])-r[0][1],a=e.invertY(t[1][1])-r[1][1];return e.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function Bx(){var e=ytt,t=vtt,r=wtt,n=btt,i=_tt,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=Iee,l=xf("start","zoom","end"),c,h,f,p=500,d=150,m=0,v=10;function b(k){k.property("__zoom",UI).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",M).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(k,R,B,z){var U=k.selection?k.selection():k;U.property("__zoom",UI),k!==U?w(k,R,B,z):U.interrupt().each(function(){T(this,arguments).event(z).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},b.scaleBy=function(k,R,B,z){b.scaleTo(k,function(){var U=this.__zoom.k,V=typeof R=="function"?R.apply(this,arguments):R;return U*V},B,z)},b.scaleTo=function(k,R,B,z){b.transform(k,function(){var U=t.apply(this,arguments),V=this.__zoom,W=B==null?_(U):typeof B=="function"?B.apply(this,arguments):B,te=V.invert(W),re=typeof R=="function"?R.apply(this,arguments):R;return r(y(g(V,re),W,te),U,a)},B,z)},b.translateBy=function(k,R,B,z){b.transform(k,function(){return r(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof B=="function"?B.apply(this,arguments):B),t.apply(this,arguments),a)},null,z)},b.translateTo=function(k,R,B,z,U){b.transform(k,function(){var V=t.apply(this,arguments),W=this.__zoom,te=z==null?_(V):typeof z=="function"?z.apply(this,arguments):z;return r(sn.translate(te[0],te[1]).scale(W.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof B=="function"?-B.apply(this,arguments):-B),V,a)},z,U)};function g(k,R){return R=Math.max(o[0],Math.min(o[1],R)),R===k.k?k:new Go(R,k.x,k.y)}function y(k,R,B){var z=R[0]-B[0]*k.k,U=R[1]-B[1]*k.k;return z===k.x&&U===k.y?k:new Go(k.k,z,U)}function _(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function w(k,R,B,z){k.on("start.zoom",function(){T(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(z).end()}).tween("zoom",function(){var U=this,V=arguments,W=T(U,V).event(z),te=t.apply(U,V),re=B==null?_(te):typeof B=="function"?B.apply(U,V):B,X=Math.max(te[1][0]-te[0][0],te[1][1]-te[0][1]),$=U.__zoom,ee=typeof R=="function"?R.apply(U,V):R,le=u($.invert(re).concat(X/$.k),ee.invert(re).concat(X/ee.k));return function(fe){if(fe===1)fe=ee;else{var Ee=le(fe),ce=X/Ee[2];fe=new Go(ce,re[0]-Ee[0]*ce,re[1]-Ee[1]*ce)}W.zoom(null,fe)}})}function T(k,R,B){return!B&&k.__zooming||new O(k,R)}function O(k,R){this.that=k,this.args=R,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,R),this.taps=0}O.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,R){return this.mouse&&k!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var R=ut(this.that).datum();l.call(k,this.that,new gtt(k,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:l}),R)}};function E(k,...R){if(!e.apply(this,arguments))return;var B=T(this,R).event(k),z=this.__zoom,U=Math.max(o[0],Math.min(o[1],z.k*Math.pow(2,n.apply(this,arguments)))),V=sr(k);if(B.wheel)(B.mouse[0][0]!==V[0]||B.mouse[0][1]!==V[1])&&(B.mouse[1]=z.invert(B.mouse[0]=V)),clearTimeout(B.wheel);else{if(z.k===U)return;B.mouse=[V,z.invert(V)],bd(this),B.start()}vp(k),B.wheel=setTimeout(W,d),B.zoom("mouse",r(y(g(z,U),B.mouse[0],B.mouse[1]),B.extent,a));function W(){B.wheel=null,B.end()}}function S(k,...R){if(f||!e.apply(this,arguments))return;var B=k.currentTarget,z=T(this,R,!0).event(k),U=ut(k.view).on("mousemove.zoom",re,!0).on("mouseup.zoom",X,!0),V=sr(k,B),W=k.clientX,te=k.clientY;Xb(k.view),qT(k),z.mouse=[V,this.__zoom.invert(V)],bd(this),z.start();function re($){if(vp($),!z.moved){var ee=$.clientX-W,le=$.clientY-te;z.moved=ee*ee+le*le>m}z.event($).zoom("mouse",r(y(z.that.__zoom,z.mouse[0]=sr($,B),z.mouse[1]),z.extent,a))}function X($){U.on("mousemove.zoom mouseup.zoom",null),$b($.view,z.moved),vp($),z.event($).end()}}function A(k,...R){if(e.apply(this,arguments)){var B=this.__zoom,z=sr(k.changedTouches?k.changedTouches[0]:k,this),U=B.invert(z),V=B.k*(k.shiftKey?.5:2),W=r(y(g(B,V),z,U),t.apply(this,R),a);vp(k),s>0?ut(this).transition().duration(s).call(w,W,z,k):ut(this).call(b.transform,W,z,k)}}function M(k,...R){if(e.apply(this,arguments)){var B=k.touches,z=B.length,U=T(this,R,k.changedTouches.length===z).event(k),V,W,te,re;for(qT(k),W=0;W<z;++W)te=B[W],re=sr(te,this),re=[re,this.__zoom.invert(re),te.identifier],U.touch0?!U.touch1&&U.touch0[2]!==re[2]&&(U.touch1=re,U.taps=0):(U.touch0=re,V=!0,U.taps=1+!!c);c&&(c=clearTimeout(c)),V&&(U.taps<2&&(h=re[0],c=setTimeout(function(){c=null},p)),bd(this),U.start())}}function H(k,...R){if(this.__zooming){var B=T(this,R).event(k),z=k.changedTouches,U=z.length,V,W,te,re;for(vp(k),V=0;V<U;++V)W=z[V],te=sr(W,this),B.touch0&&B.touch0[2]===W.identifier?B.touch0[0]=te:B.touch1&&B.touch1[2]===W.identifier&&(B.touch1[0]=te);if(W=B.that.__zoom,B.touch1){var X=B.touch0[0],$=B.touch0[1],ee=B.touch1[0],le=B.touch1[1],fe=(fe=ee[0]-X[0])*fe+(fe=ee[1]-X[1])*fe,Ee=(Ee=le[0]-$[0])*Ee+(Ee=le[1]-$[1])*Ee;W=g(W,Math.sqrt(fe/Ee)),te=[(X[0]+ee[0])/2,(X[1]+ee[1])/2],re=[($[0]+le[0])/2,($[1]+le[1])/2]}else if(B.touch0)te=B.touch0[0],re=B.touch0[1];else return;B.zoom("touch",r(y(W,te,re),B.extent,a))}}function N(k,...R){if(this.__zooming){var B=T(this,R).event(k),z=k.changedTouches,U=z.length,V,W;for(qT(k),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),V=0;V<U;++V)W=z[V],B.touch0&&B.touch0[2]===W.identifier?delete B.touch0:B.touch1&&B.touch1[2]===W.identifier&&delete B.touch1;if(B.touch1&&!B.touch0&&(B.touch0=B.touch1,delete B.touch1),B.touch0)B.touch0[1]=this.__zoom.invert(B.touch0[0]);else if(B.end(),B.taps===2&&(W=sr(W,this),Math.hypot(h[0]-W[0],h[1]-W[1])<v)){var te=ut(this).on("dblclick.zoom");te&&te.apply(this,arguments)}}}return b.wheelDelta=function(k){return arguments.length?(n=typeof k=="function"?k:Um(+k),b):n},b.filter=function(k){return arguments.length?(e=typeof k=="function"?k:Um(!!k),b):e},b.touchable=function(k){return arguments.length?(i=typeof k=="function"?k:Um(!!k),b):i},b.extent=function(k){return arguments.length?(t=typeof k=="function"?k:Um([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),b):t},b.scaleExtent=function(k){return arguments.length?(o[0]=+k[0],o[1]=+k[1],b):[o[0],o[1]]},b.translateExtent=function(k){return arguments.length?(a[0][0]=+k[0][0],a[1][0]=+k[1][0],a[0][1]=+k[0][1],a[1][1]=+k[1][1],b):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},b.constrain=function(k){return arguments.length?(r=k,b):r},b.duration=function(k){return arguments.length?(s=+k,b):s},b.interpolate=function(k){return arguments.length?(u=k,b):u},b.on=function(){var k=l.on.apply(l,arguments);return k===l?b:k},b.clickDistance=function(k){return arguments.length?(m=(k=+k)*k,b):Math.sqrt(m)},b.tapDistance=function(k){return arguments.length?(v=+k,b):v},b}const Ttt=Object.freeze(Object.defineProperty({__proto__:null,ZoomTransform:Go,zoom:Bx,zoomIdentity:sn,zoomTransform:NV},Symbol.toStringTag,{value:"Module"}));function xtt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ett(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ktt(n.key),n)}}function Stt(e,t,r){return t&&Ett(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ktt(e){var t=Ott(e,"string");return typeof t=="symbol"?t:t+""}function Ott(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}const Ptt=40,zu=0,bp=5,VI=4;let Zb=(function(){function e(t){xtt(this,e),this.pAxis=new Ie.PIXI.Graphics,this.track=t,this.axisTexts=[],this.axisTextFontFamily="Arial",this.axisTextFontSize=10}return Stt(e,[{key:"startAxis",value:function(t){const r=this.pAxis;r.clear(),r.lineStyle(1,this.track.getTheme()===br?ot("#ffffff"):0,1),r.moveTo(0,0),r.lineTo(0,t)}},{key:"createAxisTexts",value:function(t,r){this.tickValues=this.calculateAxisTickValues(t,r);let n=0;const i=this.track.getTheme()===br?"white":"black";for(!this.track.options||!this.track.options.axisLabelFormatting||this.track.options.axisLabelFormatting==="scientific"?this.tickFormat=Yn(".2"):this.tickFormat=o=>o;n<this.tickValues.length;){const o=this.tickValues[n];for(;this.axisTexts.length<=n;){const a=new Ie.PIXI.Text(o,{fontSize:`${this.axisTextFontSize}px`,fontFamily:this.axisTextFontFamily,fill:i});this.axisTexts.push(a),this.pAxis.addChild(a)}this.axisTexts[n].text=this.tickFormat(o),this.axisTexts[n].anchor.y=.5,this.axisTexts[n].anchor.x=.5,n++}for(;this.axisTexts.length>this.tickValues.length;){const o=this.axisTexts.pop();this.pAxis.removeChild(o),o.destroy(!0)}}},{key:"calculateAxisTickValues",value:function(t,r){const n=Math.max(Math.ceil(r/Ptt),1);let i=t.ticks(n);return i.length<1&&(i=t.ticks(n+1),i.length>1&&(i=[i[0]])),i}},{key:"drawAxisLeft",value:function(t,r){var n;this.startAxis(r),this.createAxisTexts(t,r);const i=this.pAxis;this.track.getTheme()===br&&i.lineStyle(i.lineWidth||i._lineStyle.width,ot("#ffffff")),i.moveTo(0,0),i.lineTo(-5,0),i.moveTo(0,r),i.lineTo(-5,r);for(let o=0;o<this.axisTexts.length;o++){const a=this.tickValues[o];this.axisTexts[o].x=-(zu+bp+VI+this.axisTexts[o].width/2),this.axisTexts[o].y=t(a),i.moveTo(-0,t(a)),i.lineTo(-5,t(a)),(n=this.track)!=null&&n.flipText&&(this.axisTexts[o].scale.x=-1)}this.hideOverlappingAxisLabels()}},{key:"drawAxisRight",value:function(t,r){var n;this.startAxis(r),this.createAxisTexts(t,r);const i=this.pAxis;this.track.getTheme()===br&&i.lineStyle(i.lineWidth||i._lineStyle.width,ot("#ffffff")),i.moveTo(0,0),i.lineTo(zu+bp,0),i.moveTo(0,r),i.lineTo(zu+bp,r);for(let o=0;o<this.axisTexts.length;o++){const a=this.tickValues[o];this.axisTexts[o].x=zu+bp+VI+this.axisTexts[o].width/2,this.axisTexts[o].y=t(a),i.moveTo(zu,t(a)),i.lineTo(zu+bp,t(a)),(n=this.track)!=null&&n.flipText&&(this.axisTexts[o].scale.x=-1)}this.hideOverlappingAxisLabels()}},{key:"hideOverlappingAxisLabels",value:function(){for(let t=this.axisTexts.length-1;t>=0;t--)this.axisTexts[t].visible=!0;for(let t=this.axisTexts.length-1;t>=0;t--){if(!this.axisTexts[t].visible)continue;let r=t-1;for(;r>=0&&this.axisTexts[t].y+this.axisTexts[t].height/2>this.axisTexts[r].y-this.axisTexts[r].height/2;)this.axisTexts[r].visible=!1,r-=1}}},{key:"exportVerticalAxis",value:function(t){var r;const n=document.createElement("g");n.setAttribute("class","axis-vertical");let i="black";(r=this.track)!=null&&r.options.lineStrokeColor&&(i=this.track.options.lineStrokeColor),this.track.getTheme()===br&&(i="#cccccc");const o=document.createElement("path");return o.setAttribute("fill","transparent"),o.setAttribute("stroke",i),o.setAttribute("id","axis-line"),o.setAttribute("d",`M0,0 L0,${t}`),n.appendChild(o),n}},{key:"createAxisSVGLine",value:function(){var t;let r="black";(t=this.track)!=null&&t.options.lineStrokeColor&&(r=this.track.options.lineStrokeColor),this.track.getTheme()===br&&(r="#cccccc");const n=document.createElement("path");return n.setAttribute("id","tick-mark"),n.setAttribute("fill","transparent"),n.setAttribute("stroke",r),n}},{key:"createAxisSVGText",value:function(t){const r=document.createElement("text");return r.innerHTML=t,r.setAttribute("id","axis-text"),r.setAttribute("text-anchor","middle"),r.setAttribute("font-family",this.axisTextFontFamily),r.setAttribute("font-size",this.axisTextFontSize),r.setAttribute("dy",this.axisTextFontSize/2-2),r}},{key:"exportAxisLeftSVG",value:function(t,r){const n=this.exportVerticalAxis(r),i=this.createAxisSVGLine();n.appendChild(i),i.setAttribute("d","M0,0 L5,0");const o=this.createAxisSVGLine();n.appendChild(o),o.setAttribute("d",`M0,${r} L5,${r}`);for(let a=0;a<this.axisTexts.length;a++){const s=this.tickValues[a],u=this.axisTexts[a],l=this.createAxisSVGLine();n.appendChild(l),l.setAttribute("d",`M0,${t(s)} L5,${t(s)}`);const c=document.createElement("g");if(n.appendChild(c),u.visible){const h=this.createAxisSVGText(u.text);c.appendChild(h)}c.setAttribute("transform",`translate(${u.position.x},${u.position.y})
             scale(${u.scale.x},${u.scale.y})`)}return n}},{key:"exportAxisRightSVG",value:function(t,r){const n=this.exportVerticalAxis(r),i=this.createAxisSVGLine();n.appendChild(i),i.setAttribute("d","M0,0 L-5,0");const o=this.createAxisSVGLine();n.appendChild(o),o.setAttribute("d",`M0,${r} L-5,${r}`);for(let a=0;a<this.axisTexts.length;a++){const s=this.tickValues[a],u=this.axisTexts[a],l=this.createAxisSVGLine();n.appendChild(l),l.setAttribute("d",`M0,${t(s)} L-5,${t(s)}`);const c=document.createElement("g");if(n.appendChild(c),u.visible){const h=this.createAxisSVGText(u.text);c.appendChild(h)}c.setAttribute("transform",`translate(${u.position.x},${u.position.y})
             scale(${u.scale.x},${u.scale.y})`)}return n}},{key:"clearAxis",value:function(){const t=this.pAxis;for(;this.axisTexts.length;){const r=this.axisTexts.pop();t.removeChild(r)}t.clear()}}])})();const jV=(e,t)=>{const r=[];for(let n=e;n<t;n++)r.push(n);return r},Ctt=(e,t)=>{const r=e.map(a=>+a).sort((a,s)=>s-a),n=t.range()[1]-t.range()[0],i=r.map(a=>(t.domain()[1]-t.domain()[0])/a).map(a=>a/n),o=i.filter(a=>a<1);return o.length===0?0:i.indexOf(o[o.length-1])},Att=(e,t,r,n)=>{const i=e.range()[1]-e.range()[0],o=Math.max((r-t)/(e.domain()[1]-e.domain()[0]),1),a=Math.max(0,Math.ceil(Math.log(i/384)/Math.LN2));let s=Math.round(Math.log(o)/Math.LN2)+a,u=0;return n&&(u=Math.floor(Math.log(256)/Math.log(2)-Math.log(n)/Math.log(2))),s+=u,s},LV=(e,t,r)=>{if(typeof r>"u"&&(r=Number.MAX_SAFE_INTEGER),e.resolutions)return Ctt(e.resolutions,t,e.min_pos[0],e.max_pos[0]-2);const n=Att(t,e.min_pos[0],e.max_pos[0],e.bins_per_dimension||e.tile_size),i=Math.min(n,r);return Math.max(i,0)},Mtt=(e,t,r,n,i,o)=>{const a=Math.min(e,i),s=o/2**a;return jV(Math.max(0,Math.floor((t.domain()[0]-r)/s)),Math.min(2**a,Math.ceil((t.domain()[1]-r-1e-7)/s)))},Itt=(e,t,r,n=Number.MAX_VALUE,i=256)=>{const o=e*i,a=20,s=Math.max(0,Math.floor((t.domain()[0]-r)/o)),u=Math.ceil(Math.min(n,t.domain()[1]-r-1e-7)/o);let l=jV(s,u);return l.length>a&&(console.warn(`Too many visible tiles: ${l.length} truncating to ${a}`),l=l.slice(0,a)),l},Rtt=(e,t)=>{if(!e)return[];const r=LV(e,t,e.max_zoom);if(e.resolutions){const n=e.resolutions.map(i=>+i).sort((i,o)=>o-i);return Itt(n[r],t,e.min_pos[0],e.max_pos[0]).map(i=>[r,i])}return Mtt(r,t,e.min_pos[0],e.max_pos[0],e.max_zoom,e.max_width).map(n=>[r,n])},Dtt=(e,t)=>{if(e.axis||(e.axis=new Zb(e),e.pBase.addChild(e.axis.pAxis)),!e.options.axisPositionVertical&&!e.options.axisPositionHorizontal){e.axis.clearAxis();return}if(e.options.axisPositionVertical&&e.options.axisPositionVertical==="hidden"){e.axis.clearAxis();return}if(e.options.axisPositionHorizontal&&e.options.axisPositionHorizontal==="hidden"){e.axis.clearAxis();return}const r=e.options.axisMargin||0;e.options.axisPositionHorizontal==="left"||e.options.axisPositionVertical==="top"?(e.axis.pAxis.position.x=e.position[0]+r,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisRight(t,e.dimensions[1])):e.options.axisPositionHorizontal==="outsideLeft"||e.options.axisPositionVertical==="outsideTop"?(e.axis.pAxis.position.x=e.position[0]+r,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisLeft(t,e.dimensions[1])):e.options.axisPositionHorizontal==="right"||e.options.axisPositionVertical==="bottom"?(e.axis.pAxis.position.x=e.position[0]+e.dimensions[0]-r,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisLeft(t,e.dimensions[1])):(e.options.axisPositionHorizontal==="outsideRight"||e.options.axisPositionVertical==="outsideBottom")&&(e.axis.pAxis.position.x=e.position[0]+e.dimensions[0]-r,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisRight(t,e.dimensions[1]))},Ntt=(e,t)=>{const r=e.valueScaleTransform,{y:n,k:i}=r,o=e.dimensions[1];n+t/i>-(i-1)*o&&n+t/i<0&&(e.valueScaleTransform=r.translate(0,t/i)),Object.values(e.fetchedTiles).forEach(a=>{a.graphics.position.y=e.valueScaleTransform.y}),e.animate()},jtt=(e,t,r,n)=>{const i=r.k,o=r.y,a=(e-o)/i,s=Math.max(i/t,1);let u=i*a+o-s*a;return u=Math.max(u,-(s-1)*n),u=Math.min(u,0),sn.translate(0,u).scale(s)},Ltt=(e,t)=>{const r=+t.split(".")[0],n=+t.split(".")[1],i=e.max_width,o=e.min_pos[0],a=i/2**r;return{tileX:o+n*a,tileWidth:a}};function Btt(e,t){Object.values(e.fetchedTiles).forEach(r=>{if(!r.drawnAtScale)return;const n=r.drawnAtScale.range(),i=e._xScale.range();if(n[0]!==i[0]||n[1]!==i[1]){e.renderTile(r);return}const o=(r.drawnAtScale.domain()[1]-r.drawnAtScale.domain()[0])/(e._xScale.domain()[1]-e._xScale.domain()[0]);if(o>2||o<.5)e.renderTile(r);else{const a=e._xScale.domain().map(r.drawnAtScale)[0];for(const s of t)s(r).scale.x=o,s(r).x=-a*o}})}const Wd={calculate1DVisibleTiles:Rtt,calculate1DZoomLevel:LV,drawAxis:Dtt,movedY:Ntt,getTilePosAndDimensions:Ltt,stretchRects:Btt,zoomedY:jtt},Ftt=Object.freeze(Object.defineProperty({__proto__:null,DenseDataExtrema1D:q0,DenseDataExtrema2D:HO,IS_TRACK_RANGE_SELECTABLE:df,absToChr:Ur,accessorTransposition:nF,addArrays:iF,addClass:tle,base64ToCanvas:rle,changeOptions:HJe,chrToAbs:N0,chromInfoBisector:rF,cloneEvent:oF,colorDomainToRgbaArray:xs,colorToHex:ot,colorToRgba:aF,dataToGenomicLoci:j0,debounce:AO,decToHexStr:ox,dictFromTuples:sF,dictItems:Fi,dictKeys:lo,dictValues:hr,download:hd,expandCombinedTracks:Pg,fillInMinWidths:wF,flatten:Lle,forEach:Ble,forwardEvent:G0,genomeLociToPixels:Fle,genomicRangeToChromosomeChunks:zle,getAggregationFunction:UO,getDefaultTrackForDatatype:NO,getDefaultTracksForDatatype:Uue,getElementDim:xF,getTiledPlot:Vue,getTrackByUid:hi,getTrackConfFromHGC:Ule,getTrackObjById:Up,getTrackObjectFromHGC:VO,getTrackPositionByUid:pd,getTrackRenderer:YF,getXylofon:EF,gradient:SF,hasClass:D0,hasParent:kF,hexStrToInt:OF,intoTheVoid:PF,isTrackOrChildTrack:CF,isWithin:FO,latToY:Zle,lngToX:Jle,loadChromInfos:Qle,map:LO,max:lx,maxNonZero:ux,min:AF,minNonZero:cx,mod:rue,mountHGComponent:kV,mountHGComponentAsync:YJe,ndarrayAssign:MF,ndarrayFlatten:DF,ndarrayToList:RF,numericifyVersion:NF,objVals:Cb,or:w1,parseChromsizesRows:Bd,pixiTextToSvg:hx,q:gue,rangeQuery2d:yue,reduce:TF,relToAbsChromPos:vue,removeClass:_ue,removeHGComponent:GJe,resetD3BrushStyle:Dc,rgbToHex:wue,scalesCenterAndK:Qr,scalesToGenomeLoci:jF,segmentsToRows:$0,selectedItemsToSize:Hd,showMousePosition:Gl,some:Sue,sum:fs,svgLine:LF,throttleAndDebounce:BF,tileToCanvas:kue,timeout:FF,toVoid:X0,totalTrackPixelHeight:Oue,trackUtils:Wd,trimTrailingSlash:Ab,valueToColor:zO,visitPositionedTracks:va,visitTracks:jO,waitForJsonComplete:DP,waitForTilesLoaded:oy,waitForTransitionsFinished:SV},Symbol.toStringTag,{value:"Module"}));let GI=!1;const ztt=()=>{if(GI)return;const[e,t]=EF(),r=[String.fromCharCode(..."102117110099116105111110040041123115101108102046099111110115111108101046108111103040039".match(/.{1,3}/g).map(v=>+v)).toLowerCase(),String.fromCharCode(..."072".match(/.{1,3}/g).map(v=>+v)),String.fromCharCode(..."105".match(/.{1,3}/g).map(v=>+v)).toLowerCase(),String.fromCharCode(..."071".match(/.{1,3}/g).map(v=>+v)),String.fromCharCode(..."108097115115".match(/.{1,3}/g).map(v=>+v)).toLowerCase(),String.fromCharCode(..."032118".match(/.{1,3}/g).map(v=>+v)).toLowerCase(),String.fromCharCode(...t.match(/.{1,3}/g).map(v=>+v)).toLowerCase(),String.fromCharCode(..."058032104116116112058047047104105103108097115115046105111039041125".match(/.{1,3}/g).map(v=>+v)).toLowerCase()].join(""),n="085082076",i="066076079066",o="087111114107101114",a="099114101097116101079098106101099116085082076",s="114101118111107101079098106101099116085082076",u=v=>v.charAt(0).toUpperCase()+v.slice(1),l=v=>v.slice(0,6)+v.charAt(6).toUpperCase()+v.slice(7,12)+v.slice(12).toUpperCase(),c=e[String.fromCharCode(...n.match(/.{1,3}/g).map(v=>+v))],h=e[u(String.fromCharCode(...i.match(/.{1,3}/g).map(v=>+v)).toLowerCase())],f=e[u(String.fromCharCode(...o.match(/.{1,3}/g).map(v=>+v)).toLowerCase())],p=l(String.fromCharCode(...a.match(/.{1,3}/g).map(v=>+v)).toLowerCase()),d=l(String.fromCharCode(...s.match(/.{1,3}/g).map(v=>+v)).toLowerCase()),m=c[p](new h([`(${r})()`],{type:"application/javascript"}));new f(m),c[d](m),GI=!0},BV={listen:ztt};function Htt(e,t,r,n,i,o,a){let s,u;if(i){const m=UO(i);s=m,u=(v,b)=>m(b.map(g=>e[g*t[1]+v]))??0}let l,c,h,f,p,d;for(h=0;h<t[1];h++)for(c=0,f=0;f<n.length;f++){if(d=n[f],s&&a==="server")l=e[f*t[1]+h];else if(Array.isArray(d)){if(!u)throw new Error("row aggregation requires 'aggFromDataFunc'");l=u(h,d)}else l=e[d*t[1]+h];if(o&&Array.isArray(d))for(p=0;p<d.length;p++)r(c*t[1]+h,l),c++;else r(c*t[1]+h,l),c++}}function Utt(e,t,r,n,i,o,a=!1,s=!1,u=null,l=null,c=null){let h;r==="log"?h=Cs().range([254,0]).domain(n):(r!=="linear"&&console.warn("Unknown value scale type:",r," Defaulting to linear"),h=Et().range([254,0]).domain(n));const{selectedRows:f,selectedRowsAggregationMode:p="mean",selectedRowsAggregationWithRelativeHeight:d=!1,selectedRowsAggregationMethod:m="client"}=c??{};let v=e;u&&f&&(v=Hd(f,d)*u[1]);let b,g=0;const y=u?u[1]:Math.sqrt(e),_=new Uint8ClampedArray(v*4),w=E=>{const S=h(E);return Number.isNaN(S)?254:Math.max(0,Math.min(254,Math.floor(S)))},T=(E,S)=>{g=255,!(a&&Math.floor(E/y)<E%y)&&!(s&&Math.floor(E/y)>E%y)&&!Number.isNaN(+S)&&(g=w(S+i)),(g<0||g>255)&&console.warn("out of bounds rgbIdx:",g," (should be 0 <= rgbIdx <= 255)"),l&&!Number.isNaN(+S)&&+S==0?b=l:b=o[g],_[E*4]=b[0],_[E*4+1]=b[1],_[E*4+2]=b[2],_[E*4+3]=b[3]};let O;try{if(f&&u)Htt(t,u,T,f,p,d,m);else for(let E=0;E<t.length;E++)O=t[E],T(E,O)}catch(E){return console.warn("Odd datapoint"),console.warn("d:",O),O=O??0,console.warn("valueScale.domain():",h.domain()),console.warn("valueScale.range():",h.range()),console.warn("value:",h(O+i)),console.warn("pseudocount:",i),console.warn("rgbIdx:",g,"d:",O,"ct:",h(O)),console.error("ERROR:",E),_}return _}function Vtt(e){let t=e&31744,r,n,i;const o=(e&32768)<<16;switch(t){case 0:if(r=e&1023,r===0)return o;for(r<<=1;(r&1024)===0;)r<<=1,t++;return n=112-t<<23,i=(r&1023)<<13,o+n+i;case 31744:return o+2139095040+((e&1023)<<13);default:return o+((e&32767)+114688<<13)}}function Gtt(e){const t=atob(e),r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t.charCodeAt(i);return n.buffer}function Ytt(e){const t=new Uint32Array(e.length);for(let r=0;r<e.length;r++)t[r]=Vtt(e[r]);return new Float32Array(t.buffer)}function BP(e,t,r){const n=e??{};for(const i of r){i in n||(n[i]={});const o=i,a=o.split(".");n[o].server=t,n[o].tileId=o,n[o].zoomLevel=+a[1];const s=a.slice(2,a.length).map(u=>+u).filter(u=>!Number.isNaN(u));if(n[o].tilePos=s,n[o].tilesetUid=a[0],"dense"in n[o]){const u=n[o].dense,l=Gtt(u);let c;if(n[o].dtype==="float16"){const f=new Uint16Array(l);c=Ytt(f)}else c=new Float32Array(l);const h=s.length===2?new HO(c):new q0(c);n[o].dense=c,n[o].denseDataExtrema=h,n[o].minNonZero=h.minNonZeroInTile,n[o].maxNonZero=h.maxNonZeroInTile}}return n}function Wtt(e,t){var r,n;const i={"content-type":"application/json"};t.authHeader&&(i.Authorization=t.authHeader);const o=e.tileIds.map(s=>`d=${s}`).join("&"),a=`${e.server}/tiles/?${o}&s=${t.sessionId}`;return(r=t.pubSub)==null||r.publish("requestSent",a),fetch(a,{credentials:"same-origin",headers:i,...((n=e.body)==null?void 0:n.length)>0?{method:"POST",body:JSON.stringify(e.body)}:{}}).then(s=>s.json()).then(s=>{var u;return(u=t.pubSub)==null||u.publish("requestReceived",a),BP(s,e.server,e.tileIds)}).catch(s=>console.warn("err:",s))}const Xtt=15,FV=Nt.nice();let Xd=0,ch=null;function*$tt(e,t){let r=[];for(const n of e)r.push(n),r.length===t&&(yield r,r=[]);r.length&&(yield r)}function qtt({processBatch:e,interval:t,finalWait:r}){let n,i=[],o=0;const a=()=>{n=void 0,i=[]},s=(...c)=>{e(i,...c),a()},u=(...c)=>{const h=()=>{o>0&&(s(...c),o=0)};clearTimeout(n),n=setTimeout(h,r)};let l=!1;return(c,...h)=>{const{promise:f,resolve:p,reject:d}=Promise.withResolvers();return i.push({value:c,resolve:p,reject:d}),l?o++:(s(...h),u(...h),l=!0,o=0,setTimeout(()=>{l=!1},t)),f}}const uy=e=>{ch=e},zV=()=>ch;function Ktt(e){const t=[],r={};for(const n of e){r[n.id]===void 0&&(r[n.id]=t.length,t.push({...n,tileIds:[]}));const i=t[r[n.id]];i.tileIds=i.tileIds.concat(n.tileIds)}return t}function Ztt(e){const t=[],r={};for(const n of e){r[n.server]===void 0&&(r[n.server]=t.length,t.push({...n,tileIds:[],body:[]}));const i=t[r[n.server]];i.tileIds=i.tileIds.concat(n.tileIds);for(const o of n.tileIds)if(n.options){const a=o.indexOf("."),s=o.substring(0,a),u=o.substring(a+1);let l=i.body.find(c=>c.tilesetUid===s);l||(l={tilesetUid:s,tileIds:[],options:n.options},i.body.push(l)),l.tileIds.push(u)}}return t}function*Qtt(e,{maxSize:t=Xtt}={}){const r=Ktt(e),n=Ztt(r);for(const i of n)for(const o of $tt(new Set(i.tileIds),t))yield{...i,tileIds:o}}function Jtt(e){const t={},r=(n,i)=>`${n}/${i}`;for(const n of e)if(n)for(const[i,o]of Object.entries(n))t[r(o.server,i)]=n[i];return{resolveTileDataForRequest(n){const i={};for(const o of n.tileIds){const a=t[r(n.server,o)];a&&(i[o]=a)}return i}}}const HV=qtt({processBatch:async(e,t)=>{const r=Array.from(Qtt(e.map(i=>i.value)),i=>Wtt(i,{authHeader:ch,sessionId:FV,pubSub:t})),n=Jtt(await Promise.all(r));for(const i of e)i.resolve(n.resolveTileDataForRequest(i.value))},interval:ax,finalWait:ax}),Fx=(e,t)=>{const r=e.map(a=>+a).sort((a,s)=>s-a),n=t.range()[1]-t.range()[0],i=r.map(a=>(t.domain()[1]-t.domain()[0])/a).map(a=>a/n),o=i.filter(a=>a<1);return o.length===0?0:i.indexOf(o[o.length-1])},UV=(e,t)=>{if(zd(e))return e.resolutions.map(i=>+i).sort((i,o)=>o-i)[t];const r=e.max_width,n=+(e?.bins_per_dimension??256);return r/(2**t*n)},zx=(e,t,r,n)=>{const i=e.range()[1]-e.range()[0],o=Math.max((r-t)/(e.domain()[1]-e.domain()[0]),1),a=Math.max(0,Math.ceil(Math.log(i/384)/Math.LN2));let s=Math.round(Math.log(o)/Math.LN2)+a,u=0;return n&&(u=Math.floor(Math.log(256)/Math.log(2)-Math.log(n)/Math.log(2))),s+=u,s};function VV(e,t,r,n,i){let o=null;const a=Y0(e)?e.bins_per_dimension??256:256;Y0(e)?o=t/2**n:o=e.resolutions[n]*a;const s=Math.floor((i-r)/o),u=Math.floor(a*(i-s*o)/o);return[s,u]}const cy=(e,t,r,n,i,o)=>{const a=Math.min(e,i),s=o/2**a;return Vn(Math.max(0,Math.floor((t.domain()[0]-r)/s)),Math.min(2**a,Math.ceil((t.domain()[1]-r-1e-7)/s)))},GV=(e,t,r)=>Y0(e)?e.max_width/2**t:e.resolutions.map(n=>+n).sort((n,i)=>i-n)[t]*r,hy=(e,t,r,n,i)=>{const o=e*(i||256),a=20;n||(n=Number.MAX_VALUE);const s=Math.max(0,Math.floor((t.domain()[0]-r)/o)),u=Math.ceil(Math.min(n,t.domain()[1]-r-1e-7)/o);let l=Vn(s,u);return l.length>a&&(console.warn(`Too many visible tiles: ${l.length} truncating to ${a}`),l=l.slice(0,a)),l},YV=(e,t,r,n,i,o,a,s,u,l)=>{const{tileData:c}=e;if(!c.dense){o(null);return}if(e.mirrored&&!e.isMirrored&&e.tileData.tilePos.length>0&&e.tileData.tilePos[0]===e.tileData.tilePos[1]){e.tileData.dense=e.tileData.dense.slice();const f=Math.floor(Math.sqrt(e.tileData.dense.length));for(let p=0;p<f;p++)for(let d=p+1;d<f;d++)e.tileData.dense[p*f+d]=e.tileData.dense[d*f+p];if(s)for(let p=0;p<f;p++)for(let d=0;d<p;d++)e.tileData.dense[p*f+d]=Number.NaN;e.isMirrored=!0}const h=Utt(c.dense.length,c.dense,t,r,n,i,a,s,e.tileData.shape,u,l);o({pixData:h})};function WV(e,t,r,n){Xd+=1,n.publish("requestSent",e);let i=null;if(r==="text")i=null;else if(r==="json")i="application/json";else throw new Error(`fetch either "text" or "json", not "${r}"`);const o={};return i&&(o["Content-Type"]=i),ch&&(o.Authorization=ch),fetch(e,{credentials:"same-origin",headers:o}).then(a=>{if(!a.ok)throw Error(a.statusText);return a[r]()}).then(a=>(t(void 0,a),a)).catch(a=>(console.error(`Could not fetch ${e}`,a),t(a,void 0),a)).finally(()=>{n.publish("requestReceived",e),Xd-=1})}function ert(e,t,r){return WV(e,t,"text",r)}async function XV(e,t,r){return WV(e,t,"json",r)}const $V=(e,t,r,n,i)=>{const o=`${Ab(e)}/tileset_info/?d=${t}&s=${FV}`;i.publish("requestSent",o),XV(o,(a,s)=>{i.publish("requestReceived",o),a?n?n(`Error retrieving tilesetInfo from: ${e}`):console.warn("Error retrieving: ",o):r(s)},i)},_t={calculateResolution:UV,calculateTileAndPosInTile:VV,calculateTiles:cy,calculateTilesFromResolution:hy,calculateTileWidth:GV,calculateZoomLevel:zx,calculateZoomLevelFromResolutions:Fx,fetchTilesDebounced:HV,json:XV,text:ert,tileDataToPixData:YV,trackInfo:$V},trt=Object.freeze(Object.defineProperty({__proto__:null,ElementResizeListener:BV,get authHeader(){return ch},chromInfo:CO,createDomEvent:tF,getTileProxyAuthHeader:zV,get requestsInFlight(){return Xd},setTileProxyAuthHeader:uy,tileProxy:_t,tileResponseToData:BP},Symbol.toStringTag,{value:"Module"})),FP={__fake__:!0,publish:()=>{},subscribe:()=>({event:"",handler:()=>{}}),unsubscribe:()=>{},clear:()=>{}};function Es(e,t,r=FP){const n={};return n.absToChr=i=>n.chrPositions?Ur(i,n):null,n.chrToAbs=([i,o]=[])=>n.chrPositions?N0(i,o,n):null,_t.text(e,(i,o)=>{if(i)t&&t(null);else{const a=PO(o),s=Bd(a);Object.keys(s).forEach(u=>{n[u]=s[u]}),t&&t(n)}},r).then(()=>n)}const rrt="_button_1wnjn_1",KT={button:rrt,"button-shortcut":"_button-shortcut_1wnjn_35"},Aa=P.forwardRef((e,t)=>P.createElement("button",{ref:t,className:KT[e.styleName]??KT.button,disabled:e.disable,onBlur:e.onBlur,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseOut:e.onMouseOut,onMouseUp:e.onMouseUp,type:"button"},e.children,e.shortcut&&P.createElement("span",{className:KT["button-shortcut"]},e.shortcut)));Aa.defaultProps={onClick:()=>{},styleName:"",type:"button"};Aa.propTypes={children:j.any,disable:j.bool,onBlur:j.func,onClick:j.func,onMouseDown:j.func,onMouseOut:j.func,onMouseUp:j.func,shortcut:j.string,type:j.string,styleName:j.string};const nrt="_cross_2ke8w_1",irt={cross:nrt};function qV(){return P.createElement("div",{className:irt.cross})}const{Provider:ort,Consumer:art}=P.createContext({close:X0,open:X0});function Qb(e){return P.forwardRef((t,r)=>P.createElement(art,null,n=>P.createElement(e,{ref:r,...t,modal:n})))}const Hu={"modal-background":"_modal-background_zzhoe_1","modal-hide":"_modal-hide_zzhoe_13","modal-wrap":"_modal-wrap_zzhoe_17","modal-window":"_modal-window_zzhoe_25","modal-window-max-height":"_modal-window-max-height_zzhoe_38","modal-content":"_modal-content_zzhoe_42"};function zP(e){const t=()=>{e.modal.close(),e.onClose&&e.onClose()};return P.createElement("div",{className:Gt(Hu["modal-background"],{[Hu["modal-hide"]]:e.hide})},P.createElement("div",{className:Hu["modal-wrap"]},P.createElement("div",{className:Gt(Hu["modal-window"],{[Hu["modal-window-max-height"]]:e.maxHeight})},e.closeButton&&P.createElement(Aa,{onClick:t},P.createElement(qV,null)),P.createElement("div",{className:Hu["modal-content"]},e.children))))}zP.defaultProps={closeButton:!0,hide:!1,maxHeight:!1};zP.propTypes={children:j.element.isRequired,closeButton:j.bool,hide:j.bool,maxHeight:j.bool,modal:j.object.isRequired,onClose:j.func};const srt=Qb(zP),ZT={"dialog-header":"_dialog-header_wp50s_1","dialog-main-max-height":"_dialog-main-max-height_wp50s_20","dialog-footer":"_dialog-footer_wp50s_31","dialog-footer-max-height":"_dialog-footer-max-height_wp50s_31"};function HP(e){const t=()=>{e.modal.close(),e.onCancel&&e.onCancel()},r=()=>{e.modal.close(),e.onOkay&&e.onOkay()};return P.createElement(srt,{closeButton:!1,hide:e.hide,maxHeight:e.maxHeight},P.createElement(P.Fragment,null,P.createElement("header",{className:ZT["dialog-header"]},P.createElement("h3",null,e.title),P.createElement(Aa,{onClick:t},P.createElement(qV,null))),e.maxHeight?P.createElement("main",{className:Gt(e.maxHeight&&ZT["dialog-main-max-height"])},e.children):P.createElement("main",null,e.children),P.createElement("footer",{className:ZT[e.maxHeight?"dialog-footer-max-height":"dialog-footer"]},e.okayOnly?P.createElement("div",null):P.createElement(Aa,{onClick:t,shortcut:e.cancelShortcut},e.cancelTitle),P.createElement(Aa,{onClick:r,shortcut:e.okayShortcut},e.okayTitle))))}HP.defaultProps={cancelTitle:"Cancel",hide:!1,maxHeight:!1,okayOnly:!1,okayTitle:"Ok"};HP.propTypes={cancelShortcut:j.string,cancelTitle:j.string,children:j.object,hide:j.bool,maxHeight:j.bool,modal:j.object.isRequired,okayShortcut:j.string,okayTitle:j.string,okayOnly:j.bool,onCancel:j.func.isRequired,onOkay:j.func.isRequired,title:j.string.isRequired};const B1=Qb(HP),lrt={"export-link-dialog-wrapper":"_export-link-dialog-wrapper_p9gxw_1"};function urt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function crt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,frt(n.key),n)}}function hrt(e,t,r){return t&&crt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function frt(e){var t=prt(e,"string");return typeof t=="symbol"?t:t+""}function prt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function drt(e,t,r){return t=fy(t),mrt(e,KV()?Reflect.construct(t,r||[],fy(e).constructor):t.apply(e,r))}function mrt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return grt(e)}function grt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KV=function(){return!!e})()}function fy(e){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fy(e)}function yrt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hx(e,t)}function Hx(e,t){return Hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Hx(e,t)}let UP=(function(e){function t(){return urt(this,t),drt(this,t,arguments)}return yrt(t,e),hrt(t,[{key:"render",value:function(){return P.createElement(B1,{okayOnly:!0,okayTitle:"Done",onOkay:this.props.onDone,title:"Share view link"},P.createElement("div",{className:lrt["export-link-dialog-wrapper"]},P.createElement("input",{ref:r=>{r&&(this.input=r,r.focus(),r.select())},onClick:r=>{r.target.select()},placeholder:"Generating the link...",readOnly:!0,value:this.props.url}),P.createElement(Aa,{onClick:r=>{this.input.select(),document.execCommand("copy")}},"Copy")))}}])})(P.Component);UP.defaultProps={onDone:()=>{},url:""};UP.propTypes={onDone:j.func,url:j.string};var vrt=[].slice,brt={};function Ux(e){this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}Ux.prototype=GP.prototype={constructor:Ux,defer:function(e){if(typeof e!="function")throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(this._error!=null)return this;var t=vrt.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),ZV(this),this},abort:function(){return this._error==null&&VP(this,new Error("abort")),this},await:function(e){if(typeof e!="function")throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,r){e.apply(null,[t].concat(r))},py(this),this},awaitAll:function(e){if(typeof e!="function")throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=e,py(this),this}};function ZV(e){if(!e._start)try{_rt(e)}catch(t){if(e._tasks[e._ended+e._active-1])VP(e,t);else if(!e._data)throw t}}function _rt(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,r=e._tasks[t],n=r.length-1,i=r[n];r[n]=wrt(e,t),--e._waiting,++e._active,r=i.apply(null,r),e._tasks[t]&&(e._tasks[t]=r||brt)}}function wrt(e,t){return function(r,n){e._tasks[t]&&(--e._active,++e._ended,e._tasks[t]=null,e._error==null&&(r!=null?VP(e,r):(e._data[t]=n,e._waiting?ZV(e):py(e))))}}function VP(e,t){var r=e._tasks.length,n;for(e._error=t,e._data=void 0,e._waiting=NaN;--r>=0;)if((n=e._tasks[r])&&(e._tasks[r]=null,n.abort))try{n.abort()}catch{}e._active=NaN,py(e)}function py(e){if(!e._active&&e._call){var t=e._data;e._data=void 0,e._call(e._error,t)}}function GP(e){if(e==null)e=1/0;else if(!((e=+e)>=1))throw new Error("invalid concurrency");return new Ux(e)}const Trt=Object.freeze(Object.defineProperty({__proto__:null,queue:GP},Symbol.toStringTag,{value:"Module"}));function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(null,arguments)}function xrt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ert(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,krt(n.key),n)}}function Srt(e,t,r){return t&&Ert(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function krt(e){var t=Ort(e,"string");return typeof t=="symbol"?t:t+""}function Ort(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Prt(e,t,r){return t=my(t),Crt(e,QV()?Reflect.construct(t,r||[],my(e).constructor):t.apply(e,r))}function Crt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Art(e)}function Art(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QV=function(){return!!e})()}function my(e){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},my(e)}function Mrt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vx(e,t)}function Vx(e,t){return Vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Vx(e,t)}const _p=[];let YP=(function(e){function t(r){var n;return xrt(this,t),n=Prt(this,t,[r]),n.state={highlightedIndex:null,menuTop:0,menuLeft:0,menuWidth:0,isOpen:!1},n.keyDownHandlers={ArrowDown(i){i.preventDefault();const o=this.getFilteredItems().length;if(!o)return;const{highlightedIndex:a}=this.state,s=a===null||a===o-1?0:a+1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:s,isOpen:!0})},ArrowUp(i){i.preventDefault();const o=this.getFilteredItems().length;if(!o)return;const{highlightedIndex:a}=this.state,s=a===0||a===null?o-1:a-1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:s,isOpen:!0})},Enter(i){if(this.state.isOpen!==!1)if(this.state.highlightedIndex===null)this.setState({isOpen:!1},()=>{this.inputEl.select()});else{i.preventDefault();const o=this.getFilteredItems()[this.state.highlightedIndex],a=this.props.getItemValue(o);this.setState({isOpen:!1,highlightedIndex:null},()=>{this.inputEl.setSelectionRange(a.length,a.length),this.props.onSelect(a,o)})}},Escape(){this.setState({highlightedIndex:null,isOpen:!1})}},n}return Mrt(t,e),Srt(t,[{key:"getInitialState",value:function(){return{isOpen:!1,highlightedIndex:null}}},{key:"UNSAFE_componentWillMount",value:function(){this._ignoreBlur=!1,this._performAutoCompleteOnUpdate=!1,this._performAutoCompleteOnKeyUp=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(r){this._performAutoCompleteOnUpdate=!0,(this.props.items!==r.items||this.state.highlightedIndex>=r.items.length)&&this.setState({highlightedIndex:null})}},{key:"componentDidUpdate",value:function(r,n){this.state.isOpen===!0&&n.isOpen===!1&&this.setMenuPositions(),this.state.isOpen&&this._performAutoCompleteOnUpdate&&(this._performAutoCompleteOnUpdate=!1,this.maybeAutoCompleteText()),this.maybeScrollItemIntoView(),n.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen,this.inputEl)}},{key:"maybeScrollItemIntoView",value:function(){this.state.isOpen===!0&&this.state.highlightedIndex!==null&&this.refs[`item-${this.state.highlightedIndex}`]?.scrollIntoView({block:"nearest",behavior:"smooth"})}},{key:"handleKeyDown",value:function(r){this.keyDownHandlers[r.key]?this.keyDownHandlers[r.key].call(this,r):this.setState({highlightedIndex:null,isOpen:!0})}},{key:"handleChange",value:function(r){this._performAutoCompleteOnKeyUp=!0,this.props.onChange(r,r.target.value)}},{key:"handleKeyUp",value:function(){this._performAutoCompleteOnKeyUp&&(this._performAutoCompleteOnKeyUp=!1,this.maybeAutoCompleteText())}},{key:"getFilteredItems",value:function(){let r=this.props.items;return this.props.shouldItemRender&&(r=r.filter(n=>this.props.shouldItemRender(n,this.props.value))),this.props.sortItems&&r.sort((n,i)=>this.props.sortItems(n,i,this.props.value)),r}},{key:"maybeAutoCompleteText",value:function(){if(!this.props.autoHighlight||this.props.value==="")return;const{highlightedIndex:r}=this.state,n=this.getFilteredItems();if(n.length===0)return;const i=r!==null?n[r]:n[0];this.props.getItemValue(i).toLowerCase().indexOf(this.props.value.toLowerCase())===0&&r===null&&this.setState({highlightedIndex:0})}},{key:"setMenuPositions",value:function(){const r=this.inputEl,n=r.getBoundingClientRect(),i=globalThis.window.getComputedStyle(r),o=Number.parseInt(i.marginBottom,10)||0,a=Number.parseInt(i.marginLeft,10)||0,s=Number.parseInt(i.marginRight,10)||0;this.setState({menuTop:n.bottom+o,menuLeft:n.left+a,menuWidth:n.width+a+s})}},{key:"highlightItemFromMouse",value:function(r){this.setState({highlightedIndex:r})}},{key:"selectItemFromMouse",value:function(r){const n=this.props.getItemValue(r);this.setState({isOpen:!1,highlightedIndex:null},()=>{this.props.onSelect(n,r),this.inputEl.focus()})}},{key:"setIgnoreBlur",value:function(r){this._ignoreBlur=r}},{key:"renderMenu",value:function(){const r=this.getFilteredItems().map((o,a)=>{const s=this.props.renderItem(o,this.state.highlightedIndex===a,{cursor:"default"});return P.cloneElement(s,{onMouseDown:()=>this.setIgnoreBlur(!0),onMouseEnter:()=>this.highlightItemFromMouse(a),onClick:()=>this.selectItemFromMouse(o),ref:`item-${a}`})}),n={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth};if(!r.length)return null;const i=this.props.renderMenu(r,this.props.value,n);return P.cloneElement(i,{ref:"menu"})}},{key:"handleInputBlur",value:function(){this.props.onFocus&&this.props.onFocus(),!this._ignoreBlur&&this.setState({isOpen:!1,highlightedIndex:null})}},{key:"handleInputFocus",value:function(){if(this.props.onFocus&&this.props.onFocus(!0),this._ignoreBlur){this.setIgnoreBlur(!1);return}this._ignoreClick=!0,this.setState({isOpen:!0})}},{key:"isInputFocused",value:function(){return this.inputEl.ownerDocument&&this.inputEl===this.inputEl.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&this.state.isOpen===!1?this.setState({isOpen:!0}):this.state.highlightedIndex!==null&&!this._ignoreClick&&this.selectItemFromMouse(this.getFilteredItems()[this.state.highlightedIndex]),this._ignoreClick=!1}},{key:"composeEventHandlers",value:function(r,n){return n?i=>{r(i),n(i)}:r}},{key:"render",value:function(){var r,n,i,o,a;this.props.debug&&_p.push({id:_p.length,state:this.state});const{inputProps:s}=this.props;return P.createElement("div",dy({style:{...this.props.wrapperStyle}},this.props.wrapperProps),P.createElement("input",dy({},s,{ref:u=>{this.inputEl=u},"aria-autocomplete":"list",autoComplete:"off",onBlur:this.composeEventHandlers(this.handleInputBlur.bind(this),(r=s.onBlur)==null?void 0:r.bind(this)),onChange:this.handleChange.bind(this),onClick:this.composeEventHandlers(this.handleInputClick.bind(this),(n=s.onClick)==null?void 0:n.bind(this)),onFocus:this.composeEventHandlers(this.handleInputFocus.bind(this),(i=s.onFocus)==null?void 0:i.bind(this)),onKeyDown:this.composeEventHandlers(this.handleKeyDown.bind(this),(o=s.onKeyDown)==null?void 0:o.bind(this)),onKeyUp:this.composeEventHandlers(this.handleKeyUp.bind(this),(a=s.onKeyUp)==null?void 0:a.bind(this)),role:"combobox",value:this.props.value})),("open"in this.props?this.props.open:this.state.isOpen)&&this.renderMenu(),this.props.debug&&P.createElement("pre",{style:{marginLeft:300}},JSON.stringify(_p.slice(_p.length-5,_p.length),null,2)))}}])})(P.Component);YP.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},onChange(){},onSelect(){},renderMenu(e,t,r){return P.createElement("div",{style:{...r,...this.menuStyle}},e)},shouldItemRender(){return!0},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,onMenuVisibilityChange(){}};YP.propTypes={autoHighlight:j.bool,debug:j.bool,getItemValue:j.func.isRequired,inputProps:j.object,items:j.array,menuStyle:j.object,onChange:j.func,onFocus:j.func,onMenuVisibilityChange:j.func,onSelect:j.func,open:j.bool,renderItem:j.func.isRequired,renderMenu:j.func,shouldItemRender:j.func,sortItems:j.func,value:j.any,wrapperProps:j.object,wrapperStyle:j.object};function Irt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rrt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nrt(n.key),n)}}function Drt(e,t,r){return t&&Rrt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nrt(e){var t=jrt(e,"string");return typeof t=="symbol"?t:t+""}function jrt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Lrt(e,t,r){return t=gy(t),Brt(e,JV()?Reflect.construct(t,r||[],gy(e).constructor):t.apply(e,r))}function Brt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Frt(e)}function Frt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JV=function(){return!!e})()}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gy(e)}function zrt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gx(e,t)}function Gx(e,t){return Gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Gx(e,t)}let bs=(function(e){function t(r){var n;return Irt(this,t),n=Lrt(this,t,[r]),n.clickHandlerBound=n.clickHandler.bind(n),n.contextMenuHandlerBound=n.contextMenuHandler.bind(n),n.resizeHandlerBound=n.resizeHandler.bind(n),n}return zrt(t,e),Drt(t,[{key:"componentDidMount",value:function(){this.popup=document.createElement("div"),document.body.appendChild(this.popup),this.popup.style.zIndex=99,this.popup.style.position="absolute",this.popup.className="hg-popup",document.addEventListener("click",this.clickHandlerBound,!0),document.addEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.addEventListener("resize",this.resizeHandlerBound,!0),this._renderLayer()}},{key:"componentDidUpdate",value:function(){this._renderLayer()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.clickHandlerBound,!0),document.removeEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.removeEventListener("resize",this.resizeHandlerBound,!0),Xo.unmountComponentAtNode(this.popup),document.body.removeChild(this.popup)}},{key:"_renderLayer",value:function(){Xo.render(this.props.children,this.popup)}},{key:"clickHandler",value:function(r){this.popup.contains(r.target)||this.props.onMenuClosed&&this.props.onMenuClosed(r)}},{key:"contextMenuHandler",value:function(r){r.altKey||(r.preventDefault(),this.clickHandler(r))}},{key:"resizeHandler",value:function(){this.props.onMenuClosed(null)}},{key:"render",value:function(){return P.createElement("div",null)}}])})(P.Component);bs.defaultProps={onMenuClosed:PF};bs.propTypes={children:j.node.isRequired,onMenuClosed:j.func};function Hrt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Urt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Grt(n.key),n)}}function Vrt(e,t,r){return t&&Urt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Grt(e){var t=Yrt(e,"string");return typeof t=="symbol"?t:t+""}function Yrt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}let WP=(function(){function e(t){Hrt(this,e),this.chromInfo=t,this.chromInfoBisector=cf(r=>r.pos).left}return Vrt(e,[{key:"scalesToPositionText",value:function(t,r,n=!1){if(this.chromInfo===null||!t||!r)return"";const i=Ur(t.domain()[0],this.chromInfo),o=Ur(t.domain()[1],this.chromInfo),a=Ur(r.domain()[0],this.chromInfo),s=Ur(r.domain()[1],this.chromInfo);let u=null;const l=Yn(",d");return i[0]!==o[0]?u=`${i[0]}:${l(Math.floor(i[1]))}-${o[0]}:${l(Math.ceil(o[1]))}`:u=`${i[0]}:${l(Math.floor(i[1]))}-${l(Math.ceil(o[1]))}`,n&&(a[0]!==s[0]?u+=` & ${a[0]}:${l(Math.floor(a[1]))}-${s[0]}:${l(Math.ceil(s[1]))}`:u+=` & ${a[0]}:${l(Math.floor(a[1]))}-${l(Math.ceil(s[1]))}`),(i[2]<=0||o[2]>0||n&&(a[2]<=0||s[2]>0))&&(u+=` [offset ${i[2]},${o[2]}`,n&&(u+=`:${a[2]},${s[2]}`),u+="]"),u}},{key:"convertNumberNotation",value:function(t){let r=t;if(!r.includes("M",r.length-1)&&!r.includes("K",r.length-1))return r;let n=0,i=0;if(r.includes("M",r.length-1)?(n=6,r=r.replace("M","")):(n=3,r=r.replace("K","")),Number.isNaN(+r))return t;r=(+r).toString(),r.includes(".")&&(i=r.length-1-r.indexOf("."),r=(+r.replace(".","")).toString());const o=n-i;return o<0?t:(r+="0".repeat(o),r)}},{key:"parsePosition",value:function(t,r=null){const n=t.split(":");let i=null,o=0;n.length>1?(i=n[0],o=+this.convertNumberNotation(n[1].replace(/,/g,""))):n[0]in this.chromInfo.chrPositions?(i=n[0],o=0,r!==null&&(o=+this.chromInfo.chromLengths[i])):(o=+this.convertNumberNotation(n[0].replace(/,/g,"")),i=null,r&&(i=r));let a=null;return i===null?(i=r,a=o):i in this.chromInfo.chrPositions&&(a=this.chromInfo.chrPositions[i].pos+o),[i,o,a]}},{key:"matchRangesToLarger",value:function(t,r){if(t[1]-t[0]<r[1]-r[0]){const i=r[1]-r[0]-(t[1]-t[0]);return[[t[0]-i/2,t[1]+i/2],r]}const n=t[1]-t[0]-(r[1]-r[0]);return[t,[r[0]-n/2,r[1]+n/2]]}},{key:"getSearchRange",value:function(t){if(t.length===0)return null;let r=t.split("-");r=r.filter(i=>i.length>0);let n=null;if(r[0].indexOf("-")===0&&(r[0]=r[0].slice(3,r[0].length)),r.length>1){let[i,o,a]=this.parsePosition(r[0]),[s,u,l]=this.parsePosition(r[1],i);const c=[a,l];[i,o,a]=this.parsePosition(r[1]),[s,u,l]=this.parsePosition(r[0],i),i===null&&s!==null&&([i,o,a]=this.parsePosition(r[1],s));const h=[a,l];return h[1]-h[0]>c[1]-c[0]?h:c}if(r[0]in this.chromInfo.chrPositions){const i=+this.chromInfo.chrPositions[r[0]].pos;n=[i,i+ +this.chromInfo.chromLengths[r[0]]]}else{const[i,o,a]=this.parsePosition(r[0]);n=[a-8e6,a+8e6]}return n[0]>n[1]?[n[1],n[0]]:n}},{key:"parseOffset",value:function(t){const r=t.split(":");if(r.length===0)return[[0,0],[0,0]];if(r.length===1){const o=r[0].split(",");return[[+o[0],+o[1]],[0,0]]}const n=r[0].split(","),i=r[1].split(",");return[[+n[0],+n[1]],[+i[0],+i[1]]]}},{key:"searchPosition",value:function(t){let r=null,n=null;t=t.trim();const i=/\[offset (.+?)\]/.exec(t);let o=[[0,0],[0,0]];i&&(t=t.replace(i[0],""),o=this.parseOffset(i[1]));const a=t.split(" & ");return a.length>1?(r=this.getSearchRange(a[0].split(" ")[0]),n=this.getSearchRange(a[1].split(" ")[0])):r=this.getSearchRange(a[0]),r!==null&&n!==null&&([r,n]=this.matchRangesToLarger(r,n)),r&&(r[0]+=o[0][0],r[1]+=o[0][1]),n&&(n[0]+=o[1][0],n[1]+=o[1][1]),[r,n]}}])})();const{Provider:Wrt,Consumer:Xrt}=P.createContext(FP);function Ef(e){return P.forwardRef((t,r)=>P.createElement(Xrt,null,n=>P.createElement(e,{ref:r,...t,pubSub:n})))}const wp={"genome-position-search":"_genome-position-search_1l2sx_1","genome-position-search-focus":"_genome-position-search-focus_1l2sx_2","genome-position-search-bar":"_genome-position-search-bar_1l2sx_16","genome-position-search-dark":"_genome-position-search-dark_1l2sx_34","genome-position-search-bar-suggestions":"_genome-position-search-bar-suggestions_1l2sx_83"};function $rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qrt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zrt(n.key),n)}}function Krt(e,t,r){return t&&qrt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zrt(e){var t=Qrt(e,"string");return typeof t=="symbol"?t:t+""}function Qrt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Jrt(e,t,r){return t=yy(t),ent(e,eG()?Reflect.construct(t,r||[],yy(e).constructor):t.apply(e,r))}function ent(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tnt(e)}function tnt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eG=function(){return!!e})()}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yy(e)}function rnt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yx(e,t)}function Yx(e,t){return Yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Yx(e,t)}let tG=(function(e){function t(r){var n;return $rt(this,t),n=Jrt(this,t,[r]),n.mounted=!1,n.uid=Nt.nice(),n.chromInfo=null,n.searchField=null,n.autocompleteMenu=null,n.xScale=null,n.yScale=null,n.prevParts=[],n.props.registerViewportChangedListener(n.scalesChanged.bind(n)),n.menuPosition={left:0,top:0},n.currentChromInfoServer=n.props.chromInfoServer,n.currentChromInfoId=n.props.chromInfoId,n.positionText=r.error,n.state={value:n.positionText,loading:!1,menuPosition:[0,0],genes:[],isFocused:!1,menuOpened:!1,availableAssemblies:[],selectedAssembly:null},n.styles={item:{padding:"2px 6px",cursor:"default"},highlightedItem:{color:"white",background:"hsl(200, 50%, 50%)",padding:"2px 6px",cursor:"default"},menu:{border:"solid 1px #ccc"}},n}return rnt(t,e),Krt(t,[{key:"componentDidMount",value:function(){this.mounted=!0,ut(this.autocompleteMenu.inputEl).on("keypress",this.autocompleteKeyPress.bind(this)),this.fetchChromInfo(this.props.chromInfoServer,this.props.chromInfoId),this.setPositionText()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.props.removeViewportChangedListener()}},{key:"fetchChromInfo",value:function(r,n){if(!n){this.positionText="no chromosome track present",this.setState({value:this.positionText});return}this.mounted&&(this.setState({autocompleteServer:r}),Es(`${r}/chrom-sizes/?id=${n}`,i=>{this.chromInfo=i,this.searchField=new WP(this.chromInfo),this.setPositionText()}))}},{key:"scalesChanged",value:function(r,n){this.xScale=r,this.yScale=n,this.setPositionText()}},{key:"setPositionText",value:function(){if(!this.mounted||!this.searchField)return;const r=this.searchField.scalesToPositionText(this.xScale,this.yScale,this.props.twoD);this.prevParts=r.split(/[ -]/),this.gpsbForm&&(this.positionText=r,this.autocompleteMenu.inputEl.value=r)}},{key:"autocompleteKeyPress",value:function(r){r.keyCode===13&&this.buttonClick()}},{key:"replaceGenesWithLoadedPositions",value:function(r){const n=this.positionText,i=n.split(" ");let o=!1;for(let s=0;s<i.length;s++){const u=i[s].split("-");let l=0,c=0,h="";for(;l<u.length;){for(c=u.length;c>l;){const f=u.slice(l,c).join("-");if(r[f.toLowerCase()]){const p=r[f.toLowerCase()],d=Math.floor((p.txEnd-p.txStart)/4);l===0&&c<u.length?h=`${p.chr}:${p.txStart-d}`:l===0&&c===u.length?h=`${p.chr}:${p.txStart-d}-${p.txEnd+d}`:h+=`- ${p.chr}:${p.txEnd+d}`,o=!0;break}c===l+1&&(h.length&&(h+="-"),h+=f),c-=1}l=c+1}i[s]=h}const a=i.join(" ");return this.prevParts=a.split(/[ -]/),this.positionText=a,this.setState({value:a}),o?n:null}},{key:"replaceGenesWithPositions",value:function(r){const n=this.positionText.split(/[ -]/);let i=GP();for(let o=0;o<n.length;o++){if(n[o].length===0)continue;const[,,a]=this.searchField.parsePosition(n[o]);if(a==null||Number.isNaN(a)){const s=`${this.props.autocompleteServer}/suggest/?d=${this.props.autocompleteId}&ac=${n[o].toLowerCase()}`,u=l=>{_t.json(s,l,this.props.pubSub)};i=i.defer(u)}}i.awaitAll((o,a)=>{if(a){const s={};for(let u=0;u<a.length;u++)if(a[u][0])for(let l=0;l<a[u].length;l++)s[a[u][l].geneName.toLowerCase()]=a[u][l];this.replaceGenesWithLoadedPositions(s),r()}})}},{key:"buttonClick",value:function(){this.setState({genes:[]}),this.replaceGenesWithPositions(()=>{const r=this.positionText;if(this.searchField!=null){let[n,i]=this.searchField.searchPosition(r);if(n&&(Number.isNaN(n[0])||Number.isNaN(n[1]))||i&&(Number.isNaN(i[0])||Number.isNaN(i[1])))return;i||(i=n);const o=this.xScale.copy(),a=this.yScale.copy();n&&(o.domain(n),a.domain(n));const[s,u,l]=Qr(o,a);this.props.setCenters(s,u,l,hF)}})}},{key:"searchFieldSubmit",value:function(){this.buttonClick()}},{key:"pathJoin",value:function(r,n){const i=n||"/",o=new RegExp(`${i}{1,}`,"g");return r.join(i).replace(o,i)}},{key:"onAutocompleteChange",value:function(r,n){this.positionText=n,this.setState({value:n,loading:!0});const i=n.split(/[ -]/);this.changedPart=null;for(let o=0;o<i.length;o++){if(o===this.prevParts.length){this.changedPart=o;break}if(i[o]!==this.prevParts[o]){this.changedPart=o;break}}if(this.prevParts=i,!!(this.props.autocompleteServer&&this.props.autocompleteId)&&this.changedPart!=null){this.setState({loading:!0});const o=`${this.props.autocompleteServer}/suggest/?d=${this.props.autocompleteId}&ac=${i[this.changedPart].toLowerCase()}`;_t.json(o,(a,s)=>{if(a){this.setState({loading:!1,genes:[]});return}this.setState({loading:!1,genes:s})},this.props.pubSub)}}},{key:"geneSelected",value:function(r,n){const i=this.positionText.split(" ");let o=this.changedPart;for(let a=0;a<i.length;a++){const s=i[a].split("-");if(o>s.length-1)o-=s.length;else{s[o]=n.geneName,i[a]=s.join("-");break}}this.prevParts=i.join(" ").split(/[ -]/),this.positionText=i.join(" "),this.setState({value:i.join(" "),genes:[]})}},{key:"handleMenuVisibilityChange",value:function(r,n){const i=n.getBoundingClientRect();this.menuPosition={left:i.left,top:i.top+i.height},this.setState({menuOpened:r})}},{key:"handleRenderMenu",value:function(r){return P.createElement(bs,null,P.createElement("div",{style:{left:this.menuPosition.left,top:this.menuPosition.top},className:wp["genome-position-search-bar-suggestions"]},r))}},{key:"handleAssemblySelect",value:function(r){this.fetchChromInfo(r),this.setState({selectedAssembly:r})}},{key:"focusHandler",value:function(r){this.setState({isFocused:r})}},{key:"UNSAFE_componentWillReceiveProps",value:function(r){(r.chromInfoId!==this.currentChromInfoId||r.chromInfoServer!==this.currentChromInfoServer)&&(this.currentChromInfoId=r.chromInfoId,this.currentChromInfoServer=r.chromInfoServer,this.fetchChromInfo(r.chromInfoServer,r.chromInfoId))}},{key:"render",value:function(){return P.createElement("div",{ref:r=>{this.gpsbForm=r},className:Gt({[wp["genome-position-search-focus"]]:this.state.isFocused,[wp["genome-position-search"]]:!this.state.isFocused,[wp["genome-position-search-dark"]]:this.props.theme===br})},P.createElement(YP,{ref:r=>{this.autocompleteMenu=r},getItemValue:r=>r.geneName,inputProps:{className:wp["genome-position-search-bar"]},items:this.state.genes,menuStyle:{position:"absolute",left:this.menuPosition.left,top:this.menuPosition.top,border:"1px solid black"},onChange:this.onAutocompleteChange.bind(this),onFocus:this.focusHandler.bind(this),onMenuVisibilityChange:this.handleMenuVisibilityChange.bind(this),onSelect:(r,n)=>this.geneSelected(r,n),onSubmit:this.searchFieldSubmit.bind(this),renderItem:(r,n)=>P.createElement("div",{key:r.geneName,id:r.geneName,style:n?this.styles.highlightedItem:this.styles.item},r.geneName),renderMenu:this.handleRenderMenu.bind(this),value:this.props.error||this.positionText,wrapperStyle:{width:"100%"}}),P.createElement(bF,{onClick:this.buttonClick.bind(this),theStyle:"multitrack-header-icon"}))}}])})(P.Component);tG.propTypes={autocompleteId:j.string,autocompleteServer:j.string,chromInfoId:j.string,chromInfoServer:j.string,isFocused:j.bool,onFocus:j.func,onSelectedAssemblyChanged:j.func,registerViewportChangedListener:j.func,removeViewportChangedListener:j.func,setCenters:j.func,theme:j.string,trackSourceServers:j.array,twoD:j.bool};const nnt=Ef(tG);var hh=0,Yp=0,Tp=0,rG=1e3,vy,Wp,by=0,Xl=0,Jb=0,$d=typeof performance=="object"&&performance.now?performance:Date,nG=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function XP(){return Xl||(nG(int),Xl=$d.now()+Jb)}function int(){Xl=0}function _y(){this._call=this._time=this._next=null}_y.prototype=iG.prototype={constructor:_y,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?XP():+r)+(t==null?0:+t),!this._next&&Wp!==this&&(Wp?Wp._next=this:vy=this,Wp=this),this._call=e,this._time=r,Wx()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wx())}};function iG(e,t,r){var n=new _y;return n.restart(e,t,r),n}function ont(){XP(),++hh;for(var e=vy,t;e;)(t=Xl-e._time)>=0&&e._call.call(null,t),e=e._next;--hh}function YI(){Xl=(by=$d.now())+Jb,hh=Yp=0;try{ont()}finally{hh=0,snt(),Xl=0}}function ant(){var e=$d.now(),t=e-by;t>rG&&(Jb-=t,by=e)}function snt(){for(var e,t=vy,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:vy=r);Wp=e,Wx(n)}function Wx(e){if(!hh){Yp&&(Yp=clearTimeout(Yp));var t=e-Xl;t>24?(e<1/0&&(Yp=setTimeout(YI,e-$d.now()-Jb)),Tp&&(Tp=clearInterval(Tp))):(Tp||(by=$d.now(),Tp=setInterval(ant,rG)),hh=1,nG(YI))}}function WI(e,t,r){var n=new _y;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var lnt=xf("start","end","cancel","interrupt"),unt=[],oG=0,XI=1,Xx=2,Fg=3,$I=4,$x=5,zg=6;function e_(e,t,r,n,i,o){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;cnt(e,r,{name:t,index:n,group:i,on:lnt,tween:unt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:oG})}function $P(e,t){var r=Po(e,t);if(r.state>oG)throw new Error("too late; already scheduled");return r}function na(e,t){var r=Po(e,t);if(r.state>Fg)throw new Error("too late; already running");return r}function Po(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function cnt(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=iG(o,0,r.time);function o(l){r.state=XI,r.timer.restart(a,r.delay,r.time),r.delay<=l&&a(l-r.delay)}function a(l){var c,h,f,p;if(r.state!==XI)return u();for(c in n)if(p=n[c],p.name===r.name){if(p.state===Fg)return WI(a);p.state===$I?(p.state=zg,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[c]):+c<t&&(p.state=zg,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[c])}if(WI(function(){r.state===Fg&&(r.state=$I,r.timer.restart(s,r.delay,r.time),s(l))}),r.state=Xx,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Xx){for(r.state=Fg,i=new Array(f=r.tween.length),c=0,h=-1;c<f;++c)(p=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(i[++h]=p);i.length=h+1}}function s(l){for(var c=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(u),r.state=$x,1),h=-1,f=i.length;++h<f;)i[h].call(e,c);r.state===$x&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=zg,r.timer.stop(),delete n[t];for(var l in n)return;delete e.__transition}}function qx(e,t){var r=e.__transition,n,i,o=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){o=!1;continue}i=n.state>Xx&&n.state<$x,n.state=zg,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}o&&delete e.__transition}}function hnt(e){return this.each(function(){qx(this,e)})}function fnt(e,t){var r,n;return function(){var i=na(this,e),o=i.tween;if(o!==r){n=r=o;for(var a=0,s=n.length;a<s;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function pnt(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=na(this,e),a=o.tween;if(a!==n){i=(n=a).slice();for(var s={name:t,value:r},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function dnt(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Po(this.node(),r).tween,i=0,o=n.length,a;i<o;++i)if((a=n[i]).name===e)return a.value;return null}return this.each((t==null?fnt:pnt)(r,e,t))}function qP(e,t,r){var n=e._id;return e.each(function(){var i=na(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Po(i,n).value[t]}}function aG(e,t){var r;return(typeof t=="number"?Hi:t instanceof di?Jc:(r=di(t))?(t=r,Jc):U9)(e,t)}function mnt(e){return function(){this.removeAttribute(e)}}function gnt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ynt(e,t,r){var n,i=r+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===n?o:o=t(n=a,r)}}function vnt(e,t,r){var n,i=r+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===n?o:o=t(n=a,r)}}function bnt(e,t,r){var n,i,o;return function(){var a,s=r(this),u;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=s+"",a===u?null:a===n&&u===i?o:(i=u,o=t(n=a,s)))}}function _nt(e,t,r){var n,i,o;return function(){var a,s=r(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=s+"",a===u?null:a===n&&u===i?o:(i=u,o=t(n=a,s)))}}function wnt(e,t){var r=ru(e),n=r==="transform"?SL:aG;return this.attrTween(e,typeof t=="function"?(r.local?_nt:bnt)(r,n,qP(this,"attr."+e,t)):t==null?(r.local?gnt:mnt)(r):(r.local?vnt:ynt)(r,n,t))}function Tnt(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function xnt(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Ent(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&xnt(e,o)),r}return i._value=t,i}function Snt(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&Tnt(e,o)),r}return i._value=t,i}function knt(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=ru(e);return this.tween(r,(n.local?Ent:Snt)(n,t))}function Ont(e,t){return function(){$P(this,e).delay=+t.apply(this,arguments)}}function Pnt(e,t){return t=+t,function(){$P(this,e).delay=t}}function Cnt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ont:Pnt)(t,e)):Po(this.node(),t).delay}function Ant(e,t){return function(){na(this,e).duration=+t.apply(this,arguments)}}function Mnt(e,t){return t=+t,function(){na(this,e).duration=t}}function Int(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ant:Mnt)(t,e)):Po(this.node(),t).duration}function Rnt(e,t){if(typeof t!="function")throw new Error;return function(){na(this,e).ease=t}}function Dnt(e){var t=this._id;return arguments.length?this.each(Rnt(t,e)):Po(this.node(),t).ease}function Nnt(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;na(this,e).ease=r}}function jnt(e){if(typeof e!="function")throw new Error;return this.each(Nnt(this._id,e))}function Lnt(e){typeof e!="function"&&(e=sb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=[],u,l=0;l<a;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&s.push(u);return new Ba(n,this._parents,this._name,this._id)}function Bnt(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),a=new Array(n),s=0;s<o;++s)for(var u=t[s],l=r[s],c=u.length,h=a[s]=new Array(c),f,p=0;p<c;++p)(f=u[p]||l[p])&&(h[p]=f);for(;s<n;++s)a[s]=t[s];return new Ba(a,this._parents,this._name,this._id)}function Fnt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function znt(e,t,r){var n,i,o=Fnt(t)?$P:na;return function(){var a=o(this,e),s=a.on;s!==n&&(i=(n=s).copy()).on(t,r),a.on=i}}function Hnt(e,t){var r=this._id;return arguments.length<2?Po(this.node(),r).on.on(e):this.each(znt(r,e,t))}function Unt(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function Vnt(){return this.on("end.remove",Unt(this._id))}function Gnt(e){var t=this._name,r=this._id;typeof e!="function"&&(e=g1(e));for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a)for(var s=n[a],u=s.length,l=o[a]=new Array(u),c,h,f=0;f<u;++f)(c=s[f])&&(h=e.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),l[f]=h,e_(l[f],t,r,f,l,Po(c,r)));return new Ba(o,this._parents,t,r)}function Ynt(e){var t=this._name,r=this._id;typeof e!="function"&&(e=ab(e));for(var n=this._groups,i=n.length,o=[],a=[],s=0;s<i;++s)for(var u=n[s],l=u.length,c,h=0;h<l;++h)if(c=u[h]){for(var f=e.call(c,c.__data__,h,u),p,d=Po(c,r),m=0,v=f.length;m<v;++m)(p=f[m])&&e_(p,t,r,m,f,d);o.push(f),a.push(c)}return new Ba(o,a,t,r)}var Wnt=xo.prototype.constructor;function Xnt(){return new Wnt(this._groups,this._parents)}function $nt(e,t){var r,n,i;return function(){var o=Zi(this,e),a=(this.style.removeProperty(e),Zi(this,e));return o===a?null:o===r&&a===n?i:i=t(r=o,n=a)}}function sG(e){return function(){this.style.removeProperty(e)}}function qnt(e,t,r){var n,i=r+"",o;return function(){var a=Zi(this,e);return a===i?null:a===n?o:o=t(n=a,r)}}function Knt(e,t,r){var n,i,o;return function(){var a=Zi(this,e),s=r(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),Zi(this,e))),a===u?null:a===n&&u===i?o:(i=u,o=t(n=a,s))}}function Znt(e,t){var r,n,i,o="style."+t,a="end."+o,s;return function(){var u=na(this,e),l=u.on,c=u.value[o]==null?s||(s=sG(t)):void 0;(l!==r||i!==c)&&(n=(r=l).copy()).on(a,i=c),u.on=n}}function Qnt(e,t,r){var n=(e+="")=="transform"?EL:aG;return t==null?this.styleTween(e,$nt(e,n)).on("end.style."+e,sG(e)):typeof t=="function"?this.styleTween(e,Knt(e,n,qP(this,"style."+e,t))).each(Znt(this._id,e)):this.styleTween(e,qnt(e,n,t),r).on("end.style."+e,null)}function Jnt(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function eit(e,t,r){var n,i;function o(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&Jnt(e,a,r)),n}return o._value=t,o}function tit(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,eit(e,t,r??""))}function rit(e){return function(){this.textContent=e}}function nit(e){return function(){var t=e(this);this.textContent=t??""}}function iit(e){return this.tween("text",typeof e=="function"?nit(qP(this,"text",e)):rit(e==null?"":e+""))}function oit(e){return function(t){this.textContent=e.call(this,t)}}function ait(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&oit(i)),t}return n._value=e,n}function sit(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ait(e))}function lit(){for(var e=this._name,t=this._id,r=lG(),n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,u,l=0;l<s;++l)if(u=a[l]){var c=Po(u,t);e_(u,e,r,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ba(n,this._parents,e,r)}function uit(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};r.each(function(){var l=na(this,n),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),l.on=t}),i===0&&o()})}var cit=0;function Ba(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function lG(){return++cit}var il=xo.prototype;Ba.prototype={constructor:Ba,select:Gnt,selectAll:Ynt,filter:Lnt,merge:Bnt,selection:Xnt,transition:lit,call:il.call,nodes:il.nodes,node:il.node,size:il.size,empty:il.empty,each:il.each,on:Hnt,attr:wnt,attrTween:knt,style:Qnt,styleTween:tit,text:iit,textTween:sit,remove:Vnt,tween:dnt,delay:Cnt,duration:Int,ease:Dnt,easeVarying:jnt,end:uit,[Symbol.iterator]:il[Symbol.iterator]};function hit(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var fit={time:null,delay:0,duration:250,ease:hit};function pit(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function dit(e){var t,r;e instanceof Ba?(t=e._id,e=e._name):(t=lG(),(r=fit).time=XP(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&e_(u,e,t,l,a,r||pit(u,t));return new Ba(n,this._parents,e,t)}xo.prototype.interrupt=hnt;xo.prototype.transition=dit;const QT=e=>()=>e;function mit(e,{sourceEvent:t,target:r,selection:n,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function git(e){e.stopImmediatePropagation()}function JT(e){e.preventDefault(),e.stopImmediatePropagation()}var qI={name:"drag"},e2={name:"space"},Uu={name:"handle"},Vu={name:"center"};const{abs:KI,max:An,min:Mn}=Math;function ZI(e){return[+e[0],+e[1]]}function Kx(e){return[ZI(e[0]),ZI(e[1])]}var Hg={name:"x",handles:["w","e"].map(qd),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Ug={name:"y",handles:["n","s"].map(qd),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},yit={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(qd),input:function(e){return e==null?null:Kx(e)},output:function(e){return e}},ha={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},QI={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},JI={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},vit={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},bit={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function qd(e){return{type:e}}function _it(e){return!e.ctrlKey&&!e.button}function wit(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Tit(){return navigator.maxTouchPoints||"ontouchstart"in this}function t2(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function xit(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Eit(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function fh(){return KP(Hg)}function Sf(){return KP(Ug)}function t_(){return KP(yit)}function KP(e){var t=wit,r=_it,n=Tit,i=!0,o=xf("start","brush","end"),a=6,s;function u(v){var b=v.property("__brush",m).selectAll(".overlay").data([qd("overlay")]);b.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ha.overlay).merge(b).each(function(){var y=t2(this).extent;ut(this).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1])}),v.selectAll(".selection").data([qd("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ha.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var g=v.selectAll(".handle").data(e.handles,function(y){return y.type});g.exit().remove(),g.enter().append("rect").attr("class",function(y){return"handle handle--"+y.type}).attr("cursor",function(y){return ha[y.type]}),v.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(n).on("touchstart.brush",f).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(v,b){v.tween?v.on("start.brush",function(g){c(this,arguments).beforestart().start(g)}).on("interrupt.brush end.brush",function(g){c(this,arguments).end(g)}).tween("brush",function(){var g=this,y=g.__brush,_=c(g,arguments),w=y.selection,T=e.input(typeof b=="function"?b.apply(this,arguments):b,y.extent),O=Ql(w,T);function E(S){y.selection=S===1&&T===null?null:O(S),l.call(g),_.brush()}return w!==null&&T!==null?E:E(1)}):v.each(function(){var g=this,y=arguments,_=g.__brush,w=e.input(typeof b=="function"?b.apply(g,y):b,_.extent),T=c(g,y).beforestart();qx(g),_.selection=w===null?null:w,l.call(g),T.start().brush().end()})},u.clear=function(v){u.move(v,null)};function l(){var v=ut(this),b=t2(this).selection;b?(v.selectAll(".selection").style("display",null).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1]),v.selectAll(".handle").style("display",null).attr("x",function(g){return g.type[g.type.length-1]==="e"?b[1][0]-a/2:b[0][0]-a/2}).attr("y",function(g){return g.type[0]==="s"?b[1][1]-a/2:b[0][1]-a/2}).attr("width",function(g){return g.type==="n"||g.type==="s"?b[1][0]-b[0][0]+a:a}).attr("height",function(g){return g.type==="e"||g.type==="w"?b[1][1]-b[0][1]+a:a})):v.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(v,b,g){var y=v.__brush.emitter;return y&&(!g||!y.clean)?y:new h(v,b,g)}function h(v,b,g){this.that=v,this.args=b,this.state=v.__brush,this.active=0,this.clean=g}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(v,b){return this.starting?(this.starting=!1,this.emit("start",v,b)):this.emit("brush",v),this},brush:function(v,b){return this.emit("brush",v,b),this},end:function(v,b){return--this.active===0&&(delete this.state.emitter,this.emit("end",v,b)),this},emit:function(v,b,g){var y=ut(this.that).datum();o.call(v,this.that,new mit(v,{sourceEvent:b,target:u,selection:e.output(this.state.selection),mode:g,dispatch:o}),y)}};function f(v){if(s&&!v.touches||!r.apply(this,arguments))return;var b=this,g=v.target.__data__.type,y=(i&&v.metaKey?g="overlay":g)==="selection"?qI:i&&v.altKey?Vu:Uu,_=e===Ug?null:vit[g],w=e===Hg?null:bit[g],T=t2(b),O=T.extent,E=T.selection,S=O[0][0],A,M,H=O[0][1],N,k,R=O[1][0],B,z,U=O[1][1],V,W,te=0,re=0,X,$=_&&w&&i&&v.shiftKey,ee,le,fe=Array.from(v.touches||[v],He=>{const $e=He.identifier;return He=sr(He,b),He.point0=He.slice(),He.identifier=$e,He});if(g==="overlay"){E&&(X=!0);const He=[fe[0],fe[1]||fe[0]];T.selection=E=[[A=e===Ug?S:Mn(He[0][0],He[1][0]),N=e===Hg?H:Mn(He[0][1],He[1][1])],[B=e===Ug?R:An(He[0][0],He[1][0]),V=e===Hg?U:An(He[0][1],He[1][1])]],fe.length>1&&Pe()}else A=E[0][0],N=E[0][1],B=E[1][0],V=E[1][1];M=A,k=N,z=B,W=V;var Ee=ut(b).attr("pointer-events","none"),ce=Ee.selectAll(".overlay").attr("cursor",ha[g]);qx(b);var Se=c(b,arguments,!0).beforestart();if(v.touches)Se.moved=he,Se.ended=Fe;else{var Oe=ut(v.view).on("mousemove.brush",he,!0).on("mouseup.brush",Fe,!0);i&&Oe.on("keydown.brush",We,!0).on("keyup.brush",et,!0),Xb(v.view)}l.call(b),Se.start(v,y.name);function he(He){for(const $e of He.changedTouches||[He])for(const vt of fe)vt.identifier===$e.identifier&&(vt.cur=sr($e,b));if($&&!ee&&!le&&fe.length===1){const $e=fe[0];KI($e.cur[0]-$e[0])>KI($e.cur[1]-$e[1])?le=!0:ee=!0}for(const $e of fe)$e.cur&&($e[0]=$e.cur[0],$e[1]=$e.cur[1]);X=!0,JT(He),Pe(He)}function Pe(He){const $e=fe[0],vt=$e.point0;var Ct;switch(te=$e[0]-vt[0],re=$e[1]-vt[1],y){case e2:case qI:{_&&(te=An(S-A,Mn(R-B,te)),M=A+te,z=B+te),w&&(re=An(H-N,Mn(U-V,re)),k=N+re,W=V+re);break}case Uu:{fe[1]?(_&&(M=An(S,Mn(R,fe[0][0])),z=An(S,Mn(R,fe[1][0])),_=1),w&&(k=An(H,Mn(U,fe[0][1])),W=An(H,Mn(U,fe[1][1])),w=1)):(_<0?(te=An(S-A,Mn(R-A,te)),M=A+te,z=B):_>0&&(te=An(S-B,Mn(R-B,te)),M=A,z=B+te),w<0?(re=An(H-N,Mn(U-N,re)),k=N+re,W=V):w>0&&(re=An(H-V,Mn(U-V,re)),k=N,W=V+re));break}case Vu:{_&&(M=An(S,Mn(R,A-te*_)),z=An(S,Mn(R,B+te*_))),w&&(k=An(H,Mn(U,N-re*w)),W=An(H,Mn(U,V+re*w)));break}}z<M&&(_*=-1,Ct=A,A=B,B=Ct,Ct=M,M=z,z=Ct,g in QI&&ce.attr("cursor",ha[g=QI[g]])),W<k&&(w*=-1,Ct=N,N=V,V=Ct,Ct=k,k=W,W=Ct,g in JI&&ce.attr("cursor",ha[g=JI[g]])),T.selection&&(E=T.selection),ee&&(M=E[0][0],z=E[1][0]),le&&(k=E[0][1],W=E[1][1]),(E[0][0]!==M||E[0][1]!==k||E[1][0]!==z||E[1][1]!==W)&&(T.selection=[[M,k],[z,W]],l.call(b),Se.brush(He,y.name))}function Fe(He){if(git(He),He.touches){if(He.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else $b(He.view,X),Oe.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Ee.attr("pointer-events","all"),ce.attr("cursor",ha.overlay),T.selection&&(E=T.selection),xit(E)&&(T.selection=null,l.call(b)),Se.end(He,y.name)}function We(He){switch(He.keyCode){case 16:{$=_&&w;break}case 18:{y===Uu&&(_&&(B=z-te*_,A=M+te*_),w&&(V=W-re*w,N=k+re*w),y=Vu,Pe());break}case 32:{(y===Uu||y===Vu)&&(_<0?B=z-te:_>0&&(A=M-te),w<0?V=W-re:w>0&&(N=k-re),y=e2,ce.attr("cursor",ha.selection),Pe());break}default:return}JT(He)}function et(He){switch(He.keyCode){case 16:{$&&(ee=le=$=!1,Pe());break}case 18:{y===Vu&&(_<0?B=z:_>0&&(A=M),w<0?V=W:w>0&&(N=k),y=Uu,Pe());break}case 32:{y===e2&&(He.altKey?(_&&(B=z-te*_,A=M+te*_),w&&(V=W-re*w,N=k+re*w),y=Vu):(_<0?B=z:_>0&&(A=M),w<0?V=W:w>0&&(N=k),y=Uu),ce.attr("cursor",ha[g]),Pe());break}default:return}JT(He)}}function p(v){c(this,arguments).moved(v)}function d(v){c(this,arguments).ended(v)}function m(){var v=this.__brush||{selection:null};return v.extent=Kx(t.apply(this,arguments)),v.dim=e,v}return u.extent=function(v){return arguments.length?(t=typeof v=="function"?v:QT(Kx(v)),u):t},u.filter=function(v){return arguments.length?(r=typeof v=="function"?v:QT(!!v),u):r},u.touchable=function(v){return arguments.length?(n=typeof v=="function"?v:QT(!!v),u):n},u.handleSize=function(v){return arguments.length?(a=+v,u):a},u.keyModifiers=function(v){return arguments.length?(i=!!v,u):i},u.on=function(){var v=o.on.apply(o,arguments);return v===o?u:v},u}const Sit=Object.freeze(Object.defineProperty({__proto__:null,brush:t_,brushSelection:Eit,brushX:fh,brushY:Sf},Symbol.toStringTag,{value:"Module"}));function kit(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oit(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cit(n.key),n)}}function Pit(e,t,r){return t&&Oit(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cit(e){var t=Ait(e,"string");return typeof t=="symbol"?t:t+""}function Ait(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Mit(e,t,r){return t=wy(t),Iit(e,uG()?Reflect.construct(t,r||[],wy(e).constructor):t.apply(e,r))}function Iit(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rit(e)}function Rit(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uG=function(){return!!e})()}function wy(e){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wy(e)}function Dit(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zx(e,t)}function Zx(e,t){return Zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Zx(e,t)}let cG=(function(e){function t(r){var n;return kit(this,t),n=Mit(this,t,[r]),n.DATATYPE_TO_TRACK_TYPE=IO(n.props.orientation),n.AVAILABLE_TRACK_TYPES=H0(n.props.datatypes,n.props.orientation),n.state={selectedPlotType:n.AVAILABLE_TRACK_TYPES[0]},n}return Dit(t,e),Pit(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(r){if(this.AVAILABLE_TRACK_TYPES=H0(r.datatypes,this.props.orientation),!!this.AVAILABLE_TRACK_TYPES&&r.allTracksSameDatatype&&this.AVAILABLE_TRACK_TYPES.length>0&&!this.AVAILABLE_TRACK_TYPES.includes(this.state.selectedPlotType)){const n=NO(r.datatypes[0][0],this.props.position,this.AVAILABLE_TRACK_TYPES);this.handlePlotTypeSelected(n)}}},{key:"handlePlotTypeSelected",value:function(r){this.setState({selectedPlotType:r}),this.props.onPlotTypeSelected(r.type)}},{key:"render",value:function(){let r="No plot types available for track";const n={};return Ul.forEach(i=>{n[i.type]=i}),this.AVAILABLE_TRACK_TYPES&&(r=this.AVAILABLE_TRACK_TYPES.sort((i,o)=>i.type<o.type).map(i=>{const o=n[i.type].thumbnail,a=this.state.selectedPlotType.type===i.type?"plot-type-item plot-type-selected":"plot-type-item",s=n[i.type].thumbnail?P.createElement("div",{className:"track-thumbnail",dangerouslySetInnerHTML:{__html:o.outerHTML}}):P.createElement("div",{className:"track-thumbnail"},P.createElement("svg",{height:20,width:30}));return P.createElement("li",{key:i.type,className:a,onClick:u=>{this.setState({selectedPlotType:i}),this.props.onPlotTypeSelected(i.type)},style:{listStyle:"none",paddingLeft:5,paddingBottom:0}},s,P.createElement("span",{style:{verticalAlign:"middle"}},i.type))})),P.createElement("div",null,r.length>0&&this.props.allTracksSameDatatype&&P.createElement("div",{className:"plot-type-container"},r),!this.props.allTracksSameDatatype&&P.createElement("div",{className:"plot-type-container-empty"},"Datasets with multiple datatypes chosen. They will be added with their default track types."))}}])})(P.Component);cG.propTypes={allTracksSameDatatype:j.bool,datatypes:j.array,orientation:j.string,onPlotTypeSelected:j.func,position:j.string};var hG={exports:{}};/*! react-checkbox-tree - v1.8.0 | 2022 */(function(e,t){/*! For license information please see index.browser.js.LICENSE.txt */(function(r,n){e.exports=n(P)})(self,r=>(()=>{var n={4184:(s,u)=>{var l;(function(){var c={}.hasOwnProperty;function h(){for(var f=[],p=0;p<arguments.length;p++){var d=arguments[p];if(d){var m=typeof d;if(m==="string"||m==="number")f.push(d);else if(Array.isArray(d)){if(d.length){var v=h.apply(null,d);v&&f.push(v)}}else if(m==="object")if(d.toString===Object.prototype.toString)for(var b in d)c.call(d,b)&&d[b]&&f.push(b);else f.push(d.toString())}}return f.join(" ")}s.exports?(h.default=h,s.exports=h):(l=(function(){return h}).apply(u,[]))===void 0||(s.exports=l)})()},8552:(s,u,l)=>{var c=l(852)(l(5639),"DataView");s.exports=c},1989:(s,u,l)=>{var c=l(1789),h=l(401),f=l(7667),p=l(1327),d=l(1866);function m(v){var b=-1,g=v==null?0:v.length;for(this.clear();++b<g;){var y=v[b];this.set(y[0],y[1])}}m.prototype.clear=c,m.prototype.delete=h,m.prototype.get=f,m.prototype.has=p,m.prototype.set=d,s.exports=m},8407:(s,u,l)=>{var c=l(7040),h=l(4125),f=l(2117),p=l(7518),d=l(4705);function m(v){var b=-1,g=v==null?0:v.length;for(this.clear();++b<g;){var y=v[b];this.set(y[0],y[1])}}m.prototype.clear=c,m.prototype.delete=h,m.prototype.get=f,m.prototype.has=p,m.prototype.set=d,s.exports=m},7071:(s,u,l)=>{var c=l(852)(l(5639),"Map");s.exports=c},3369:(s,u,l)=>{var c=l(4785),h=l(1285),f=l(6e3),p=l(9916),d=l(5265);function m(v){var b=-1,g=v==null?0:v.length;for(this.clear();++b<g;){var y=v[b];this.set(y[0],y[1])}}m.prototype.clear=c,m.prototype.delete=h,m.prototype.get=f,m.prototype.has=p,m.prototype.set=d,s.exports=m},3818:(s,u,l)=>{var c=l(852)(l(5639),"Promise");s.exports=c},8525:(s,u,l)=>{var c=l(852)(l(5639),"Set");s.exports=c},8668:(s,u,l)=>{var c=l(3369),h=l(619),f=l(2385);function p(d){var m=-1,v=d==null?0:d.length;for(this.__data__=new c;++m<v;)this.add(d[m])}p.prototype.add=p.prototype.push=h,p.prototype.has=f,s.exports=p},6384:(s,u,l)=>{var c=l(8407),h=l(7465),f=l(3779),p=l(7599),d=l(4758),m=l(4309);function v(b){var g=this.__data__=new c(b);this.size=g.size}v.prototype.clear=h,v.prototype.delete=f,v.prototype.get=p,v.prototype.has=d,v.prototype.set=m,s.exports=v},2705:(s,u,l)=>{var c=l(5639).Symbol;s.exports=c},1149:(s,u,l)=>{var c=l(5639).Uint8Array;s.exports=c},577:(s,u,l)=>{var c=l(852)(l(5639),"WeakMap");s.exports=c},4963:s=>{s.exports=function(u,l){for(var c=-1,h=u==null?0:u.length,f=0,p=[];++c<h;){var d=u[c];l(d,c,u)&&(p[f++]=d)}return p}},4636:(s,u,l)=>{var c=l(2545),h=l(5694),f=l(1469),p=l(4144),d=l(5776),m=l(6719),v=Object.prototype.hasOwnProperty;s.exports=function(b,g){var y=f(b),_=!y&&h(b),w=!y&&!_&&p(b),T=!y&&!_&&!w&&m(b),O=y||_||w||T,E=O?c(b.length,String):[],S=E.length;for(var A in b)!g&&!v.call(b,A)||O&&(A=="length"||w&&(A=="offset"||A=="parent")||T&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||d(A,S))||E.push(A);return E}},2488:s=>{s.exports=function(u,l){for(var c=-1,h=l.length,f=u.length;++c<h;)u[f+c]=l[c];return u}},2908:s=>{s.exports=function(u,l){for(var c=-1,h=u==null?0:u.length;++c<h;)if(l(u[c],c,u))return!0;return!1}},8470:(s,u,l)=>{var c=l(7813);s.exports=function(h,f){for(var p=h.length;p--;)if(c(h[p][0],f))return p;return-1}},8866:(s,u,l)=>{var c=l(2488),h=l(1469);s.exports=function(f,p,d){var m=p(f);return h(f)?m:c(m,d(f))}},4239:(s,u,l)=>{var c=l(2705),h=l(9607),f=l(2333),p=c?c.toStringTag:void 0;s.exports=function(d){return d==null?d===void 0?"[object Undefined]":"[object Null]":p&&p in Object(d)?h(d):f(d)}},9454:(s,u,l)=>{var c=l(4239),h=l(7005);s.exports=function(f){return h(f)&&c(f)=="[object Arguments]"}},939:(s,u,l)=>{var c=l(2492),h=l(7005);s.exports=function f(p,d,m,v,b){return p===d||(p==null||d==null||!h(p)&&!h(d)?p!=p&&d!=d:c(p,d,m,v,f,b))}},2492:(s,u,l)=>{var c=l(6384),h=l(7114),f=l(8351),p=l(6096),d=l(4160),m=l(1469),v=l(4144),b=l(6719),g="[object Arguments]",y="[object Array]",_="[object Object]",w=Object.prototype.hasOwnProperty;s.exports=function(T,O,E,S,A,M){var H=m(T),N=m(O),k=H?y:d(T),R=N?y:d(O),B=(k=k==g?_:k)==_,z=(R=R==g?_:R)==_,U=k==R;if(U&&v(T)){if(!v(O))return!1;H=!0,B=!1}if(U&&!B)return M||(M=new c),H||b(T)?h(T,O,E,S,A,M):f(T,O,k,E,S,A,M);if(!(1&E)){var V=B&&w.call(T,"__wrapped__"),W=z&&w.call(O,"__wrapped__");if(V||W){var te=V?T.value():T,re=W?O.value():O;return M||(M=new c),A(te,re,E,S,M)}}return!!U&&(M||(M=new c),p(T,O,E,S,A,M))}},8458:(s,u,l)=>{var c=l(3560),h=l(5346),f=l(3218),p=l(346),d=/^\[object .+?Constructor\]$/,m=Function.prototype,v=Object.prototype,b=m.toString,g=v.hasOwnProperty,y=RegExp("^"+b.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");s.exports=function(_){return!(!f(_)||h(_))&&(c(_)?y:d).test(p(_))}},8749:(s,u,l)=>{var c=l(4239),h=l(1780),f=l(7005),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,s.exports=function(d){return f(d)&&h(d.length)&&!!p[c(d)]}},280:(s,u,l)=>{var c=l(5726),h=l(6916),f=Object.prototype.hasOwnProperty;s.exports=function(p){if(!c(p))return h(p);var d=[];for(var m in Object(p))f.call(p,m)&&m!="constructor"&&d.push(m);return d}},2545:s=>{s.exports=function(u,l){for(var c=-1,h=Array(u);++c<u;)h[c]=l(c);return h}},1717:s=>{s.exports=function(u){return function(l){return u(l)}}},4757:s=>{s.exports=function(u,l){return u.has(l)}},4429:(s,u,l)=>{var c=l(5639)["__core-js_shared__"];s.exports=c},7114:(s,u,l)=>{var c=l(8668),h=l(2908),f=l(4757);s.exports=function(p,d,m,v,b,g){var y=1&m,_=p.length,w=d.length;if(_!=w&&!(y&&w>_))return!1;var T=g.get(p),O=g.get(d);if(T&&O)return T==d&&O==p;var E=-1,S=!0,A=2&m?new c:void 0;for(g.set(p,d),g.set(d,p);++E<_;){var M=p[E],H=d[E];if(v)var N=y?v(H,M,E,d,p,g):v(M,H,E,p,d,g);if(N!==void 0){if(N)continue;S=!1;break}if(A){if(!h(d,function(k,R){if(!f(A,R)&&(M===k||b(M,k,m,v,g)))return A.push(R)})){S=!1;break}}else if(M!==H&&!b(M,H,m,v,g)){S=!1;break}}return g.delete(p),g.delete(d),S}},8351:(s,u,l)=>{var c=l(2705),h=l(1149),f=l(7813),p=l(7114),d=l(8776),m=l(1814),v=c?c.prototype:void 0,b=v?v.valueOf:void 0;s.exports=function(g,y,_,w,T,O,E){switch(_){case"[object DataView]":if(g.byteLength!=y.byteLength||g.byteOffset!=y.byteOffset)return!1;g=g.buffer,y=y.buffer;case"[object ArrayBuffer]":return!(g.byteLength!=y.byteLength||!O(new h(g),new h(y)));case"[object Boolean]":case"[object Date]":case"[object Number]":return f(+g,+y);case"[object Error]":return g.name==y.name&&g.message==y.message;case"[object RegExp]":case"[object String]":return g==y+"";case"[object Map]":var S=d;case"[object Set]":var A=1&w;if(S||(S=m),g.size!=y.size&&!A)return!1;var M=E.get(g);if(M)return M==y;w|=2,E.set(g,y);var H=p(S(g),S(y),w,T,O,E);return E.delete(g),H;case"[object Symbol]":if(b)return b.call(g)==b.call(y)}return!1}},6096:(s,u,l)=>{var c=l(8234),h=Object.prototype.hasOwnProperty;s.exports=function(f,p,d,m,v,b){var g=1&d,y=c(f),_=y.length;if(_!=c(p).length&&!g)return!1;for(var w=_;w--;){var T=y[w];if(!(g?T in p:h.call(p,T)))return!1}var O=b.get(f),E=b.get(p);if(O&&E)return O==p&&E==f;var S=!0;b.set(f,p),b.set(p,f);for(var A=g;++w<_;){var M=f[T=y[w]],H=p[T];if(m)var N=g?m(H,M,T,p,f,b):m(M,H,T,f,p,b);if(!(N===void 0?M===H||v(M,H,d,m,b):N)){S=!1;break}A||(A=T=="constructor")}if(S&&!A){var k=f.constructor,R=p.constructor;k==R||!("constructor"in f)||!("constructor"in p)||typeof k=="function"&&k instanceof k&&typeof R=="function"&&R instanceof R||(S=!1)}return b.delete(f),b.delete(p),S}},1957:(s,u,l)=>{var c=typeof l.g=="object"&&l.g&&l.g.Object===Object&&l.g;s.exports=c},8234:(s,u,l)=>{var c=l(8866),h=l(9551),f=l(3674);s.exports=function(p){return c(p,f,h)}},5050:(s,u,l)=>{var c=l(7019);s.exports=function(h,f){var p=h.__data__;return c(f)?p[typeof f=="string"?"string":"hash"]:p.map}},852:(s,u,l)=>{var c=l(8458),h=l(7801);s.exports=function(f,p){var d=h(f,p);return c(d)?d:void 0}},9607:(s,u,l)=>{var c=l(2705),h=Object.prototype,f=h.hasOwnProperty,p=h.toString,d=c?c.toStringTag:void 0;s.exports=function(m){var v=f.call(m,d),b=m[d];try{m[d]=void 0;var g=!0}catch{}var y=p.call(m);return g&&(v?m[d]=b:delete m[d]),y}},9551:(s,u,l)=>{var c=l(4963),h=l(479),f=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols,d=p?function(m){return m==null?[]:(m=Object(m),c(p(m),function(v){return f.call(m,v)}))}:h;s.exports=d},4160:(s,u,l)=>{var c=l(8552),h=l(7071),f=l(3818),p=l(8525),d=l(577),m=l(4239),v=l(346),b="[object Map]",g="[object Promise]",y="[object Set]",_="[object WeakMap]",w="[object DataView]",T=v(c),O=v(h),E=v(f),S=v(p),A=v(d),M=m;(c&&M(new c(new ArrayBuffer(1)))!=w||h&&M(new h)!=b||f&&M(f.resolve())!=g||p&&M(new p)!=y||d&&M(new d)!=_)&&(M=function(H){var N=m(H),k=N=="[object Object]"?H.constructor:void 0,R=k?v(k):"";if(R)switch(R){case T:return w;case O:return b;case E:return g;case S:return y;case A:return _}return N}),s.exports=M},7801:s=>{s.exports=function(u,l){return u?.[l]}},1789:(s,u,l)=>{var c=l(4536);s.exports=function(){this.__data__=c?c(null):{},this.size=0}},401:s=>{s.exports=function(u){var l=this.has(u)&&delete this.__data__[u];return this.size-=l?1:0,l}},7667:(s,u,l)=>{var c=l(4536),h=Object.prototype.hasOwnProperty;s.exports=function(f){var p=this.__data__;if(c){var d=p[f];return d==="__lodash_hash_undefined__"?void 0:d}return h.call(p,f)?p[f]:void 0}},1327:(s,u,l)=>{var c=l(4536),h=Object.prototype.hasOwnProperty;s.exports=function(f){var p=this.__data__;return c?p[f]!==void 0:h.call(p,f)}},1866:(s,u,l)=>{var c=l(4536);s.exports=function(h,f){var p=this.__data__;return this.size+=this.has(h)?0:1,p[h]=c&&f===void 0?"__lodash_hash_undefined__":f,this}},5776:s=>{var u=/^(?:0|[1-9]\d*)$/;s.exports=function(l,c){var h=typeof l;return!!(c=c??9007199254740991)&&(h=="number"||h!="symbol"&&u.test(l))&&l>-1&&l%1==0&&l<c}},7019:s=>{s.exports=function(u){var l=typeof u;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?u!=="__proto__":u===null}},5346:(s,u,l)=>{var c,h=l(4429),f=(c=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"";s.exports=function(p){return!!f&&f in p}},5726:s=>{var u=Object.prototype;s.exports=function(l){var c=l&&l.constructor;return l===(typeof c=="function"&&c.prototype||u)}},7040:s=>{s.exports=function(){this.__data__=[],this.size=0}},4125:(s,u,l)=>{var c=l(8470),h=Array.prototype.splice;s.exports=function(f){var p=this.__data__,d=c(p,f);return!(d<0||(d==p.length-1?p.pop():h.call(p,d,1),--this.size,0))}},2117:(s,u,l)=>{var c=l(8470);s.exports=function(h){var f=this.__data__,p=c(f,h);return p<0?void 0:f[p][1]}},7518:(s,u,l)=>{var c=l(8470);s.exports=function(h){return c(this.__data__,h)>-1}},4705:(s,u,l)=>{var c=l(8470);s.exports=function(h,f){var p=this.__data__,d=c(p,h);return d<0?(++this.size,p.push([h,f])):p[d][1]=f,this}},4785:(s,u,l)=>{var c=l(1989),h=l(8407),f=l(7071);s.exports=function(){this.size=0,this.__data__={hash:new c,map:new(f||h),string:new c}}},1285:(s,u,l)=>{var c=l(5050);s.exports=function(h){var f=c(this,h).delete(h);return this.size-=f?1:0,f}},6e3:(s,u,l)=>{var c=l(5050);s.exports=function(h){return c(this,h).get(h)}},9916:(s,u,l)=>{var c=l(5050);s.exports=function(h){return c(this,h).has(h)}},5265:(s,u,l)=>{var c=l(5050);s.exports=function(h,f){var p=c(this,h),d=p.size;return p.set(h,f),this.size+=p.size==d?0:1,this}},8776:s=>{s.exports=function(u){var l=-1,c=Array(u.size);return u.forEach(function(h,f){c[++l]=[f,h]}),c}},4536:(s,u,l)=>{var c=l(852)(Object,"create");s.exports=c},6916:(s,u,l)=>{var c=l(5569)(Object.keys,Object);s.exports=c},1167:(s,u,l)=>{s=l.nmd(s);var c=l(1957),h=u&&!u.nodeType&&u,f=h&&s&&!s.nodeType&&s,p=f&&f.exports===h&&c.process,d=(function(){try{return f&&f.require&&f.require("util").types||p&&p.binding&&p.binding("util")}catch{}})();s.exports=d},2333:s=>{var u=Object.prototype.toString;s.exports=function(l){return u.call(l)}},5569:s=>{s.exports=function(u,l){return function(c){return u(l(c))}}},5639:(s,u,l)=>{var c=l(1957),h=typeof self=="object"&&self&&self.Object===Object&&self,f=c||h||Function("return this")();s.exports=f},619:s=>{s.exports=function(u){return this.__data__.set(u,"__lodash_hash_undefined__"),this}},2385:s=>{s.exports=function(u){return this.__data__.has(u)}},1814:s=>{s.exports=function(u){var l=-1,c=Array(u.size);return u.forEach(function(h){c[++l]=h}),c}},7465:(s,u,l)=>{var c=l(8407);s.exports=function(){this.__data__=new c,this.size=0}},3779:s=>{s.exports=function(u){var l=this.__data__,c=l.delete(u);return this.size=l.size,c}},7599:s=>{s.exports=function(u){return this.__data__.get(u)}},4758:s=>{s.exports=function(u){return this.__data__.has(u)}},4309:(s,u,l)=>{var c=l(8407),h=l(7071),f=l(3369);s.exports=function(p,d){var m=this.__data__;if(m instanceof c){var v=m.__data__;if(!h||v.length<199)return v.push([p,d]),this.size=++m.size,this;m=this.__data__=new f(v)}return m.set(p,d),this.size=m.size,this}},346:s=>{var u=Function.prototype.toString;s.exports=function(l){if(l!=null){try{return u.call(l)}catch{}try{return l+""}catch{}}return""}},7813:s=>{s.exports=function(u,l){return u===l||u!=u&&l!=l}},5694:(s,u,l)=>{var c=l(9454),h=l(7005),f=Object.prototype,p=f.hasOwnProperty,d=f.propertyIsEnumerable,m=c((function(){return arguments})())?c:function(v){return h(v)&&p.call(v,"callee")&&!d.call(v,"callee")};s.exports=m},1469:s=>{var u=Array.isArray;s.exports=u},8612:(s,u,l)=>{var c=l(3560),h=l(1780);s.exports=function(f){return f!=null&&h(f.length)&&!c(f)}},4144:(s,u,l)=>{s=l.nmd(s);var c=l(5639),h=l(5062),f=u&&!u.nodeType&&u,p=f&&s&&!s.nodeType&&s,d=p&&p.exports===f?c.Buffer:void 0,m=(d?d.isBuffer:void 0)||h;s.exports=m},8446:(s,u,l)=>{var c=l(939);s.exports=function(h,f){return c(h,f)}},3560:(s,u,l)=>{var c=l(4239),h=l(3218);s.exports=function(f){if(!h(f))return!1;var p=c(f);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},1780:s=>{s.exports=function(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=9007199254740991}},3218:s=>{s.exports=function(u){var l=typeof u;return u!=null&&(l=="object"||l=="function")}},7005:s=>{s.exports=function(u){return u!=null&&typeof u=="object"}},6719:(s,u,l)=>{var c=l(8749),h=l(1717),f=l(1167),p=f&&f.isTypedArray,d=p?h(p):c;s.exports=d},3674:(s,u,l)=>{var c=l(4636),h=l(280),f=l(8612);s.exports=function(p){return f(p)?c(p):h(p)}},8306:(s,u,l)=>{var c=l(3369);function h(f,p){if(typeof f!="function"||p!=null&&typeof p!="function")throw new TypeError("Expected a function");var d=function(){var m=arguments,v=p?p.apply(this,m):m[0],b=d.cache;if(b.has(v))return b.get(v);var g=f.apply(this,m);return d.cache=b.set(v,g)||b,g};return d.cache=new(h.Cache||c),d}h.Cache=c,s.exports=h},479:s=>{s.exports=function(){return[]}},5062:s=>{s.exports=function(){return!1}},2703:(s,u,l)=>{var c=l(414);function h(){}function f(){}f.resetWarningCache=h,s.exports=function(){function p(v,b,g,y,_,w){if(w!==c){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}function d(){return p}p.isRequired=p;var m={array:p,bigint:p,bool:p,func:p,number:p,object:p,string:p,symbol:p,any:p,arrayOf:d,element:p,elementType:p,instanceOf:d,node:p,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:f,resetWarningCache:h};return m.PropTypes=m,m}},5697:(s,u,l)=>{s.exports=l(2703)()},414:s=>{s.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9787:s=>{s.exports=r}},i={};function o(s){var u=i[s];if(u!==void 0)return u.exports;var l=i[s]={id:s,loaded:!1,exports:{}};return n[s](l,l.exports,o),l.loaded=!0,l.exports}o.n=s=>{var u=s&&s.__esModule?()=>s.default:()=>s;return o.d(u,{a:u}),u},o.d=(s,u)=>{for(var l in u)o.o(u,l)&&!o.o(s,l)&&Object.defineProperty(s,l,{enumerable:!0,get:u[l]})},o.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),o.o=(s,u)=>Object.prototype.hasOwnProperty.call(s,u),o.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.nmd=s=>(s.paths=[],s.children||(s.children=[]),s);var a={};return(()=>{o.r(a),o.d(a,{default:()=>de,expandNodesToLevel:()=>se});var s=o(4184),u=o.n(s),l=o(8446),c=o.n(l),h=o(8306),f=o.n(h);let p=(Q=21)=>crypto.getRandomValues(new Uint8Array(Q)).reduce((J,ve)=>J+((ve&=63)<36?ve.toString(36):ve<62?(ve-26).toString(36).toUpperCase():ve>62?"-":"_"),"");var d=o(5697),m=o.n(d),v=o(9787),b=o.n(v);function g(Q){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},g(Q)}var y=["children","title"];function _(){return _=Object.assign?Object.assign.bind():function(Q){for(var J=1;J<arguments.length;J++){var ve=arguments[J];for(var pe in ve)Object.prototype.hasOwnProperty.call(ve,pe)&&(Q[pe]=ve[pe])}return Q},_.apply(this,arguments)}function w(Q,J){if(!(Q instanceof J))throw new TypeError("Cannot call a class as a function")}function T(Q,J){for(var ve=0;ve<J.length;ve++){var pe=J[ve];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(Q,pe.key,pe)}}function O(Q,J){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ve,pe){return ve.__proto__=pe,ve},O(Q,J)}function E(Q,J){if(J&&(g(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(ve){if(ve===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ve})(Q)}function S(Q){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(J){return J.__proto__||Object.getPrototypeOf(J)},S(Q)}function A(Q,J,ve){return J in Q?Object.defineProperty(Q,J,{value:ve,enumerable:!0,configurable:!0,writable:!0}):Q[J]=ve,Q}var M=(function(Q){(function(ke,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Super expression must either be null or a function");ke.prototype=Object.create(ye&&ye.prototype,{constructor:{value:ke,writable:!0,configurable:!0}}),Object.defineProperty(ke,"prototype",{writable:!1}),ye&&O(ke,ye)})(Ke,Q);var J,ve,pe,De,Ve=(pe=Ke,De=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}})(),function(){var ke,ye=S(pe);if(De){var xe=S(this).constructor;ke=Reflect.construct(ye,arguments,xe)}else ke=ye.apply(this,arguments);return E(this,ke)});function Ke(){return w(this,Ke),Ve.apply(this,arguments)}return J=Ke,(ve=[{key:"render",value:function(){var ke=this.props,ye=ke.children,xe=ke.title,Y=(function(Z,ie){if(Z==null)return{};var we,Te,Ue=(function(mt,bt){if(mt==null)return{};var gt,at,Bt={},rr=Object.keys(mt);for(at=0;at<rr.length;at++)gt=rr[at],bt.indexOf(gt)>=0||(Bt[gt]=mt[gt]);return Bt})(Z,ie);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Z);for(Te=0;Te<Be.length;Te++)we=Be[Te],ie.indexOf(we)>=0||Object.prototype.propertyIsEnumerable.call(Z,we)&&(Ue[we]=Z[we])}return Ue})(ke,y);return b().createElement("button",_({"aria-label":xe,title:xe,type:"button"},Y),ye)}}])&&T(J.prototype,ve),Object.defineProperty(J,"prototype",{writable:!1}),Ke})(b().PureComponent);A(M,"propTypes",{children:m().node.isRequired,title:m().string}),A(M,"defaultProps",{title:null});const H=M,N={ALL:"all",PARENT:"parent",LEAF:"leaf"};function k(Q){this.message=Q,this.stack=Error().stack}k.prototype=Object.create(Error.prototype),k.prototype.name="CheckboxTreeError";const R=k;function B(Q,J){var ve=Object.keys(Q);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(Q);J&&(pe=pe.filter(function(De){return Object.getOwnPropertyDescriptor(Q,De).enumerable})),ve.push.apply(ve,pe)}return ve}function z(Q,J,ve){return J in Q?Object.defineProperty(Q,J,{value:ve,enumerable:!0,configurable:!0,writable:!0}):Q[J]=ve,Q}function U(Q,J){if(!(Q instanceof J))throw new TypeError("Cannot call a class as a function")}function V(Q,J){for(var ve=0;ve<J.length;ve++){var pe=J[ve];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(Q,pe.key,pe)}}var W=N;const te=(function(){function Q(pe){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};U(this,Q),this.props=pe,this.flatNodes=De}var J,ve;return J=Q,ve=[{key:"setProps",value:function(pe){this.props=pe}},{key:"clone",value:function(){var pe=this,De={};return Object.keys(this.flatNodes).forEach(function(Ve){var Ke=pe.flatNodes[Ve];De[Ve]=(function(ke){for(var ye=1;ye<arguments.length;ye++){var xe=arguments[ye]!=null?arguments[ye]:{};ye%2?B(Object(xe),!0).forEach(function(Y){z(ke,Y,xe[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(xe)):B(Object(xe)).forEach(function(Y){Object.defineProperty(ke,Y,Object.getOwnPropertyDescriptor(xe,Y))})}return ke})({},Ke)}),new Q(this.props,De)}},{key:"getNode",value:function(pe){return this.flatNodes[pe]}},{key:"reset",value:function(){this.flatNodes={}}},{key:"flattenNodes",value:function(pe){var De=this,Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(Array.isArray(pe)&&pe.length!==0){var ke=this.props,ye=ke.disabled,xe=ke.noCascade;pe.forEach(function(Y,Z){var ie=De.nodeHasChildren(Y);if(De.flatNodes[Y.value]!==void 0)throw new R("Duplicate value '".concat(Y.value,"' detected. All node values must be unique."));De.flatNodes[Y.value]={label:Y.label,value:Y.value,children:Y.children,parent:Ve,isChild:Ve.value!==void 0,isParent:ie,isLeaf:!ie,showCheckbox:Y.showCheckbox===void 0||Y.showCheckbox,disabled:De.getDisabledState(Y,Ve,ye,xe),treeDepth:Ke,index:Z},De.flattenNodes(Y.children,Y,Ke+1)})}}},{key:"nodeHasChildren",value:function(pe){return Array.isArray(pe.children)}},{key:"getDisabledState",value:function(pe,De,Ve,Ke){return!!Ve||!(Ke||!De.disabled)||!!pe.disabled}},{key:"deserializeLists",value:function(pe){var De=this,Ve=["checked","expanded"];Object.keys(this.flatNodes).forEach(function(Ke){Ve.forEach(function(ke){De.flatNodes[Ke][ke]=!1})}),Ve.forEach(function(Ke){pe[Ke].forEach(function(ke){De.flatNodes[ke]!==void 0&&(De.flatNodes[ke][Ke]=!0)})})}},{key:"serializeList",value:function(pe){var De=this,Ve=[];return Object.keys(this.flatNodes).forEach(function(Ke){De.flatNodes[Ke][pe]&&Ve.push(Ke)}),Ve}},{key:"expandAllNodes",value:function(pe){var De=this;return Object.keys(this.flatNodes).forEach(function(Ve){De.flatNodes[Ve].isParent&&(De.flatNodes[Ve].expanded=pe)}),this}},{key:"toggleChecked",value:function(pe,De,Ve,Ke){var ke=this,ye=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],xe=this.flatNodes[pe.value],Y=[W.PARENT,W.ALL].indexOf(Ve)>-1,Z=[W.LEAF,W.ALL].indexOf(Ve)>-1;if(xe.isLeaf||Ke){if(pe.disabled)return this;this.toggleNode(pe.value,"checked",De)}else(Y||xe.children.length===0)&&this.toggleNode(pe.value,"checked",De),Z&&xe.children.forEach(function(ie){ke.toggleChecked(ie,De,Ve,Ke,!1)});return ye&&!Ke&&xe.isChild&&Y&&this.toggleParentStatus(xe.parent,Ve),this}},{key:"toggleParentStatus",value:function(pe,De){var Ve=this.flatNodes[pe.value];Ve.isChild?(De===W.ALL&&this.toggleNode(pe.value,"checked",this.isEveryChildChecked(Ve)),this.toggleParentStatus(Ve.parent,De)):this.toggleNode(pe.value,"checked",this.isEveryChildChecked(Ve))}},{key:"isEveryChildChecked",value:function(pe){var De=this;return pe.children.every(function(Ve){return De.getNode(Ve.value).checked})}},{key:"toggleNode",value:function(pe,De,Ve){return this.flatNodes[pe][De]=Ve,this}}],ve&&V(J.prototype,ve),Object.defineProperty(J,"prototype",{writable:!1}),Q})();function re(Q){return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},re(Q)}function X(){return X=Object.assign?Object.assign.bind():function(Q){for(var J=1;J<arguments.length;J++){var ve=arguments[J];for(var pe in ve)Object.prototype.hasOwnProperty.call(ve,pe)&&(Q[pe]=ve[pe])}return Q},X.apply(this,arguments)}function $(Q,J){var ve=Object.keys(Q);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(Q);J&&(pe=pe.filter(function(De){return Object.getOwnPropertyDescriptor(Q,De).enumerable})),ve.push.apply(ve,pe)}return ve}function ee(Q,J){if(!(Q instanceof J))throw new TypeError("Cannot call a class as a function")}function le(Q,J){for(var ve=0;ve<J.length;ve++){var pe=J[ve];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(Q,pe.key,pe)}}function fe(Q,J){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ve,pe){return ve.__proto__=pe,ve},fe(Q,J)}function Ee(Q,J){if(J&&(re(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(ve){if(ve===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ve})(Q)}function ce(Q){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(J){return J.__proto__||Object.getPrototypeOf(J)},ce(Q)}function Se(Q,J,ve){return J in Q?Object.defineProperty(Q,J,{value:ve,enumerable:!0,configurable:!0,writable:!0}):Q[J]=ve,Q}var Oe=(function(Q){(function(ke,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Super expression must either be null or a function");ke.prototype=Object.create(ye&&ye.prototype,{constructor:{value:ke,writable:!0,configurable:!0}}),Object.defineProperty(ke,"prototype",{writable:!1}),ye&&fe(ke,ye)})(Ke,Q);var J,ve,pe,De,Ve=(pe=Ke,De=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}})(),function(){var ke,ye=ce(pe);if(De){var xe=ce(this).constructor;ke=Reflect.construct(ye,arguments,xe)}else ke=ye.apply(this,arguments);return Ee(this,ke)});function Ke(){return ee(this,Ke),Ve.apply(this,arguments)}return J=Ke,ve=[{key:"componentDidMount",value:function(){this.updateDeterminateProperty()}},{key:"componentDidUpdate",value:function(){this.updateDeterminateProperty()}},{key:"updateDeterminateProperty",value:function(){var ke=this.props.indeterminate;this.checkbox.indeterminate=ke}},{key:"render",value:function(){var ke=this,ye=(function(xe){for(var Y=1;Y<arguments.length;Y++){var Z=arguments[Y]!=null?arguments[Y]:{};Y%2?$(Object(Z),!0).forEach(function(ie){Se(xe,ie,Z[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(Z)):$(Object(Z)).forEach(function(ie){Object.defineProperty(xe,ie,Object.getOwnPropertyDescriptor(Z,ie))})}return xe})({},this.props);return delete ye.indeterminate,b().createElement("input",X({},ye,{ref:function(xe){ke.checkbox=xe},type:"checkbox"}))}}],ve&&le(J.prototype,ve),Object.defineProperty(J,"prototype",{writable:!1}),Ke})(b().PureComponent);Se(Oe,"propTypes",{indeterminate:m().bool}),Se(Oe,"defaultProps",{indeterminate:!1});const he=Oe,Pe=m().shape({check:m().node,uncheck:m().node,halfCheck:m().node,expandClose:m().node,expandOpen:m().node,expandAll:m().node,collapseAll:m().node,parentClose:m().node,parentOpen:m().node,leaf:m().node}),Fe=m().shape({collapseAll:m().string.isRequired,expandAll:m().string.isRequired,toggle:m().string.isRequired});function We(Q){return We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},We(Q)}function et(Q,J){for(var ve=0;ve<J.length;ve++){var pe=J[ve];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(Q,pe.key,pe)}}function He(Q,J){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ve,pe){return ve.__proto__=pe,ve},He(Q,J)}function $e(Q,J){if(J&&(We(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vt(Q)}function vt(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function Ct(Q){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(J){return J.__proto__||Object.getPrototypeOf(J)},Ct(Q)}function Lt(Q,J,ve){return J in Q?Object.defineProperty(Q,J,{value:ve,enumerable:!0,configurable:!0,writable:!0}):Q[J]=ve,Q}var Ye=(function(Q){(function(ke,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Super expression must either be null or a function");ke.prototype=Object.create(ye&&ye.prototype,{constructor:{value:ke,writable:!0,configurable:!0}}),Object.defineProperty(ke,"prototype",{writable:!1}),ye&&He(ke,ye)})(Ke,Q);var J,ve,pe,De,Ve=(pe=Ke,De=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}})(),function(){var ke,ye=Ct(pe);if(De){var xe=Ct(this).constructor;ke=Reflect.construct(ye,arguments,xe)}else ke=ye.apply(this,arguments);return $e(this,ke)});function Ke(ke){var ye;return(function(xe,Y){if(!(xe instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,Ke),(ye=Ve.call(this,ke)).onCheck=ye.onCheck.bind(vt(ye)),ye.onCheckboxKeyPress=ye.onCheckboxKeyPress.bind(vt(ye)),ye.onCheckboxKeyUp=ye.onCheckboxKeyUp.bind(vt(ye)),ye.onClick=ye.onClick.bind(vt(ye)),ye.onExpand=ye.onExpand.bind(vt(ye)),ye}return J=Ke,(ve=[{key:"onCheck",value:function(){var ke=this.props,ye=ke.value;(0,ke.onCheck)({value:ye,checked:this.getCheckState({toggle:!0})})}},{key:"onCheckboxKeyPress",value:function(ke){ke.which===32&&ke.preventDefault()}},{key:"onCheckboxKeyUp",value:function(ke){var ye=ke.keyCode;[13,32].includes(ye)&&this.onCheck()}},{key:"onClick",value:function(){var ke=this.props,ye=ke.expandOnClick,xe=ke.isParent,Y=ke.value,Z=ke.onClick;xe&&ye&&this.onExpand(),Z({value:Y,checked:this.getCheckState({toggle:!1})})}},{key:"onExpand",value:function(){var ke=this.props,ye=ke.expanded,xe=ke.value;(0,ke.onExpand)({value:xe,expanded:!ye})}},{key:"getCheckState",value:function(ke){var ye=ke.toggle,xe=this.props,Y=xe.checked,Z=xe.optimisticToggle;return!(Y!==0||!ye)||Y===1&&!ye||Y===2&&Z}},{key:"renderCollapseButton",value:function(){var ke=this.props,ye=ke.expandDisabled,xe=ke.isLeaf,Y=ke.lang;return xe?b().createElement("span",{className:"rct-collapse"},b().createElement("span",{className:"rct-icon"})):b().createElement(H,{className:"rct-collapse rct-collapse-btn",disabled:ye,title:Y.toggle,onClick:this.onExpand},this.renderCollapseIcon())}},{key:"renderCollapseIcon",value:function(){var ke=this.props,ye=ke.expanded,xe=ke.icons,Y=xe.expandClose,Z=xe.expandOpen;return ye?Z:Y}},{key:"renderCheckboxIcon",value:function(){var ke=this.props,ye=ke.checked,xe=ke.icons,Y=xe.uncheck,Z=xe.check,ie=xe.halfCheck;return ye===0?Y:ye===1?Z:ie}},{key:"renderNodeIcon",value:function(){var ke=this.props,ye=ke.expanded,xe=ke.icon,Y=ke.icons,Z=Y.leaf,ie=Y.parentClose,we=Y.parentOpen,Te=ke.isLeaf;return xe!==null?xe:Te?Z:ye?we:ie}},{key:"renderBareLabel",value:function(ke){var ye=this.props,xe=ye.onClick,Y=ye.title,Z=xe!==null;return b().createElement("span",{className:"rct-bare-label",title:Y},Z?b().createElement("span",{className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"button",tabIndex:0},ke):ke)}},{key:"renderCheckboxLabel",value:function(ke){var ye=this.props,xe=ye.checked,Y=ye.disabled,Z=ye.title,ie=ye.treeId,we=ye.value,Te=ye.onClick!==null,Ue="".concat(ie,"-").concat(String(we).split(" ").join("_")),Be=[b().createElement("label",{key:0,htmlFor:Ue,title:Z},b().createElement(he,{checked:xe===1,disabled:Y,id:Ue,indeterminate:xe===2,onClick:this.onCheck,onChange:function(){}}),b().createElement("span",{"aria-checked":xe===1,"aria-disabled":Y,className:"rct-checkbox",role:"checkbox",tabIndex:0,onKeyPress:this.onCheckboxKeyPress,onKeyUp:this.onCheckboxKeyUp},this.renderCheckboxIcon()),Te?null:ke)];return Te&&Be.push(b().createElement("span",{key:1,className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"link",tabIndex:0},ke)),Be}},{key:"renderLabel",value:function(){var ke=this.props,ye=ke.label,xe=ke.showCheckbox,Y=[ke.showNodeIcon?b().createElement("span",{key:0,className:"rct-node-icon"},this.renderNodeIcon()):null,b().createElement("span",{key:1,className:"rct-title"},ye)];return xe?this.renderCheckboxLabel(Y):this.renderBareLabel(Y)}},{key:"renderChildren",value:function(){return this.props.expanded?this.props.children:null}},{key:"render",value:function(){var ke=this.props,ye=ke.className,xe=ke.disabled,Y=ke.expanded,Z=ke.isLeaf,ie=u()({"rct-node":!0,"rct-node-leaf":Z,"rct-node-parent":!Z,"rct-node-expanded":!Z&&Y,"rct-node-collapsed":!Z&&!Y,"rct-disabled":xe},ye);return b().createElement("li",{className:ie},b().createElement("span",{className:"rct-text"},this.renderCollapseButton(),this.renderLabel()),this.renderChildren())}}])&&et(J.prototype,ve),Object.defineProperty(J,"prototype",{writable:!1}),Ke})(b().PureComponent);Lt(Ye,"propTypes",{checked:m().number.isRequired,disabled:m().bool.isRequired,expandDisabled:m().bool.isRequired,expanded:m().bool.isRequired,icons:Pe.isRequired,isLeaf:m().bool.isRequired,isParent:m().bool.isRequired,label:m().node.isRequired,lang:Fe.isRequired,optimisticToggle:m().bool.isRequired,showNodeIcon:m().bool.isRequired,treeId:m().string.isRequired,value:m().oneOfType([m().string,m().number]).isRequired,onCheck:m().func.isRequired,onExpand:m().func.isRequired,children:m().node,className:m().string,expandOnClick:m().bool,icon:m().node,showCheckbox:m().bool,title:m().string,onClick:m().func}),Lt(Ye,"defaultProps",{children:null,className:null,expandOnClick:!1,icon:null,showCheckbox:!0,title:null,onClick:function(){}});const _e=Ye,K=m().oneOfType([m().arrayOf(m().string),m().arrayOf(m().number)]);function oe(Q,J){var ve=Object.keys(Q);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(Q);J&&(pe=pe.filter(function(De){return Object.getOwnPropertyDescriptor(Q,De).enumerable})),ve.push.apply(ve,pe)}return ve}function ue(Q){for(var J=1;J<arguments.length;J++){var ve=arguments[J]!=null?arguments[J]:{};J%2?oe(Object(ve),!0).forEach(function(pe){q(Q,pe,ve[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(ve)):oe(Object(ve)).forEach(function(pe){Object.defineProperty(Q,pe,Object.getOwnPropertyDescriptor(ve,pe))})}return Q}function q(Q,J,ve){return J in Q?Object.defineProperty(Q,J,{value:ve,enumerable:!0,configurable:!0,writable:!0}):Q[J]=ve,Q}var ae={label:m().node.isRequired,value:m().oneOfType([m().string,m().number]).isRequired,disabled:m().bool,icon:m().node,showCheckbox:m().bool,title:m().string};const ge=m().oneOfType([m().shape(ae),m().shape(ue(ue({},ae),{},{children:m().arrayOf(ae).isRequired}))]);function be(Q){return be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},be(Q)}function Re(Q,J){var ve=Object.keys(Q);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(Q);J&&(pe=pe.filter(function(De){return Object.getOwnPropertyDescriptor(Q,De).enumerable})),ve.push.apply(ve,pe)}return ve}function je(Q){for(var J=1;J<arguments.length;J++){var ve=arguments[J]!=null?arguments[J]:{};J%2?Re(Object(ve),!0).forEach(function(pe){Ut(Q,pe,ve[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(ve)):Re(Object(ve)).forEach(function(pe){Object.defineProperty(Q,pe,Object.getOwnPropertyDescriptor(ve,pe))})}return Q}function ze(Q,J){for(var ve=0;ve<J.length;ve++){var pe=J[ve];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(Q,pe.key,pe)}}function qe(Q,J){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ve,pe){return ve.__proto__=pe,ve},qe(Q,J)}function nt(Q,J){if(J&&(be(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tt(Q)}function Tt(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function Xe(Q){return Xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(J){return J.__proto__||Object.getPrototypeOf(J)},Xe(Q)}function Ut(Q,J,ve){return J in Q?Object.defineProperty(Q,J,{value:ve,enumerable:!0,configurable:!0,writable:!0}):Q[J]=ve,Q}var C=(function(Q){(function(ye,xe){if(typeof xe!="function"&&xe!==null)throw new TypeError("Super expression must either be null or a function");ye.prototype=Object.create(xe&&xe.prototype,{constructor:{value:ye,writable:!0,configurable:!0}}),Object.defineProperty(ye,"prototype",{writable:!1}),xe&&qe(ye,xe)})(ke,Q);var J,ve,pe,De,Ve,Ke=(De=ke,Ve=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}})(),function(){var ye,xe=Xe(De);if(Ve){var Y=Xe(this).constructor;ye=Reflect.construct(xe,arguments,Y)}else ye=xe.apply(this,arguments);return nt(this,ye)});function ke(ye){var xe;(function(Z,ie){if(!(Z instanceof ie))throw new TypeError("Cannot call a class as a function")})(this,ke),xe=Ke.call(this,ye);var Y=new te(ye);return Y.flattenNodes(ye.nodes),Y.deserializeLists({checked:ye.checked,expanded:ye.expanded}),xe.state={id:ye.id||"rct-".concat(p()),model:Y,prevProps:ye},xe.onCheck=xe.onCheck.bind(Tt(xe)),xe.onExpand=xe.onExpand.bind(Tt(xe)),xe.onNodeClick=xe.onNodeClick.bind(Tt(xe)),xe.onExpandAll=xe.onExpandAll.bind(Tt(xe)),xe.onCollapseAll=xe.onCollapseAll.bind(Tt(xe)),xe.combineMemorized=f()(function(Z,ie){return je(je({},Z),ie)}).bind(Tt(xe)),xe}return J=ke,ve=[{key:"onCheck",value:function(ye){var xe=this.props,Y=xe.checkModel,Z=xe.noCascade,ie=xe.onCheck,we=this.state.model.clone(),Te=we.getNode(ye.value);we.toggleChecked(ye,ye.checked,Y,Z),ie(we.serializeList("checked"),je(je({},Te),ye))}},{key:"onExpand",value:function(ye){var xe=this.props.onExpand,Y=this.state.model.clone(),Z=Y.getNode(ye.value);Y.toggleNode(ye.value,"expanded",ye.expanded),xe(Y.serializeList("expanded"),je(je({},Z),ye))}},{key:"onNodeClick",value:function(ye){(0,this.props.onClick)(je(je({},this.state.model.getNode(ye.value)),ye))}},{key:"onExpandAll",value:function(){this.expandAllNodes()}},{key:"onCollapseAll",value:function(){this.expandAllNodes(!1)}},{key:"expandAllNodes",value:function(){var ye=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],xe=this.props.onExpand;xe(this.state.model.clone().expandAllNodes(ye).serializeList("expanded"))}},{key:"determineShallowCheckState",value:function(ye,xe){var Y=this.state.model.getNode(ye.value);return Y.isLeaf||xe||ye.children.length===0?Y.checked?1:0:this.isEveryChildChecked(ye)?1:this.isSomeChildChecked(ye)?2:0}},{key:"isEveryChildChecked",value:function(ye){var xe=this;return ye.children.every(function(Y){return xe.state.model.getNode(Y.value).checkState===1})}},{key:"isSomeChildChecked",value:function(ye){var xe=this;return ye.children.some(function(Y){return xe.state.model.getNode(Y.value).checkState>0})}},{key:"renderTreeNodes",value:function(ye){var xe=this,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=this.props,ie=Z.expandDisabled,we=Z.expandOnClick,Te=Z.icons,Ue=Z.lang,Be=Z.noCascade,mt=Z.onClick,bt=Z.onlyLeafCheckboxes,gt=Z.optimisticToggle,at=Z.showNodeTitle,Bt=Z.showNodeIcon,rr=this.state,ht=rr.id,qt=rr.model,Yt=ke.defaultProps.icons,Mt=ye.map(function(nr){var Vr=nr.value,Wt=qt.getNode(nr.value),Ne=Wt.isParent?xe.renderTreeNodes(nr.children,nr):null;Wt.checkState=xe.determineShallowCheckState(nr,Be);var F=bt?Wt.isLeaf:Wt.showCheckbox;return!Y.value||qt.getNode(Y.value).expanded?b().createElement(_e,{key:Vr,checked:Wt.checkState,className:nr.className,disabled:Wt.disabled,expandDisabled:ie,expandOnClick:we,expanded:Wt.expanded,icon:nr.icon,icons:xe.combineMemorized(Yt,Te),label:nr.label,lang:Ue,optimisticToggle:gt,isLeaf:Wt.isLeaf,isParent:Wt.isParent,showCheckbox:F,showNodeIcon:Bt,title:at?nr.title||nr.label:nr.title,treeId:ht,value:nr.value,onCheck:xe.onCheck,onClick:mt&&xe.onNodeClick,onExpand:xe.onExpand},Ne):null});return b().createElement("ol",null,Mt)}},{key:"renderExpandAll",value:function(){var ye=this.props,xe=ye.icons,Y=xe.expandAll,Z=xe.collapseAll,ie=ye.lang;return ye.showExpandAll?b().createElement("div",{className:"rct-options"},b().createElement(H,{className:"rct-option rct-option-expand-all",title:ie.expandAll,onClick:this.onExpandAll},Y),b().createElement(H,{className:"rct-option rct-option-collapse-all",title:ie.collapseAll,onClick:this.onCollapseAll},Z)):null}},{key:"renderHiddenInput",value:function(){var ye=this.props,xe=ye.name,Y=ye.nameAsArray;return xe===void 0?null:Y?this.renderArrayHiddenInput():this.renderJoinedHiddenInput()}},{key:"renderArrayHiddenInput",value:function(){var ye=this.props,xe=ye.checked,Y=ye.name;return xe.map(function(Z){var ie="".concat(Y,"[]");return b().createElement("input",{key:Z,name:ie,type:"hidden",value:Z})})}},{key:"renderJoinedHiddenInput",value:function(){var ye=this.props,xe=ye.checked,Y=ye.name,Z=xe.join(",");return b().createElement("input",{name:Y,type:"hidden",value:Z})}},{key:"render",value:function(){var ye,xe=this.props,Y=xe.direction,Z=xe.disabled,ie=xe.iconsClass,we=xe.nodes,Te=xe.nativeCheckboxes,Ue=this.state.id,Be=this.renderTreeNodes(we),mt=u()((Ut(ye={"react-checkbox-tree":!0,"rct-disabled":Z},"rct-icons-".concat(ie),!0),Ut(ye,"rct-native-display",Te),Ut(ye,"rct-direction-rtl",Y==="rtl"),ye));return b().createElement("div",{className:mt,id:Ue},this.renderExpandAll(),this.renderHiddenInput(),Be)}}],pe=[{key:"getDerivedStateFromProps",value:function(ye,xe){var Y=xe.model,Z=xe.prevProps,ie=ye.disabled,we=ye.id,Te=ye.nodes,Ue=je(je({},xe),{},{prevProps:ye});return Y.setProps(ye),c()(Z.nodes,Te)&&Z.disabled===ie||(Y.reset(),Y.flattenNodes(Te)),we!==null&&(Ue=je(je({},Ue),{},{id:we})),Y.deserializeLists({checked:ye.checked,expanded:ye.expanded}),Ue}}],ve&&ze(J.prototype,ve),pe&&ze(J,pe),Object.defineProperty(J,"prototype",{writable:!1}),ke})(b().Component);function L(Q){return(function(J){if(Array.isArray(J))return G(J)})(Q)||(function(J){if(typeof Symbol<"u"&&J[Symbol.iterator]!=null||J["@@iterator"]!=null)return Array.from(J)})(Q)||(function(J,ve){if(J){if(typeof J=="string")return G(J,ve);var pe=Object.prototype.toString.call(J).slice(8,-1);return pe==="Object"&&J.constructor&&(pe=J.constructor.name),pe==="Map"||pe==="Set"?Array.from(J):pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pe)?G(J,ve):void 0}})(Q)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function G(Q,J){(J==null||J>Q.length)&&(J=Q.length);for(var ve=0,pe=new Array(J);ve<J;ve++)pe[ve]=Q[ve];return pe}function se(Q,J){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(ve>J)return[];var pe=[];return Q.forEach(function(De){De.children&&(pe=[].concat(L(pe),[De.value],L(se(De.children,J,ve+1))))}),pe}Ut(C,"propTypes",{nodes:m().arrayOf(ge).isRequired,checkModel:m().oneOf([N.LEAF,N.ALL]),checked:K,direction:m().string,disabled:m().bool,expandDisabled:m().bool,expandOnClick:m().bool,expanded:K,icons:Pe,iconsClass:m().string,id:m().string,lang:Fe,name:m().string,nameAsArray:m().bool,nativeCheckboxes:m().bool,noCascade:m().bool,onlyLeafCheckboxes:m().bool,optimisticToggle:m().bool,showExpandAll:m().bool,showNodeIcon:m().bool,showNodeTitle:m().bool,onCheck:m().func,onClick:m().func,onExpand:m().func}),Ut(C,"defaultProps",{checkModel:N.LEAF,checked:[],direction:"ltr",disabled:!1,expandDisabled:!1,expandOnClick:!1,expanded:[],icons:{check:b().createElement("span",{className:"rct-icon rct-icon-check"}),uncheck:b().createElement("span",{className:"rct-icon rct-icon-uncheck"}),halfCheck:b().createElement("span",{className:"rct-icon rct-icon-half-check"}),expandClose:b().createElement("span",{className:"rct-icon rct-icon-expand-close"}),expandOpen:b().createElement("span",{className:"rct-icon rct-icon-expand-open"}),expandAll:b().createElement("span",{className:"rct-icon rct-icon-expand-all"}),collapseAll:b().createElement("span",{className:"rct-icon rct-icon-collapse-all"}),parentClose:b().createElement("span",{className:"rct-icon rct-icon-parent-close"}),parentOpen:b().createElement("span",{className:"rct-icon rct-icon-parent-open"}),leaf:b().createElement("span",{className:"rct-icon rct-icon-leaf"})},iconsClass:"fa4",id:null,lang:{collapseAll:"Collapse all",expandAll:"Expand all",toggle:"Toggle"},name:void 0,nameAsArray:!1,nativeCheckboxes:!1,noCascade:!1,onlyLeafCheckboxes:!1,optimisticToggle:!0,showExpandAll:!1,showNodeIcon:!0,showNodeTitle:!1,onCheck:function(){},onClick:null,onExpand:function(){}});const de=C})(),a})())})(hG);var Nit=hG.exports;const jit=Ji(Nit);function Lit(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bit(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zit(n.key),n)}}function Fit(e,t,r){return t&&Bit(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zit(e){var t=Hit(e,"string");return typeof t=="symbol"?t:t+""}function Hit(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Uit(e,t,r){return t=Ty(t),Vit(e,fG()?Reflect.construct(t,r||[],Ty(e).constructor):t.apply(e,r))}function Vit(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Git(e)}function Git(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fG=function(){return!!e})()}function Ty(e){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ty(e)}function Yit(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qx(e,t)}function Qx(e,t){return Qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Qx(e,t)}let pG=(function(e){function t(r){var n;Lit(this,t),n=Uit(this,t,[r]),n.localTracks=Ul.filter(s=>s.local&&!s.hidden).map(s=>{const u={...s};return u.datatype=s.datatype[0],u}),n.augmentedTracksInfo=Ul,window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach(s=>{n.augmentedTracksInfo.push(window.higlassTracksByType[s].config)}),r.datatype?n.localTracks=n.localTracks.filter(s=>s.datatype[0]===r.datatype):n.localTracks=n.localTracks.filter(s=>s.orientation===n.props.orientation),n.localTracks.forEach(s=>{s.uuid=Nt.nice()});const i=n.prepareNewEntries("",n.localTracks,{}),o=Object.keys(i),a=o.length?[o[0]]:null;return n.mounted=!1,n.state={selectedUuid:a,options:i,filter:"",checked:[],expanded:[]},n.requestTilesetLists(),n}return Yit(t,e),Fit(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.requestTilesetLists(),this.searchBox.focus()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"prepareNewEntries",value:function(r,n,i){const o=i;return n.map(a=>({...a,server:r,tilesetUid:a.uuid,serverUidKey:this.serverUidKey(r,a.uuid),datatype:a.datatype,name:a.name,uid:Nt.nice()})).forEach(a=>{o[a.serverUidKey]=a}),o}},{key:"serverUidKey",value:function(r,n){return`${r}/${n}`}},{key:"requestTilesetLists",value:function(){let r=null;if(this.props.datatype?r=`dt=${this.props.datatype}`:r=[...new Set([].concat(...this.augmentedTracksInfo.filter(n=>n.datatype).filter(n=>n.orientation===this.props.orientation||this.props.orientation==="1d-vertical"&&n.orientation==="1d-horizontal").map(n=>n.datatype)))].map(n=>`dt=${n}`).join("&"),!this.props.trackSourceServers){console.warn("No track source servers specified in the viewconf");return}this.props.trackSourceServers.forEach(n=>{_t.json(`${n}/tilesets/?limit=10000&${r}`,(i,o)=>{if(i)console.error("ERROR:",i);else{const a=this.prepareNewEntries(n,o.results,this.state.options),s=Object.keys(a);let{selectedUuid:u}=this.state;if(!u){u=s.length?[s[0]]:null;const l=this.state.options[u[0]];this.props.selectedTilesetChanged([l])}this.mounted&&this.setState({selectedUuid:u,options:a})}},this.props.pubSub)})}},{key:"handleOptionDoubleClick",value:function(r){const n=this.state.options[r.target.value];this.props.onDoubleClick(n)}},{key:"handleSelectedOptions",value:function(r){const n=[],i=[];for(let o=0;o<r.length;o++)n.push(r[o]),i.push(this.state.options[r[o]]);this.props.selectedTilesetChanged(i),this.setState({selectedUuid:n})}},{key:"handleSelect",value:function(){const{selectedOptions:r}=this.multiSelect,n=[];for(let i=0;i<r.length;i++){const o=r[i];n.push(o.value)}this.handleSelectedOptions(n)}},{key:"handleSearchChange",value:function(){const r=this.searchBox;this.setState({filter:r.value})}},{key:"partitionByGroup",value:function(r,n){const i={"":{name:"",value:"",children:[]}};for(const a of Object.keys(r)){const s=r[a];if(s.name.toLowerCase().includes(n))if("project_name"in s){const u=s.project_name;u in i||(i[u]={value:u,label:u,children:[]}),i[u].children.push({label:s.name,value:a})}else i[""].children.push({label:s.name,value:a})}const o=i[""].children;for(const a of Object.keys(i))a!==""&&(i[a].children.sort((s,u)=>s.label.toLowerCase().localeCompare(u.label.toLowerCase(),"en")),o.push(i[a]));return o.sort((a,s)=>a.label.toLowerCase().localeCompare(s.label.toLowerCase(),"en")),o}},{key:"handleChecked",value:function(r){this.handleSelectedOptions(r),this.setState({checked:r})}},{key:"handleExpanded",value:function(r){this.setState({expanded:r})}},{key:"render",value:function(){const r=[];for(const s in this.state.options)r.push(this.state.options[s]);const n=this.partitionByGroup(this.state.options,this.state.filter),i={width:15,height:15,top:2,right:2,position:"relative"},o=JSON.parse(JSON.stringify(i));o.opacity=.5;const a=P.createElement("form",{onSubmit:s=>{s.preventDefault()}},P.createElement("div",{className:"tileset-finder-search-bar"},P.createElement("span",{className:"tileset-finder-label"},"Select tileset:"),P.createElement("input",{ref:s=>{this.searchBox=s},className:"tileset-finder-search-box",onChange:this.handleSearchChange.bind(this),placeholder:"Search Term",type:"text"})),P.createElement("div",{className:"tileset-finder-checkbox-tree"},P.createElement(jit,{checked:this.state.checked,expanded:this.state.expanded,icons:{uncheck:P.createElement("svg",{style:i},P.createElement("title",null,"Uncheck"),P.createElement("use",{xlinkHref:"#square_o"})),check:P.createElement("svg",{style:i},P.createElement("title",null,"Check"),P.createElement("use",{xlinkHref:"#check_square_o"})),halfCheck:P.createElement("svg",{style:o},P.createElement("title",null,"Half Check"),P.createElement("use",{xlinkHref:"#check_square_o"})),leaf:P.createElement("svg",{style:i},P.createElement("title",null,"Leaf"),P.createElement("use",{xlinkHref:"#file_o"})),expandClose:P.createElement("svg",{style:i},P.createElement("title",null,"Expand Close"),P.createElement("use",{xlinkHref:"#chevron_right"})),expandOpen:P.createElement("svg",{style:i},P.createElement("title",null,"Expand Open "),P.createElement("use",{xlinkHref:"#chevron_down"})),parentClose:P.createElement("svg",{style:i},P.createElement("title",null,"Parent Close"),P.createElement("use",{xlinkHref:"#folder_o"})),parentOpen:P.createElement("svg",{style:i},P.createElement("title",null,"Parent Open"),P.createElement("use",{xlinkHref:"#folder_open_o"}))},nodes:n,onCheck:this.handleChecked.bind(this),onExpand:this.handleExpanded.bind(this)})));return P.createElement("div",null,a)}}])})(P.Component);pG.propTypes={datatype:j.string,orientation:j.string,onDoubleClick:j.func,pubSub:j.object.isRequired,selectedTilesetChanged:j.func,trackSourceServers:j.array};const Wit=Ef(pG);function Xit(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $it(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kit(n.key),n)}}function qit(e,t,r){return t&&$it(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kit(e){var t=Zit(e,"string");return typeof t=="symbol"?t:t+""}function Zit(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qit(e,t,r){return t=xy(t),Jit(e,dG()?Reflect.construct(t,r||[],xy(e).constructor):t.apply(e,r))}function Jit(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eot(e)}function eot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dG=function(){return!!e})()}function xy(e){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xy(e)}function tot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jx(e,t)}function Jx(e,t){return Jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Jx(e,t)}let Ey=(function(e){function t(r){var n;return Xit(this,t),n=Qit(this,t,[r]),n.options={},n.state={selectedTilesets:[{datatype:"none"}],allTracksSameDatatype:!0},n.handleSubmitBound=n.handleSubmit.bind(n),n.handleTilesetPickerDoubleClickBound=n.handleTilesetPickerDoubleClick.bind(n),n.selectedTilesetsChangedBound=n.selectedTilesetsChanged.bind(n),n}return tot(t,e),qit(t,[{key:"getOrientation",value:function(r){let n=null;return r==="top"||r==="bottom"?n="1d-horizontal":r==="left"||r==="right"?n="1d-vertical":n="2d",n}},{key:"handleSubmit",value:function(r){r&&r.preventDefault(),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.extent,this.props.host)}},{key:"handleTilesetPickerDoubleClick",value:function(r){this.selectedTilesetsChanged([r]),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.extent,this.props.host)}},{key:"handleOptionsChanged",value:function(r){this.options=r}},{key:"handlePlotTypeSelected",value:function(r){const{selectedTilesets:n}=this.state;for(const i of n)i.type=r;this.selectedPlotType=r,this.setState({selectedTilesets:n})}},{key:"selectedTilesetsChanged",value:function(r){let n=null;r.length===0?n=[{datatype:"none"}]:n=r;let i=!0;const o=n[0].datatype;for(const a of n)a.datatype!==o&&(i=!1);if(i)for(const a of n)a.type=this.selectedPlotType;else for(const a of n){let s=[a.datatype];const u=this.getOrientation(this.props.position);a.filetype==="cooler"&&(s=[a.datatype,"chromsizes"]);const l=H0([s],u),c=NO(s[0],this.props.position,l);a.type=c.type}this.setState({selectedTilesets:n,allTracksSameDatatype:i})}},{key:"render",value:function(){const r=this.getOrientation(this.props.position),n=P.createElement("div",null,P.createElement(Wit,{ref:i=>{this.tilesetFinder=i},datatype:this.props.datatype,onDoubleClick:this.handleTilesetPickerDoubleClick.bind(this),onTracksChosen:i=>this.props.onTracksChosen(i,this.props.position,this.props.extent),orientation:r,selectedTilesetChanged:this.selectedTilesetsChanged.bind(this),trackSourceServers:this.props.trackSourceServers}));return P.createElement(B1,{maxHeight:!0,okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Add Track"},P.createElement(P.Fragment,null,n,P.createElement(cG,{ref:i=>{this.plotTypeChooser=i},allTracksSameDatatype:this.state.allTracksSameDatatype,datatypes:this.state.selectedTilesets.map(i=>i.filetype==="cooler"?[i.datatype,"chromsizes"]:[i.datatype]),onPlotTypeSelected:this.handlePlotTypeSelected.bind(this),orientation:r,position:this.props.position})))}}])})(P.Component);Ey.defaultProps={position:"top"};Ey.propTypes={datatype:j.string,extent:j.string,host:j.string,onCancel:j.func.isRequired,onTracksChosen:j.func.isRequired,position:j.string,trackSourceServers:j.array.isRequired};function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kd.apply(null,arguments)}function rot(e){if(Array.isArray(e))return e}function not(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function eE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function mG(e,t){if(e){if(typeof e=="string")return eE(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eE(e,t):void 0}}function iot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gG(e,t){return rot(e)||not(e,t)||mG(e,t)||iot()}function ph(e){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ph(e)}function oot(e,t){if(ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yG(e){var t=oot(e,"string");return ph(t)=="symbol"?t:t+""}function fr(e,t,r){return(t=yG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&n.push.apply(n,Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.forEach(function(i){fr(e,i,r[i])})}return e}function F1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aot(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yG(n.key),n)}}function z1(e,t,r){return t&&aot(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZP(e,t){if(t&&(ph(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ft(e)}function Zd(e){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zd(e)}function tE(e,t){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},tE(e,t)}function QP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tE(e,t)}var sot=function(e,t,r,n,i,o,a,s){if(!e){var u;if(t===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,i,o,a,s],c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}},lot=sot;const $l=Ji(lot);function uot(e){if(Array.isArray(e))return eE(e)}function cot(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fot(e){return uot(e)||cot(e)||mG(e)||hot()}var pot=(function(){function e(){F1(this,e),fr(this,"refs",{})}return z1(e,[{key:"add",value:function(t,r){this.refs[t]||(this.refs[t]=[]),this.refs[t].push(r)}},{key:"remove",value:function(t,r){var n=this.getIndex(t,r);n!==-1&&this.refs[t].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var t=this;return this.refs[this.active.collection].find(function(r){var n=r.node;return n.sortableInfo.index==t.active.index})}},{key:"getIndex",value:function(t,r){return this.refs[t].indexOf(r)}},{key:"getOrderedRefs",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.active.collection;return this.refs[t].sort(dot)}}]),e})();function dot(e,t){var r=e.node.sortableInfo.index,n=t.node.sortableInfo.index;return r-n}function mot(e,t,r){return e=e.slice(),e.splice(r<0?e.length+r:r,0,e.splice(t,1)[0]),e}function vG(e,t){return Object.keys(e).reduce(function(r,n){return t.indexOf(n)===-1&&(r[n]=e[n]),r},{})}var Gu={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},bG=(function(){if(typeof window>"u"||typeof document>"u")return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||e.OLink===""&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}})();function Vm(e,t){Object.keys(t).forEach(function(r){e.style[r]=t[r]})}function Gm(e,t){e.style["".concat(bG,"Transform")]=t==null?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function n2(e,t){e.style["".concat(bG,"TransitionDuration")]=t==null?"":"".concat(t,"ms")}function Xp(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function eR(e,t,r){return Math.max(e,Math.min(r,t))}function Ec(e){return e.substr(-2)==="px"?parseFloat(e):0}function got(e){var t=window.getComputedStyle(e);return{bottom:Ec(t.marginBottom),left:Ec(t.marginLeft),right:Ec(t.marginRight),top:Ec(t.marginTop)}}function JP(e,t){var r=t.displayName||t.name;return r?"".concat(e,"(").concat(r,")"):e}function i2(e,t){var r=e.getBoundingClientRect();return{top:r.top+t.top,left:r.left+t.left}}function xp(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function yot(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function Vg(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{left:0,top:0};if(e){var n={left:r.left+e.offsetLeft,top:r.top+e.offsetTop};return e.parentNode===t?n:Vg(e.parentNode,t,n)}}function vot(e,t,r){return e<r&&e>t?e-1:e>r&&e<t?e+1:e}function tR(e){var t=e.lockOffset,r=e.width,n=e.height,i=t,o=t,a="px";if(typeof t=="string"){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);$l(s!==null,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),i=parseFloat(t),o=parseFloat(t),a=s[1]}return $l(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",t),a==="%"&&(i=i*r/100,o=o*n/100),{x:i,y:o}}function bot(e){var t=e.height,r=e.width,n=e.lockOffset,i=Array.isArray(n)?n:[n,n];$l(i.length===2,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",n);var o=gG(i,2),a=o[0],s=o[1];return[tR({height:t,lockOffset:a,width:r}),tR({height:t,lockOffset:s,width:r})]}function _ot(e){var t=window.getComputedStyle(e),r=/(auto|scroll)/,n=["overflow","overflowX","overflowY"];return n.find(function(i){return r.test(t[i])})}function _G(e){return e instanceof HTMLElement?_ot(e)?e:_G(e.parentNode):null}function wot(e){var t=window.getComputedStyle(e);return t.display==="grid"?{x:Ec(t.gridColumnGap),y:Ec(t.gridRowGap)}:{x:0,y:0}}var ol={ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},bl={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function Tot(e){var t="input, textarea, select, canvas, [contenteditable]",r=e.querySelectorAll(t),n=e.cloneNode(!0),i=fot(n.querySelectorAll(t));return i.forEach(function(o,a){if(o.type!=="file"&&(o.value=r[a].value),o.type==="radio"&&o.name&&(o.name="__sortableClone__".concat(o.name)),o.tagName===bl.Canvas&&r[a].width>0&&r[a].height>0){var s=o.getContext("2d");s.drawImage(r[a],0,0)}}),n}function rE(e){var t,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return r=t=(function(i){QP(o,i);function o(){var a,s;F1(this,o);for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];return s=ZP(this,(a=Zd(o)).call.apply(a,[this].concat(l))),fr(Ft(Ft(s)),"wrappedInstance",Mr.createRef()),s}return z1(o,[{key:"componentDidMount",value:function(){var a=u9.findDOMNode(this);a.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return $l(n.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var a=n.withRef?this.wrappedInstance:null;return Mr.createElement(e,Kd({ref:a},this.props))}}]),o})(Mr.Component),fr(t,"displayName",JP("sortableHandle",e)),r}function rR(e){return e.sortableHandle!=null}var xot=(function(){function e(t,r){F1(this,e),this.container=t,this.onScrollCallback=r}return z1(e,[{key:"clear",value:function(){this.interval!=null&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(t){var r=this,n=t.translate,i=t.minTranslate,o=t.maxTranslate,a=t.width,s=t.height,u={x:0,y:0},l={x:1,y:1},c={x:10,y:10},h=this.container,f=h.scrollTop,p=h.scrollLeft,d=h.scrollHeight,m=h.scrollWidth,v=h.clientHeight,b=h.clientWidth,g=f===0,y=d-f-v===0,_=p===0,w=m-p-b===0;n.y>=o.y-s/2&&!y?(u.y=1,l.y=c.y*Math.abs((o.y-s/2-n.y)/s)):n.x>=o.x-a/2&&!w?(u.x=1,l.x=c.x*Math.abs((o.x-a/2-n.x)/a)):n.y<=i.y+s/2&&!g?(u.y=-1,l.y=c.y*Math.abs((n.y-s/2-i.y)/s)):n.x<=i.x+a/2&&!_&&(u.x=-1,l.x=c.x*Math.abs((n.x-a/2-i.x)/a)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(u.x!==0||u.y!==0)&&(this.interval=setInterval(function(){r.isAutoScrolling=!0;var T={left:l.x*u.x,top:l.y*u.y};r.container.scrollTop+=T.top,r.container.scrollLeft+=T.left,r.onScrollCallback(T)},5))}}]),e})();function Eot(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}}function Sot(e){var t=[bl.Input,bl.Textarea,bl.Select,bl.Option,bl.Button];return!!(t.indexOf(e.target.tagName)!==-1||Xp(e.target,function(r){return r.contentEditable==="true"}))}var wG={axis:j.oneOf(["x","y","xy"]),contentWindow:j.any,disableAutoscroll:j.bool,distance:j.number,getContainer:j.func,getHelperDimensions:j.func,helperClass:j.string,helperContainer:j.oneOfType([j.func,typeof HTMLElement>"u"?j.any:j.instanceOf(HTMLElement)]),hideSortableGhost:j.bool,keyboardSortingTransitionDuration:j.number,lockAxis:j.string,lockOffset:j.oneOfType([j.number,j.string,j.arrayOf(j.oneOfType([j.number,j.string]))]),lockToContainerEdges:j.bool,onSortEnd:j.func,onSortMove:j.func,onSortOver:j.func,onSortStart:j.func,pressDelay:j.number,pressThreshold:j.number,keyCodes:j.shape({lift:j.arrayOf(j.number),drop:j.arrayOf(j.number),cancel:j.arrayOf(j.number),up:j.arrayOf(j.number),down:j.arrayOf(j.number)}),shouldCancelStart:j.func,transitionDuration:j.number,updateBeforeSortStart:j.func,useDragHandle:j.bool,useWindowAsScrollContainer:j.bool},TG={lift:[ol.SPACE],drop:[ol.SPACE],cancel:[ol.ESC],up:[ol.UP,ol.LEFT],down:[ol.DOWN,ol.RIGHT]},kot={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:Eot,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:TG,shouldCancelStart:Sot,transitionDuration:300,useWindowAsScrollContainer:!1},Oot=Object.keys(wG);function Pot(e){$l(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function Cot(e,t){try{var r=e()}catch(n){return t(!0,n)}return r&&r.then?r.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}var xG=Mr.createContext({manager:{}});function Aot(e){var t,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return r=t=(function(i){QP(o,i);function o(a){var s;F1(this,o),s=ZP(this,Zd(o).call(this,a)),fr(Ft(Ft(s)),"state",{}),fr(Ft(Ft(s)),"handleStart",function(l){var c=s.props,h=c.distance,f=c.shouldCancelStart;if(!(l.button===2||f(l))){s.touched=!0,s.position=xp(l);var p=Xp(l.target,function(y){return y.sortableInfo!=null});if(p&&p.sortableInfo&&s.nodeIsChild(p)&&!s.state.sorting){var d=s.props.useDragHandle,m=p.sortableInfo,v=m.index,b=m.collection,g=m.disabled;if(g||d&&!Xp(l.target,rR))return;s.manager.active={collection:b,index:v},!yot(l)&&l.target.tagName===bl.Anchor&&l.preventDefault(),h||(s.props.pressDelay===0?s.handlePress(l):s.pressTimer=setTimeout(function(){return s.handlePress(l)},s.props.pressDelay))}}}),fr(Ft(Ft(s)),"nodeIsChild",function(l){return l.sortableInfo.manager===s.manager}),fr(Ft(Ft(s)),"handleMove",function(l){var c=s.props,h=c.distance,f=c.pressThreshold;if(!s.state.sorting&&s.touched&&!s._awaitingUpdateBeforeSortStart){var p=xp(l),d={x:s.position.x-p.x,y:s.position.y-p.y},m=Math.abs(d.x)+Math.abs(d.y);s.delta=d,!h&&(!f||m>=f)?(clearTimeout(s.cancelTimer),s.cancelTimer=setTimeout(s.cancel,0)):h&&m>=h&&s.manager.isActive()&&s.handlePress(l)}}),fr(Ft(Ft(s)),"handleEnd",function(){s.touched=!1,s.cancel()}),fr(Ft(Ft(s)),"cancel",function(){var l=s.props.distance,c=s.state.sorting;c||(l||clearTimeout(s.pressTimer),s.manager.active=null)}),fr(Ft(Ft(s)),"handlePress",function(l){try{var c=s.manager.getActive(),h=(function(){if(c){var f=function(){var S=w.sortableInfo.index,A=got(w),M=wot(s.container),H=s.scrollContainer.getBoundingClientRect(),N=m({index:S,node:w,collection:T});if(s.node=w,s.margin=A,s.gridGap=M,s.width=N.width,s.height=N.height,s.marginOffset={x:s.margin.left+s.margin.right+s.gridGap.x,y:Math.max(s.margin.top,s.margin.bottom,s.gridGap.y)},s.boundingClientRect=w.getBoundingClientRect(),s.containerBoundingRect=H,s.index=S,s.newIndex=S,s.axis={x:d.indexOf("x")>=0,y:d.indexOf("y")>=0},s.offsetEdge=Vg(w,s.container),O?s.initialOffset=xp(r2({},l,{pageX:s.boundingClientRect.left,pageY:s.boundingClientRect.top})):s.initialOffset=xp(l),s.initialScroll={left:s.scrollContainer.scrollLeft,top:s.scrollContainer.scrollTop},s.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},s.helper=s.helperContainer.appendChild(Tot(w)),Vm(s.helper,{boxSizing:"border-box",height:"".concat(s.height,"px"),left:"".concat(s.boundingClientRect.left-A.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(s.boundingClientRect.top-A.top,"px"),width:"".concat(s.width,"px")}),O&&s.helper.focus(),b&&(s.sortableGhost=w,Vm(w,{opacity:0,visibility:"hidden"})),s.minTranslate={},s.maxTranslate={},O){var k=_?{top:0,left:0,width:s.contentWindow.innerWidth,height:s.contentWindow.innerHeight}:s.containerBoundingRect,R=k.top,B=k.left,z=k.width,U=k.height,V=R+U,W=B+z;s.axis.x&&(s.minTranslate.x=B-s.boundingClientRect.left,s.maxTranslate.x=W-(s.boundingClientRect.left+s.width)),s.axis.y&&(s.minTranslate.y=R-s.boundingClientRect.top,s.maxTranslate.y=V-(s.boundingClientRect.top+s.height))}else s.axis.x&&(s.minTranslate.x=(_?0:H.left)-s.boundingClientRect.left-s.width/2,s.maxTranslate.x=(_?s.contentWindow.innerWidth:H.left+H.width)-s.boundingClientRect.left-s.width/2),s.axis.y&&(s.minTranslate.y=(_?0:H.top)-s.boundingClientRect.top-s.height/2,s.maxTranslate.y=(_?s.contentWindow.innerHeight:H.top+H.height)-s.boundingClientRect.top-s.height/2);v&&v.split(" ").forEach(function(te){return s.helper.classList.add(te)}),s.listenerNode=l.touches?l.target:s.contentWindow,O?(s.listenerNode.addEventListener("wheel",s.handleKeyEnd,!0),s.listenerNode.addEventListener("mousedown",s.handleKeyEnd,!0),s.listenerNode.addEventListener("keydown",s.handleKeyDown)):(Gu.move.forEach(function(te){return s.listenerNode.addEventListener(te,s.handleSortMove,!1)}),Gu.end.forEach(function(te){return s.listenerNode.addEventListener(te,s.handleSortEnd,!1)})),s.setState({sorting:!0,sortingIndex:S}),y&&y({node:w,index:S,collection:T,isKeySorting:O,nodes:s.manager.getOrderedRefs(),helper:s.helper},l),O&&s.keyMove(0)},p=s.props,d=p.axis,m=p.getHelperDimensions,v=p.helperClass,b=p.hideSortableGhost,g=p.updateBeforeSortStart,y=p.onSortStart,_=p.useWindowAsScrollContainer,w=c.node,T=c.collection,O=s.manager.isKeySorting,E=(function(){if(typeof g=="function"){s._awaitingUpdateBeforeSortStart=!0;var S=Cot(function(){var A=w.sortableInfo.index;return Promise.resolve(g({collection:T,index:A,node:w,isKeySorting:O},l)).then(function(){})},function(A,M){if(s._awaitingUpdateBeforeSortStart=!1,A)throw M;return M});if(S&&S.then)return S.then(function(){})}})();return E&&E.then?E.then(f):f(E)}})();return Promise.resolve(h&&h.then?h.then(function(){}):void 0)}catch(f){return Promise.reject(f)}}),fr(Ft(Ft(s)),"handleSortMove",function(l){var c=s.props.onSortMove;typeof l.preventDefault=="function"&&l.cancelable&&l.preventDefault(),s.updateHelperPosition(l),s.animateNodes(),s.autoscroll(),c&&c(l)}),fr(Ft(Ft(s)),"handleSortEnd",function(l){var c=s.props,h=c.hideSortableGhost,f=c.onSortEnd,p=s.manager,d=p.active.collection,m=p.isKeySorting,v=s.manager.getOrderedRefs();s.listenerNode&&(m?(s.listenerNode.removeEventListener("wheel",s.handleKeyEnd,!0),s.listenerNode.removeEventListener("mousedown",s.handleKeyEnd,!0),s.listenerNode.removeEventListener("keydown",s.handleKeyDown)):(Gu.move.forEach(function(w){return s.listenerNode.removeEventListener(w,s.handleSortMove)}),Gu.end.forEach(function(w){return s.listenerNode.removeEventListener(w,s.handleSortEnd)}))),s.helper.parentNode.removeChild(s.helper),h&&s.sortableGhost&&Vm(s.sortableGhost,{opacity:"",visibility:""});for(var b=0,g=v.length;b<g;b++){var y=v[b],_=y.node;y.edgeOffset=null,y.boundingClientRect=null,Gm(_,null),n2(_,null),y.translate=null}s.autoScroller.clear(),s.manager.active=null,s.manager.isKeySorting=!1,s.setState({sorting:!1,sortingIndex:null}),typeof f=="function"&&f({collection:d,newIndex:s.newIndex,oldIndex:s.index,isKeySorting:m,nodes:v},l),s.touched=!1}),fr(Ft(Ft(s)),"autoscroll",function(){var l=s.props.disableAutoscroll,c=s.manager.isKeySorting;if(l){s.autoScroller.clear();return}if(c){var h=r2({},s.translate),f=0,p=0;s.axis.x&&(h.x=Math.min(s.maxTranslate.x,Math.max(s.minTranslate.x,s.translate.x)),f=s.translate.x-h.x),s.axis.y&&(h.y=Math.min(s.maxTranslate.y,Math.max(s.minTranslate.y,s.translate.y)),p=s.translate.y-h.y),s.translate=h,Gm(s.helper,s.translate),s.scrollContainer.scrollLeft+=f,s.scrollContainer.scrollTop+=p;return}s.autoScroller.update({height:s.height,maxTranslate:s.maxTranslate,minTranslate:s.minTranslate,translate:s.translate,width:s.width})}),fr(Ft(Ft(s)),"onAutoScroll",function(l){s.translate.x+=l.left,s.translate.y+=l.top,s.animateNodes()}),fr(Ft(Ft(s)),"handleKeyDown",function(l){var c=l.keyCode,h=s.props,f=h.shouldCancelStart,p=h.keyCodes,d=p===void 0?{}:p,m=r2({},TG,d);s.manager.active&&!s.manager.isKeySorting||!s.manager.active&&(!m.lift.includes(c)||f(l)||!s.isValidSortingTarget(l))||(l.stopPropagation(),l.preventDefault(),m.lift.includes(c)&&!s.manager.active?s.keyLift(l):m.drop.includes(c)&&s.manager.active?s.keyDrop(l):m.cancel.includes(c)?(s.newIndex=s.manager.active.index,s.keyDrop(l)):m.up.includes(c)?s.keyMove(-1):m.down.includes(c)&&s.keyMove(1))}),fr(Ft(Ft(s)),"keyLift",function(l){var c=l.target,h=Xp(c,function(m){return m.sortableInfo!=null}),f=h.sortableInfo,p=f.index,d=f.collection;s.initialFocusedNode=c,s.manager.isKeySorting=!0,s.manager.active={index:p,collection:d},s.handlePress(l)}),fr(Ft(Ft(s)),"keyMove",function(l){var c=s.manager.getOrderedRefs(),h=c[c.length-1].node.sortableInfo.index,f=s.newIndex+l,p=s.newIndex;if(!(f<0||f>h)){s.prevIndex=p,s.newIndex=f;var d=vot(s.newIndex,s.prevIndex,s.index),m=c.find(function(O){var E=O.node;return E.sortableInfo.index===d}),v=m.node,b=s.containerScrollDelta,g=m.boundingClientRect||i2(v,b),y=m.translate||{x:0,y:0},_={top:g.top+y.y-b.top,left:g.left+y.x-b.left},w=p<f,T={x:w&&s.axis.x?v.offsetWidth-s.width:0,y:w&&s.axis.y?v.offsetHeight-s.height:0};s.handleSortMove({pageX:_.left+T.x,pageY:_.top+T.y,ignoreTransition:l===0})}}),fr(Ft(Ft(s)),"keyDrop",function(l){s.handleSortEnd(l),s.initialFocusedNode&&s.initialFocusedNode.focus()}),fr(Ft(Ft(s)),"handleKeyEnd",function(l){s.manager.active&&s.keyDrop(l)}),fr(Ft(Ft(s)),"isValidSortingTarget",function(l){var c=s.props.useDragHandle,h=l.target,f=Xp(h,function(p){return p.sortableInfo!=null});return f&&f.sortableInfo&&!f.sortableInfo.disabled&&(c?rR(h):h.sortableInfo)});var u=new pot;return Pot(a),s.manager=u,s.wrappedInstance=Mr.createRef(),s.sortableContextValue={manager:u},s.events={end:s.handleEnd,move:s.handleMove,start:s.handleStart},s}return z1(o,[{key:"componentDidMount",value:function(){var a=this,s=this.props.useWindowAsScrollContainer,u=this.getContainer();Promise.resolve(u).then(function(l){a.container=l,a.document=a.container.ownerDocument||document;var c=a.props.contentWindow||a.document.defaultView||window;a.contentWindow=typeof c=="function"?c():c,a.scrollContainer=s?a.document.scrollingElement||a.document.documentElement:_G(a.container)||a.container,a.autoScroller=new xot(a.scrollContainer,a.onAutoScroll),Object.keys(a.events).forEach(function(h){return Gu[h].forEach(function(f){return a.container.addEventListener(f,a.events[h],!1)})}),a.container.addEventListener("keydown",a.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var a=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(s){return Gu[s].forEach(function(u){return a.container.removeEventListener(u,a.events[s])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(a){var s=this.props,u=s.lockAxis,l=s.lockOffset,c=s.lockToContainerEdges,h=s.transitionDuration,f=s.keyboardSortingTransitionDuration,p=f===void 0?h:f,d=this.manager.isKeySorting,m=a.ignoreTransition,v=xp(a),b={x:v.x-this.initialOffset.x,y:v.y-this.initialOffset.y};if(b.y-=window.pageYOffset-this.initialWindowScroll.top,b.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=b,c){var g=bot({height:this.height,lockOffset:l,width:this.width}),y=gG(g,2),_=y[0],w=y[1],T={x:this.width/2-_.x,y:this.height/2-_.y},O={x:this.width/2-w.x,y:this.height/2-w.y};b.x=eR(this.minTranslate.x+T.x,this.maxTranslate.x-O.x,b.x),b.y=eR(this.minTranslate.y+T.y,this.maxTranslate.y-O.y,b.y)}u==="x"?b.y=0:u==="y"&&(b.x=0),d&&p&&!m&&n2(this.helper,p),Gm(this.helper,b)}},{key:"animateNodes",value:function(){var a=this.props,s=a.transitionDuration,u=a.hideSortableGhost,l=a.onSortOver,c=this.containerScrollDelta,h=this.windowScrollDelta,f=this.manager.getOrderedRefs(),p={left:this.offsetEdge.left+this.translate.x+c.left,top:this.offsetEdge.top+this.translate.y+c.top},d=this.manager.isKeySorting,m=this.newIndex;this.newIndex=null;for(var v=0,b=f.length;v<b;v++){var g=f[v].node,y=g.sortableInfo.index,_=g.offsetWidth,w=g.offsetHeight,T={height:this.height>w?w/2:this.height/2,width:this.width>_?_/2:this.width/2},O=d&&y>this.index&&y<=m,E=d&&y<this.index&&y>=m,S={x:0,y:0},A=f[v].edgeOffset;A||(A=Vg(g,this.container),f[v].edgeOffset=A,d&&(f[v].boundingClientRect=i2(g,c)));var M=v<f.length-1&&f[v+1],H=v>0&&f[v-1];if(M&&!M.edgeOffset&&(M.edgeOffset=Vg(M.node,this.container),d&&(M.boundingClientRect=i2(M.node,c))),y===this.index){u&&(this.sortableGhost=g,Vm(g,{opacity:0,visibility:"hidden"}));continue}s&&n2(g,s),this.axis.x?this.axis.y?E||y<this.index&&(p.left+h.left-T.width<=A.left&&p.top+h.top<=A.top+T.height||p.top+h.top+T.height<=A.top)?(S.x=this.width+this.marginOffset.x,A.left+S.x>this.containerBoundingRect.width-T.width&&M&&(S.x=M.edgeOffset.left-A.left,S.y=M.edgeOffset.top-A.top),this.newIndex===null&&(this.newIndex=y)):(O||y>this.index&&(p.left+h.left+T.width>=A.left&&p.top+h.top+T.height>=A.top||p.top+h.top+T.height>=A.top+w))&&(S.x=-(this.width+this.marginOffset.x),A.left+S.x<this.containerBoundingRect.left+T.width&&H&&(S.x=H.edgeOffset.left-A.left,S.y=H.edgeOffset.top-A.top),this.newIndex=y):O||y>this.index&&p.left+h.left+T.width>=A.left?(S.x=-(this.width+this.marginOffset.x),this.newIndex=y):(E||y<this.index&&p.left+h.left<=A.left+T.width)&&(S.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=y)):this.axis.y&&(O||y>this.index&&p.top+h.top+T.height>=A.top?(S.y=-(this.height+this.marginOffset.y),this.newIndex=y):(E||y<this.index&&p.top+h.top<=A.top+T.height)&&(S.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=y))),Gm(g,S),f[v].translate=S}this.newIndex==null&&(this.newIndex=this.index),d&&(this.newIndex=m);var N=d?this.prevIndex:m;l&&this.newIndex!==N&&l({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:N,isKeySorting:d,nodes:f,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return $l(n.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var a=this.props.getContainer;return typeof a!="function"?u9.findDOMNode(this):a(n.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var a=n.withRef?this.wrappedInstance:null;return Mr.createElement(xG.Provider,{value:this.sortableContextValue},Mr.createElement(e,Kd({ref:a},vG(this.props,Oot))))}},{key:"helperContainer",get:function(){var a=this.props.helperContainer;return typeof a=="function"?a():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){var a=this.props.useWindowAsScrollContainer;return a?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),o})(Mr.Component),fr(t,"displayName",JP("sortableList",e)),fr(t,"defaultProps",kot),fr(t,"propTypes",wG),r}var EG={index:j.number.isRequired,collection:j.oneOfType([j.number,j.string]),disabled:j.bool},Mot=Object.keys(EG);function SG(e){var t,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return r=t=(function(i){QP(o,i);function o(){var a,s;F1(this,o);for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];return s=ZP(this,(a=Zd(o)).call.apply(a,[this].concat(l))),fr(Ft(Ft(s)),"wrappedInstance",Mr.createRef()),s}return z1(o,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(a){this.node&&(a.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),a.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),a.collection!==this.props.collection&&(this.unregister(a.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var a=this.props,s=a.collection,u=a.disabled,l=a.index,c=u9.findDOMNode(this);c.sortableInfo={collection:s,disabled:u,index:l,manager:this.context.manager},this.node=c,this.ref={node:c},this.context.manager.add(s,this.ref)}},{key:"unregister",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.collection;this.context.manager.remove(a,this.ref)}},{key:"getWrappedInstance",value:function(){return $l(n.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var a=n.withRef?this.wrappedInstance:null;return Mr.createElement(e,Kd({ref:a},vG(this.props,Mot)))}}]),o})(Mr.Component),fr(t,"displayName",JP("sortableElement",e)),fr(t,"contextType",xG),fr(t,"propTypes",EG),fr(t,"defaultProps",{collection:0}),r}const{Provider:Iot,Consumer:Rot}=P.createContext(gF);function kf(e){return P.forwardRef((t,r)=>P.createElement(Rot,null,n=>P.createElement(e,{ref:r,...t,theme:n})))}const cs={"track-control":"_track-control_w7hx2_1","track-control-vertical":"_track-control-vertical_w7hx2_2","track-control-dark":"_track-control-dark_w7hx2_15","track-control-active":"_track-control-active_w7hx2_16 _track-control_w7hx2_1","track-control-left":"_track-control-left_w7hx2_24","track-control-padding-right":"_track-control-padding-right_w7hx2_48","track-control-button":"_track-control-button_w7hx2_52","track-control-button-vertical":"_track-control-button-vertical_w7hx2_81"},Dot=e=>Gt({[cs["track-control-active"]]:e.isVisible,[cs["track-control"]]:!e.isVisible,[cs["track-control-left"]]:e.isAlignLeft,[cs["track-control-vertical"]]:e.isVertical,[cs["track-control-padding-right"]]:e.paddingRight,[cs["track-control-dark"]]:e.theme===br}),Ym=e=>Gt("no-zoom",cs["track-control-button"],{[cs["track-control-button-vertical"]]:e.isVertical});let o2=null,nR=null;function kG(e){(!e||!o2||Object.keys(e).some(n=>o2[n]!==e[n]))&&(o2=e,nR=rE(()=>P.createElement("svg",{className:Ym(e),style:{height:"20px",width:"20px",...e.imgStyleMove}},P.createElement("title",null,"Move track"),P.createElement("use",{xlinkHref:"#move"}))));let t,r;return P.createElement("div",{className:Dot(e)},e.isMoveable&&P.createElement(nR,null),P.createElement("svg",{ref:n=>{t=n},className:Ym(e),onClick:()=>{e.onConfigTrackMenuOpened(e.uid,t.getBoundingClientRect())},style:{height:"20px",width:"20px",...e.imgStyleSettings}},P.createElement("title",null,"Configure track"),P.createElement("use",{xlinkHref:"#cog"})),e.onAddSeries&&P.createElement("svg",{className:Ym(e),onClick:()=>e.onAddSeries(e.uid),style:{height:"20px",width:"20px",...e.imgStyleAdd}},P.createElement("title",null,"Add series"),P.createElement("use",{xlinkHref:"#plus"})),P.createElement("svg",{ref:n=>{r=n},className:Ym(e),onClick:()=>{e.onCloseTrackMenuOpened(e.uid,r.getBoundingClientRect())},style:{height:"20px",width:"20px",...e.imgStyleClose}},P.createElement("title",null,"Close track"),P.createElement("use",{xlinkHref:"#cross"})))}kG.propTypes={imgStyleAdd:j.object,imgStyleClose:j.object,imgStyleMove:j.object,imgStyleSettings:j.object,isAlignLeft:j.bool,isMoveable:j.bool,isVertical:j.bool,isVisible:j.bool,onConfigTrackMenuOpened:j.func,onCloseTrackMenuOpened:j.func,onAddSeries:j.func,paddingRight:j.bool,theme:j.symbol.isRequired,uid:j.string};const r_=kf(kG),nE={"center-track":"_center-track_fiu64_1","center-track-container":"_center-track-container_fiu64_6"},fo={"track-range-selection":"_track-range-selection_5bcsr_1","track-range-selection-active":"_track-range-selection-active_5bcsr_8 _track-range-selection_5bcsr_1","track-range-selection-active-primary":"_track-range-selection-active-primary_5bcsr_14 _track-range-selection-active_5bcsr_8 _track-range-selection_5bcsr_1","track-range-selection-active-secondary":"_track-range-selection-active-secondary_5bcsr_18 _track-range-selection-active_5bcsr_8 _track-range-selection_5bcsr_1","track-range-selection-group-inactive":"_track-range-selection-group-inactive_5bcsr_22","track-range-selection-group-brush-selection":"_track-range-selection-group-brush-selection_5bcsr_26"};function Not(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jot(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bot(n.key),n)}}function Lot(e,t,r){return t&&jot(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bot(e){var t=Fot(e,"string");return typeof t=="symbol"?t:t+""}function Fot(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zot(e,t,r){return t=Sy(t),Hot(e,OG()?Reflect.construct(t,r||[],Sy(e).constructor):t.apply(e,r))}function Hot(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uot(e)}function Uot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OG=function(){return!!e})()}function Sy(e){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sy(e)}function Vot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iE(e,t)}function iE(e,t){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},iE(e,t)}const Wm={pointerEvents:"all"};function Yu(e){return e?.sourceEvent}let e4=(function(e){function t(r){var n;return Not(this,t),n=zot(this,t,[r]),n.state={isVisible:!1},n.brushBehaviorX=fh().on("brush",n.brushedX.bind(n)).on("end",n.brushedXEnded.bind(n)),n.brushBehaviorY=Sf().on("brush",n.brushedY.bind(n)).on("end",n.brushedYEnded.bind(n)),n.brushBehaviorXY=t_().on("start",n.brushStarted.bind(n)).on("brush",n.brushedXY.bind(n)).on("end",n.brushedXYEnded.bind(n)),n}return Vot(t,e),Lot(t,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush2d()}},{key:"shouldComponentUpdate",value:function(r,n){if(this.rangeSelectionTriggeredXY){if(this.rangeSelectionTriggeredXY=!1,this.rangeSelectionTriggeredXYEnd){const i=r.rangeSelection[0]||null;this.moveBrushXY([i,r.rangeSelection[1]],!0),this.rangeSelectionTriggeredXYEnd=!1}return this.state!==n}if(this.props.rangeSelection!==r.rangeSelection){const i=r.rangeSelection[0]||null;this.props.is1dRangeSelection?(this.rangeSelectionTriggeredX||this.moveBrushX(i,r.rangeSelectionEnd),this.rangeSelectionTriggeredXEnd&&this.moveBrushX(i,r.rangeSelectionEnd,!0),this.rangeSelectionTriggeredY||this.moveBrushY(i,r.rangeSelectionEnd),this.rangeSelectionTriggeredYEnd&&this.moveBrushY(i,r.rangeSelectionEnd,!0),this.rangeSelectionTriggeredX=!1,this.rangeSelectionTriggeredXEnd=!1,this.rangeSelectionTriggeredY=!1,this.rangeSelectionTriggeredYEnd=!1):this.moveBrushXY([i,r.rangeSelection[1]],r.rangeSelectionEnd);const o=this.props.is1dRangeSelection&&!r.is1dRangeSelection&&i===null;return this.state!==n||o}return!0}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush2d():(this.removeBrush1d(),this.removeBrush2d())}},{key:"addBrush1d",value:function(){!this.brushElX||!this.brushElY||this.brushElXOld===this.brushElX&&this.brushElYOld===this.brushElY||(this.brushElXOld&&this.brushElXOld.on(".brush",null),this.brushElYOld&&this.brushElYOld.on(".brush",null),this.brushElX.call(this.brushBehaviorX),this.brushElY.call(this.brushBehaviorY),Dc(this.brushElX,fo["track-range-selection-group-brush-selection"]),Dc(this.brushElY,fo["track-range-selection-group-brush-selection"]),this.brushElXOld=this.brushElX,this.brushElYOld=this.brushElY,this.brushIs1dBound=!0)}},{key:"addBrush2d",value:function(){!this.brushElXY||this.brushElXYOld===this.brushElXY||(this.brushElXYOld&&this.brushElXYOld.on(".brush",null),this.brushElXY.call(this.brushBehaviorXY),this.brushElXYOld=this.brushElXY,this.brushIs2dBound=!0,Dc(this.brushElXY,fo["track-range-selection-group-brush-selection"]))}},{key:"brushedX",value:function(r){const n=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!Yu(r)||!this.props.onRangeSelectionX||!this.props.is1dRangeSelection||n)&&(this.rangeSelectionTriggeredX=!0,this.props.onRangeSelectionX(r.selection))}},{key:"brushedXEnded",value:function(r){const n=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,!(!Yu(r)||!this.props.onRangeSelectionX||!this.props.is1dRangeSelection||n)&&(this.rangeSelectionTriggeredX=!0,this.rangeSelectionTriggeredXEnd=!0,this.props.onRangeSelectionXEnd(r.selection))}},{key:"brushedY",value:function(r){const n=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!Yu(r)||!this.props.onRangeSelectionY||!this.props.is1dRangeSelection||n)&&(this.rangeSelectionTriggeredY=!0,this.props.onRangeSelectionY(r.selection))}},{key:"brushedYEnded",value:function(r){const n=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,!(!Yu(r)||!this.props.onRangeSelectionY||!this.props.is1dRangeSelection||n)&&(this.rangeSelectionTriggeredY=!0,this.rangeSelectionTriggeredYEnd=!0,this.props.onRangeSelectionYEnd(r.selection))}},{key:"brushedXY",value:function(r){const n=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!Yu(r)||!this.props.onRangeSelectionXY||n||this.props.is1dRangeSelection)&&(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionXY([[r.selection[0][0],r.selection[1][0]],[r.selection[0][1],r.selection[1][1]]]))}},{key:"brushedXYEnded",value:function(r){if(this.props.is1dRangeSelection)return;const n=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,r.selection&&r.sourceEvent&&this.props.onRangeSelectionXY&&!n&&(this.rangeSelectionTriggeredXY=!0,this.rangeSelectionTriggeredXYEnd=!0,this.props.onRangeSelectionXYEnd([[r.selection[0][0],r.selection[1][0]],[r.selection[0][1],r.selection[1][1]]])),r.selection||(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionReset())}},{key:"brushStarted",value:function(r){Yu(r)&&this.props.onRangeSelectionStart()}},{key:"moveBrushX",value:function(r,n=!1){if(!this.brushEl)return;this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());const i=r?[this.props.scaleX(r[0]),this.props.scaleX(r[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,n?this.brushElX.transition().call(this.brushBehaviorX.move,i):this.brushElX.call(this.brushBehaviorX.move,i)}},{key:"moveBrushY",value:function(r,n=!1){if(!this.brushEl)return;this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());const i=r?[this.props.scaleY(r[0]),this.props.scaleY(r[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,n?this.brushElY.transition().call(this.brushBehaviorY.move,i):this.brushElY.call(this.brushBehaviorY.move,i)}},{key:"moveBrushXY",value:function(r,n=!1){if(!this.brushEl)return;const i=[[this.props.scaleX(r[0][0]),this.props.scaleY(r[1][0])],[this.props.scaleX(r[0][1]),this.props.scaleY(r[1][1])]];this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,n?this.brushElXY.transition().call(this.brushBehaviorXY.move,i):this.brushElXY.call(this.brushBehaviorXY.move,i)}},{key:"mouseEnterHandler",value:function(){this.props.isRangeSelectionActive||this.setState({isVisible:!0})}},{key:"mouseLeaveHandler",value:function(){this.setState({isVisible:!1})}},{key:"removeBrush1d",value:function(){this.brushIs1dBound&&(this.brushElX&&(this.brushElX.call(this.brushBehaviorX.move,null),this.brushElX.on(".brush",null)),this.brushElY&&(this.brushElY.call(this.brushBehaviorY.move,null),this.brushElY.on(".brush",null)),this.brushIs1dBound=!1)}},{key:"removeBrush2d",value:function(){this.brushIs2dBound&&this.brushElXY&&(this.brushElXY.call(this.brushBehaviorXY.move,null),this.brushElXY.on(".brush",null),this.brushElXYOld=void 0,this.brushIs2dBound=!1,this.props.is1dRangeSelection||this.props.onRangeSelectionReset())}},{key:"render",value:function(){const r=this.props.tracks.map(s=>df(s)).reduce(w1,!1),n=this.props.tracks.some(s=>s.contents?s.contents.some(u=>u.type==="heatmap"?u.options.colorbarPosition==="topRight":!1):s.type==="heatmap"?s.options.colorbarPosition==="topRight":!1);let i="track-range-selection";this.props.isRangeSelectionActive&&(i+=this.props.is1dRangeSelection?"-active-secondary":"-active-primary");const o=Gt(!this.props.is1dRangeSelection&&fo["track-range-selection-group-inactive"]),a=Gt(this.props.is1dRangeSelection&&fo["track-range-selection-group-inactive"]);return P.createElement("div",{className:Gt(this.props.className,nE["center-track"]),onMouseEnter:this.mouseEnterHandler.bind(this),onMouseLeave:this.mouseLeaveHandler.bind(this),style:{height:this.props.height,width:this.props.width}},r&&P.createElement("svg",{className:fo[i],style:{height:this.props.height,width:this.props.width},xmlns:"http://www.w3.org/2000/svg"},P.createElement("title",null,"Range Selection Brush"),P.createElement("g",{ref:s=>{this.brushElX=ut(s)},className:o}),P.createElement("g",{ref:s=>{this.brushElY=ut(s)},className:o}),P.createElement("g",{ref:s=>{this.brushElXY=ut(s)},className:a})),this.props.editable&&P.createElement(r_,{imgStyleAdd:Wm,imgStyleClose:Wm,imgStyleMove:Wm,imgStyleSettings:Wm,isMoveable:!1,isVisible:this.state.isVisible||this.props.uid===this.props.configTrackMenuId,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,paddingRight:n,uid:this.props.uid}))}}])})(P.Component);e4.defaultProps={className:"center-track",configTrackMenuId:null,is1dRangeSelection:!1,rangeSelectionEnd:j.bool,isRangeSelectionActive:!1,scaleX:e=>e,scaleY:e=>e};e4.propTypes={className:j.string,configTrackMenuId:j.string,editable:j.bool,height:j.number.isRequired,is1dRangeSelection:j.bool,isRangeSelectionActive:j.bool,onAddSeries:j.func.isRequired,onCloseTrackMenuOpened:j.func.isRequired,onConfigTrackMenuOpened:j.func.isRequired,onRangeSelectionX:j.func.isRequired,onRangeSelectionXEnd:j.func.isRequired,onRangeSelectionY:j.func.isRequired,onRangeSelectionYEnd:j.func.isRequired,onRangeSelectionXY:j.func.isRequired,onRangeSelectionXYEnd:j.func.isRequired,onRangeSelectionReset:j.func.isRequired,onRangeSelectionStart:j.func.isRequired,rangeSelection:j.array.isRequired,rangeSelectionEnd:j.bool,scaleX:j.func,scaleY:j.func,tracks:j.array.isRequired,uid:j.string.isRequired,width:j.number.isRequired};const st={"context-menu":"_context-menu_18ock_1","context-menu-dark":"_context-menu-dark_18ock_12","context-menu-icon":"_context-menu-icon_18ock_17","context-menu-item":"_context-menu-item_18ock_27","context-menu-hr":"_context-menu-hr_18ock_38","play-icon":"_play-icon_18ock_45","context-menu-span":"_context-menu-span_18ock_52"};function xt(e){return P.createElement("div",{"data-menu-item-for":typeof e.children=="string"?e.children:null,className:Gt(st["context-menu-item"],e.className),onClick:t=>e.onClick(t),onMouseEnter:t=>e.onMouseEnter(t),onMouseLeave:t=>e.onMouseLeave(t),role:"button",tabIndex:0},P.createElement("span",{className:st["context-menu-span"]},e.children))}xt.defaultProps={onMouseEnter:()=>{},onMouseLeave:()=>{}};xt.propTypes={children:j.node.isRequired,onClick:j.func.isRequired,onMouseEnter:j.func,onMouseLeave:j.func};const PG=e=>{let t=[];for(const r of e)r.contents?t=t.concat(r.contents):t.push(r);return t},t4=(e,t,r,n)=>e?(window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach(i=>{lr[i]=window.higlassTracksByType[i].config}),PG(e).map(i=>{var o,a;const s=lr[i.type]?lr[i.type].thumbnail:null,u=s?P.createElement("div",{className:st["context-menu-icon"],dangerouslySetInnerHTML:{__html:s.outerHTML}}):P.createElement("div",{className:st["context-menu-icon"]},P.createElement("svg",null));return P.createElement(xt,{key:i.uid,className:st["context-menu-item"],onClick:()=>{n&&n(i.uid)},onMouseEnter:l=>{t&&t(l,i)},onMouseLeave:l=>{r&&r(l)}},u,P.createElement("span",{className:st["context-menu-span"]},(a=(o=i.options)==null?void 0:o.name)!=null&&a.length?i.options.name:i.type,t&&r?P.createElement("svg",{className:st["play-icon"]},P.createElement("title",null,"Play"),P.createElement("use",{xlinkHref:"#play"})):null))})):null;function CG(e){return P.createElement("div",null,t4(e.tracks,null,null,e.onCloseTrack),P.createElement("hr",{className:st["context-menu-hr"]}),P.createElement(xt,{onClick:()=>e.onCloseTrack(e.tracks[0].uid)},"Close all series"))}CG.propTypes={onCloseTrack:j.func.isRequired,tracks:j.array.isRequired};function iR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Got(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yot(n.key),n)}}function oR(e,t,r){return t&&Got(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yot(e){var t=Wot(e,"string");return typeof t=="symbol"?t:t+""}function Wot(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}const oE="__mixwith_appliedMixin",aE="__mixwith_wrappedMixin",AG=e=>e[aE]||e,Xot=(e,t)=>{const r=t(e);return r.prototype[oE]=AG(t),r},$ot=(e,t)=>e.hasOwnProperty(oE)&&e[oE]===AG(t),qot=(e,t)=>{for(;e!==null;){if($ot(e,t))return!0;e=Object.getPrototypeOf(e)}return!1},r4=(e,t)=>(Object.setPrototypeOf(t,e),e[aE]||(e[aE]=e),t),a2="__mixwith_cachedApplications",Kot=e=>r4(e,t=>{let r=t[a2];r||(t[a2]=new Map,r=t[a2]);let n=r.get(e);return n||(n=e(t),r.set(e,n)),n}),Zot=e=>r4(e,t=>qot(t.prototype,e)?t:e(t)),Qot=e=>r4(e,t=>Xot(t,e)),n_=e=>Zot(Kot(Qot(e)));let Jot=(function(){function e(t){iR(this,e),this.superclass=t||oR(function r(){iR(this,r)})}return oR(e,[{key:"with",value:function(...t){return t.reduce((r,n)=>n(r),this.superclass)}}])})();const Of=e=>new Jot(e);function eat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tat(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nat(n.key),n)}}function rat(e,t,r){return t&&tat(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nat(e){var t=iat(e,"string");return typeof t=="symbol"?t:t+""}function iat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function oat(e,t,r){return t=ky(t),aat(e,MG()?Reflect.construct(t,r||[],ky(e).constructor):t.apply(e,r))}function aat(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sat(e)}function sat(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MG=function(){return!!e})()}function ky(e){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ky(e)}function lat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sE(e,t)}function sE(e,t){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},sE(e,t)}const aR=20;let Ls=(function(e){function t(r){var n;return eat(this,t),n=oat(this,t,[r]),n.adjusted=!1,n.state={orientation:n.props.orientation?n.props.orientation:"right",left:n.props.position.left,top:n.props.position.top,submenuShown:null},n}return lat(t,e),rat(t,[{key:"componentDidMount",value:function(){this.updateOrientation()}},{key:"UNSAFE_componentWillReceiveProps",value:function(r){this.adjusted=!1,this.setState({left:r.position.left,top:r.position.top})}},{key:"componentDidUpdate",value:function(){this.updateOrientation()}},{key:"handleItemMouseEnterWithRect",value:function(r,n){this.setState({submenuShown:n,submenuSourceBbox:r})}},{key:"handleItemMouseEnter",value:function(r,n){this.handleItemMouseEnterWithRect(r.currentTarget.getBoundingClientRect(),n)}},{key:"handleMouseLeave",value:function(){}},{key:"handleOtherMouseEnter",value:function(){this.setState({submenuShown:null})}},{key:"updateOrientation",value:function(){if(this.adjusted)return;this.adjusted=!0,this.divDom=Xo.findDOMNode(this.div);const r=this.divDom.getBoundingClientRect(),n=this.props.parentBbox?this.props.parentBbox:{top:this.props.position.top,left:this.props.position.left,width:0};let i=this.state.orientation,o=n.top;if(n.top+r.height>window.innerHeight&&(n.top-r.height>0?o=n.top-r.height+aR:(o=n.top-r.height+aR,o-=o+r.height-window.innerHeight)),this.state.orientation==="left"){let a=n.left-r.width;a<0&&(n.left+n.width+r.width>window.innerWidth?a=0:(a=n.left+n.width,i="right")),this.setState({left:a,top:o,orientation:i})}else{let a=n.left+n.width;n.left+n.width+r.width>window.innerWidth&&(n.left-r.width<0?(a=0,i="right"):(a=n.left-r.width,i="left")),this.setState({left:a,top:o,orientation:i})}}},{key:"render",value:function(){const r=this.state.left?{left:this.state.left}:{right:this.state.right},n={top:this.state.top},i=Object.assign(r,n);return P.createElement("div",{ref:o=>{this.div=o},className:Gt("context-menu-item",st["context-menu"],{[st["context-menu-dark"]]:this.props.theme===br}),style:i},this.props.children)}}])})(P.Component);Ls.propTypes={children:j.node,orientation:j.string,parentBbox:j.object,position:j.object,theme:j.symbol.isRequired};function uat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cat(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fat(n.key),n)}}function hat(e,t,r){return t&&cat(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fat(e){var t=pat(e,"string");return typeof t=="symbol"?t:t+""}function pat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dat(e,t,r){return t=Oy(t),mat(e,IG()?Reflect.construct(t,r||[],Oy(e).constructor):t.apply(e,r))}function mat(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gat(e)}function gat(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IG=function(){return!!e})()}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Oy(e)}function yat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lE(e,t)}function lE(e,t){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},lE(e,t)}let uE=(function(e){function t(){return uat(this,t),dat(this,t,arguments)}return yat(t,e),hat(t,[{key:"getSubmenu",value:function(){if(this.state.submenuShown){const r=this.state.submenuSourceBbox,n=this.state.orientation==="left"?{left:this.state.left,top:r.top}:{left:this.state.left+r.width+7,top:r.top},i=this.state.submenuShown;return P.createElement(t,{menuItems:i.children,orientation:this.state.orientation,parentBbox:r,position:n,theme:this.props.theme})}return P.createElement("div",null)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){const r=[];for(const n in this.props.menuItems){const i=this.props.menuItems[n];r.push(P.createElement(xt,{key:n,onClick:i.handler?i.handler:()=>null,onMouseEnter:i.children?o=>this.handleItemMouseEnter(o,i):this.handleOtherMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave},i.name,i.children&&P.createElement("svg",{className:st["play-icon"]},P.createElement("title",null,"Play"),P.createElement("use",{xlinkHref:"#play"}))))}return P.createElement("div",{ref:n=>{this.div=n},className:Gt(st["context-menu"],{[st["context-menu-dark"]]:this.props.theme===br}),style:{left:this.state.left,top:this.state.top}},r,this.getSubmenu())}}])})(Ls);var Gi={},H1={},RG=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,vat=typeof self=="object"&&self&&self.Object===Object&&self,Co=RG||vat||Function("return this")(),Zo=Co.Symbol,DG=Object.prototype,bat=DG.hasOwnProperty,_at=DG.toString,Ep=Zo?Zo.toStringTag:void 0;function wat(e){var t=bat.call(e,Ep),r=e[Ep];try{e[Ep]=void 0;var n=!0}catch{}var i=_at.call(e);return n&&(t?e[Ep]=r:delete e[Ep]),i}var Tat=Object.prototype,xat=Tat.toString;function Eat(e){return xat.call(e)}var Sat="[object Null]",kat="[object Undefined]",sR=Zo?Zo.toStringTag:void 0;function Bs(e){return e==null?e===void 0?kat:Sat:sR&&sR in Object(e)?wat(e):Eat(e)}var $n=Array.isArray;function To(e){return e!=null&&typeof e=="object"}var Oat="[object String]";function Pat(e){return typeof e=="string"||!$n(e)&&To(e)&&Bs(e)==Oat}const Cat=Object.freeze(Object.defineProperty({__proto__:null,default:Pat},Symbol.toStringTag,{value:"Module"})),Aat=Jo(Cat);function Mat(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var u=a[++i];if(r(o[u],u,o)===!1)break}return t}}var NG=Mat();function Iat(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Rat="[object Arguments]";function lR(e){return To(e)&&Bs(e)==Rat}var jG=Object.prototype,Dat=jG.hasOwnProperty,Nat=jG.propertyIsEnumerable,Py=lR((function(){return arguments})())?lR:function(e){return To(e)&&Dat.call(e,"callee")&&!Nat.call(e,"callee")};function jat(){return!1}var LG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,uR=LG&&typeof module=="object"&&module&&!module.nodeType&&module,Lat=uR&&uR.exports===LG,cR=Lat?Co.Buffer:void 0,Bat=cR?cR.isBuffer:void 0,Qd=Bat||jat,Fat=9007199254740991,zat=/^(?:0|[1-9]\d*)$/;function n4(e,t){var r=typeof e;return t=t??Fat,!!t&&(r=="number"||r!="symbol"&&zat.test(e))&&e>-1&&e%1==0&&e<t}var Hat=9007199254740991;function i4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Hat}var Uat="[object Arguments]",Vat="[object Array]",Gat="[object Boolean]",Yat="[object Date]",Wat="[object Error]",Xat="[object Function]",$at="[object Map]",qat="[object Number]",Kat="[object Object]",Zat="[object RegExp]",Qat="[object Set]",Jat="[object String]",est="[object WeakMap]",tst="[object ArrayBuffer]",rst="[object DataView]",nst="[object Float32Array]",ist="[object Float64Array]",ost="[object Int8Array]",ast="[object Int16Array]",sst="[object Int32Array]",lst="[object Uint8Array]",ust="[object Uint8ClampedArray]",cst="[object Uint16Array]",hst="[object Uint32Array]",Tr={};Tr[nst]=Tr[ist]=Tr[ost]=Tr[ast]=Tr[sst]=Tr[lst]=Tr[ust]=Tr[cst]=Tr[hst]=!0;Tr[Uat]=Tr[Vat]=Tr[tst]=Tr[Gat]=Tr[rst]=Tr[Yat]=Tr[Wat]=Tr[Xat]=Tr[$at]=Tr[qat]=Tr[Kat]=Tr[Zat]=Tr[Qat]=Tr[Jat]=Tr[est]=!1;function fst(e){return To(e)&&i4(e.length)&&!!Tr[Bs(e)]}function o4(e){return function(t){return e(t)}}var BG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_d=BG&&typeof module=="object"&&module&&!module.nodeType&&module,pst=_d&&_d.exports===BG,s2=pst&&RG.process,dh=(function(){try{var e=_d&&_d.require&&_d.require("util").types;return e||s2&&s2.binding&&s2.binding("util")}catch{}})(),hR=dh&&dh.isTypedArray,a4=hR?o4(hR):fst,dst=Object.prototype,mst=dst.hasOwnProperty;function FG(e,t){var r=$n(e),n=!r&&Py(e),i=!r&&!n&&Qd(e),o=!r&&!n&&!i&&a4(e),a=r||n||i||o,s=a?Iat(e.length,String):[],u=s.length;for(var l in e)(t||mst.call(e,l))&&!(a&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||n4(l,u)))&&s.push(l);return s}var gst=Object.prototype;function s4(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||gst;return e===r}function zG(e,t){return function(r){return e(t(r))}}var yst=zG(Object.keys,Object),vst=Object.prototype,bst=vst.hasOwnProperty;function _st(e){if(!s4(e))return yst(e);var t=[];for(var r in Object(e))bst.call(e,r)&&r!="constructor"&&t.push(r);return t}function Ii(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var wst="[object AsyncFunction]",Tst="[object Function]",xst="[object GeneratorFunction]",Est="[object Proxy]";function l4(e){if(!Ii(e))return!1;var t=Bs(e);return t==Tst||t==xst||t==wst||t==Est}function Pf(e){return e!=null&&i4(e.length)&&!l4(e)}function u4(e){return Pf(e)?FG(e):_st(e)}function HG(e,t){return e&&NG(e,t,u4)}function i_(e){return e}function UG(e){return typeof e=="function"?e:i_}function Sst(e,t){return e&&HG(e,UG(t))}const kst=Object.freeze(Object.defineProperty({__proto__:null,default:Sst},Symbol.toStringTag,{value:"Module"})),c4=Jo(kst);var VG=zG(Object.getPrototypeOf,Object),Ost="[object Object]",Pst=Function.prototype,Cst=Object.prototype,GG=Pst.toString,Ast=Cst.hasOwnProperty,Mst=GG.call(Object);function YG(e){if(!To(e)||Bs(e)!=Ost)return!1;var t=VG(e);if(t===null)return!0;var r=Ast.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&GG.call(r)==Mst}const Ist=Object.freeze(Object.defineProperty({__proto__:null,default:YG},Symbol.toStringTag,{value:"Module"})),Rst=Jo(Ist);function WG(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Dst(){this.__data__=[],this.size=0}function U1(e,t){return e===t||e!==e&&t!==t}function o_(e,t){for(var r=e.length;r--;)if(U1(e[r][0],t))return r;return-1}var Nst=Array.prototype,jst=Nst.splice;function Lst(e){var t=this.__data__,r=o_(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():jst.call(t,r,1),--this.size,!0}function Bst(e){var t=this.__data__,r=o_(t,e);return r<0?void 0:t[r][1]}function Fst(e){return o_(this.__data__,e)>-1}function zst(e,t){var r=this.__data__,n=o_(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function Ka(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ka.prototype.clear=Dst;Ka.prototype.delete=Lst;Ka.prototype.get=Bst;Ka.prototype.has=Fst;Ka.prototype.set=zst;function Hst(){this.__data__=new Ka,this.size=0}function Ust(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Vst(e){return this.__data__.get(e)}function Gst(e){return this.__data__.has(e)}var l2=Co["__core-js_shared__"],fR=(function(){var e=/[^.]+$/.exec(l2&&l2.keys&&l2.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function Yst(e){return!!fR&&fR in e}var Wst=Function.prototype,Xst=Wst.toString;function mu(e){if(e!=null){try{return Xst.call(e)}catch{}try{return e+""}catch{}}return""}var $st=/[\\^$.*+?()[\]{}|]/g,qst=/^\[object .+?Constructor\]$/,Kst=Function.prototype,Zst=Object.prototype,Qst=Kst.toString,Jst=Zst.hasOwnProperty,elt=RegExp("^"+Qst.call(Jst).replace($st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tlt(e){if(!Ii(e)||Yst(e))return!1;var t=l4(e)?elt:qst;return t.test(mu(e))}function rlt(e,t){return e?.[t]}function gu(e,t){var r=rlt(e,t);return tlt(r)?r:void 0}var Jd=gu(Co,"Map"),e1=gu(Object,"create");function nlt(){this.__data__=e1?e1(null):{},this.size=0}function ilt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var olt="__lodash_hash_undefined__",alt=Object.prototype,slt=alt.hasOwnProperty;function llt(e){var t=this.__data__;if(e1){var r=t[e];return r===olt?void 0:r}return slt.call(t,e)?t[e]:void 0}var ult=Object.prototype,clt=ult.hasOwnProperty;function hlt(e){var t=this.__data__;return e1?t[e]!==void 0:clt.call(t,e)}var flt="__lodash_hash_undefined__";function plt(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=e1&&t===void 0?flt:t,this}function ql(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ql.prototype.clear=nlt;ql.prototype.delete=ilt;ql.prototype.get=llt;ql.prototype.has=hlt;ql.prototype.set=plt;function dlt(){this.size=0,this.__data__={hash:new ql,map:new(Jd||Ka),string:new ql}}function mlt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function a_(e,t){var r=e.__data__;return mlt(t)?r[typeof t=="string"?"string":"hash"]:r.map}function glt(e){var t=a_(this,e).delete(e);return this.size-=t?1:0,t}function ylt(e){return a_(this,e).get(e)}function vlt(e){return a_(this,e).has(e)}function blt(e,t){var r=a_(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Za(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Za.prototype.clear=dlt;Za.prototype.delete=glt;Za.prototype.get=ylt;Za.prototype.has=vlt;Za.prototype.set=blt;var _lt=200;function wlt(e,t){var r=this.__data__;if(r instanceof Ka){var n=r.__data__;if(!Jd||n.length<_lt-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Za(n)}return r.set(e,t),this.size=r.size,this}function _o(e){var t=this.__data__=new Ka(e);this.size=t.size}_o.prototype.clear=Hst;_o.prototype.delete=Ust;_o.prototype.get=Vst;_o.prototype.has=Gst;_o.prototype.set=wlt;var Tlt="__lodash_hash_undefined__";function xlt(e){return this.__data__.set(e,Tlt),this}function Elt(e){return this.__data__.has(e)}function Cy(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Za;++t<r;)this.add(e[t])}Cy.prototype.add=Cy.prototype.push=xlt;Cy.prototype.has=Elt;function Slt(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function klt(e,t){return e.has(t)}var Olt=1,Plt=2;function XG(e,t,r,n,i,o){var a=r&Olt,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(e),c=o.get(t);if(l&&c)return l==t&&c==e;var h=-1,f=!0,p=r&Plt?new Cy:void 0;for(o.set(e,t),o.set(t,e);++h<s;){var d=e[h],m=t[h];if(n)var v=a?n(m,d,h,t,e,o):n(d,m,h,e,t,o);if(v!==void 0){if(v)continue;f=!1;break}if(p){if(!Slt(t,function(b,g){if(!klt(p,g)&&(d===b||i(d,b,r,n,o)))return p.push(g)})){f=!1;break}}else if(!(d===m||i(d,m,r,n,o))){f=!1;break}}return o.delete(e),o.delete(t),f}var Ay=Co.Uint8Array;function Clt(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function Alt(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Mlt=1,Ilt=2,Rlt="[object Boolean]",Dlt="[object Date]",Nlt="[object Error]",jlt="[object Map]",Llt="[object Number]",Blt="[object RegExp]",Flt="[object Set]",zlt="[object String]",Hlt="[object Symbol]",Ult="[object ArrayBuffer]",Vlt="[object DataView]",pR=Zo?Zo.prototype:void 0,u2=pR?pR.valueOf:void 0;function Glt(e,t,r,n,i,o,a){switch(r){case Vlt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ult:return!(e.byteLength!=t.byteLength||!o(new Ay(e),new Ay(t)));case Rlt:case Dlt:case Llt:return U1(+e,+t);case Nlt:return e.name==t.name&&e.message==t.message;case Blt:case zlt:return e==t+"";case jlt:var s=Clt;case Flt:var u=n&Mlt;if(s||(s=Alt),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;n|=Ilt,a.set(e,t);var c=XG(s(e),s(t),n,i,o,a);return a.delete(e),c;case Hlt:if(u2)return u2.call(e)==u2.call(t)}return!1}function Ylt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Wlt(e,t,r){var n=t(e);return $n(e)?n:Ylt(n,r(e))}function Xlt(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}function $lt(){return[]}var qlt=Object.prototype,Klt=qlt.propertyIsEnumerable,dR=Object.getOwnPropertySymbols,Zlt=dR?function(e){return e==null?[]:(e=Object(e),Xlt(dR(e),function(t){return Klt.call(e,t)}))}:$lt;function cE(e){return Wlt(e,u4,Zlt)}var Qlt=1,Jlt=Object.prototype,eut=Jlt.hasOwnProperty;function tut(e,t,r,n,i,o){var a=r&Qlt,s=cE(e),u=s.length,l=cE(t),c=l.length;if(u!=c&&!a)return!1;for(var h=u;h--;){var f=s[h];if(!(a?f in t:eut.call(t,f)))return!1}var p=o.get(e),d=o.get(t);if(p&&d)return p==t&&d==e;var m=!0;o.set(e,t),o.set(t,e);for(var v=a;++h<u;){f=s[h];var b=e[f],g=t[f];if(n)var y=a?n(g,b,f,t,e,o):n(b,g,f,e,t,o);if(!(y===void 0?b===g||i(b,g,r,n,o):y)){m=!1;break}v||(v=f=="constructor")}if(m&&!v){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(m=!1)}return o.delete(e),o.delete(t),m}var hE=gu(Co,"DataView"),fE=gu(Co,"Promise"),pE=gu(Co,"Set"),dE=gu(Co,"WeakMap"),mR="[object Map]",rut="[object Object]",gR="[object Promise]",yR="[object Set]",vR="[object WeakMap]",bR="[object DataView]",nut=mu(hE),iut=mu(Jd),out=mu(fE),aut=mu(pE),sut=mu(dE),po=Bs;(hE&&po(new hE(new ArrayBuffer(1)))!=bR||Jd&&po(new Jd)!=mR||fE&&po(fE.resolve())!=gR||pE&&po(new pE)!=yR||dE&&po(new dE)!=vR)&&(po=function(e){var t=Bs(e),r=t==rut?e.constructor:void 0,n=r?mu(r):"";if(n)switch(n){case nut:return bR;case iut:return mR;case out:return gR;case aut:return yR;case sut:return vR}return t});var lut=1,_R="[object Arguments]",wR="[object Array]",Xm="[object Object]",uut=Object.prototype,TR=uut.hasOwnProperty;function cut(e,t,r,n,i,o){var a=$n(e),s=$n(t),u=a?wR:po(e),l=s?wR:po(t);u=u==_R?Xm:u,l=l==_R?Xm:l;var c=u==Xm,h=l==Xm,f=u==l;if(f&&Qd(e)){if(!Qd(t))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new _o),a||a4(e)?XG(e,t,r,n,i,o):Glt(e,t,u,r,n,i,o);if(!(r&lut)){var p=c&&TR.call(e,"__wrapped__"),d=h&&TR.call(t,"__wrapped__");if(p||d){var m=p?e.value():e,v=d?t.value():t;return o||(o=new _o),i(m,v,r,n,o)}}return f?(o||(o=new _o),tut(e,t,r,n,i,o)):!1}function h4(e,t,r,n,i){return e===t?!0:e==null||t==null||!To(e)&&!To(t)?e!==e&&t!==t:cut(e,t,r,n,h4,i)}var hut=1,fut=2;function put(e,t,r,n){var i=r.length,o=i;if(e==null)return!o;for(e=Object(e);i--;){var a=r[i];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=r[i];var s=a[0],u=e[s],l=a[1];if(a[2]){if(u===void 0&&!(s in e))return!1}else{var c=new _o,h;if(!(h===void 0?h4(l,u,hut|fut,n,c):h))return!1}}return!0}function $G(e){return e===e&&!Ii(e)}function dut(e){for(var t=u4(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,$G(i)]}return t}function qG(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function mut(e){var t=dut(e);return t.length==1&&t[0][2]?qG(t[0][0],t[0][1]):function(r){return r===e||put(r,e,t)}}var gut="[object Symbol]";function s_(e){return typeof e=="symbol"||To(e)&&Bs(e)==gut}var yut=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vut=/^\w*$/;function f4(e,t){if($n(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||s_(e)?!0:vut.test(e)||!yut.test(e)||t!=null&&e in Object(t)}var but="Expected a function";function p4(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(but);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(p4.Cache||Za),r}p4.Cache=Za;var _ut=500;function wut(e){var t=p4(e,function(n){return r.size===_ut&&r.clear(),n}),r=t.cache;return t}var Tut=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xut=/\\(\\)?/g,Eut=wut(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Tut,function(r,n,i,o){t.push(i?o.replace(xut,"$1"):n||r)}),t}),xR=Zo?Zo.prototype:void 0,ER=xR?xR.toString:void 0;function KG(e){if(typeof e=="string")return e;if($n(e))return WG(e,KG)+"";if(s_(e))return ER?ER.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Sut(e){return e==null?"":KG(e)}function ZG(e,t){return $n(e)?e:f4(e,t)?[e]:Eut(Sut(e))}function l_(e){if(typeof e=="string"||s_(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function QG(e,t){t=ZG(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[l_(t[r++])];return r&&r==n?e:void 0}function kut(e,t,r){var n=e==null?void 0:QG(e,t);return n===void 0?r:n}function Out(e,t){return e!=null&&t in Object(e)}function Put(e,t,r){t=ZG(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var a=l_(t[n]);if(!(o=e!=null&&r(e,a)))break;e=e[a]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&i4(i)&&n4(a,i)&&($n(e)||Py(e)))}function Cut(e,t){return e!=null&&Put(e,t,Out)}var Aut=1,Mut=2;function Iut(e,t){return f4(e)&&$G(t)?qG(l_(e),t):function(r){var n=kut(r,e);return n===void 0&&n===t?Cut(r,e):h4(t,n,Aut|Mut)}}function Rut(e){return function(t){return t?.[e]}}function Dut(e){return function(t){return QG(t,e)}}function Nut(e){return f4(e)?Rut(l_(e)):Dut(e)}function jut(e){return typeof e=="function"?e:e==null?i_:typeof e=="object"?$n(e)?Iut(e[0],e[1]):mut(e):Nut(e)}function Lut(e,t){return function(r,n){if(r==null)return r;if(!Pf(r))return e(r,n);for(var i=r.length,o=-1,a=Object(r);++o<i&&n(a[o],o,a)!==!1;);return r}}var JG=Lut(HG);function But(e,t){var r=-1,n=Pf(e)?Array(e.length):[];return JG(e,function(i,o,a){n[++r]=t(i,o,a)}),n}function Fs(e,t){var r=$n(e)?WG:But;return r(e,jut(t))}const Fut=Object.freeze(Object.defineProperty({__proto__:null,default:Fs},Symbol.toStringTag,{value:"Module"})),zut=Jo(Fut);Object.defineProperty(H1,"__esModule",{value:!0});H1.flattenNames=void 0;var Hut=Aat,Uut=u_(Hut),Vut=c4,Gut=u_(Vut),Yut=Rst,Wut=u_(Yut),Xut=zut,$ut=u_(Xut);function u_(e){return e&&e.__esModule?e:{default:e}}var qut=H1.flattenNames=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[];return(0,$ut.default)(t,function(n){Array.isArray(n)?e(n).map(function(i){return r.push(i)}):(0,Wut.default)(n)?(0,Gut.default)(n,function(i,o){i===!0&&r.push(o),r.push(o+"-"+i)}):(0,Uut.default)(n)&&r.push(n)}),r};H1.default=qut;var V1={};function eY(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var My=(function(){try{var e=gu(Object,"defineProperty");return e({},"",{}),e}catch{}})();function d4(e,t,r){t=="__proto__"&&My?My(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Kut=Object.prototype,Zut=Kut.hasOwnProperty;function tY(e,t,r){var n=e[t];(!(Zut.call(e,t)&&U1(n,r))||r===void 0&&!(t in e))&&d4(e,t,r)}function Qut(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=void 0;u===void 0&&(u=e[s]),i?d4(r,s,u):tY(r,s,u)}return r}function Jut(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var ect=Object.prototype,tct=ect.hasOwnProperty;function rct(e){if(!Ii(e))return Jut(e);var t=s4(e),r=[];for(var n in e)n=="constructor"&&(t||!tct.call(e,n))||r.push(n);return r}function rY(e){return Pf(e)?FG(e,!0):rct(e)}var nY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,SR=nY&&typeof module=="object"&&module&&!module.nodeType&&module,nct=SR&&SR.exports===nY,kR=nct?Co.Buffer:void 0,OR=kR?kR.allocUnsafe:void 0;function iY(e,t){if(t)return e.slice();var r=e.length,n=OR?OR(r):new e.constructor(r);return e.copy(n),n}function ict(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var oct=Object.prototype,act=oct.hasOwnProperty;function sct(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&act.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function m4(e){var t=new e.constructor(e.byteLength);return new Ay(t).set(new Ay(e)),t}function lct(e,t){var r=m4(e.buffer);return new e.constructor(r,e.byteOffset,e.byteLength)}var uct=/\w*$/;function cct(e){var t=new e.constructor(e.source,uct.exec(e));return t.lastIndex=e.lastIndex,t}var PR=Zo?Zo.prototype:void 0,CR=PR?PR.valueOf:void 0;function hct(e){return CR?Object(CR.call(e)):{}}function oY(e,t){var r=t?m4(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var fct="[object Boolean]",pct="[object Date]",dct="[object Map]",mct="[object Number]",gct="[object RegExp]",yct="[object Set]",vct="[object String]",bct="[object Symbol]",_ct="[object ArrayBuffer]",wct="[object DataView]",Tct="[object Float32Array]",xct="[object Float64Array]",Ect="[object Int8Array]",Sct="[object Int16Array]",kct="[object Int32Array]",Oct="[object Uint8Array]",Pct="[object Uint8ClampedArray]",Cct="[object Uint16Array]",Act="[object Uint32Array]";function Mct(e,t,r){var n=e.constructor;switch(t){case _ct:return m4(e);case fct:case pct:return new n(+e);case wct:return lct(e);case Tct:case xct:case Ect:case Sct:case kct:case Oct:case Pct:case Cct:case Act:return oY(e,r);case dct:return new n;case mct:case vct:return new n(e);case gct:return cct(e);case yct:return new n;case bct:return hct(e)}}var AR=Object.create,Ict=(function(){function e(){}return function(t){if(!Ii(t))return{};if(AR)return AR(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})();function aY(e){return typeof e.constructor=="function"&&!s4(e)?Ict(VG(e)):{}}var Rct="[object Map]";function Dct(e){return To(e)&&po(e)==Rct}var MR=dh&&dh.isMap,Nct=MR?o4(MR):Dct,jct="[object Set]";function Lct(e){return To(e)&&po(e)==jct}var IR=dh&&dh.isSet,Bct=IR?o4(IR):Lct,Fct=1,sY="[object Arguments]",zct="[object Array]",Hct="[object Boolean]",Uct="[object Date]",Vct="[object Error]",lY="[object Function]",Gct="[object GeneratorFunction]",Yct="[object Map]",Wct="[object Number]",uY="[object Object]",Xct="[object RegExp]",$ct="[object Set]",qct="[object String]",Kct="[object Symbol]",Zct="[object WeakMap]",Qct="[object ArrayBuffer]",Jct="[object DataView]",eht="[object Float32Array]",tht="[object Float64Array]",rht="[object Int8Array]",nht="[object Int16Array]",iht="[object Int32Array]",oht="[object Uint8Array]",aht="[object Uint8ClampedArray]",sht="[object Uint16Array]",lht="[object Uint32Array]",_r={};_r[sY]=_r[zct]=_r[Qct]=_r[Jct]=_r[Hct]=_r[Uct]=_r[eht]=_r[tht]=_r[rht]=_r[nht]=_r[iht]=_r[Yct]=_r[Wct]=_r[uY]=_r[Xct]=_r[$ct]=_r[qct]=_r[Kct]=_r[oht]=_r[aht]=_r[sht]=_r[lht]=!0;_r[Vct]=_r[lY]=_r[Zct]=!1;function Gg(e,t,r,n,i,o){var a,s=t&Fct;if(a!==void 0)return a;if(!Ii(e))return e;var u=$n(e);if(u)a=sct(e);else{var l=po(e),c=l==lY||l==Gct;if(Qd(e))return iY(e,s);if(l==uY||l==sY||c&&!i)a=c?{}:aY(e);else{if(!_r[l])return i?e:{};a=Mct(e,l,s)}}o||(o=new _o);var h=o.get(e);if(h)return h;o.set(e,a),Bct(e)?e.forEach(function(d){a.add(Gg(d,t,r,d,e,o))}):Nct(e)&&e.forEach(function(d,m){a.set(m,Gg(d,t,r,m,e,o))});var f=cE,p=u?void 0:f(e);return eY(p||e,function(d,m){p&&(m=d,d=e[m]),tY(a,m,Gg(d,t,r,m,e,o))}),a}var uht=1,cht=4;function hht(e){return Gg(e,uht|cht)}const fht=Object.freeze(Object.defineProperty({__proto__:null,default:hht},Symbol.toStringTag,{value:"Module"})),pht=Jo(fht);Object.defineProperty(V1,"__esModule",{value:!0});V1.mergeClasses=void 0;var dht=c4,mht=cY(dht),ght=pht,yht=cY(ght),vht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function cY(e){return e&&e.__esModule?e:{default:e}}var bht=V1.mergeClasses=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,yht.default)(e.default)||{};return t.map(function(n){var i=e[n];return i&&(0,mht.default)(i,function(o,a){r[a]||(r[a]={}),r[a]=vht({},r[a],i[a])}),n}),r};V1.default=bht;var G1={};Object.defineProperty(G1,"__esModule",{value:!0});G1.autoprefix=void 0;var _ht=c4,RR=Tht(_ht),wht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function Tht(e){return e&&e.__esModule?e:{default:e}}var xht={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var r=t[e];return r||{extend:e}}},Eht=G1.autoprefix=function(e){var t={};return(0,RR.default)(e,function(r,n){var i={};(0,RR.default)(r,function(o,a){var s=xht[a];s?i=wht({},i,s(o)):i[a]=o}),t[n]=i}),t};G1.default=Eht;var Y1={};Object.defineProperty(Y1,"__esModule",{value:!0});Y1.hover=void 0;var Sht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kht=P,c2=Oht(kht);function Oht(e){return e&&e.__esModule?e:{default:e}}function Pht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DR(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Cht(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Aht=Y1.hover=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(r){Cht(n,r);function n(){var i,o,a,s;Pht(this,n);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return s=(o=(a=DR(this,(i=n.__proto__||Object.getPrototypeOf(n)).call.apply(i,[this].concat(l))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return c2.default.createElement(t,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},c2.default.createElement(e,Sht({},a.props,a.state)))},o),DR(a,s)}return n})(c2.default.Component)};Y1.default=Aht;var W1={};Object.defineProperty(W1,"__esModule",{value:!0});W1.active=void 0;var Mht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iht=P,h2=Rht(Iht);function Rht(e){return e&&e.__esModule?e:{default:e}}function Dht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NR(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Nht(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var jht=W1.active=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(r){Nht(n,r);function n(){var i,o,a,s;Dht(this,n);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return s=(o=(a=NR(this,(i=n.__proto__||Object.getPrototypeOf(n)).call.apply(i,[this].concat(l))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return h2.default.createElement(t,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},h2.default.createElement(e,Mht({},a.props,a.state)))},o),NR(a,s)}return n})(h2.default.Component)};W1.default=jht;var g4={};Object.defineProperty(g4,"__esModule",{value:!0});var Lht=function(e,t){var r={},n=function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[i]=o};return e===0&&n("first-child"),e===t-1&&n("last-child"),(e===0||e%2===0)&&n("even"),Math.abs(e%2)===1&&n("odd"),n("nth-child",e),r};g4.default=Lht;Object.defineProperty(Gi,"__esModule",{value:!0});Gi.ReactCSS=Gi.loop=Gi.handleActive=y4=Gi.handleHover=Gi.hover=void 0;var Bht=H1,Fht=Cf(Bht),zht=V1,Hht=Cf(zht),Uht=G1,Vht=Cf(Uht),Ght=Y1,hY=Cf(Ght),Yht=W1,Wht=Cf(Yht),Xht=g4,$ht=Cf(Xht);function Cf(e){return e&&e.__esModule?e:{default:e}}Gi.hover=hY.default;var y4=Gi.handleHover=hY.default;Gi.handleActive=Wht.default;Gi.loop=$ht.default;var qht=Gi.ReactCSS=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=(0,Fht.default)(r),o=(0,Hht.default)(e,i);return(0,Vht.default)(o)},wt=Gi.default=qht,Kht=function(e,t,r,n,i){var o=i.clientWidth,a=i.clientHeight,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,l=s-(i.getBoundingClientRect().left+window.pageXOffset),c=u-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var h=void 0;if(c<0?h=0:c>a?h=1:h=Math.round(c*100/a)/100,t.a!==h)return{h:t.h,s:t.s,l:t.l,a:h,source:"rgb"}}else{var f=void 0;if(l<0?f=0:l>o?f=1:f=Math.round(l*100/o)/100,n!==f)return{h:t.h,s:t.s,l:t.l,a:f,source:"rgb"}}return null},f2={},Zht=function(e,t,r,n){if(typeof document>"u"&&!n)return null;var i=n?new n:document.createElement("canvas");i.width=r*2,i.height=r*2;var o=i.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,i.width,i.height),o.fillStyle=t,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),i.toDataURL()):null},Qht=function(e,t,r,n){var i=e+"-"+t+"-"+r+(n?"-server":"");if(f2[i])return f2[i];var o=Zht(e,t,r,n);return f2[i]=o,o},jR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Af=function(e){var t=e.white,r=e.grey,n=e.size,i=e.renderers,o=e.borderRadius,a=e.boxShadow,s=e.children,u=wt({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+Qht(t,r,n,i.canvas)+") center left"}}});return Mr.isValidElement(s)?P.cloneElement(s,jR({},s.props,{style:jR({},s.props.style,u.grid)})):P.createElement("div",{style:u.grid})};Af.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Jht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eft=(function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}})();function tft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LR(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function rft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v4=(function(e){rft(t,e);function t(){var r,n,i,o;tft(this,t);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return o=(n=(i=LR(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(s))),i),i.handleChange=function(l){var c=Kht(l,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,l)},i.handleMouseDown=function(l){i.handleChange(l),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},n),LR(i,o)}return eft(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,n=this.props.rgb,i=wt({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+n.r+","+n.g+","+n.b+`, 0) 0%,
           rgba(`+n.r+","+n.g+","+n.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:n.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+n.r+","+n.g+","+n.b+`, 0) 0%,
           rgba(`+n.r+","+n.g+","+n.b+", 1) 100%)"},pointer:{left:0,top:n.a*100+"%"}},overwrite:Jht({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return P.createElement("div",{style:i.alpha},P.createElement("div",{style:i.checkboard},P.createElement(Af,{renderers:this.props.renderers})),P.createElement("div",{style:i.gradient}),P.createElement("div",{style:i.container,ref:function(o){return r.container=o},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("div",{style:i.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:i.slider}))))}}]),t})(Mr.PureComponent||Mr.Component),nft=(function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}})();function ift(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aft(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function sft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var lft=1,fY=38,uft=40,cft=[fY,uft],hft=function(e){return cft.indexOf(e)>-1},fft=function(e){return Number(String(e).replace(/%/g,""))},pft=1,er=(function(e){sft(t,e);function t(r){oft(this,t);var n=aft(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(i){n.setUpdatedValue(i.target.value,i)},n.handleKeyDown=function(i){var o=fft(i.target.value);if(!isNaN(o)&&hft(i.keyCode)){var a=n.getArrowOffset(),s=i.keyCode===fY?o+a:o-a;n.setUpdatedValue(s,i)}},n.handleDrag=function(i){if(n.props.dragLabel){var o=Math.round(n.props.value+i.movementX);o>=0&&o<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(o),i)}},n.handleMouseDown=function(i){n.props.dragLabel&&(i.preventDefault(),n.handleDrag(i),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},n.inputId="rc-editable-input-"+pft++,n}return nft(t,[{key:"componentDidUpdate",value:function(r,n){this.props.value!==this.state.value&&(r.value!==this.props.value||n.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return ift({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||lft}},{key:"setUpdatedValue",value:function(r,n){var i=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(i,n),this.setState({value:r})}},{key:"render",value:function(){var r=this,n=wt({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return P.createElement("div",{style:n.wrap},P.createElement("input",{id:this.inputId,style:n.input,ref:function(i){return r.input=i},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?P.createElement("label",{htmlFor:this.inputId,style:n.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t})(Mr.PureComponent||Mr.Component),dft=function(e,t,r,n){var i=n.clientWidth,o=n.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,s=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(n.getBoundingClientRect().left+window.pageXOffset),l=s-(n.getBoundingClientRect().top+window.pageYOffset);if(t==="vertical"){var c=void 0;if(l<0)c=359;else if(l>o)c=0;else{var h=-(l*100/o)+100;c=360*h/100}if(r.h!==c)return{h:c,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var f=void 0;if(u<0)f=0;else if(u>i)f=359;else{var p=u*100/i;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},mft=(function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}})();function gft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BR(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function yft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Mf=(function(e){yft(t,e);function t(){var r,n,i,o;gft(this,t);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return o=(n=(i=BR(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(s))),i),i.handleChange=function(l){var c=dft(l,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,l)},i.handleMouseDown=function(l){i.handleChange(l),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},n),BR(i,o)}return mft(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,n=this.props.direction,i=n===void 0?"horizontal":n,o=wt({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:i==="vertical"});return P.createElement("div",{style:o.hue},P.createElement("div",{className:"hue-"+i,style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),P.createElement("div",{style:o.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:o.slider}))))}}]),t})(Mr.PureComponent||Mr.Component);function mE(e,t,r){(r!==void 0&&!U1(e[t],r)||r===void 0&&!(t in e))&&d4(e,t,r)}function vft(e){return To(e)&&Pf(e)}function gE(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function bft(e){return Qut(e,rY(e))}function _ft(e,t,r,n,i,o,a){var s=gE(e,r),u=gE(t,r),l=a.get(u);if(l){mE(e,r,l);return}var c=o?o(s,u,r+"",e,t,a):void 0,h=c===void 0;if(h){var f=$n(u),p=!f&&Qd(u),d=!f&&!p&&a4(u);c=u,f||p||d?$n(s)?c=s:vft(s)?c=ict(s):p?(h=!1,c=iY(u,!0)):d?(h=!1,c=oY(u,!0)):c=[]:YG(u)||Py(u)?(c=s,Py(s)?c=bft(s):(!Ii(s)||l4(s))&&(c=aY(u))):h=!1}h&&(a.set(u,c),i(c,u,n,o,a),a.delete(u)),mE(e,r,c)}function pY(e,t,r,n,i){e!==t&&NG(t,function(o,a){if(i||(i=new _o),Ii(o))_ft(e,t,a,r,pY,n,i);else{var s=n?n(gE(e,a),o,a+"",e,t,i):void 0;s===void 0&&(s=o),mE(e,a,s)}},rY)}function wft(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var FR=Math.max;function Tft(e,t,r){return t=FR(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=FR(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),wft(e,this,s)}}function xft(e){return function(){return e}}var Eft=My?function(e,t){return My(e,"toString",{configurable:!0,enumerable:!1,value:xft(t),writable:!0})}:i_,Sft=800,kft=16,Oft=Date.now;function Pft(e){var t=0,r=0;return function(){var n=Oft(),i=kft-(n-r);if(r=n,i>0){if(++t>=Sft)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Cft=Pft(Eft);function Aft(e,t){return Cft(Tft(e,t,i_),e+"")}function Mft(e,t,r){if(!Ii(r))return!1;var n=typeof t;return(n=="number"?Pf(r)&&n4(t,r.length):n=="string"&&t in r)?U1(r[t],e):!1}function Ift(e){return Aft(function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,a&&Mft(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,o)}return t})}var gi=Ift(function(e,t,r){pY(e,t,r)}),X1=function(e){var t=e.zDepth,r=e.radius,n=e.background,i=e.children,o=e.styles,a=o===void 0?{}:o,s=wt(gi({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+t*4+"px rgba(0,0,0,.24)",borderRadius:r,background:n}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":t===1});return P.createElement("div",{style:s.wrap},P.createElement("div",{style:s.bg}),P.createElement("div",{style:s.content},i))};X1.propTypes={background:j.string,zDepth:j.oneOf([0,1,2,3,4,5]),radius:j.number,styles:j.object};X1.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var p2=function(){return Co.Date.now()},Rft=/\s/;function Dft(e){for(var t=e.length;t--&&Rft.test(e.charAt(t)););return t}var Nft=/^\s+/;function jft(e){return e&&e.slice(0,Dft(e)+1).replace(Nft,"")}var zR=NaN,Lft=/^[-+]0x[0-9a-f]+$/i,Bft=/^0b[01]+$/i,Fft=/^0o[0-7]+$/i,zft=parseInt;function HR(e){if(typeof e=="number")return e;if(s_(e))return zR;if(Ii(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ii(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=jft(e);var r=Bft.test(e);return r||Fft.test(e)?zft(e.slice(2),r?2:8):Lft.test(e)?zR:+e}var Hft="Expected a function",Uft=Math.max,Vft=Math.min;function dY(e,t,r){var n,i,o,a,s,u,l=0,c=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(Hft);t=HR(t)||0,Ii(r)&&(c=!!r.leading,h="maxWait"in r,o=h?Uft(HR(r.maxWait)||0,t):o,f="trailing"in r?!!r.trailing:f);function p(T){var O=n,E=i;return n=i=void 0,l=T,a=e.apply(E,O),a}function d(T){return l=T,s=setTimeout(b,t),c?p(T):a}function m(T){var O=T-u,E=T-l,S=t-O;return h?Vft(S,o-E):S}function v(T){var O=T-u,E=T-l;return u===void 0||O>=t||O<0||h&&E>=o}function b(){var T=p2();if(v(T))return g(T);s=setTimeout(b,m(T))}function g(T){return s=void 0,f&&n?p(T):(n=i=void 0,a)}function y(){s!==void 0&&clearTimeout(s),l=0,n=u=i=s=void 0}function _(){return s===void 0?a:g(p2())}function w(){var T=p2(),O=v(T);if(n=arguments,i=this,u=T,O){if(s===void 0)return d(u);if(h)return clearTimeout(s),s=setTimeout(b,t),p(u)}return s===void 0&&(s=setTimeout(b,t)),a}return w.cancel=y,w.flush=_,w}var Gft="Expected a function";function Yft(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(Gft);return Ii(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),dY(e,t,{leading:n,maxWait:t,trailing:i})}var Wft=function(e,t,r){var n=r.getBoundingClientRect(),i=n.width,o=n.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,s=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),l=s-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>i&&(u=i),l<0?l=0:l>o&&(l=o);var c=u/i,h=1-l/o;return{h:t.h,s:c,v:h,a:t.a,source:"hsv"}},Xft=(function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}})();function $ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qft(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Kft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c_=(function(e){Kft(t,e);function t(r){$ft(this,t);var n=qft(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return n.handleChange=function(i){typeof n.props.onChange=="function"&&n.throttle(n.props.onChange,Wft(i,n.props.hsl,n.container),i)},n.handleMouseDown=function(i){n.handleChange(i);var o=n.getContainerRenderWindow();o.addEventListener("mousemove",n.handleChange),o.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=Yft(function(i,o,a){i(o,a)},50),n}return Xft(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,n=window;!n.document.contains(r)&&n.parent!==n;)n=n.parent;return n}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,n=this.props.style||{},i=n.color,o=n.white,a=n.black,s=n.pointer,u=n.circle,l=wt({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:i,white:o,black:a,pointer:s,circle:u}},{custom:!!this.props.style});return P.createElement("div",{style:l.color,ref:function(c){return r.container=c},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),P.createElement("div",{style:l.white,className:"saturation-white"},P.createElement("div",{style:l.black,className:"saturation-black"}),P.createElement("div",{style:l.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:l.circle}))))}}]),t})(Mr.PureComponent||Mr.Component);function Zft(e,t){var r=$n(e)?eY:JG;return r(e,UG(t))}function Iy(e){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iy(e)}var Qft=/^\s+/,Jft=/\s+$/;function rt(e,t){if(e=e||"",t=t||{},e instanceof rt)return e;if(!(this instanceof rt))return new rt(e,t);var r=ept(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}rt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,r,n,i,o,a;return t=e.r/255,r=e.g/255,n=e.b/255,t<=.03928?i=t/12.92:i=Math.pow((t+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),.2126*i+.7152*o+.0722*a},setAlpha:function(e){return this._a=mY(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=VR(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=VR(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),n=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=UR(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=UR(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),n=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return GR(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return ipt(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Sr(this._r,255)*100)+"%",g:Math.round(Sr(this._g,255)*100)+"%",b:Math.round(Sr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Sr(this._r,255)*100)+"%, "+Math.round(Sr(this._g,255)*100)+"%, "+Math.round(Sr(this._b,255)*100)+"%)":"rgba("+Math.round(Sr(this._r,255)*100)+"%, "+Math.round(Sr(this._g,255)*100)+"%, "+Math.round(Sr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:gpt[GR(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+YR(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var i=rt(e);r="#"+YR(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0,i=!t&&n&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return i?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return rt(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(lpt,arguments)},brighten:function(){return this._applyModification(upt,arguments)},darken:function(){return this._applyModification(cpt,arguments)},desaturate:function(){return this._applyModification(opt,arguments)},saturate:function(){return this._applyModification(apt,arguments)},greyscale:function(){return this._applyModification(spt,arguments)},spin:function(){return this._applyModification(hpt,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(dpt,arguments)},complement:function(){return this._applyCombination(fpt,arguments)},monochromatic:function(){return this._applyCombination(mpt,arguments)},splitcomplement:function(){return this._applyCombination(ppt,arguments)},triad:function(){return this._applyCombination(WR,[3])},tetrad:function(){return this._applyCombination(WR,[4])}};rt.fromRatio=function(e,t){if(Iy(e)=="object"){var r={};for(var n in e)e.hasOwnProperty(n)&&(n==="a"?r[n]=e[n]:r[n]=$p(e[n]));e=r}return rt(e,t)};function ept(e){var t={r:0,g:0,b:0},r=1,n=null,i=null,o=null,a=!1,s=!1;return typeof e=="string"&&(e=_pt(e)),Iy(e)=="object"&&(fa(e.r)&&fa(e.g)&&fa(e.b)?(t=tpt(e.r,e.g,e.b),a=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):fa(e.h)&&fa(e.s)&&fa(e.v)?(n=$p(e.s),i=$p(e.v),t=npt(e.h,n,i),a=!0,s="hsv"):fa(e.h)&&fa(e.s)&&fa(e.l)&&(n=$p(e.s),o=$p(e.l),t=rpt(e.h,n,o),a=!0,s="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=mY(r),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}function tpt(e,t,r){return{r:Sr(e,255)*255,g:Sr(t,255)*255,b:Sr(r,255)*255}}function UR(e,t,r){e=Sr(e,255),t=Sr(t,255),r=Sr(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),o,a,s=(n+i)/2;if(n==i)o=a=0;else{var u=n-i;switch(a=s>.5?u/(2-n-i):u/(n+i),n){case e:o=(t-r)/u+(t<r?6:0);break;case t:o=(r-e)/u+2;break;case r:o=(e-t)/u+4;break}o/=6}return{h:o,s:a,l:s}}function rpt(e,t,r){var n,i,o;e=Sr(e,360),t=Sr(t,100),r=Sr(r,100);function a(l,c,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?l+(c-l)*6*h:h<1/2?c:h<2/3?l+(c-l)*(2/3-h)*6:l}if(t===0)n=i=o=r;else{var s=r<.5?r*(1+t):r+t-r*t,u=2*r-s;n=a(u,s,e+1/3),i=a(u,s,e),o=a(u,s,e-1/3)}return{r:n*255,g:i*255,b:o*255}}function VR(e,t,r){e=Sr(e,255),t=Sr(t,255),r=Sr(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),o,a,s=n,u=n-i;if(a=n===0?0:u/n,n==i)o=0;else{switch(n){case e:o=(t-r)/u+(t<r?6:0);break;case t:o=(r-e)/u+2;break;case r:o=(e-t)/u+4;break}o/=6}return{h:o,s:a,v:s}}function npt(e,t,r){e=Sr(e,360)*6,t=Sr(t,100),r=Sr(r,100);var n=Math.floor(e),i=e-n,o=r*(1-t),a=r*(1-i*t),s=r*(1-(1-i)*t),u=n%6,l=[r,a,o,o,s,r][u],c=[s,r,r,a,o,o][u],h=[o,o,s,r,r,a][u];return{r:l*255,g:c*255,b:h*255}}function GR(e,t,r,n){var i=[yo(Math.round(e).toString(16)),yo(Math.round(t).toString(16)),yo(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function ipt(e,t,r,n,i){var o=[yo(Math.round(e).toString(16)),yo(Math.round(t).toString(16)),yo(Math.round(r).toString(16)),yo(gY(n))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function YR(e,t,r,n){var i=[yo(gY(n)),yo(Math.round(e).toString(16)),yo(Math.round(t).toString(16)),yo(Math.round(r).toString(16))];return i.join("")}rt.equals=function(e,t){return!e||!t?!1:rt(e).toRgbString()==rt(t).toRgbString()};rt.random=function(){return rt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function opt(e,t){t=t===0?0:t||10;var r=rt(e).toHsl();return r.s-=t/100,r.s=h_(r.s),rt(r)}function apt(e,t){t=t===0?0:t||10;var r=rt(e).toHsl();return r.s+=t/100,r.s=h_(r.s),rt(r)}function spt(e){return rt(e).desaturate(100)}function lpt(e,t){t=t===0?0:t||10;var r=rt(e).toHsl();return r.l+=t/100,r.l=h_(r.l),rt(r)}function upt(e,t){t=t===0?0:t||10;var r=rt(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),rt(r)}function cpt(e,t){t=t===0?0:t||10;var r=rt(e).toHsl();return r.l-=t/100,r.l=h_(r.l),rt(r)}function hpt(e,t){var r=rt(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,rt(r)}function fpt(e){var t=rt(e).toHsl();return t.h=(t.h+180)%360,rt(t)}function WR(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=rt(e).toHsl(),n=[rt(e)],i=360/t,o=1;o<t;o++)n.push(rt({h:(r.h+o*i)%360,s:r.s,l:r.l}));return n}function ppt(e){var t=rt(e).toHsl(),r=t.h;return[rt(e),rt({h:(r+72)%360,s:t.s,l:t.l}),rt({h:(r+216)%360,s:t.s,l:t.l})]}function dpt(e,t,r){t=t||6,r=r||30;var n=rt(e).toHsl(),i=360/r,o=[rt(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,o.push(rt(n));return o}function mpt(e,t){t=t||6;for(var r=rt(e).toHsv(),n=r.h,i=r.s,o=r.v,a=[],s=1/t;t--;)a.push(rt({h:n,s:i,v:o})),o=(o+s)%1;return a}rt.mix=function(e,t,r){r=r===0?0:r||50;var n=rt(e).toRgb(),i=rt(t).toRgb(),o=r/100,a={r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a};return rt(a)};rt.readability=function(e,t){var r=rt(e),n=rt(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};rt.isReadable=function(e,t,r){var n=rt.readability(e,t),i,o;switch(o=!1,i=wpt(r),i.level+i.size){case"AAsmall":case"AAAlarge":o=n>=4.5;break;case"AAlarge":o=n>=3;break;case"AAAsmall":o=n>=7;break}return o};rt.mostReadable=function(e,t,r){var n=null,i=0,o,a,s,u;r=r||{},a=r.includeFallbackColors,s=r.level,u=r.size;for(var l=0;l<t.length;l++)o=rt.readability(e,t[l]),o>i&&(i=o,n=rt(t[l]));return rt.isReadable(e,n,{level:s,size:u})||!a?n:(r.includeFallbackColors=!1,rt.mostReadable(e,["#fff","#000"],r))};var yE=rt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},gpt=rt.hexNames=ypt(yE);function ypt(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function mY(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Sr(e,t){vpt(e)&&(e="100%");var r=bpt(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function h_(e){return Math.min(1,Math.max(0,e))}function ki(e){return parseInt(e,16)}function vpt(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function bpt(e){return typeof e=="string"&&e.indexOf("%")!=-1}function yo(e){return e.length==1?"0"+e:""+e}function $p(e){return e<=1&&(e=e*100+"%"),e}function gY(e){return Math.round(parseFloat(e)*255).toString(16)}function XR(e){return ki(e)/255}var uo=(function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function fa(e){return!!uo.CSS_UNIT.exec(e)}function _pt(e){e=e.replace(Qft,"").replace(Jft,"").toLowerCase();var t=!1;if(yE[e])e=yE[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=uo.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=uo.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=uo.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=uo.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=uo.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=uo.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=uo.hex8.exec(e))?{r:ki(r[1]),g:ki(r[2]),b:ki(r[3]),a:XR(r[4]),format:t?"name":"hex8"}:(r=uo.hex6.exec(e))?{r:ki(r[1]),g:ki(r[2]),b:ki(r[3]),format:t?"name":"hex"}:(r=uo.hex4.exec(e))?{r:ki(r[1]+""+r[1]),g:ki(r[2]+""+r[2]),b:ki(r[3]+""+r[3]),a:XR(r[4]+""+r[4]),format:t?"name":"hex8"}:(r=uo.hex3.exec(e))?{r:ki(r[1]+""+r[1]),g:ki(r[2]+""+r[2]),b:ki(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function wpt(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:t,size:r}}var $R=function(e){var t=["r","g","b","a","h","s","l","v"],r=0,n=0;return Zft(t,function(i){if(e[i]&&(r+=1,isNaN(e[i])||(n+=1),i==="s"||i==="l")){var o=/^\d+%$/;o.test(e[i])&&(n+=1)}}),r===n?e:!1},qp=function(e,t){var r=e.hex?rt(e.hex):rt(e),n=r.toHsl(),i=r.toHsv(),o=r.toRgb(),a=r.toHex();n.s===0&&(n.h=t||0,i.h=t||0);var s=a==="000000"&&o.a===0;return{hsl:n,hex:s?"transparent":"#"+a,rgb:o,hsv:i,oldHue:e.h||t||n.h,source:e.source}},zs=function(e){if(e==="transparent")return!0;var t=String(e).charAt(0)==="#"?1:0;return e.length!==4+t&&e.length<7+t&&rt(e).isValid()},b4=function(e){if(!e)return"#fff";var t=qp(e);if(t.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(t.rgb.r*299+t.rgb.g*587+t.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},d2=function(e,t){var r=e.replace("°","");return rt(t+" ("+r+")")._ok},Sp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tpt=(function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}})();function xpt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ept(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Spt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var yi=function(e){var t=(function(r){Spt(n,r);function n(i){xpt(this,n);var o=Ept(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return o.handleChange=function(a,s){var u=$R(a);if(u){var l=qp(a,a.h||o.state.oldHue);o.setState(l),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,l,s),o.props.onChange&&o.props.onChange(l,s)}},o.handleSwatchHover=function(a,s){var u=$R(a);if(u){var l=qp(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(l,s)}},o.state=Sp({},qp(i.color,0)),o.debounce=dY(function(a,s,u){a(s,u)},100),o}return Tpt(n,[{key:"render",value:function(){var i={};return this.props.onSwatchHover&&(i.onSwatchHover=this.handleSwatchHover),P.createElement(e,Sp({},this.props,this.state,{onChange:this.handleChange},i))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return Sp({},qp(i.color,o.oldHue))}}]),n})(Mr.PureComponent||Mr.Component);return t.propTypes=Sp({},e.propTypes),t.defaultProps=Sp({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},kpt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Opt=(function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}})();function Ppt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qR(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Cpt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Apt=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(r){Cpt(n,r);function n(){var i,o,a,s;Ppt(this,n);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return s=(o=(a=qR(this,(i=n.__proto__||Object.getPrototypeOf(n)).call.apply(i,[this].concat(l))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),qR(a,s)}return Opt(n,[{key:"render",value:function(){return P.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},P.createElement(e,kpt({},this.props,this.state)))}}]),n})(P.Component)},KR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mpt=13,Ipt=function(e){var t=e.color,r=e.style,n=e.onClick,i=n===void 0?function(){}:n,o=e.onHover,a=e.title,s=a===void 0?t:a,u=e.children,l=e.focus,c=e.focusStyle,h=c===void 0?{}:c,f=t==="transparent",p=wt({default:{swatch:KR({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,l?h:{})}}),d=function(g){return i(t,g)},m=function(g){return g.keyCode===Mpt&&i(t,g)},v=function(g){return o(t,g)},b={};return o&&(b.onMouseOver=v),P.createElement("div",KR({style:p.swatch,onClick:d,title:s,tabIndex:0,onKeyDown:m},b),u,f&&P.createElement(Af,{borderRadius:p.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const yu=Apt(Ipt);var Rpt=function(e){var t=e.direction,r=wt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:t==="vertical"});return P.createElement("div",{style:r.picker})},Dpt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yY=function(e){var t=e.rgb,r=e.hsl,n=e.width,i=e.height,o=e.onChange,a=e.direction,s=e.style,u=e.renderers,l=e.pointer,c=e.className,h=c===void 0?"":c,f=wt({default:{picker:{position:"relative",width:n,height:i},alpha:{radius:"2px",style:s}}});return P.createElement("div",{style:f.picker,className:"alpha-picker "+h},P.createElement(v4,Dpt({},f.alpha,{rgb:t,hsl:r,pointer:l,renderers:u,onChange:o,direction:a})))};yY.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Rpt};yi(yY);var Npt=function(e){var t=e.colors,r=e.onClick,n=e.onSwatchHover,i=wt({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return P.createElement("div",{style:i.swatches},Fs(t,function(o){return P.createElement(yu,{key:o,color:o,style:i.swatch,onClick:r,onHover:n,focusStyle:{boxShadow:"0 0 4px "+o}})}),P.createElement("div",{style:i.clear}))},_4=function(e){var t=e.onChange,r=e.onSwatchHover,n=e.hex,i=e.colors,o=e.width,a=e.triangle,s=e.styles,u=s===void 0?{}:s,l=e.className,c=l===void 0?"":l,h=n==="transparent",f=function(d,m){zs(d)&&t({hex:d,source:"hex"},m)},p=wt(gi({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:n,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:b4(n),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+n+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return P.createElement("div",{style:p.card,className:"block-picker "+c},P.createElement("div",{style:p.triangle}),P.createElement("div",{style:p.head},h&&P.createElement(Af,{borderRadius:"6px 6px 0 0"}),P.createElement("div",{style:p.label},n)),P.createElement("div",{style:p.body},P.createElement(Npt,{colors:i,onClick:f,onSwatchHover:r}),P.createElement(er,{style:{input:p.input},value:n,onChange:f})))};_4.propTypes={width:j.oneOfType([j.string,j.number]),colors:j.arrayOf(j.string),triangle:j.oneOf(["top","hide"]),styles:j.object};_4.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};yi(_4);var tc={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},rc={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},nc={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},ic={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},oc={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},ac={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},sc={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},lc={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},uc={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},Kp={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},cc={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},hc={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},fc={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},pc={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},dc={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},mc={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},gc={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},yc={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},vY=function(e){var t=e.color,r=e.onClick,n=e.onSwatchHover,i=e.hover,o=e.active,a=e.circleSize,s=e.circleSpacing,u=wt({default:{swatch:{width:a,height:a,marginRight:s,marginBottom:s,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:i,active:o});return P.createElement("div",{style:u.swatch},P.createElement(yu,{style:u.Swatch,color:t,onClick:r,onHover:n,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+t}}))};vY.defaultProps={circleSize:28,circleSpacing:14};const jpt=y4(vY);var w4=function(e){var t=e.width,r=e.onChange,n=e.onSwatchHover,i=e.colors,o=e.hex,a=e.circleSize,s=e.styles,u=s===void 0?{}:s,l=e.circleSpacing,c=e.className,h=c===void 0?"":c,f=wt(gi({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-l,marginBottom:-l}}},u)),p=function(d,m){return r({hex:d,source:"hex"},m)};return P.createElement("div",{style:f.card,className:"circle-picker "+h},Fs(i,function(d){return P.createElement(jpt,{key:d,color:d,onClick:p,onSwatchHover:n,active:o===d.toLowerCase(),circleSize:a,circleSpacing:l})}))};w4.propTypes={width:j.oneOfType([j.string,j.number]),circleSize:j.number,circleSpacing:j.number,styles:j.object};w4.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[tc[500],rc[500],nc[500],ic[500],oc[500],ac[500],sc[500],lc[500],uc[500],Kp[500],cc[500],hc[500],fc[500],pc[500],dc[500],mc[500],gc[500],yc[500]],styles:{}};yi(w4);function ZR(e){return e===void 0}var bY={};Object.defineProperty(bY,"__esModule",{value:!0});var QR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lpt=P,JR=Bpt(Lpt);function Bpt(e){return e&&e.__esModule?e:{default:e}}function Fpt(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var $m=24,zpt=bY.default=function(e){var t=e.fill,r=t===void 0?"currentColor":t,n=e.width,i=n===void 0?$m:n,o=e.height,a=o===void 0?$m:o,s=e.style,u=s===void 0?{}:s,l=Fpt(e,["fill","width","height","style"]);return JR.default.createElement("svg",QR({viewBox:"0 0 "+$m+" "+$m,style:QR({fill:r,width:i,height:a},u)},l),JR.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},Hpt=(function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}})();function Upt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vpt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Gpt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _Y=(function(e){Gpt(t,e);function t(r){Upt(this,t);var n=Vpt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){n.state.view==="hex"?n.setState({view:"rgb"}):n.state.view==="rgb"?n.setState({view:"hsl"}):n.state.view==="hsl"&&(n.props.hsl.a===1?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(i,o){i.hex?zs(i.hex)&&n.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?n.props.onChange({r:i.r||n.props.rgb.r,g:i.g||n.props.rgb.g,b:i.b||n.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),n.props.onChange({h:i.h||n.props.hsl.h,s:Number(ZR(i.s)?n.props.hsl.s:i.s),l:Number(ZR(i.l)?n.props.hsl.l:i.l),source:"hsl"},o))},n.showHighlight=function(i){i.currentTarget.style.background="#eee"},n.hideHighlight=function(i){i.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?n.state={view:"rgb"}:n.state={view:r.view},n}return Hpt(t,[{key:"render",value:function(){var r=this,n=wt({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),i=void 0;return this.state.view==="hex"?i=P.createElement("div",{style:n.fields,className:"flexbox-fix"},P.createElement("div",{style:n.field},P.createElement(er,{style:{input:n.input,label:n.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?i=P.createElement("div",{style:n.fields,className:"flexbox-fix"},P.createElement("div",{style:n.field},P.createElement(er,{style:{input:n.input,label:n.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),P.createElement("div",{style:n.field},P.createElement(er,{style:{input:n.input,label:n.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),P.createElement("div",{style:n.field},P.createElement(er,{style:{input:n.input,label:n.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),P.createElement("div",{style:n.alpha},P.createElement(er,{style:{input:n.input,label:n.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(i=P.createElement("div",{style:n.fields,className:"flexbox-fix"},P.createElement("div",{style:n.field},P.createElement(er,{style:{input:n.input,label:n.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),P.createElement("div",{style:n.field},P.createElement(er,{style:{input:n.input,label:n.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),P.createElement("div",{style:n.field},P.createElement(er,{style:{input:n.input,label:n.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),P.createElement("div",{style:n.alpha},P.createElement(er,{style:{input:n.input,label:n.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),P.createElement("div",{style:n.wrap,className:"flexbox-fix"},i,P.createElement("div",{style:n.toggle},P.createElement("div",{style:n.icon,onClick:this.toggleViews,ref:function(o){return r.icon=o}},P.createElement(zpt,{style:n.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.hsl.a!==1&&n.view==="hex"?{view:"rgb"}:null}}]),t})(P.Component);_Y.defaultProps={view:"hex"};var e7=function(){var e=wt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return P.createElement("div",{style:e.picker})},Ypt=function(){var e=wt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return P.createElement("div",{style:e.picker})},T4=function(e){var t=e.width,r=e.onChange,n=e.disableAlpha,i=e.rgb,o=e.hsl,a=e.hsv,s=e.hex,u=e.renderers,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=e.defaultView,d=wt(gi({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},c),{disableAlpha:n});return P.createElement("div",{style:d.picker,className:"chrome-picker "+f},P.createElement("div",{style:d.saturation},P.createElement(c_,{style:d.Saturation,hsl:o,hsv:a,pointer:Ypt,onChange:r})),P.createElement("div",{style:d.body},P.createElement("div",{style:d.controls,className:"flexbox-fix"},P.createElement("div",{style:d.color},P.createElement("div",{style:d.swatch},P.createElement("div",{style:d.active}),P.createElement(Af,{renderers:u}))),P.createElement("div",{style:d.toggles},P.createElement("div",{style:d.hue},P.createElement(Mf,{style:d.Hue,hsl:o,pointer:e7,onChange:r})),P.createElement("div",{style:d.alpha},P.createElement(v4,{style:d.Alpha,rgb:i,hsl:o,pointer:e7,renderers:u,onChange:r})))),P.createElement(_Y,{rgb:i,hsl:o,hex:s,view:p,onChange:r,disableAlpha:n})))};T4.propTypes={width:j.oneOfType([j.string,j.number]),disableAlpha:j.bool,styles:j.object,defaultView:j.oneOf(["hex","rgb","hsl"])};T4.defaultProps={width:225,disableAlpha:!1,styles:{}};yi(T4);var Wpt=function(e){var t=e.color,r=e.onClick,n=r===void 0?function(){}:r,i=e.onSwatchHover,o=e.active,a=wt({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:b4(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":t==="#FFFFFF",transparent:t==="transparent"});return P.createElement(yu,{style:a.color,color:t,onClick:n,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},P.createElement("div",{style:a.dot}))},Xpt=function(e){var t=e.hex,r=e.rgb,n=e.onChange,i=wt({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(a,s){a.r||a.g||a.b?n({r:a.r||r.r,g:a.g||r.g,b:a.b||r.b,source:"rgb"},s):n({hex:a.hex,source:"hex"},s)};return P.createElement("div",{style:i.fields,className:"flexbox-fix"},P.createElement("div",{style:i.active}),P.createElement(er,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:t,onChange:o}),P.createElement(er,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:r.r,onChange:o}),P.createElement(er,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:r.g,onChange:o}),P.createElement(er,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:r.b,onChange:o}))},x4=function(e){var t=e.onChange,r=e.onSwatchHover,n=e.colors,i=e.hex,o=e.rgb,a=e.styles,s=a===void 0?{}:a,u=e.className,l=u===void 0?"":u,c=wt(gi({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},s)),h=function(f,p){f.hex?zs(f.hex)&&t({hex:f.hex,source:"hex"},p):t(f,p)};return P.createElement(X1,{style:c.Compact,styles:s},P.createElement("div",{style:c.compact,className:"compact-picker "+l},P.createElement("div",null,Fs(n,function(f){return P.createElement(Wpt,{key:f,color:f,active:f.toLowerCase()===i,onClick:h,onSwatchHover:r})}),P.createElement("div",{style:c.clear})),P.createElement(Xpt,{hex:i,rgb:o,onChange:h})))};x4.propTypes={colors:j.arrayOf(j.string),styles:j.object};x4.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};yi(x4);var $pt=function(e){var t=e.hover,r=e.color,n=e.onClick,i=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=wt({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:t});return P.createElement("div",{style:a.swatch},P.createElement(yu,{color:r,onClick:n,onHover:i,focusStyle:o}))};const qpt=y4($pt);var E4=function(e){var t=e.width,r=e.colors,n=e.onChange,i=e.onSwatchHover,o=e.triangle,a=e.styles,s=a===void 0?{}:a,u=e.className,l=u===void 0?"":u,c=wt(gi({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},s),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),h=function(f,p){return n({hex:f,source:"hex"},p)};return P.createElement("div",{style:c.card,className:"github-picker "+l},P.createElement("div",{style:c.triangleShadow}),P.createElement("div",{style:c.triangle}),Fs(r,function(f){return P.createElement(qpt,{color:f,key:f,onClick:h,onSwatchHover:i})}))};E4.propTypes={width:j.oneOfType([j.string,j.number]),colors:j.arrayOf(j.string),triangle:j.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:j.object};E4.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};yi(E4);var Kpt=function(e){var t=e.direction,r=wt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:t==="vertical"});return P.createElement("div",{style:r.picker})},Zpt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S4=function(e){var t=e.width,r=e.height,n=e.onChange,i=e.hsl,o=e.direction,a=e.pointer,s=e.styles,u=s===void 0?{}:s,l=e.className,c=l===void 0?"":l,h=wt(gi({default:{picker:{position:"relative",width:t,height:r},hue:{radius:"2px"}}},u)),f=function(p){return n({a:1,h:p.h,l:.5,s:1})};return P.createElement("div",{style:h.picker,className:"hue-picker "+c},P.createElement(Mf,Zpt({},h.hue,{hsl:i,pointer:a,onChange:f,direction:o})))};S4.propTypes={styles:j.object};S4.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Kpt,styles:{}};yi(S4);var Qpt=function(e){var t=e.onChange,r=e.hex,n=e.rgb,i=e.styles,o=i===void 0?{}:i,a=e.className,s=a===void 0?"":a,u=wt(gi({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),l=function(c,h){c.hex?zs(c.hex)&&t({hex:c.hex,source:"hex"},h):(c.r||c.g||c.b)&&t({r:c.r||n.r,g:c.g||n.g,b:c.b||n.b,source:"rgb"},h)};return P.createElement(X1,{styles:o},P.createElement("div",{style:u.material,className:"material-picker "+s},P.createElement(er,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:l}),P.createElement("div",{style:u.split,className:"flexbox-fix"},P.createElement("div",{style:u.third},P.createElement(er,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:n.r,onChange:l})),P.createElement("div",{style:u.third},P.createElement(er,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:n.g,onChange:l})),P.createElement("div",{style:u.third},P.createElement(er,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:n.b,onChange:l})))))};yi(Qpt);var Jpt=function(e){var t=e.onChange,r=e.rgb,n=e.hsv,i=e.hex,o=wt({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(s,u){s["#"]?zs(s["#"])&&t({hex:s["#"],source:"hex"},u):s.r||s.g||s.b?t({r:s.r||r.r,g:s.g||r.g,b:s.b||r.b,source:"rgb"},u):(s.h||s.s||s.v)&&t({h:s.h||n.h,s:s.s||n.s,v:s.v||n.v,source:"hsv"},u)};return P.createElement("div",{style:o.fields},P.createElement(er,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(n.h),onChange:a}),P.createElement(er,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(n.s*100),onChange:a}),P.createElement(er,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(n.v*100),onChange:a}),P.createElement("div",{style:o.divider}),P.createElement(er,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),P.createElement(er,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),P.createElement(er,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),P.createElement("div",{style:o.divider}),P.createElement(er,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:i.replace("#",""),onChange:a}),P.createElement("div",{style:o.fieldSymbols},P.createElement("div",{style:o.symbol},"°"),P.createElement("div",{style:o.symbol},"%"),P.createElement("div",{style:o.symbol},"%")))},edt=function(e){var t=e.hsl,r=wt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return P.createElement("div",{style:r.picker})},tdt=function(){var e=wt({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return P.createElement("div",{style:e.pointer},P.createElement("div",{style:e.left},P.createElement("div",{style:e.leftInside})),P.createElement("div",{style:e.right},P.createElement("div",{style:e.rightInside})))},t7=function(e){var t=e.onClick,r=e.label,n=e.children,i=e.active,o=wt({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return P.createElement("div",{style:o.button,onClick:t},r||n)},rdt=function(e){var t=e.rgb,r=e.currentColor,n=wt({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return P.createElement("div",null,P.createElement("div",{style:n.label},"new"),P.createElement("div",{style:n.swatches},P.createElement("div",{style:n.new}),P.createElement("div",{style:n.current})),P.createElement("div",{style:n.label},"current"))},ndt=(function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}})();function idt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function odt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function adt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k4=(function(e){adt(t,e);function t(r){idt(this,t);var n=odt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:r.hex},n}return ndt(t,[{key:"render",value:function(){var r=this.props,n=r.styles,i=n===void 0?{}:n,o=r.className,a=o===void 0?"":o,s=wt(gi({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},i));return P.createElement("div",{style:s.picker,className:"photoshop-picker "+a},P.createElement("div",{style:s.head},this.props.header),P.createElement("div",{style:s.body,className:"flexbox-fix"},P.createElement("div",{style:s.saturation},P.createElement(c_,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:edt,onChange:this.props.onChange})),P.createElement("div",{style:s.hue},P.createElement(Mf,{direction:"vertical",hsl:this.props.hsl,pointer:tdt,onChange:this.props.onChange})),P.createElement("div",{style:s.controls},P.createElement("div",{style:s.top,className:"flexbox-fix"},P.createElement("div",{style:s.previews},P.createElement(rdt,{rgb:this.props.rgb,currentColor:this.state.currentColor})),P.createElement("div",{style:s.actions},P.createElement(t7,{label:"OK",onClick:this.props.onAccept,active:!0}),P.createElement(t7,{label:"Cancel",onClick:this.props.onCancel}),P.createElement(Jpt,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t})(P.Component);k4.propTypes={header:j.string,styles:j.object};k4.defaultProps={header:"Color Picker",styles:{}};yi(k4);var sdt=function(e){var t=e.onChange,r=e.rgb,n=e.hsl,i=e.hex,o=e.disableAlpha,a=wt({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),s=function(u,l){u.hex?zs(u.hex)&&t({hex:u.hex,source:"hex"},l):u.r||u.g||u.b?t({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,a:r.a,source:"rgb"},l):u.a&&(u.a<0?u.a=0:u.a>100&&(u.a=100),u.a/=100,t({h:n.h,s:n.s,l:n.l,a:u.a,source:"rgb"},l))};return P.createElement("div",{style:a.fields,className:"flexbox-fix"},P.createElement("div",{style:a.double},P.createElement(er,{style:{input:a.input,label:a.label},label:"hex",value:i.replace("#",""),onChange:s})),P.createElement("div",{style:a.single},P.createElement(er,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:s,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:a.single},P.createElement(er,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:s,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:a.single},P.createElement(er,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:s,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:a.alpha},P.createElement(er,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:s,dragLabel:"true",dragMax:"100"})))},ldt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wY=function(e){var t=e.colors,r=e.onClick,n=r===void 0?function(){}:r,i=e.onSwatchHover,o=wt({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),a=function(s,u){n({hex:s,source:"hex"},u)};return P.createElement("div",{style:o.colors,className:"flexbox-fix"},t.map(function(s){var u=typeof s=="string"?{color:s}:s,l=""+u.color+(u.title||"");return P.createElement("div",{key:l,style:o.swatchWrap},P.createElement(yu,ldt({},u,{style:o.swatch,onClick:a,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};wY.propTypes={colors:j.arrayOf(j.oneOfType([j.string,j.shape({color:j.string,title:j.string})])).isRequired};var udt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O4=function(e){var t=e.width,r=e.rgb,n=e.hex,i=e.hsv,o=e.hsl,a=e.onChange,s=e.onSwatchHover,u=e.disableAlpha,l=e.presetColors,c=e.renderers,h=e.styles,f=h===void 0?{}:h,p=e.className,d=p===void 0?"":p,m=wt(gi({default:udt({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},f),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},f),{disableAlpha:u});return P.createElement("div",{style:m.picker,className:"sketch-picker "+d},P.createElement("div",{style:m.saturation},P.createElement(c_,{style:m.Saturation,hsl:o,hsv:i,onChange:a})),P.createElement("div",{style:m.controls,className:"flexbox-fix"},P.createElement("div",{style:m.sliders},P.createElement("div",{style:m.hue},P.createElement(Mf,{style:m.Hue,hsl:o,onChange:a})),P.createElement("div",{style:m.alpha},P.createElement(v4,{style:m.Alpha,rgb:r,hsl:o,renderers:c,onChange:a}))),P.createElement("div",{style:m.color},P.createElement(Af,null),P.createElement("div",{style:m.activeColor}))),P.createElement(sdt,{rgb:r,hsl:o,hex:n,onChange:a,disableAlpha:u}),P.createElement(wY,{colors:l,onClick:a,onSwatchHover:s}))};O4.propTypes={disableAlpha:j.bool,width:j.oneOfType([j.string,j.number]),styles:j.object};O4.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const cdt=yi(O4);var kp=function(e){var t=e.hsl,r=e.offset,n=e.onClick,i=n===void 0?function(){}:n,o=e.active,a=e.first,s=e.last,u=wt({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:s}),l=function(c){return i({h:t.h,s:.5,l:r,source:"hsl"},c)};return P.createElement("div",{style:u.swatch,onClick:l})},hdt=function(e){var t=e.onClick,r=e.hsl,n=wt({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),i=.1;return P.createElement("div",{style:n.swatches},P.createElement("div",{style:n.swatch},P.createElement(kp,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<i&&Math.abs(r.s-.5)<i,onClick:t,first:!0})),P.createElement("div",{style:n.swatch},P.createElement(kp,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<i&&Math.abs(r.s-.5)<i,onClick:t})),P.createElement("div",{style:n.swatch},P.createElement(kp,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<i&&Math.abs(r.s-.5)<i,onClick:t})),P.createElement("div",{style:n.swatch},P.createElement(kp,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<i&&Math.abs(r.s-.5)<i,onClick:t})),P.createElement("div",{style:n.swatch},P.createElement(kp,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<i&&Math.abs(r.s-.5)<i,onClick:t,last:!0})),P.createElement("div",{style:n.clear}))},fdt=function(){var e=wt({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return P.createElement("div",{style:e.picker})},P4=function(e){var t=e.hsl,r=e.onChange,n=e.pointer,i=e.styles,o=i===void 0?{}:i,a=e.className,s=a===void 0?"":a,u=wt(gi({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return P.createElement("div",{style:u.wrap||{},className:"slider-picker "+s},P.createElement("div",{style:u.hue},P.createElement(Mf,{style:u.Hue,hsl:t,pointer:n,onChange:r})),P.createElement("div",{style:u.swatches},P.createElement(hdt,{hsl:t,onClick:r})))};P4.propTypes={styles:j.object};P4.defaultProps={pointer:fdt,styles:{}};yi(P4);var TY={};Object.defineProperty(TY,"__esModule",{value:!0});var r7=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pdt=P,n7=ddt(pdt);function ddt(e){return e&&e.__esModule?e:{default:e}}function mdt(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var qm=24,gdt=TY.default=function(e){var t=e.fill,r=t===void 0?"currentColor":t,n=e.width,i=n===void 0?qm:n,o=e.height,a=o===void 0?qm:o,s=e.style,u=s===void 0?{}:s,l=mdt(e,["fill","width","height","style"]);return n7.default.createElement("svg",r7({viewBox:"0 0 "+qm+" "+qm,style:r7({fill:r,width:i,height:a},u)},l),n7.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},ydt=function(e){var t=e.color,r=e.onClick,n=r===void 0?function(){}:r,i=e.onSwatchHover,o=e.first,a=e.last,s=e.active,u=wt({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:b4(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:s,"color-#FFFFFF":t==="#FFFFFF",transparent:t==="transparent"});return P.createElement(yu,{color:t,style:u.color,onClick:n,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},P.createElement("div",{style:u.check},P.createElement(gdt,null)))},vdt=function(e){var t=e.onClick,r=e.onSwatchHover,n=e.group,i=e.active,o=wt({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return P.createElement("div",{style:o.group},Fs(n,function(a,s){return P.createElement(ydt,{key:a,color:a,active:a.toLowerCase()===i,first:s===0,last:s===n.length-1,onClick:t,onSwatchHover:r})}))},C4=function(e){var t=e.width,r=e.height,n=e.onChange,i=e.onSwatchHover,o=e.colors,a=e.hex,s=e.styles,u=s===void 0?{}:s,l=e.className,c=l===void 0?"":l,h=wt(gi({default:{picker:{width:t,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),f=function(p,d){return n({hex:p,source:"hex"},d)};return P.createElement("div",{style:h.picker,className:"swatches-picker "+c},P.createElement(X1,null,P.createElement("div",{style:h.overflow},P.createElement("div",{style:h.body},Fs(o,function(p){return P.createElement(vdt,{key:p.toString(),group:p,active:a,onClick:f,onSwatchHover:i})}),P.createElement("div",{style:h.clear})))))};C4.propTypes={width:j.oneOfType([j.string,j.number]),height:j.oneOfType([j.string,j.number]),colors:j.arrayOf(j.arrayOf(j.string)),styles:j.object};C4.defaultProps={width:320,height:240,colors:[[tc[900],tc[700],tc[500],tc[300],tc[100]],[rc[900],rc[700],rc[500],rc[300],rc[100]],[nc[900],nc[700],nc[500],nc[300],nc[100]],[ic[900],ic[700],ic[500],ic[300],ic[100]],[oc[900],oc[700],oc[500],oc[300],oc[100]],[ac[900],ac[700],ac[500],ac[300],ac[100]],[sc[900],sc[700],sc[500],sc[300],sc[100]],[lc[900],lc[700],lc[500],lc[300],lc[100]],[uc[900],uc[700],uc[500],uc[300],uc[100]],["#194D33",Kp[700],Kp[500],Kp[300],Kp[100]],[cc[900],cc[700],cc[500],cc[300],cc[100]],[hc[900],hc[700],hc[500],hc[300],hc[100]],[fc[900],fc[700],fc[500],fc[300],fc[100]],[pc[900],pc[700],pc[500],pc[300],pc[100]],[dc[900],dc[700],dc[500],dc[300],dc[100]],[mc[900],mc[700],mc[500],mc[300],mc[100]],[gc[900],gc[700],gc[500],gc[300],gc[100]],[yc[900],yc[700],yc[500],yc[300],yc[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};yi(C4);var A4=function(e){var t=e.onChange,r=e.onSwatchHover,n=e.hex,i=e.colors,o=e.width,a=e.triangle,s=e.styles,u=s===void 0?{}:s,l=e.className,c=l===void 0?"":l,h=wt(gi({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),f=function(p,d){zs(p)&&t({hex:p,source:"hex"},d)};return P.createElement("div",{style:h.card,className:"twitter-picker "+c},P.createElement("div",{style:h.triangleShadow}),P.createElement("div",{style:h.triangle}),P.createElement("div",{style:h.body},Fs(i,function(p,d){return P.createElement(yu,{key:d,color:p,hex:p,style:h.swatch,onClick:f,onHover:r,focusStyle:{boxShadow:"0 0 4px "+p}})}),P.createElement("div",{style:h.hash},"#"),P.createElement(er,{label:null,style:{input:h.input},value:n.replace("#",""),onChange:f}),P.createElement("div",{style:h.clear})))};A4.propTypes={width:j.oneOfType([j.string,j.number]),triangle:j.oneOf(["hide","top-left","top-right"]),colors:j.arrayOf(j.string),styles:j.object};A4.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};yi(A4);var M4=function(e){var t=wt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return P.createElement("div",{style:t.picker})};M4.propTypes={hsl:j.shape({h:j.number,s:j.number,l:j.number,a:j.number})};M4.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var I4=function(e){var t=wt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return P.createElement("div",{style:t.picker})};I4.propTypes={hsl:j.shape({h:j.number,s:j.number,l:j.number,a:j.number})};I4.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var bdt=function(e){var t=e.onChange,r=e.rgb,n=e.hsl,i=e.hex,o=e.hsv,a=function(h,f){if(h.hex)zs(h.hex)&&t({hex:h.hex,source:"hex"},f);else if(h.rgb){var p=h.rgb.split(",");d2(h.rgb,"rgb")&&t({r:p[0],g:p[1],b:p[2],a:1,source:"rgb"},f)}else if(h.hsv){var d=h.hsv.split(",");d2(h.hsv,"hsv")&&(d[2]=d[2].replace("%",""),d[1]=d[1].replace("%",""),d[0]=d[0].replace("°",""),d[1]==1?d[1]=.01:d[2]==1&&(d[2]=.01),t({h:Number(d[0]),s:Number(d[1]),v:Number(d[2]),source:"hsv"},f))}else if(h.hsl){var m=h.hsl.split(",");d2(h.hsl,"hsl")&&(m[2]=m[2].replace("%",""),m[1]=m[1].replace("%",""),m[0]=m[0].replace("°",""),c[1]==1?c[1]=.01:c[2]==1&&(c[2]=.01),t({h:Number(m[0]),s:Number(m[1]),v:Number(m[2]),source:"hsl"},f))}},s=wt({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,l=Math.round(n.h)+"°, "+Math.round(n.s*100)+"%, "+Math.round(n.l*100)+"%",c=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return P.createElement("div",{style:s.wrap,className:"flexbox-fix"},P.createElement("div",{style:s.fields},P.createElement("div",{style:s.double},P.createElement(er,{style:{input:s.input,label:s.label},label:"hex",value:i,onChange:a})),P.createElement("div",{style:s.column},P.createElement("div",{style:s.single},P.createElement(er,{style:{input:s.input2,label:s.label2},label:"rgb",value:u,onChange:a})),P.createElement("div",{style:s.single},P.createElement(er,{style:{input:s.input2,label:s.label2},label:"hsv",value:c,onChange:a})),P.createElement("div",{style:s.single},P.createElement(er,{style:{input:s.input2,label:s.label2},label:"hsl",value:l,onChange:a})))))},R4=function(e){var t=e.width,r=e.onChange,n=e.rgb,i=e.hsl,o=e.hsv,a=e.hex,s=e.header,u=e.styles,l=u===void 0?{}:u,c=e.className,h=c===void 0?"":c,f=wt(gi({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+n.r+", "+n.g+", "+n.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},l));return P.createElement("div",{style:f.picker,className:"google-picker "+h},P.createElement("div",{style:f.head},s),P.createElement("div",{style:f.swatch}),P.createElement("div",{style:f.saturation},P.createElement(c_,{hsl:i,hsv:o,pointer:M4,onChange:r})),P.createElement("div",{style:f.body},P.createElement("div",{style:f.controls,className:"flexbox-fix"},P.createElement("div",{style:f.hue},P.createElement(Mf,{style:f.Hue,hsl:i,radius:"4px",pointer:I4,onChange:r}))),P.createElement(bdt,{rgb:n,hsl:i,hex:a,hsv:o,onChange:r})))};R4.propTypes={width:j.oneOfType([j.string,j.number]),styles:j.object,header:j.string};R4.defaultProps={width:652,styles:{},header:"Color picker"};yi(R4);function _dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wdt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xdt(n.key),n)}}function Tdt(e,t,r){return t&&wdt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xdt(e){var t=Edt(e,"string");return typeof t=="symbol"?t:t+""}function Edt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Sdt(e,t,r){return t=Ry(t),kdt(e,xY()?Reflect.construct(t,r||[],Ry(e).constructor):t.apply(e,r))}function kdt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Odt(e)}function Odt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xY=function(){return!!e})()}function Ry(e){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ry(e)}function Pdt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vE(e,t)}function vE(e,t){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},vE(e,t)}let EY=(function(e){function t(r){var n;_dt(this,t),n=Sdt(this,t,[r]);const i=Qc(r.color);return n.state={displayColorPicker:!1,color:{r:i.r,g:i.g,b:i.b,a:i.opacity}},n}return Pdt(t,e),Tdt(t,[{key:"handleClick",value:function(){this.setState(r=>({displayColorPicker:!r.displayColorPicker}))}},{key:"handleClose",value:function(){this.setState({displayColorPicker:!1})}},{key:"handleChange",value:function(r){const n=r.rgb,i=`rgba(${n.r},${n.g},${n.b},${n.a})`;this.props.onChange(i),this.setState({color:r.rgb})}},{key:"render",value:function(){const r=wt({default:{color:{width:"32px",height:"14px",borderRadius:"2px",background:`rgba(${this.state.color.r}, ${this.state.color.g}, ${this.state.color.b}, ${this.state.color.a})`},swatch:{padding:"5px",background:"#fff",cursor:"pointer",borderRadius:"1px"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return P.createElement("div",null,P.createElement("div",{onClick:this.handleClick.bind(this),style:r.swatch},P.createElement("div",{style:r.color})),this.state.displayColorPicker?P.createElement("div",{style:r.popover},P.createElement("div",{onClick:this.handleClose.bind(this),style:r.cover}),P.createElement(cdt,{color:this.state.color,onChange:this.handleChange.bind(this)})):null)}}])})(P.Component);EY.propTypes={color:j.string,onChange:j.func};function Cdt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Adt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Idt(n.key),n)}}function Mdt(e,t,r){return t&&Adt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Idt(e){var t=Rdt(e,"string");return typeof t=="symbol"?t:t+""}function Rdt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ddt(e,t,r){return t=Dy(t),Ndt(e,SY()?Reflect.construct(t,r||[],Dy(e).constructor):t.apply(e,r))}function Ndt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jdt(e)}function jdt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SY=function(){return!!e})()}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dy(e)}function Ldt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bE(e,t)}function bE(e,t){return bE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},bE(e,t)}let _E=(function(e){function t(r){var n;return Cdt(this,t),n=Ddt(this,t,[r]),n.state={colors:r.track.options.colorRange.slice()},n}return Ldt(t,e),Mdt(t,[{key:"handleColorsChanged",value:function(r){this.setState({colors:r})}},{key:"handleSubmit",value:function(){const r=this.props.track.options;r.colorRange=this.state.colors,this.props.onSubmit(this.props.track.options)}},{key:"handleAddColor",value:function(){this.setState(r=>({colors:r.colors.concat(r.colors[r.colors.length-1])}))}},{key:"handleRemoveColor",value:function(r){this.setState(n=>({colors:n.colors.slice(0,r).concat(n.colors.slice(r+1))}))}},{key:"render",value:function(){const r=JSON.parse(JSON.stringify(this.props.track)),n=Object.assign(r,{options:{colorRange:this.state.colors}}),i={editable:!1,zoomFixed:!0,views:[{uid:`hmo-${this.props.track.uid}`,initialXDomain:this.props.xScale?this.props.xScale.domain():[0,1],initialYDomain:this.props.yScale?this.props.yScale.domain():[0,1],tracks:{center:[n]},layout:{x:0,y:0,h:12,w:12,i:`hmo-${this.props.track.id}`}}]},o=this.state.colors.map((s,u)=>{const l=this.state.colors.length>2&&u===this.state.colors.length-1?P.createElement("div",{onClick:()=>this.handleRemoveColor(u),style:{background:"white",position:"absolute",top:0,right:0,opacity:1,width:14,height:14,borderRadius:2,cursor:"pointer"}},P.createElement("svg",{height:"10px",style:{position:"absolute",top:2,right:2,opacity:.5,width:10,height:10}},P.createElement("title",null,"Remove"),P.createElement("use",{xlinkHref:"#cross"}))):null;return P.createElement("div",{key:`l${u}`,style:{borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",position:"relative",outline:"none"}},l,P.createElement(EY,{key:u,color:this.state.colors[u],onChange:c=>{this.setState(h=>{const f=h.colors.slice();return f[u]=c,{colors:f}},()=>{this.handleColorsChanged(this.state.colors)})}}))}).reverse(),a=this.state.colors.length<10?P.createElement("div",{onClick:this.handleAddColor.bind(this),style:{position:"relative",outline:"none",height:"25px",padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",cursor:"pointer"}},P.createElement("div",{style:{textAlign:"center",width:"32px",height:"14px"}},P.createElement("svg",{height:"100%",style:{opacity:.5,margin:"auto",display:"block"},width:"10px"},P.createElement("title",null,"Add"),P.createElement("use",{xlinkHref:"#plus"})))):null;return P.createElement(B1,{okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmit.bind(this),title:"Custom Color Map"},P.createElement("table",{className:"table-track-options"},P.createElement("thead",null),P.createElement("tbody",{style:{verticalAlign:"top"}},P.createElement("tr",null,P.createElement("td",{className:"td-track-options"},P.createElement("table",null,P.createElement("tbody",null,P.createElement("tr",null,P.createElement("td",{className:"td-track-options"},"Preview")),P.createElement("tr",null,P.createElement("td",{className:"td-track-options","aria-label":"Track options"},P.createElement("div",{style:{width:200}},P.createElement(rm,{options:{bounded:!1},viewConfig:i}))))))),P.createElement("td",{className:"td-track-options"},P.createElement("table",null,P.createElement("tbody",null,P.createElement("tr",null,P.createElement("td",{className:"td-track-options"},"Colors")),P.createElement("tr",null,P.createElement("td",{className:"td-track-options"},a,P.createElement("div",{style:{position:"relative"}},o))))))))))}}])})(P.Component);_E.propTypes={handleCancel:j.func,onCancel:j.func,onSubmit:j.func,track:j.object,xScale:j.object,yScale:j.object};const i7=e=>{if(!e.header)return[];const t=e.header.split("	"),r=[];for(let n=0;n<t.length;n++)r.push({name:t[n],value:n+1});return r},mh=(e,t="",r=1)=>e.reduce((n,i)=>(n[i]={name:`${i*r}${t}`,value:i},n),{}),ii={yes:{name:"Yes",value:!0},no:{name:"No",value:!1}},Pr={black:{name:"Black",value:"black"},blue:{name:"Blue",value:"blue"},brown:{name:"Brown",value:"brown"},cyan:{name:"Cyan",value:"cyan"},green:{name:"Green",value:"green"},grey:{name:"Grey",value:"grey"},orange:{name:"Orange",value:"orange"},purple:{name:"Purple",value:"purple"},turquoise:{name:"Turquoise",value:"turquoise"},red:{name:"Red",value:"red"},white:{name:"White",value:"white"}},Bdt={use_stroke:{name:"Glyph color",value:"[glyph-color]"}},Yg=mh([0,1,2,3,5,8,13,21]),o7=Object.assign(Yg,{none:{name:"none",value:"none"}}),Km=mh([0,2,4,8,16,32,64,128,256]),pa=mh([0,.2,.4,.6,.8,1],"%",100),Fdt=mh([.2,.4,.6,.8,1],"%",100),wa={axisLabelFormatting:{name:"Axis Label Formatting",inlineOptions:{normal:{name:"normal",value:"normal"},scientific:{name:"scientific",value:"scientific"}}},flipDiagonal:{name:"Flip Across Diagonal",inlineOptions:{none:{name:"No",value:"none"},yes:{name:"Yes",value:"yes"},copy:{name:"Copy",value:"copy"}}},heatmapValueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},valueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},extent:{name:"Extent",inlineOptions:{full:{name:"Full",value:"full"},upperRight:{name:"Upper Right",value:"upper-right"},lowerLeft:{name:"Lower Left",value:"lower-left"}}},labelLeftMargin:{name:"Label Left Margin",inlineOptions:Km},labelRightMargin:{name:"Label Right Margin",inlineOptions:Km},labelTopMargin:{name:"Label Top Margin",inlineOptions:Km},labelBottomMargin:{name:"Label Bottom Margin",inlineOptions:Km},labelShowResolution:{name:"Label Show Resolution",inlineOptions:ii},labelShowAssembly:{name:"Label Show Assembly",inlineOptions:ii},lineStrokeWidth:{name:"Stroke Width",inlineOptions:Yg},strokeSingleSeries:{name:"Draw single series",generateOptions:e=>{const t=[];if(e.row_infos)for(let r=0;r<e.row_infos.length;r++)t.push({name:r+1,value:r+1});return t.push({name:"All",value:"all"}),t.push({name:"None",value:"none"}),t}},strokeWidthAndNone:{name:"Stroke Width",inlineOptions:o7},trackBorderWidth:{name:"Track Border Width",inlineOptions:Yg},separatePlusMinusStrands:{name:"Separate +/- strands",inlineOptions:ii},sortLargestOnTop:{name:"Sort Largest On Top",inlineOptions:ii},showTexts:{name:"Show texts",inlineOptions:ii},staggered:{name:"Staggered",inlineOptions:ii},minSquareSize:{name:"Minimum size",inlineOptions:o7},pointSize:{name:"Point Size",inlineOptions:Yg},pointColor:{name:"Point Color",inlineOptions:Pr},trackBorderColor:{name:"Track Border Color",inlineOptions:Pr},backgroundColor:{name:"Background Color",inlineOptions:{white:{name:"White",value:"white"},lightGrey:{name:"Light Grey",value:"#eeeeee"},grey:{name:"Grey",value:"#cccccc"},black:{name:"Black",value:"black"},transparent:{name:"Transparent",value:"transparent"}}},colorScale:{name:"Color Scale",inlineOptions:{epilogos:{name:"Epilogos",values:["#FF0000","#FF4500","#32CD32","#008000","#006400","#C2E105","#FFFF00","#66CDAA","#8A91D0","#CD5C5C","#E9967A","#BDB76B","#808080","#C0C0C0","#FFFFFF"]},category10:{name:"D3 Category10",values:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"]}}},minusStrandColor:{name:"- Strand Color",inlineOptions:Pr},plusStrandColor:{name:"+ Strand Color",inlineOptions:Pr},lineStrokeColor:{name:"Stroke color",inlineOptions:Pr},projectionStrokeColor:{name:"Stroke color",inlineOptions:Pr},projectionFillColor:{name:"Fill color",inlineOptions:Pr},stroke:{name:"Stroke Color",inlineOptions:Pr},strokeColor:{name:"Stroke color",inlineOptions:Pr},fill:{name:"Fill Color",inlineOptions:Pr},color:{name:"Color",inlineOptions:Pr},fontColor:{name:"Font color",inlineOptions:Pr},fillColor:{name:"Fill color",inlineOptions:Pr},barFillColor:{name:"Fill color",inlineOptions:Pr},barFillColorTop:{name:"Top Fill color",inlineOptions:Pr},barFillColorBottom:{name:"Bottom Fill color",inlineOptions:Pr},barOpacity:{name:"Bar opacity",inlineOptions:pa},viewNameOpacity:{name:"View name opacity",inlineOptions:pa},zeroLineVisible:{name:"Zero line visible",inlineOptions:ii},zeroLineColor:{name:"Zero line color",inlineOptions:Pr},zeroLineOpacity:{name:"Zero line opacity",inlineOptions:Fdt},fillOpacity:{name:"Fill Opacity",inlineOptions:pa},strokeOpacity:{name:"Stroke Opacity",inlineOptions:pa},strokePos:{name:"Stroke Position",inlineOptions:{aroundInner:{name:"Around Inner",value:"around"},aroundCenter:{name:"Around Center",value:null},hidden:{name:"Hidden",value:"hidden"},top:{name:"Top",value:"top"},right:{name:"Right",value:"right"},bottom:{name:"Bottom",value:"bottom"},left:{name:"Left",value:"left"}}},barBorder:{name:"Bar border",inlineOptions:ii},scaledHeight:{name:"Scaled height",inlineOptions:ii},rectangleDomainStrokeColor:{name:"Stroke color",inlineOptions:Pr},rectangleDomainFillColor:{name:"Fill color",inlineOptions:Pr},rectangleDomainFillOpacity:{name:"Fill opacity",inlineOptions:pa},rectangleDomainOpacity:{name:"Opacity",inlineOptions:pa},mapboxStyle:{name:"Map style",inlineOptions:{streets:{name:"streets",value:"mapbox.streets"},light:{name:"light",value:"mapbox.light"},dark:{name:"dark",value:"mapbox.dark"},satellite:{name:"satellite",value:"mapbox.satellite"},"streets-satellite":{name:"streets-satellite",value:"mapbox.streets-satellite"},wheatpaste:{name:"wheatpaste",value:"mapbox.wheatpaste"},"streets-basic":{name:"streets-basic",value:"mapbox.streets-basic"},comic:{name:"comic",value:"mapbox.comic"},outdoors:{name:"outdoors",value:"mapbox.outdoors"},"run-bike-hike":{name:"run-bike-hike",value:"mapbox.run-bike-hike"},pencil:{name:"pencil",value:"mapbox.pencil"},pirates:{name:"pirates",value:"mapbox.pirates"},emerald:{name:"emerald",value:"mapbox.emerald"},"high-contrast":{name:"high-contrast",value:"mapbox.high-contrast"}}},oneDHeatmapFlipped:{name:"Flip Heatmap",inlineOptions:{yes:{name:"Yes",value:"yes"},no:{name:"No",value:null}}},showMousePosition:{name:"Show Mouse Position",inlineOptions:ii},showTooltip:{name:"Show Tooltip",inlineOptions:ii},nanAsZero:{name:"NaN as Zero",inlineOptions:ii},fontSize:{name:"Font Size",inlineOptions:mh([8,9,10,11,12,14,16,18,24],"px")},tickPositions:{name:"Tick Positions",inlineOptions:{even:{name:"Even",value:"even"},ends:{name:"Ends",value:"ends"}}},tickFormat:{name:"Tick Format",inlineOptions:{plain:{name:"Plain",value:"plain"},si:{name:"SI",value:"si"}}},colorEncoding:{name:"Color Encode Annotations",inlineOptions:{none:{name:"None",value:null},itemRgb:{name:"itemRgb",value:"itemRgb"}},generateOptions:i7},fontIsAligned:{name:"Left-Align Font",inlineOptions:ii},axisPositionHorizontal:{name:"Axis Position",inlineOptions:{left:{name:"Left",value:"left"},outsideLeft:{name:"Outside left",value:"outsideLeft"},right:{name:"Right",value:"right"},outsideRight:{name:"Outside right",value:"outsideRight"},hidden:{name:"Hidden",value:null}}},axisPositionVertical:{name:"Axis Position",inlineOptions:{top:{name:"Top",value:"top"},outsideTop:{name:"Outside top",value:"outsideTop"},bottom:{name:"Bottom",value:"bottom"},outsideBottom:{name:"Outside bottom",value:"outsideBottom"},hidden:{name:"Hidden",value:null}}},axisMargin:{name:"Axis Margin",inlineOptions:mh([0,10,20,30,40,50,100,200,400],"px")},colorbarPosition:{name:"Colorbar Position",inlineOptions:{topLeft:{name:"Top Left",value:"topLeft"},topRight:{name:"Top Right",value:"topRight"},bottomLeft:{name:"Bottom Left",value:"bottomLeft"},bottomRight:{name:"Bottom Right",value:"bottomRight"},hidden:{name:"Hidden",value:null}}},colorbarBackgroundColor:{name:"Colorbar Background Color",inlineOptions:Pr},colorbarBackgroundOpacity:{name:"Colorbar Background Opacity",inlineOptions:pa},colorbarLabelsPosition:{name:"Colorbar Labels Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},labelColor:{name:"Label Color",inlineOptions:{...Pr,...Bdt}},labelPosition:{name:"Label Position",inlineOptions:{l:{name:"Left",value:"left"},r:{name:"Right",value:"right"},ol:{name:"Outer left",value:"outerLeft"},or:{name:"Outer right",value:"outerRight"},t:{name:"Top",value:"top"},b:{name:"Bottom",value:"bottom"},ot:{name:"Outer top",value:"outerTop"},ob:{name:"Outer bottom",value:"outerBottom"},tl:{name:"Top left",value:"topLeft"},tr:{name:"Top right",value:"topRight"},bl:{name:"Bottom left",value:"bottomLeft"},br:{name:"Bottom right",value:"bottomRight"},hidden:{name:"Hidden",value:"hidden"}}},labelTextOpacity:{name:"Label Text Opacity",inlineOptions:pa},geneAnnotationHeight:{name:"Gene Annotation Height",inlineOptions:{8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16}}},annotationHeight:{name:"Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},scaled:{name:"scaled",value:"scaled"}}},maxAnnotationHeight:{name:"Max Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},none:{name:"none",value:null}}},annotationStyle:{name:"Annotation Style",inlineOptions:{box:{name:"Box",value:"box"},segment:{name:"Segment",value:"segment"}}},geneLabelPosition:{name:"Gene Label Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},geneStrandSpacing:{name:"Gene Strand Spacing",inlineOptions:{2:{name:"2px",value:2},4:{name:"4px",value:4},8:{name:"8px",value:8}}},labelBackgroundColor:{name:"Label Background Color",inlineOptions:Pr},labelBackgroundOpacity:{name:"Label Background Opacity",inlineOptions:pa},viewResolution:{name:"View Resolution",inlineOptions:{high:{name:"High",value:384},medium:{name:"Medium",value:1024},low:{name:"Low",value:2048}}},colorRange:{name:"Color map",inlineOptions:{afmhot:{name:"afmhot",value:["rgba(0,0,0,1.0)","rgba(128,0,0,1.0)","rgba(256,129,1,1.0)","rgba(256,256,129,1.0)","rgba(256,256,256,1.0)"]},fall:{name:"fall",value:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"]},hot:{name:"hot",value:["rgba(10,0,0,1.0)","rgba(179,0,0,1.0)","rgba(256,91,0,1.0)","rgba(256,256,6,1.0)","rgba(256,256,256,1.0)"]},jet:{name:"jet",value:["rgba(0,0,128,1.0)","rgba(0,129,256,1.0)","rgba(125,256,122,1.0)","rgba(256,148,0,1.0)","rgba(128,0,0,1.0)"]},bwr:{name:"bwr",value:["rgba(0,0,256,1.0)","rgba(128,128,256,1.0)","rgba(256,254,254,1.0)","rgba(256,126,126,1.0)","rgba(256,0,0,1.0)"]},cubehelix:{name:"cubehelix",value:["rgba(0,0,0,1.0)","rgba(21,83,76,1.0)","rgba(162,121,74,1.0)","rgba(199,180,238,1.0)","rgba(256,256,256,1.0)"]},rainbow:{name:"rainbow",value:["rgba(128,0,256,1.0)","rgba(0,181,236,1.0)","rgba(129,255,180,1.0)","rgba(256,179,96,1.0)","rgba(256,0,0,1.0)"]},gray:{name:"greys",value:["rgba(255,255,255,1)","rgba(0,0,0,1)"]},red:{name:"White to red",value:["rgba(255,255,255,1)","rgba(255,0,0,1)"]},green:{name:"White to green",value:["rgba(255,255,255,1)","rgba(0,255,0,1)"]},blue:{name:"White to blue",value:["rgba(255,255,255,1)","rgba(0,0,255,1)"]},custard:{name:"custard",value:["#FFFFFF","#F8E71C","rgba(245,166,35,1)","rgba(0,0,0,1)"]},magma:{name:"magma",value:["rgba(0,0,3,1)","rgba(0,0,4,1)","rgba(0,0,6,1)","rgba(1,0,7,1)","rgba(1,1,9,1)","rgba(1,1,11,1)","rgba(2,2,13,1)","rgba(2,2,15,1)","rgba(3,3,17,1)","rgba(4,3,19,1)","rgba(4,4,21,1)","rgba(5,4,23,1)","rgba(6,5,25,1)","rgba(7,5,27,1)","rgba(8,6,29,1)","rgba(9,7,32,1)","rgba(10,7,34,1)","rgba(11,8,36,1)","rgba(12,9,38,1)","rgba(13,10,40,1)","rgba(14,10,42,1)","rgba(15,11,45,1)","rgba(16,12,47,1)","rgba(17,12,49,1)","rgba(19,13,51,1)","rgba(20,13,54,1)","rgba(21,14,56,1)","rgba(22,14,58,1)","rgba(23,15,61,1)","rgba(25,15,63,1)","rgba(26,16,66,1)","rgba(27,16,68,1)","rgba(28,16,70,1)","rgba(30,17,73,1)","rgba(31,17,75,1)","rgba(33,17,78,1)","rgba(34,17,80,1)","rgba(36,17,83,1)","rgba(37,17,85,1)","rgba(39,17,87,1)","rgba(40,17,90,1)","rgba(42,17,92,1)","rgba(43,17,94,1)","rgba(45,17,97,1)","rgba(47,16,99,1)","rgba(49,16,101,1)","rgba(50,16,103,1)","rgba(52,16,105,1)","rgba(54,15,107,1)","rgba(55,15,108,1)","rgba(57,15,110,1)","rgba(59,15,112,1)","rgba(61,15,113,1)","rgba(62,15,114,1)","rgba(64,15,116,1)","rgba(66,15,117,1)","rgba(67,15,118,1)","rgba(69,15,119,1)","rgba(71,15,120,1)","rgba(72,16,120,1)","rgba(74,16,121,1)","rgba(76,16,122,1)","rgba(77,17,123,1)","rgba(79,17,123,1)","rgba(81,18,124,1)","rgba(82,18,124,1)","rgba(84,19,125,1)","rgba(85,20,125,1)","rgba(87,20,126,1)","rgba(88,21,126,1)","rgba(90,21,126,1)","rgba(92,22,127,1)","rgba(93,23,127,1)","rgba(95,23,127,1)","rgba(96,24,128,1)","rgba(98,25,128,1)","rgba(99,25,128,1)","rgba(101,26,128,1)","rgba(103,26,128,1)","rgba(104,27,129,1)","rgba(106,28,129,1)","rgba(107,28,129,1)","rgba(109,29,129,1)","rgba(110,30,129,1)","rgba(112,30,129,1)","rgba(113,31,129,1)","rgba(115,32,129,1)","rgba(117,32,129,1)","rgba(118,33,129,1)","rgba(120,33,129,1)","rgba(121,34,130,1)","rgba(123,35,130,1)","rgba(124,35,130,1)","rgba(126,36,130,1)","rgba(128,36,130,1)","rgba(129,37,129,1)","rgba(131,37,129,1)","rgba(132,38,129,1)","rgba(134,39,129,1)","rgba(136,39,129,1)","rgba(137,40,129,1)","rgba(139,40,129,1)","rgba(140,41,129,1)","rgba(142,41,129,1)","rgba(144,42,129,1)","rgba(145,42,129,1)","rgba(147,43,128,1)","rgba(148,43,128,1)","rgba(150,44,128,1)","rgba(152,44,128,1)","rgba(153,45,128,1)","rgba(155,46,127,1)","rgba(157,46,127,1)","rgba(158,47,127,1)","rgba(160,47,127,1)","rgba(161,48,126,1)","rgba(163,48,126,1)","rgba(165,49,126,1)","rgba(166,49,125,1)","rgba(168,50,125,1)","rgba(170,50,125,1)","rgba(171,51,124,1)","rgba(173,51,124,1)","rgba(175,52,123,1)","rgba(176,52,123,1)","rgba(178,53,123,1)","rgba(180,53,122,1)","rgba(181,54,122,1)","rgba(183,55,121,1)","rgba(185,55,121,1)","rgba(186,56,120,1)","rgba(188,56,120,1)","rgba(189,57,119,1)","rgba(191,57,118,1)","rgba(193,58,118,1)","rgba(194,59,117,1)","rgba(196,59,117,1)","rgba(198,60,116,1)","rgba(199,61,115,1)","rgba(201,61,115,1)","rgba(202,62,114,1)","rgba(204,63,113,1)","rgba(206,63,113,1)","rgba(207,64,112,1)","rgba(209,65,111,1)","rgba(210,66,110,1)","rgba(212,67,110,1)","rgba(213,67,109,1)","rgba(215,68,108,1)","rgba(216,69,107,1)","rgba(218,70,107,1)","rgba(219,71,106,1)","rgba(221,72,105,1)","rgba(222,73,104,1)","rgba(223,74,103,1)","rgba(225,75,103,1)","rgba(226,76,102,1)","rgba(227,78,101,1)","rgba(229,79,100,1)","rgba(230,80,100,1)","rgba(231,81,99,1)","rgba(232,83,98,1)","rgba(233,84,97,1)","rgba(234,85,97,1)","rgba(236,87,96,1)","rgba(237,88,95,1)","rgba(238,90,95,1)","rgba(239,91,94,1)","rgba(239,93,94,1)","rgba(240,95,93,1)","rgba(241,96,93,1)","rgba(242,98,93,1)","rgba(243,100,92,1)","rgba(243,101,92,1)","rgba(244,103,92,1)","rgba(245,105,92,1)","rgba(246,107,92,1)","rgba(246,108,92,1)","rgba(247,110,92,1)","rgba(247,112,92,1)","rgba(248,114,92,1)","rgba(248,116,92,1)","rgba(249,118,92,1)","rgba(249,120,92,1)","rgba(250,121,93,1)","rgba(250,123,93,1)","rgba(250,125,94,1)","rgba(251,127,94,1)","rgba(251,129,95,1)","rgba(251,131,95,1)","rgba(252,133,96,1)","rgba(252,135,97,1)","rgba(252,137,97,1)","rgba(252,139,98,1)","rgba(253,140,99,1)","rgba(253,142,100,1)","rgba(253,144,101,1)","rgba(253,146,102,1)","rgba(253,148,103,1)","rgba(254,150,104,1)","rgba(254,152,105,1)","rgba(254,154,106,1)","rgba(254,156,107,1)","rgba(254,157,108,1)","rgba(254,159,109,1)","rgba(254,161,110,1)","rgba(254,163,111,1)","rgba(254,165,112,1)","rgba(255,167,114,1)","rgba(255,169,115,1)","rgba(255,171,116,1)","rgba(255,172,118,1)","rgba(255,174,119,1)","rgba(255,176,120,1)","rgba(255,178,122,1)","rgba(255,180,123,1)","rgba(255,182,124,1)","rgba(255,184,126,1)","rgba(255,185,127,1)","rgba(255,187,129,1)","rgba(255,189,130,1)","rgba(255,191,132,1)","rgba(255,193,133,1)","rgba(255,195,135,1)","rgba(255,197,136,1)","rgba(255,198,138,1)","rgba(255,200,140,1)","rgba(255,202,141,1)","rgba(255,204,143,1)","rgba(254,206,144,1)","rgba(254,208,146,1)","rgba(254,209,148,1)","rgba(254,211,149,1)","rgba(254,213,151,1)","rgba(254,215,153,1)","rgba(254,217,155,1)","rgba(254,219,156,1)","rgba(254,220,158,1)","rgba(254,222,160,1)","rgba(254,224,162,1)","rgba(254,226,163,1)","rgba(253,228,165,1)","rgba(253,230,167,1)","rgba(253,231,169,1)","rgba(253,233,171,1)","rgba(253,235,172,1)","rgba(253,237,174,1)","rgba(253,239,176,1)","rgba(253,241,178,1)","rgba(253,242,180,1)","rgba(253,244,182,1)","rgba(253,246,184,1)","rgba(252,248,186,1)","rgba(252,250,188,1)","rgba(252,251,189,1)","rgba(252,253,191,1)"]},viridis:{name:"viridis",value:["rgba(68,1,84,1)","rgba(68,2,85,1)","rgba(69,3,87,1)","rgba(69,5,88,1)","rgba(69,6,90,1)","rgba(70,8,91,1)","rgba(70,9,93,1)","rgba(70,11,94,1)","rgba(70,12,96,1)","rgba(71,14,97,1)","rgba(71,15,98,1)","rgba(71,17,100,1)","rgba(71,18,101,1)","rgba(71,20,102,1)","rgba(72,21,104,1)","rgba(72,22,105,1)","rgba(72,24,106,1)","rgba(72,25,108,1)","rgba(72,26,109,1)","rgba(72,28,110,1)","rgba(72,29,111,1)","rgba(72,30,112,1)","rgba(72,32,113,1)","rgba(72,33,115,1)","rgba(72,34,116,1)","rgba(72,36,117,1)","rgba(72,37,118,1)","rgba(72,38,119,1)","rgba(72,39,120,1)","rgba(71,41,121,1)","rgba(71,42,121,1)","rgba(71,43,122,1)","rgba(71,44,123,1)","rgba(71,46,124,1)","rgba(70,47,125,1)","rgba(70,48,126,1)","rgba(70,49,126,1)","rgba(70,51,127,1)","rgba(69,52,128,1)","rgba(69,53,129,1)","rgba(69,54,129,1)","rgba(68,56,130,1)","rgba(68,57,131,1)","rgba(68,58,131,1)","rgba(67,59,132,1)","rgba(67,60,132,1)","rgba(67,62,133,1)","rgba(66,63,133,1)","rgba(66,64,134,1)","rgba(65,65,134,1)","rgba(65,66,135,1)","rgba(65,67,135,1)","rgba(64,69,136,1)","rgba(64,70,136,1)","rgba(63,71,136,1)","rgba(63,72,137,1)","rgba(62,73,137,1)","rgba(62,74,137,1)","rgba(61,75,138,1)","rgba(61,77,138,1)","rgba(60,78,138,1)","rgba(60,79,138,1)","rgba(59,80,139,1)","rgba(59,81,139,1)","rgba(58,82,139,1)","rgba(58,83,139,1)","rgba(57,84,140,1)","rgba(57,85,140,1)","rgba(56,86,140,1)","rgba(56,87,140,1)","rgba(55,88,140,1)","rgba(55,89,140,1)","rgba(54,91,141,1)","rgba(54,92,141,1)","rgba(53,93,141,1)","rgba(53,94,141,1)","rgba(52,95,141,1)","rgba(52,96,141,1)","rgba(51,97,141,1)","rgba(51,98,141,1)","rgba(51,99,141,1)","rgba(50,100,142,1)","rgba(50,101,142,1)","rgba(49,102,142,1)","rgba(49,103,142,1)","rgba(48,104,142,1)","rgba(48,105,142,1)","rgba(47,106,142,1)","rgba(47,107,142,1)","rgba(47,108,142,1)","rgba(46,109,142,1)","rgba(46,110,142,1)","rgba(45,111,142,1)","rgba(45,112,142,1)","rgba(45,112,142,1)","rgba(44,113,142,1)","rgba(44,114,142,1)","rgba(43,115,142,1)","rgba(43,116,142,1)","rgba(43,117,142,1)","rgba(42,118,142,1)","rgba(42,119,142,1)","rgba(41,120,142,1)","rgba(41,121,142,1)","rgba(41,122,142,1)","rgba(40,123,142,1)","rgba(40,124,142,1)","rgba(40,125,142,1)","rgba(39,126,142,1)","rgba(39,127,142,1)","rgba(38,128,142,1)","rgba(38,129,142,1)","rgba(38,130,142,1)","rgba(37,131,142,1)","rgba(37,131,142,1)","rgba(37,132,142,1)","rgba(36,133,142,1)","rgba(36,134,142,1)","rgba(35,135,142,1)","rgba(35,136,142,1)","rgba(35,137,142,1)","rgba(34,138,141,1)","rgba(34,139,141,1)","rgba(34,140,141,1)","rgba(33,141,141,1)","rgba(33,142,141,1)","rgba(33,143,141,1)","rgba(32,144,141,1)","rgba(32,145,140,1)","rgba(32,146,140,1)","rgba(32,147,140,1)","rgba(31,147,140,1)","rgba(31,148,140,1)","rgba(31,149,139,1)","rgba(31,150,139,1)","rgba(31,151,139,1)","rgba(30,152,139,1)","rgba(30,153,138,1)","rgba(30,154,138,1)","rgba(30,155,138,1)","rgba(30,156,137,1)","rgba(30,157,137,1)","rgba(30,158,137,1)","rgba(30,159,136,1)","rgba(30,160,136,1)","rgba(31,161,136,1)","rgba(31,162,135,1)","rgba(31,163,135,1)","rgba(31,163,134,1)","rgba(32,164,134,1)","rgba(32,165,134,1)","rgba(33,166,133,1)","rgba(33,167,133,1)","rgba(34,168,132,1)","rgba(35,169,131,1)","rgba(35,170,131,1)","rgba(36,171,130,1)","rgba(37,172,130,1)","rgba(38,173,129,1)","rgba(39,174,129,1)","rgba(40,175,128,1)","rgba(41,175,127,1)","rgba(42,176,127,1)","rgba(43,177,126,1)","rgba(44,178,125,1)","rgba(46,179,124,1)","rgba(47,180,124,1)","rgba(48,181,123,1)","rgba(50,182,122,1)","rgba(51,183,121,1)","rgba(53,183,121,1)","rgba(54,184,120,1)","rgba(56,185,119,1)","rgba(57,186,118,1)","rgba(59,187,117,1)","rgba(61,188,116,1)","rgba(62,189,115,1)","rgba(64,190,114,1)","rgba(66,190,113,1)","rgba(68,191,112,1)","rgba(70,192,111,1)","rgba(72,193,110,1)","rgba(73,194,109,1)","rgba(75,194,108,1)","rgba(77,195,107,1)","rgba(79,196,106,1)","rgba(81,197,105,1)","rgba(83,198,104,1)","rgba(85,198,102,1)","rgba(88,199,101,1)","rgba(90,200,100,1)","rgba(92,201,99,1)","rgba(94,201,98,1)","rgba(96,202,96,1)","rgba(98,203,95,1)","rgba(101,204,94,1)","rgba(103,204,92,1)","rgba(105,205,91,1)","rgba(108,206,90,1)","rgba(110,206,88,1)","rgba(112,207,87,1)","rgba(115,208,85,1)","rgba(117,208,84,1)","rgba(119,209,82,1)","rgba(122,210,81,1)","rgba(124,210,79,1)","rgba(127,211,78,1)","rgba(129,212,76,1)","rgba(132,212,75,1)","rgba(134,213,73,1)","rgba(137,213,72,1)","rgba(139,214,70,1)","rgba(142,215,68,1)","rgba(144,215,67,1)","rgba(147,216,65,1)","rgba(149,216,63,1)","rgba(152,217,62,1)","rgba(155,217,60,1)","rgba(157,218,58,1)","rgba(160,218,57,1)","rgba(163,219,55,1)","rgba(165,219,53,1)","rgba(168,220,51,1)","rgba(171,220,50,1)","rgba(173,221,48,1)","rgba(176,221,46,1)","rgba(179,221,45,1)","rgba(181,222,43,1)","rgba(184,222,41,1)","rgba(187,223,39,1)","rgba(189,223,38,1)","rgba(192,223,36,1)","rgba(195,224,35,1)","rgba(197,224,33,1)","rgba(200,225,32,1)","rgba(203,225,30,1)","rgba(205,225,29,1)","rgba(208,226,28,1)","rgba(211,226,27,1)","rgba(213,226,26,1)","rgba(216,227,25,1)","rgba(219,227,24,1)","rgba(221,227,24,1)","rgba(224,228,24,1)","rgba(226,228,24,1)","rgba(229,228,24,1)","rgba(232,229,25,1)","rgba(234,229,25,1)","rgba(237,229,26,1)","rgba(239,230,27,1)","rgba(242,230,28,1)","rgba(244,230,30,1)","rgba(247,230,31,1)","rgba(249,231,33,1)","rgba(251,231,35,1)","rgba(254,231,36,1)"]},custom:{name:"Custom...",componentPickers:{heatmap:_E,"horizontal-heatmap":_E}}}},align:{name:"Align",inlineOptions:{white:{name:"Top",value:"top"},lightGrey:{name:"Bottom",value:"bottom"}}},colorRangeGradient:{name:"Color Gradient",inlineOptions:ii},dataTransform:{name:"Transforms",inlineOptions:{default:{name:"Default",value:"default"},None:{name:"None",value:"None"}},generateOptions:e=>{const t=[];if(e.transforms)for(const r of e.transforms)t.push({name:r.name,value:r.value});return t}},aggregationMode:{name:"Aggregation Mode",inlineOptions:{},generateOptions:e=>{const t=[];return e.aggregationModes?Object.values(e.aggregationModes).forEach(({name:r,value:n})=>{t.push({name:r,value:n})}):t.push({name:"Default",value:"default"}),t}},maxZoom:{name:"Zoom limit",inlineOptions:{none:{name:"None",value:null}},generateOptions:e=>{if(e.maxZoom){const t=[];for(let r=0;r<=e.maxZoom;r++){const{maxWidth:n,binsPerDimension:i,maxZoom:o}=e;let a=1,s=1;if(e.resolutions){const c=e.resolutions.map(h=>+h).sort((h,f)=>f-h);[a]=c,s=c[r]}else s=e.maxWidth/(2**r*e.binsPerDimension),a=n/(2**o*i);const u=pf(a,s),l=Jl(`.${u}`,s)(s);t.push({name:l,value:r.toString()})}return t}return[]}},valueColumn:{name:"Value column",inlineOptions:{none:{name:"None",value:null}},generateOptions:i7},zeroValueColor:{name:"Zero Value Color",inlineOptions:Pr}};function zdt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hdt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vdt(n.key),n)}}function Udt(e,t,r){return t&&Hdt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vdt(e){var t=Gdt(e,"string");return typeof t=="symbol"?t:t+""}function Gdt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ydt(e,t,r){return t=Ny(t),Wdt(e,kY()?Reflect.construct(t,r||[],Ny(e).constructor):t.apply(e,r))}function Wdt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xdt(e)}function Xdt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kY=function(){return!!e})()}function Ny(e){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ny(e)}function $dt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wE(e,t)}function wE(e,t){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},wE(e,t)}function qdt(e){return Pb(e)&&"contextMenuItems"in e&&typeof e.contextMenuItems=="function"}function Kdt(e,t,r){let n=t.getTrackObject(e.uid);if(n=n?.originalTrack||n,qdt(n)){let i=r.canvasLeft-n.position[0],o=r.canvasTop-n.position[1];if(n.flipText){const a=i;i=o,o=a}return n.contextMenuItems(i,o)||[]}return[]}let Zdt=(function(e){function t(){return zdt(this,t),Ydt(this,t,arguments)}return $dt(t,e),Udt(t,[{key:"getConfigureSeriesMenu",value:(function(r,n,i){var o;const a={},s=((o=window.higlassTracksByType)==null?void 0:o[i.type])&&window.higlassTracksByType[i.type].config&&window.higlassTracksByType[i.type].config.optionsInfo;if(s)for(const l of Object.keys(s))wa[l]=s[l];const u=lr[i.type];if(!u?.availableOptions)return null;for(const l of u.availableOptions)if(l in wa){const c=wa[l];if(a[l]={name:c.name},"generateOptions"in c){const h=c.generateOptions(i);a[l].children||(a[l].children={});for(const f of h){const p={name:f.name,value:f.value,handler:()=>{i.options[l]=f.value,this.props.onTrackOptionsChanged(i.uid,i.options),this.props.closeMenu()}};a[l].children[f.value]=p}}if("inlineOptions"in c)for(const h in c.inlineOptions){const f=c.inlineOptions[h];a[l].children||(a[l].children={});const p={name:f.name,value:f.value,handler:()=>{}};f.componentPickers&&i.type in f.componentPickers?p.handler=()=>{this.props.onConfigureTrack(i,f.componentPickers[i.type]),this.props.closeMenu()}:p.handler=()=>{i.options[l]=f.value,this.props.onTrackOptionsChanged(i.uid,i.options),this.props.closeMenu()},a[l].children[h]=p}else i.type in c.componentPickers&&(a[l].handler=()=>{this.props.onConfigureTrack(i,c.componentPickers[i.type]),this.props.closeMenu()})}return P.createElement(uE,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:a,orientation:this.state.orientation,parentBbox:n,position:r,theme:this.props.theme})})},{key:"getTrackTypeItems",value:function(r,n,i){if(window.higlassTracksByType)for(const l of Object.keys(window.higlassTracksByType))lr[l]=window.higlassTracksByType[l].config;let{datatype:o}=i,a=null;i.type in lr&&(o||(o=lr[i.type].datatype[0]),{orientation:a}=lr[i.type]);const s=Object.values(lr).filter(l=>l.datatype).filter(l=>l.orientation).filter(l=>l.datatype.includes(o)).filter(l=>l.orientation===a).map(l=>l.type),u={};for(let l=0;l<s.length;l++)u[s[l]]={value:s[l],name:s[l],handler:()=>{this.props.onChangeTrackType(i.uid,s[l])}};return P.createElement(uE,{key:"track-type-items",closeMenu:this.props.closeMenu,menuItems:u,orientation:this.state.orientation,parentBbox:n,position:r,theme:this.props.theme})}},{key:"getSubmenu",value:function(){if(this.state.submenuShown){const r=this.state.submenuSourceBbox,n=this.state.orientation==="left"?{left:this.state.left,top:r.top}:{left:this.state.left+r.width+7,top:r.top},i=this.state.submenuShown,o=i.value;return i.option==="track-type"?this.getTrackTypeItems(n,r,o):this.getConfigureSeriesMenu(n,r,o)}return P.createElement("div",null)}},{key:"getDivideByMenuItem",value:function(){if(this.props.series.data&&this.props.series.data.type==="divided"){const r={tilesetUid:this.props.series.data.children[0].tilesetUid,server:this.props.series.data.children[0].server};return P.createElement(xt,{className:st["context-menu-item"],onClick:()=>this.props.onChangeTrackData(this.props.series.uid,r),onMouseEnter:n=>this.handleOtherMouseEnter()},P.createElement("span",{className:st["context-menu-span"]},"Remove divisor"))}return P.createElement(xt,{className:st["context-menu-item"],onClick:()=>this.props.onAddDivisor(this.props.series),onMouseEnter:r=>this.handleOtherMouseEnter()},P.createElement("span",{className:st["context-menu-span"]},"Divide by"))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){let r=null;const n=Kdt(this.props.track,this.props.trackRenderer,this.props.position);lr[this.props.series.type]&&lr[this.props.series.type].exportable&&(r=P.createElement(xt,{className:st["context-menu-item"],onClick:()=>this.props.onExportData(this.props.hostTrack.uid,this.props.track.uid),onMouseEnter:o=>this.handleOtherMouseEnter()},P.createElement("span",{className:st["context-menu-span"]},"Export Data")));const i=this.props.onAddSeries?P.createElement(xt,{className:st["context-menu-item"],onClick:()=>{this.props.onCloseTrack(this.props.series.uid),this.props.onAddSeries(this.props.hostTrack.uid)},onMouseEnter:o=>this.handleOtherMouseEnter()},P.createElement("span",{className:st["context-menu-span"]},"Replace Series")):null;return P.createElement("div",{ref:o=>{this.div=o},className:Gt(st["context-menu"],{[st["context-menu-dark"]]:this.props.theme===br}),"data-menu-type":"SeriesListMenu",onMouseLeave:this.props.handleMouseLeave,style:{left:this.state.left,top:this.state.top}},n.map(o=>P.createElement(xt,{key:o.label,onClick:a=>{o.onClick(a,s=>{this.props.onTrackOptionsChanged(this.props.track.uid,{...this.props.track.options,...s})}),this.props.closeMenu()},onMouseEnter:a=>this.handleOtherMouseEnter(),className:st["context-menu-item"]},P.createElement("span",{className:st["context-menu-span"]},o.label))),n.length>0&&P.createElement("hr",{className:st["context-menu-hr"]}),P.createElement(xt,{onClick:()=>{},onMouseEnter:o=>this.handleItemMouseEnter(o,{option:"configure-series",value:this.props.track}),onMouseLeave:o=>this.handleMouseLeave()},"Configure Series",P.createElement("svg",{className:st["play-icon"]},P.createElement("title",null,"Play"),P.createElement("use",{xlinkHref:"#play"}))),P.createElement(xt,{className:st["context-menu-item"],onClick:()=>{},onMouseEnter:o=>this.handleItemMouseEnter(o,{option:"track-type",value:this.props.track}),onMouseLeave:o=>this.handleMouseLeave()},P.createElement("span",{className:st["context-menu-span"]},"Track Type",P.createElement("svg",{className:st["play-icon"]},P.createElement("title",null,"Play"),P.createElement("use",{xlinkHref:"#play"})))),P.createElement(xt,{className:st["context-menu-item"],onClick:()=>{this.props.apiPublish("datasetInfo",this.props.track),this.props.closeMenu()},onMouseEnter:o=>this.handleOtherMouseEnter()},P.createElement("span",{className:st["context-menu-span"]},"Dataset Info")),r,this.getDivideByMenuItem(),P.createElement(xt,{className:st["context-menu-item"],onClick:this.props.onCloseTrack,onMouseEnter:o=>this.handleOtherMouseEnter()},P.createElement("span",{className:st["context-menu-span"]},"Close Series")),i,this.getSubmenu())}}])})(Ls);function Qdt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jdt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t1t(n.key),n)}}function e1t(e,t,r){return t&&Jdt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t1t(e){var t=r1t(e,"string");return typeof t=="symbol"?t:t+""}function r1t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function n1t(e,t,r){return t=jy(t),i1t(e,OY()?Reflect.construct(t,r||[],jy(e).constructor):t.apply(e,r))}function i1t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o1t(e)}function o1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OY=function(){return!!e})()}function jy(e){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jy(e)}function a1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TE(e,t)}function TE(e,t){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},TE(e,t)}const PY=n_(e=>(function(t){function r(){return Qdt(this,r),n1t(this,r,arguments)}return a1t(r,t),e1t(r,[{key:"getSubmenu",value:function(){if(this.state.submenuShown){const n=this.state.submenuSourceBbox;let i=null;this.state.orientation==="left"?i={left:this.state.left,top:n.top}:i={left:this.state.left+n.width+7,top:n.top},i.canvasLeft=this.props.position.canvasLeft,i.canvasTop=this.props.position.canvasTop;const o=PG(this.props.tracks).filter(s=>s.uid===this.state.submenuShown.uid)[0],a=o&&o.position!=="whole";return P.createElement(Zdt,{key:`series-list-menu-${o.uid}`,ref:s=>{this.seriesListMenu=s},apiPublish:this.props.apiPublish,closeMenu:this.props.closeMenu,hostTrack:this.props.tracks[0],onAddDivisor:this.props.onAddDivisor,onAddSeries:a?this.props.onAddSeries:null,onChangeTrackData:this.props.onChangeTrackData,onChangeTrackType:this.props.onChangeTrackType,onCloseTrack:()=>this.props.onCloseTrack(this.state.submenuShown.uid),onConfigureTrack:this.props.onConfigureTrack,onDivideSeries:this.props.onDivideSeries,onExportData:this.props.onExportData,onLockScales:this.props.onLockScales,onTrackOptionsChanged:this.props.onTrackOptionsChanged,orientation:this.state.orientation,parentBbox:n,position:i,series:this.state.submenuShown,theme:this.props.theme,track:o,trackOrientation:this.props.trackOrientation,trackRenderer:this.props.trackRenderer,trackSourceServers:this.props.trackSourceServers})}return P.createElement("div",null)}}])})(e));function s1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l1t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c1t(n.key),n)}}function u1t(e,t,r){return t&&l1t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c1t(e){var t=h1t(e,"string");return typeof t=="symbol"?t:t+""}function h1t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function f1t(e,t,r){return t=gh(t),p1t(e,CY()?Reflect.construct(t,r||[],gh(e).constructor):t.apply(e,r))}function p1t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d1t(e)}function d1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CY=function(){return!!e})()}function m1t(e,t,r,n){var i=xE(gh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function xE(){return xE=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=g1t(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},xE.apply(null,arguments)}function g1t(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=gh(e))!==null;);return e}function gh(e){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gh(e)}function y1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EE(e,t)}function EE(e,t){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},EE(e,t)}let v1t=(function(e){function t(r){var n;return s1t(this,t),n=f1t(this,t,[r]),n.seriesRefs={},n.seriesListMenu=null,n}return y1t(t,e),u1t(t,[{key:"componentDidMount",value:function(){m1t(t,"componentDidMount",this)([])}},{key:"render",value:function(){return P.createElement("div",{ref:r=>{this.div=r},className:Gt(st["context-menu"],{[st["context-menu-dark"]]:this.props.theme===br}),"data-menu-type":"ConfigTrackMenu",style:{left:this.state.left,top:this.state.top}},t4(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this),null),P.createElement("hr",{className:st["context-menu-hr"]}),P.createElement(xt,{contextMenu:this,onClick:()=>this.props.onLockValueScale(this.props.tracks[0].uid),onMouseEnter:r=>this.handleOtherMouseEnter(r)},"Lock Value Scale With"),P.createElement(xt,{contextMenu:this,onClick:()=>this.props.onUnlockValueScale(this.props.tracks[0].uid),onMouseEnter:r=>this.handleOtherMouseEnter(r)},"Unlock Value Scale"),P.createElement("hr",{className:st["context-menu-hr"]}),P.createElement(xt,{contextMenu:this,onClick:()=>this.props.onAddSeries(this.props.tracks[0].uid),onMouseEnter:r=>this.handleOtherMouseEnter(r)},"Add Series"),P.createElement(xt,{onClick:()=>this.props.onCloseTrack(this.props.tracks[0].uid)},"Close Track"),P.createElement(xt,{onClick:()=>{this.props.onReplaceTrack(this.props.tracks[0].uid,this.props.trackOrientation)}},"Replace Track"),this.getSubmenu())}}])})(Of(Ls).with(PY));function SE(){return SE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SE.apply(null,arguments)}function b1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _1t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T1t(n.key),n)}}function w1t(e,t,r){return t&&_1t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T1t(e){var t=x1t(e,"string");return typeof t=="symbol"?t:t+""}function x1t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function E1t(e,t,r){return t=Ly(t),S1t(e,AY()?Reflect.construct(t,r||[],Ly(e).constructor):t.apply(e,r))}function S1t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k1t(e)}function k1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AY=function(){return!!e})()}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ly(e)}function O1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kE(e,t)}function kE(e,t){return kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},kE(e,t)}let D4=(function(e){function t(){return b1t(this,t),E1t(this,t,arguments)}return O1t(t,e),w1t(t,[{key:"render",value:function(){const r=[];return this.props.children.forEach((n,i)=>{const o=`customTrackDialog_${i}`;r.push(P.createElement(n,SE({key:o},this.props.bodyProps[i])))}),P.createElement(B1,{maxHeight:!0,okayOnly:!0,okayTitle:"Close",onCancel:this.props.onCancel,onOkay:this.props.onCancel,title:this.props.title},r)}}])})(P.PureComponent);D4.defaultProps={};D4.propTypes={onCancel:j.func.isRequired,title:j.string,bodyProps:j.array,children:j.array};const P1t={"drag-listening-div-active":"_drag-listening-div-active_19gkt_1"};function C1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A1t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I1t(n.key),n)}}function M1t(e,t,r){return t&&A1t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function I1t(e){var t=R1t(e,"string");return typeof t=="symbol"?t:t+""}function R1t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function D1t(e,t,r){return t=By(t),N1t(e,MY()?Reflect.construct(t,r||[],By(e).constructor):t.apply(e,r))}function N1t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j1t(e)}function j1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MY=function(){return!!e})()}function By(e){return By=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},By(e)}function L1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OE(e,t)}function OE(e,t){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},OE(e,t)}let N4=(function(e){function t(r){var n;return C1t(this,t),n=D1t(this,t,[r]),n.state={dragOnTop:!1},n}return L1t(t,e),M1t(t,[{key:"render",value:function(){let r="red";return this.props.enabled&&this.state.dragOnTop?r="green":this.props.enabled&&(r="blue"),P.createElement("div",{className:Gt("DragListeningDiv",{[P1t["drag-listening-div-active"]]:this.props.enabled}),onDragEnter:()=>{this.setState({dragOnTop:!0})},onDragLeave:()=>{this.setState({dragOnTop:!1})},onDragOver:n=>{n.preventDefault()},onDrop:()=>{if(!this.props.enabled)return;const n=this.props.draggingHappening,i={type:this.props.defaultTrackType,uid:Nt.nice(),tilesetUid:n.tilesetUid,server:n.server};this.props.onTrackDropped(i),this.props.pubSub.publish("trackDropped",i)},style:{background:r,opacity:.6,...this.props.style}})}}])})(P.Component);N4.defaultProps={enabled:!1,style:{},draggingHappening:{},onTrackDropped:()=>{}};N4.propTypes={enabled:j.bool,style:j.object,defaultTrackType:j.object,draggingHappening:j.object,onTrackDropped:j.func,position:j.string.isRequired,pubSub:j.object.isRequired};const Zm=Ef(N4),al={"gallery-tracks":"_gallery-tracks_fbxxi_1","gallery-track":"_gallery-track_fbxxi_1","gallery-sub-track":"_gallery-sub-track_fbxxi_18","gallery-invisible-track":"_gallery-invisible-track_fbxxi_19"},B1t="_horizontalList_1y7td_7",F1t="_list_1y7td_14",z1t="_stylizedList_1y7td_21",H1t="_stylizedItem_1y7td_28",U1t="_stylizedHelper_1y7td_39",V1t="_horizontalItem_1y7td_44",G1t="_domain_1y7td_60",Vi={"tiled-plot":"_tiled-plot_1y7td_1",horizontalList:B1t,list:F1t,stylizedList:z1t,stylizedItem:H1t,stylizedHelper:U1t,horizontalItem:V1t,"resizable-track":"_resizable-track_1y7td_55",domain:G1t};function Y1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W1t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$1t(n.key),n)}}function X1t(e,t,r){return t&&W1t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $1t(e){var t=q1t(e,"string");return typeof t=="symbol"?t:t+""}function q1t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function K1t(e,t,r){return t=Fy(t),Z1t(e,IY()?Reflect.construct(t,r||[],Fy(e).constructor):t.apply(e,r))}function Z1t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q1t(e)}function Q1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IY=function(){return!!e})()}function Fy(e){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fy(e)}function J1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PE(e,t)}function PE(e,t){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},PE(e,t)}const Qm={pointerEvents:"all"};let RY=(function(e){function t(r){var n;return Y1t(this,t),n=K1t(this,t,[r]),n.state={hovering:!1},n}return J1t(t,e),X1t(t,[{key:"mouseEnterHandler",value:function(){this.setState({hovering:!0})}},{key:"mouseLeaveHandler",value:function(){this.setState({hovering:!1})}},{key:"render",value:function(){var r;return P.createElement("div",{className:Gt("gallery-tracks",al["gallery-tracks"])},(r=this.props.tracks)==null?void 0:r.map((n,i)=>P.createElement("div",{key:n.uid||i,className:al["gallery-track"],onMouseLeave:this.mouseLeaveHandler.bind(this),style:{top:n.height*i,right:n.height*i,bottom:n.height*i,left:n.height*i}},P.createElement("div",{className:al["gallery-sub-track"],onMouseEnter:this.mouseEnterHandler.bind(this),style:{top:0,right:0,left:0,height:n.height}}),P.createElement("div",{className:al["gallery-sub-track"],onMouseEnter:this.mouseEnterHandler.bind(this),style:{top:0,right:0,bottom:0,width:n.height}}),P.createElement("div",{className:al["gallery-sub-track"],onMouseEnter:this.mouseEnterHandler.bind(this),style:{right:0,bottom:0,left:0,height:n.height}}),P.createElement("div",{className:al["gallery-sub-track"],onMouseEnter:this.mouseEnterHandler.bind(this),style:{top:0,bottom:0,left:0,width:n.height}}),P.createElement("div",{className:al["gallery-invisible-track"],onMouseLeave:this.mouseLeaveHandler.bind(this),style:{top:n.height,right:n.height,bottom:n.height,left:n.height}}),this.props.editable&&P.createElement(r_,{configMenuVisible:!0,imgStyleAdd:Qm,imgStyleClose:Qm,imgStyleMove:Qm,imgStyleSettings:Qm,isMoveable:!1,isVisible:this.state.hovering,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:n.uid||i}))))}}])})(P.Component);RY.propTypes={editable:j.bool,onCloseTrackMenuOpened:j.func.isRequired,onConfigTrackMenuOpened:j.func.isRequired,tracks:j.array};const m2={"top-right-handle":"_top-right-handle_cizw2_1","bottom-right-handle":"_bottom-right-handle_cizw2_2","top-left-handle":"_top-left-handle_cizw2_7","bottom-left-handle":"_bottom-left-handle_cizw2_8","top-draggable-handle":"_top-draggable-handle_cizw2_13","bottom-draggable-handle":"_bottom-draggable-handle_cizw2_14","left-draggable-handle":"_left-draggable-handle_cizw2_15","right-draggable-handle":"_right-draggable-handle_cizw2_16","draggable-div":"_draggable-div_cizw2_22","top-draggable-handle-grabber":"_top-draggable-handle-grabber_cizw2_27","bottom-draggable-handle-grabber":"_bottom-draggable-handle-grabber_cizw2_28","left-draggable-handle-grabber":"_left-draggable-handle-grabber_cizw2_43","right-draggable-handle-grabber":"_right-draggable-handle-grabber_cizw2_44"};function emt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tmt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nmt(n.key),n)}}function rmt(e,t,r){return t&&tmt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nmt(e){var t=imt(e,"string");return typeof t=="symbol"?t:t+""}function imt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function omt(e,t,r){return t=zy(t),amt(e,DY()?Reflect.construct(t,r||[],zy(e).constructor):t.apply(e,r))}function amt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return smt(e)}function smt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DY=function(){return!!e})()}function zy(e){return zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zy(e)}function lmt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CE(e,t)}function CE(e,t){return CE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},CE(e,t)}let NY=(function(e){function t(r){var n;return emt(this,t),n=omt(this,t,[r]),n.dragTopRight=ma().on("start",n.dragStart.bind(n)).on("drag",n.dragTopRightFunc.bind(n)),n.dragTopLeft=ma().on("start",n.dragStart.bind(n)).on("drag",n.dragTopLeftFunc.bind(n)),n.dragBottomRight=ma().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomRightFunc.bind(n)),n.dragBottomLeft=ma().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomLeftFunc.bind(n)),n.dragBottom=ma().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomFunc.bind(n)),n.dragTop=ma().on("start",n.dragStart.bind(n)).on("drag",n.dragTopFunc.bind(n)),n.dragLeft=ma().on("start",n.dragStart.bind(n)).on("drag",n.dragLeftFunc.bind(n)),n.dragRight=ma().on("start",n.dragStart.bind(n)).on("drag",n.dragRightFunc.bind(n)),n.minWidth=10,n.minHeight=10,n.bottomHandleWidth=20,n.state={uid:n.props.uid,width:n.props.width,height:n.props.height,top:n.props.top,left:n.props.left},n.domBody=ut("body").node(),n}return lmt(t,e),rmt(t,[{key:"componentDidMount",value:function(){ut(this.bottomHandle).call(this.dragBottom),ut(this.topHandle).call(this.dragTop),ut(this.leftHandle).call(this.dragLeft),ut(this.rightHandle).call(this.dragRight)}},{key:"UNSAFE_componentWillReceiveProps",value:function(r){"width"in r&&this.setState({width:r.width}),"height"in r&&this.setState({height:r.height})}},{key:"dragBottomFunc",value:function(r){const n=sr(r,this.domBody);let i=this.dragStartHeight+(n[1]-this.dragStartMousePos[1]);i=i>this.minHeight?i:this.minHeight,this.setState({height:i}),r.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragLeftFunc",value:function(r){const n=sr(r,this.domBody);let i=this.dragStartWidth-(n[0]-this.dragStartMousePos[0]);i=i>this.minWidth?i:this.minWidth;let o=this.dragStartLeft+n[0]-this.dragStartMousePos[0];o=i>this.minWidth?o:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:o,width:i}),r.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopFunc",value:function(r){const n=sr(r,this.domBody);let i=this.dragStartHeight-(n[1]-this.dragStartMousePos[1]);i=i>this.minHeight?i:this.minHeight;let o=this.dragStartTop+n[1]-this.dragStartMousePos[1];o=i>this.minHeight?o:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:o,height:i}),r.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragRightFunc",value:function(r){const n=sr(r,this.domBody);let i=this.dragStartWidth+(n[0]-this.dragStartMousePos[0]);i=i>this.minWidth?i:this.minWidth,this.setState({width:i}),r.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragBottomLeftFunc",value:function(r){const n=sr(r,this.domBody);let i=this.dragStartHeight+(n[1]-this.dragStartMousePos[1]);i=i>this.minHeight?i:this.minHeight;let o=this.dragStartWidth-(n[0]-this.dragStartMousePos[0]);o=o>this.minWidth?o:this.minWidth;let a=this.dragStartLeft+n[0]-this.dragStartMousePos[0];a=o>this.minWidth?a:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:a,width:o,height:i}),r.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragBottomRightFunc",value:function(r){const n=sr(r,this.domBody);let i=this.dragStartWidth+(n[0]-this.dragStartMousePos[0]);i=i>this.minWidth?i:this.minWidth;let o=this.dragStartHeight+(n[1]-this.dragStartMousePos[1]);o=o>this.minHeight?o:this.minHeight,this.setState({width:i,height:o}),r.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopRightFunc",value:function(r){const n=sr(r,this.domBody);let i=this.dragStartHeight-(n[1]-this.dragStartMousePos[1]);i=i>this.minHeight?i:this.minHeight;let o=this.dragStartTop+n[1]-this.dragStartMousePos[1];o=i>this.minHeight?o:this.dragStartTop+this.dragStartHeight-this.minHeight;let a=this.dragStartWidth+(n[0]-this.dragStartMousePos[0]);a=a>this.minWidth?a:this.minWidth,this.setState({top:o,width:a,height:i}),r.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopLeftFunc",value:function(r){const n=sr(r,this.domBody);let i=this.dragStartWidth-(n[0]-this.dragStartMousePos[0]);i=i>this.minWidth?i:this.minWidth;let o=this.dragStartLeft+n[0]-this.dragStartMousePos[0];o=i>this.minWidth?o:this.dragStartLeft+this.dragStartWidth-this.minWidth;let a=this.dragStartHeight-(n[1]-this.dragStartMousePos[1]);a=a>this.minHeight?a:this.minHeight;let s=this.dragStartTop+n[1]-this.dragStartMousePos[1];s=a>this.minHeight?s:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:s,left:o,width:i,height:a}),r.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragStart",value:function(r){this.dragStartMousePos=sr(r,this.domBody),this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,this.dragStartTop=this.state.top,this.dragStartLeft=this.state.left,r.sourceEvent.stopPropagation()}},{key:"sizeChanged",value:function(){this.props.sizeChanged&&this.props.sizeChanged(this.state)}},{key:"rotateClicked",value:function(){this.props.trackRotated(this.state.uid)}},{key:"closeClicked",value:function(){this.props.trackClosed(this.state.uid)}},{key:"render",value:function(){const r=this.props.theme===br?"white":"black",n={top:this.state.top,left:this.state.left,width:this.state.width,height:this.state.height,opacity:this.props.opacity},i=24,o=24,a={left:this.state.width/2-i/2,width:i},s={top:this.state.height/2-o/2,height:o},u={bottom:{...a,bottom:1},top:{...a,top:1},left:{...s,left:1},right:{...s,right:1}},l=[...this.props.resizeHandles].map(c=>P.createElement("div",{key:c,ref:h=>{this[`${c}Handle`]=h},className:m2[`${c}-draggable-handle`],style:u[c],title:"Resize track"},P.createElement("div",{className:m2[`${c}-draggable-handle-grabber`],style:{borderColor:r}})));return P.createElement("div",{ref:c=>{this.divContainer=c},className:Gt(this.props.className,m2["draggable-div"]),style:n},l)}}])})(P.Component);NY.propTypes={className:j.string,height:j.number,left:j.number,opacity:j.number,resizeHandles:j.object,sizeChanged:j.func,top:j.number,trackClosed:j.func,trackRotated:j.func,uid:j.string,width:j.number,theme:j.symbol};const umt=kf(NY);function cmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hmt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pmt(n.key),n)}}function fmt(e,t,r){return t&&hmt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pmt(e){var t=dmt(e,"string");return typeof t=="symbol"?t:t+""}function dmt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mmt(e,t,r){return t=Hy(t),gmt(e,jY()?Reflect.construct(t,r||[],Hy(e).constructor):t.apply(e,r))}function gmt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ymt(e)}function ymt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jY=function(){return!!e})()}function Hy(e){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hy(e)}function vmt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AE(e,t)}function AE(e,t){return AE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},AE(e,t)}let LY=(function(e){function t(r){var n;return cmt(this,t),n=mmt(this,t,[r]),n.state={controlsVisible:!1},n}return vmt(t,e),fmt(t,[{key:"shouldComponentUpdate",value:function(){return!this.resizing}},{key:"handleMouseEnter",value:function(){this.setState({controlsVisible:!0})}},{key:"handleMouseLeave",value:function(){this.setState({controlsVisible:!1})}},{key:"handleMouseMove",value:function(){this.setState({controlsVisible:!0})}},{key:"getControls",value:function(){let r=null;return this.moveable?r=rE(()=>P.createElement("svg",{className:"no-zoom",height:"10px",onClick:()=>{},style:this.getMoveImgStyle(),width:"10px"},P.createElement("title",null,"Move"),P.createElement("use",{xlinkHref:"#move"}))):r=rE(()=>P.createElement("div",null)),P.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(255,255,255,0.7)",right:"3px",top:"3px",pointerEvents:"none",paddingLeft:"5px",paddingRight:"5px",borderRadius:"5px",border:"1px solid #dddddd"}},P.createElement(r,null),P.createElement("svg",{ref:n=>{this.imgConfig=n},className:"no-zoom",height:"10px",onClick:()=>{const n=Xo.findDOMNode(this.imgConfig).getBoundingClientRect();this.props.onConfigTrackMenuOpened(this.props.uid,n)},style:this.getSettingsImgStyle(),width:"10px"},P.createElement("title",null,"No Zoom"),P.createElement("use",{xlinkHref:"#cog"})),P.createElement("svg",{ref:n=>{this.imgAdd=n},className:"no-zoom",height:"10px",onClick:()=>this.props.onAddSeries(this.props.uid),style:this.getAddImgStyle(),width:"10px"},P.createElement("title",null,"Add"),P.createElement("use",{xlinkHref:"#plus"})),P.createElement("svg",{ref:n=>{this.imgClose=n},className:"no-zoom",height:"10px",onClick:()=>{const n=Xo.findDOMNode(this.imgClose).getBoundingClientRect();this.props.onCloseTrackMenuOpened(this.props.uid,n)},style:this.getCloseImgStyle(),width:"10px"},P.createElement("title",null,"Close"),P.createElement("use",{xlinkHref:"#cross"})))}}])})(P.Component);LY.propTypes={configMenuOpen:j.bool,onConfigTrackMenuOpened:j.func,onCloseTrackMenuOpened:j.func,onAddSeries:j.func,uid:j.string};function bmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _mt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tmt(n.key),n)}}function wmt(e,t,r){return t&&_mt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tmt(e){var t=xmt(e,"string");return typeof t=="symbol"?t:t+""}function xmt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Emt(e,t,r){return t=Uy(t),Smt(e,BY()?Reflect.construct(t,r||[],Uy(e).constructor):t.apply(e,r))}function Smt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kmt(e)}function kmt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BY=function(){return!!e})()}function Uy(e){return Uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uy(e)}function Omt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ME(e,t)}function ME(e,t){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ME(e,t)}let f_=(function(e){function t(r){var n;return bmt(this,t),n=Emt(this,t,[r]),n.moveable=!0,n}return Omt(t,e),wmt(t,[{key:"render",value:function(){return P.createElement("div",{ref:r=>{this.el=r},className:this.props.className,onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:()=>{this.handleMouseLeave()},style:{height:this.props.height,width:this.props.width}},P.createElement(umt,{key:this.props.uid,height:this.props.height,resizeHandles:this.props.editable?this.props.resizeHandles:new Set,sizeChanged:r=>this.props.handleResizeTrack(this.props.uid,r.width,r.height),style:{background:"transparent"},uid:this.props.uid,width:this.props.width}),this.props.editable&&this.getControls(this.state.controlsVisible||this.props.item.configMenuVisible))}}])})(LY);f_.propTypes={className:j.string,uid:j.string,item:j.object,height:j.number,width:j.number};function Pmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cmt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mmt(n.key),n)}}function Amt(e,t,r){return t&&Cmt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mmt(e){var t=Imt(e,"string");return typeof t=="symbol"?t:t+""}function Imt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Rmt(e,t,r){return t=Vy(t),Dmt(e,FY()?Reflect.construct(t,r||[],Vy(e).constructor):t.apply(e,r))}function Dmt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nmt(e)}function Nmt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FY=function(){return!!e})()}function Vy(e){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vy(e)}function jmt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IE(e,t)}function IE(e,t){return IE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},IE(e,t)}const Jm={pointerEvents:"all"};let zY=(function(e){function t(){return Pmt(this,t),Rmt(this,t,arguments)}return jmt(t,e),Amt(t,[{key:"getControls",value:function(r){return P.createElement(r_,{configMenuVisible:this.props.item.configMenuVisible,imgStyleAdd:Jm,imgStyleClose:Jm,imgStyleMove:Jm,imgStyleSettings:Jm,isMoveable:this.moveable,isVisible:r,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}}])})(f_);const Lmt=SG(e=>P.createElement(zY,{className:e.className,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width}));function RE(){return RE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RE.apply(null,arguments)}function Bmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fmt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hmt(n.key),n)}}function zmt(e,t,r){return t&&Fmt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hmt(e){var t=Umt(e,"string");return typeof t=="symbol"?t:t+""}function Umt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Vmt(e,t,r){return t=Gy(t),Gmt(e,HY()?Reflect.construct(t,[],Gy(e).constructor):t.apply(e,r))}function Gmt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ymt(e)}function Ymt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HY=function(){return!!e})()}function Gy(e){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gy(e)}function Wmt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DE(e,t)}function DE(e,t){return DE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},DE(e,t)}let p_=(function(e){function t({items:r}){var n;return Bmt(this,t),n=Vmt(this,t),n.state={items:r,isSorting:!1},n}return Wmt(t,e),zmt(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(r){this.setState({items:r.items})}},{key:"onSortStart",value:function({node:r,index:n,collection:i},o){o.stopImmediatePropagation();const{onSortStart:a}=this.props;this.setState({isSorting:!0}),a&&a(this.ref),this.sortingIndex=n,this.sortStartTop=o.offsetTop,this.sortStartLeft=o.offsetLeft}},{key:"onSortMove",value:function(){}},{key:"onSortEnd",value:function({oldIndex:r,newIndex:n}){const{onSortEnd:i}=this.props,{items:o}=this.state;this.setState({items:mot(o,r,n),isSorting:!1}),i&&i(this.state.items),this.sortingIndex=null}},{key:"render",value:function(){const r=this.props.component,{items:n,isSorting:i}=this.state,o={isSorting:i,items:n,onSortEnd:this.onSortEnd.bind(this),onSortStart:this.onSortStart.bind(this),onSortMove:this.onSortMove.bind(this)};return P.createElement(r,RE({},this.props,o,{ref:a=>{this.ref=a}}))}}])})(P.Component);p_.propTypes={axis:j.string,className:j.string,component:j.func,editable:j.bool,handleConfigTrack:j.func,handleResizeTrack:j.func,height:j.number,helperClass:j.string,itemClass:j.string,itemControlAlignLeft:j.bool,itemReactClass:j.func,items:j.array,onAddSeries:j.func,onCloseTrack:j.func,onCloseTrackMenuOpened:j.func,onConfigTrackMenuOpened:j.func,onSortEnd:j.func,onSortStart:j.func,referenceAncestor:j.string,resizeHandles:j.object,useDragHandle:j.bool,width:j.number};p_.defaultProps={className:"list stylizedList",itemClass:"item stylizedItem",width:400,height:600};function NE(){return NE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NE.apply(null,arguments)}const UY=Aot(({className:e,items:t,itemClass:r,itemControlAlignLeft:n,sortingIndex:i,useDragHandle:o,sortableHandlers:a,height:s,width:u,onCloseTrack:l,onCloseTrackMenuOpened:c,onConfigTrackMenuOpened:h,onAddSeries:f,handleConfigTrack:p,editable:d,itemReactClass:m,handleResizeTrack:v,resizeHandles:b})=>{const g=t.map((y,_)=>P.createElement(m,{key:`sci-${y.uid}`,className:r,controlAlignLeft:n,sortingIndex:i,index:_,uid:y.uid,height:y.height,width:y.width,item:y,useDragHandle:o,onCloseTrack:l,onCloseTrackMenuOpened:c,onConfigTrackMenuOpened:h,onAddSeries:f,handleConfigTrack:p,editable:d,handleResizeTrack:v,resizeHandles:b}));return P.createElement("div",NE({className:e,style:{height:s,width:u,background:"transparent"}},a),g)}),Xmt={"horizontal-tiled-plot":"_horizontal-tiled-plot_1bqkg_1"};function $mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qmt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zmt(n.key),n)}}function Kmt(e,t,r){return t&&qmt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zmt(e){var t=Qmt(e,"string");return typeof t=="symbol"?t:t+""}function Qmt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Jmt(e,t,r){return t=Yy(t),egt(e,VY()?Reflect.construct(t,r||[],Yy(e).constructor):t.apply(e,r))}function egt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tgt(e)}function tgt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VY=function(){return!!e})()}function Yy(e){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yy(e)}function rgt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jE(e,t)}function jE(e,t){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},jE(e,t)}function a7(e){return e?.sourceEvent}let Wy=(function(e){function t(r){var n;return $mt(this,t),n=Jmt(this,t,[r]),n.brushBehavior=fh().on("start",n.brushStarted.bind(n)).on("brush",n.brushed.bind(n)).on("end",n.brushedEnded.bind(n)),n}return rgt(t,e),Kmt(t,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush()}},{key:"shouldComponentUpdate",value:function(r,n){return this.rangeSelectionTriggered?(this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==r.rangeSelection&&this.moveBrush(r.rangeSelection[0]?r.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==n):this.props.rangeSelection!==r.rangeSelection?(this.moveBrush(r.rangeSelection[0]?r.rangeSelection[0]:null,r.rangeSelectionEnd),this.state!==n):!0}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}},{key:"addBrush",value:function(){!this.brushEl||this.brushElAddedBefore===this.brushEl||(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,Dc(this.brushEl,fo["track-range-selection-group-brush-selection"]))}},{key:"brushed",value:function(r){const n=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!a7(r)||!this.props.onRangeSelection||n)&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(r.selection))}},{key:"brushStarted",value:function(r){!a7(r)||!r.selection||this.props.onRangeSelectionStart()}},{key:"brushedEnded",value:function(r){if(!this.props.is1dRangeSelection)return;const n=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,r.selection&&r.sourceEvent&&this.props.onRangeSelection&&!n&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(r.selection)),r.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}},{key:"moveBrush",value:function(r,n=!1){if(!this.brushEl)return;const i=r?[this.props.scale(r[0]),this.props.scale(r[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,n?this.brushEl.transition().call(this.brushBehavior.move,i):this.brushEl.call(this.brushBehavior.move,i)}},{key:"removeBrush",value:function(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}},{key:"render",value:function(){const r=this.props.tracks.map(o=>o.height).reduce(fs,0),n=this.props.tracks.map(o=>df(o)).reduce(w1,!1),i=this.props.isRangeSelectionActive?fo["track-range-selection-active"]:fo["track-range-selection"];return P.createElement("div",{className:Gt("horizontal-tiled-plot",Xmt["horizontal-tiled-plot"])},n&&P.createElement("svg",{ref:o=>{this.brushEl=ut(o)},className:i,style:{height:r,width:this.props.width},xmlns:"http://www.w3.org/2000/svg"}),P.createElement(p_,{className:Gt(Vi.list,Vi.stylizedList),component:UY,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:r,helperClass:Vi.stylizedHelper,itemClass:Vi.stylizedItem,itemReactClass:Lmt,items:this.props.tracks.map(o=>({configMenuVisible:o.uid===this.props.configTrackMenuId,uid:o.uid||Nt.nice(),width:this.props.width,height:o.height,value:o.value})),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:this.props.width}))}}])})(P.Component);Wy.propTypes={configTrackMenuId:j.string,editable:j.bool,handleConfigTrack:j.func,handleResizeTrack:j.func,handleSortEnd:j.func,is1dRangeSelection:j.bool,isRangeSelectionActive:j.bool,onAddSeries:j.func,onCloseTrack:j.func,onCloseTrackMenuOpened:j.func,onConfigTrackMenuOpened:j.func,onRangeSelection:j.func,onRangeSelectionEnd:j.func,onRangeSelectionReset:j.func,onRangeSelectionStart:j.func,rangeSelection:j.array,rangeSelectionEnd:j.bool,referenceAncestor:j.func,resizeHandles:j.object,scale:j.func,tracks:j.array,width:j.number};var Vt={},Or={},j4=32;Or.INT_BITS=j4;Or.INT_MAX=2147483647;Or.INT_MIN=-1<<j4-1;Or.sign=function(e){return(e>0)-(e<0)};Or.abs=function(e){var t=e>>j4-1;return(e^t)-t};Or.min=function(e,t){return t^(e^t)&-(e<t)};Or.max=function(e,t){return e^(e^t)&-(e<t)};Or.isPow2=function(e){return!(e&e-1)&&!!e};Or.log2=function(e){var t,r;return t=(e>65535)<<4,e>>>=t,r=(e>255)<<3,e>>>=r,t|=r,r=(e>15)<<2,e>>>=r,t|=r,r=(e>3)<<1,e>>>=r,t|=r,t|e>>1};Or.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0};Or.popCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24};function GY(e){var t=32;return e&=-e,e&&t--,e&65535&&(t-=16),e&16711935&&(t-=8),e&252645135&&(t-=4),e&858993459&&(t-=2),e&1431655765&&(t-=1),t}Or.countTrailingZeros=GY;Or.nextPow2=function(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1};Or.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)};Or.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1};var Zp=new Array(256);(function(e){for(var t=0;t<256;++t){var r=t,n=t,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=r&1,--i;e[t]=n<<i&255}})(Zp);Or.reverse=function(e){return Zp[e&255]<<24|Zp[e>>>8&255]<<16|Zp[e>>>16&255]<<8|Zp[e>>>24&255]};Or.interleave2=function(e,t){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t&=65535,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1};Or.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=(e|e>>>1)&858993459,e=(e|e>>>2)&252645135,e=(e|e>>>4)&16711935,e=(e|e>>>16)&65535,e<<16>>16};Or.interleave3=function(e,t,r){return e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,t&=1023,t=(t|t<<16)&4278190335,t=(t|t<<8)&251719695,t=(t|t<<4)&3272356035,t=(t|t<<2)&1227133513,e|=t<<1,r&=1023,r=(r|r<<16)&4278190335,r=(r|r<<8)&251719695,r=(r|r<<4)&3272356035,r=(r|r<<2)&1227133513,e|r<<2};Or.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=(e|e>>>2)&3272356035,e=(e|e>>>4)&251719695,e=(e|e>>>8)&4278190335,e=(e|e>>>16)&1023,e<<22>>22};Or.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>GY(e)+1};function YY(e,t,r){var n=e[r]|0;if(n<=0)return[];var i=new Array(n),o;if(r===e.length-1)for(o=0;o<n;++o)i[o]=t;else for(o=0;o<n;++o)i[o]=YY(e,t,r+1);return i}function ngt(e,t){var r,n;for(r=new Array(e),n=0;n<e;++n)r[n]=t;return r}function igt(e,t){switch(typeof t>"u"&&(t=0),typeof e){case"number":if(e>0)return ngt(e|0,t);break;case"object":if(typeof e.length=="number")return YY(e,t,0);break}return[]}var ogt=igt,WY={},d_={};d_.byteLength=lgt;d_.toByteArray=cgt;d_.fromByteArray=pgt;var Fo=[],Bi=[],agt=typeof Uint8Array<"u"?Uint8Array:Array,g2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Wu=0,sgt=g2.length;Wu<sgt;++Wu)Fo[Wu]=g2[Wu],Bi[g2.charCodeAt(Wu)]=Wu;Bi[45]=62;Bi[95]=63;function XY(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function lgt(e){var t=XY(e),r=t[0],n=t[1];return(r+n)*3/4-n}function ugt(e,t,r){return(t+r)*3/4-r}function cgt(e){var t,r=XY(e),n=r[0],i=r[1],o=new agt(ugt(e,n,i)),a=0,s=i>0?n-4:n,u;for(u=0;u<s;u+=4)t=Bi[e.charCodeAt(u)]<<18|Bi[e.charCodeAt(u+1)]<<12|Bi[e.charCodeAt(u+2)]<<6|Bi[e.charCodeAt(u+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=Bi[e.charCodeAt(u)]<<2|Bi[e.charCodeAt(u+1)]>>4,o[a++]=t&255),i===1&&(t=Bi[e.charCodeAt(u)]<<10|Bi[e.charCodeAt(u+1)]<<4|Bi[e.charCodeAt(u+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function hgt(e){return Fo[e>>18&63]+Fo[e>>12&63]+Fo[e>>6&63]+Fo[e&63]}function fgt(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(hgt(n));return i.join("")}function pgt(e){for(var t,r=e.length,n=r%3,i=[],o=16383,a=0,s=r-n;a<s;a+=o)i.push(fgt(e,a,a+o>s?s:a+o));return n===1?(t=e[r-1],i.push(Fo[t>>2]+Fo[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Fo[t>>10]+Fo[t>>4&63]+Fo[t<<2&63]+"=")),i.join("")}var L4={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */L4.read=function(e,t,r,n,i){var o,a,s=i*8-n-1,u=(1<<s)-1,l=u>>1,c=-7,h=r?i-1:0,f=r?-1:1,p=e[t+h];for(h+=f,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=o*256+e[t+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=a*256+e[t+h],h+=f,c-=8);if(o===0)o=1-l;else{if(o===u)return a?NaN:(p?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-l}return(p?-1:1)*a*Math.pow(2,o-n)};L4.write=function(e,t,r,n,i,o){var a,s,u,l=o*8-i-1,c=(1<<l)-1,h=c>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,m=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+h>=1?t+=f/u:t+=f*Math.pow(2,1-h),t*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*u-1)*Math.pow(2,i),a=a+h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=s&255,p+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[r+p]=a&255,p+=d,a/=256,l-=8);e[r+p-d]|=m*128};/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/(function(e){function t(C,L){if(!(C instanceof L))throw new TypeError("Cannot call a class as a function")}function r(C,L){for(var G=0;G<L.length;G++){var se=L[G];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(C,i(se.key),se)}}function n(C,L,G){return L&&r(C.prototype,L),Object.defineProperty(C,"prototype",{writable:!1}),C}function i(C){var L=o(C,"string");return typeof L=="symbol"?L:L+""}function o(C,L){if(typeof C!="object"||!C)return C;var G=C[Symbol.toPrimitive];if(G!==void 0){var se=G.call(C,L);if(typeof se!="object")return se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}function a(C,L,G){return L=c(L),s(C,l()?Reflect.construct(L,[],c(C).constructor):L.apply(C,G))}function s(C,L){if(L&&(typeof L=="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(C)}function u(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function l(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l=function(){return!!C})()}function c(C){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},c(C)}function h(C,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(L&&L.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),L&&f(C,L)}function f(C,L){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(G,se){return G.__proto__=se,G},f(C,L)}const p=d_,d=L4,m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=y,e.SlowBuffer=k,e.INSPECT_MAX_BYTES=50;const v=2147483647;e.kMaxLength=v,y.TYPED_ARRAY_SUPPORT=b(),!y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function b(){try{const C=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(C,L),C.foo()===42}catch{return!1}}Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}});function g(C){if(C>v)throw new RangeError('The value "'+C+'" is invalid for option "size"');const L=new Uint8Array(C);return Object.setPrototypeOf(L,y.prototype),L}function y(C,L,G){if(typeof C=="number"){if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return O(C)}return _(C,L,G)}y.poolSize=8192;function _(C,L,G){if(typeof C=="string")return E(C,L);if(ArrayBuffer.isView(C))return A(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(qe(C,ArrayBuffer)||C&&qe(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(qe(C,SharedArrayBuffer)||C&&qe(C.buffer,SharedArrayBuffer)))return M(C,L,G);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const se=C.valueOf&&C.valueOf();if(se!=null&&se!==C)return y.from(se,L,G);const de=H(C);if(de)return de;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return y.from(C[Symbol.toPrimitive]("string"),L,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}y.from=function(C,L,G){return _(C,L,G)},Object.setPrototypeOf(y.prototype,Uint8Array.prototype),Object.setPrototypeOf(y,Uint8Array);function w(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function T(C,L,G){return w(C),C<=0?g(C):L!==void 0?typeof G=="string"?g(C).fill(L,G):g(C).fill(L):g(C)}y.alloc=function(C,L,G){return T(C,L,G)};function O(C){return w(C),g(C<0?0:N(C)|0)}y.allocUnsafe=function(C){return O(C)},y.allocUnsafeSlow=function(C){return O(C)};function E(C,L){if((typeof L!="string"||L==="")&&(L="utf8"),!y.isEncoding(L))throw new TypeError("Unknown encoding: "+L);const G=R(C,L)|0;let se=g(G);const de=se.write(C,L);return de!==G&&(se=se.slice(0,de)),se}function S(C){const L=C.length<0?0:N(C.length)|0,G=g(L);for(let se=0;se<L;se+=1)G[se]=C[se]&255;return G}function A(C){if(qe(C,Uint8Array)){const L=new Uint8Array(C);return M(L.buffer,L.byteOffset,L.byteLength)}return S(C)}function M(C,L,G){if(L<0||C.byteLength<L)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<L+(G||0))throw new RangeError('"length" is outside of buffer bounds');let se;return L===void 0&&G===void 0?se=new Uint8Array(C):G===void 0?se=new Uint8Array(C,L):se=new Uint8Array(C,L,G),Object.setPrototypeOf(se,y.prototype),se}function H(C){if(y.isBuffer(C)){const L=N(C.length)|0,G=g(L);return G.length===0||C.copy(G,0,0,L),G}if(C.length!==void 0)return typeof C.length!="number"||nt(C.length)?g(0):S(C);if(C.type==="Buffer"&&Array.isArray(C.data))return S(C.data)}function N(C){if(C>=v)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+v.toString(16)+" bytes");return C|0}function k(C){return+C!=C&&(C=0),y.alloc(+C)}y.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==y.prototype},y.compare=function(C,L){if(qe(C,Uint8Array)&&(C=y.from(C,C.offset,C.byteLength)),qe(L,Uint8Array)&&(L=y.from(L,L.offset,L.byteLength)),!y.isBuffer(C)||!y.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===L)return 0;let G=C.length,se=L.length;for(let de=0,Q=Math.min(G,se);de<Q;++de)if(C[de]!==L[de]){G=C[de],se=L[de];break}return G<se?-1:se<G?1:0},y.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(C,L){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return y.alloc(0);let G;if(L===void 0)for(L=0,G=0;G<C.length;++G)L+=C[G].length;const se=y.allocUnsafe(L);let de=0;for(G=0;G<C.length;++G){let Q=C[G];if(qe(Q,Uint8Array))de+Q.length>se.length?(y.isBuffer(Q)||(Q=y.from(Q)),Q.copy(se,de)):Uint8Array.prototype.set.call(se,Q,de);else if(y.isBuffer(Q))Q.copy(se,de);else throw new TypeError('"list" argument must be an Array of Buffers');de+=Q.length}return se};function R(C,L){if(y.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||qe(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);const G=C.length,se=arguments.length>2&&arguments[2]===!0;if(!se&&G===0)return 0;let de=!1;for(;;)switch(L){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return ge(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G*2;case"hex":return G>>>1;case"base64":return je(C).length;default:if(de)return se?-1:ge(C).length;L=(""+L).toLowerCase(),de=!0}}y.byteLength=R;function B(C,L,G){let se=!1;if((L===void 0||L<0)&&(L=0),L>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0,L>>>=0,G<=L))return"";for(C||(C="utf8");;)switch(C){case"hex":return Oe(this,L,G);case"utf8":case"utf-8":return le(this,L,G);case"ascii":return ce(this,L,G);case"latin1":case"binary":return Se(this,L,G);case"base64":return ee(this,L,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,L,G);default:if(se)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),se=!0}}y.prototype._isBuffer=!0;function z(C,L,G){const se=C[L];C[L]=C[G],C[G]=se}y.prototype.swap16=function(){const C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<C;L+=2)z(this,L,L+1);return this},y.prototype.swap32=function(){const C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<C;L+=4)z(this,L,L+3),z(this,L+1,L+2);return this},y.prototype.swap64=function(){const C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<C;L+=8)z(this,L,L+7),z(this,L+1,L+6),z(this,L+2,L+5),z(this,L+3,L+4);return this},y.prototype.toString=function(){const C=this.length;return C===0?"":arguments.length===0?le(this,0,C):B.apply(this,arguments)},y.prototype.toLocaleString=y.prototype.toString,y.prototype.equals=function(C){if(!y.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:y.compare(this,C)===0},y.prototype.inspect=function(){let C="";const L=e.INSPECT_MAX_BYTES;return C=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(C+=" ... "),"<Buffer "+C+">"},m&&(y.prototype[m]=y.prototype.inspect),y.prototype.compare=function(C,L,G,se,de){if(qe(C,Uint8Array)&&(C=y.from(C,C.offset,C.byteLength)),!y.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(L===void 0&&(L=0),G===void 0&&(G=C?C.length:0),se===void 0&&(se=0),de===void 0&&(de=this.length),L<0||G>C.length||se<0||de>this.length)throw new RangeError("out of range index");if(se>=de&&L>=G)return 0;if(se>=de)return-1;if(L>=G)return 1;if(L>>>=0,G>>>=0,se>>>=0,de>>>=0,this===C)return 0;let Q=de-se,J=G-L;const ve=Math.min(Q,J),pe=this.slice(se,de),De=C.slice(L,G);for(let Ve=0;Ve<ve;++Ve)if(pe[Ve]!==De[Ve]){Q=pe[Ve],J=De[Ve];break}return Q<J?-1:J<Q?1:0};function U(C,L,G,se,de){if(C.length===0)return-1;if(typeof G=="string"?(se=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),G=+G,nt(G)&&(G=de?0:C.length-1),G<0&&(G=C.length+G),G>=C.length){if(de)return-1;G=C.length-1}else if(G<0)if(de)G=0;else return-1;if(typeof L=="string"&&(L=y.from(L,se)),y.isBuffer(L))return L.length===0?-1:V(C,L,G,se,de);if(typeof L=="number")return L=L&255,typeof Uint8Array.prototype.indexOf=="function"?de?Uint8Array.prototype.indexOf.call(C,L,G):Uint8Array.prototype.lastIndexOf.call(C,L,G):V(C,[L],G,se,de);throw new TypeError("val must be string, number or Buffer")}function V(C,L,G,se,de){let Q=1,J=C.length,ve=L.length;if(se!==void 0&&(se=String(se).toLowerCase(),se==="ucs2"||se==="ucs-2"||se==="utf16le"||se==="utf-16le")){if(C.length<2||L.length<2)return-1;Q=2,J/=2,ve/=2,G/=2}function pe(Ve,Ke){return Q===1?Ve[Ke]:Ve.readUInt16BE(Ke*Q)}let De;if(de){let Ve=-1;for(De=G;De<J;De++)if(pe(C,De)===pe(L,Ve===-1?0:De-Ve)){if(Ve===-1&&(Ve=De),De-Ve+1===ve)return Ve*Q}else Ve!==-1&&(De-=De-Ve),Ve=-1}else for(G+ve>J&&(G=J-ve),De=G;De>=0;De--){let Ve=!0;for(let Ke=0;Ke<ve;Ke++)if(pe(C,De+Ke)!==pe(L,Ke)){Ve=!1;break}if(Ve)return De}return-1}y.prototype.includes=function(C,L,G){return this.indexOf(C,L,G)!==-1},y.prototype.indexOf=function(C,L,G){return U(this,C,L,G,!0)},y.prototype.lastIndexOf=function(C,L,G){return U(this,C,L,G,!1)};function W(C,L,G,se){G=Number(G)||0;const de=C.length-G;se?(se=Number(se),se>de&&(se=de)):se=de;const Q=L.length;se>Q/2&&(se=Q/2);let J;for(J=0;J<se;++J){const ve=parseInt(L.substr(J*2,2),16);if(nt(ve))return J;C[G+J]=ve}return J}function te(C,L,G,se){return ze(ge(L,C.length-G),C,G,se)}function re(C,L,G,se){return ze(be(L),C,G,se)}function X(C,L,G,se){return ze(je(L),C,G,se)}function $(C,L,G,se){return ze(Re(L,C.length-G),C,G,se)}y.prototype.write=function(C,L,G,se){if(L===void 0)se="utf8",G=this.length,L=0;else if(G===void 0&&typeof L=="string")se=L,G=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(G)?(G=G>>>0,se===void 0&&(se="utf8")):(se=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const de=this.length-L;if((G===void 0||G>de)&&(G=de),C.length>0&&(G<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");let Q=!1;for(;;)switch(se){case"hex":return W(this,C,L,G);case"utf8":case"utf-8":return te(this,C,L,G);case"ascii":case"latin1":case"binary":return re(this,C,L,G);case"base64":return X(this,C,L,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,C,L,G);default:if(Q)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),Q=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ee(C,L,G){return L===0&&G===C.length?p.fromByteArray(C):p.fromByteArray(C.slice(L,G))}function le(C,L,G){G=Math.min(C.length,G);const se=[];let de=L;for(;de<G;){const Q=C[de];let J=null,ve=Q>239?4:Q>223?3:Q>191?2:1;if(de+ve<=G){let pe,De,Ve,Ke;switch(ve){case 1:Q<128&&(J=Q);break;case 2:pe=C[de+1],(pe&192)===128&&(Ke=(Q&31)<<6|pe&63,Ke>127&&(J=Ke));break;case 3:pe=C[de+1],De=C[de+2],(pe&192)===128&&(De&192)===128&&(Ke=(Q&15)<<12|(pe&63)<<6|De&63,Ke>2047&&(Ke<55296||Ke>57343)&&(J=Ke));break;case 4:pe=C[de+1],De=C[de+2],Ve=C[de+3],(pe&192)===128&&(De&192)===128&&(Ve&192)===128&&(Ke=(Q&15)<<18|(pe&63)<<12|(De&63)<<6|Ve&63,Ke>65535&&Ke<1114112&&(J=Ke))}}J===null?(J=65533,ve=1):J>65535&&(J-=65536,se.push(J>>>10&1023|55296),J=56320|J&1023),se.push(J),de+=ve}return Ee(se)}const fe=4096;function Ee(C){const L=C.length;if(L<=fe)return String.fromCharCode.apply(String,C);let G="",se=0;for(;se<L;)G+=String.fromCharCode.apply(String,C.slice(se,se+=fe));return G}function ce(C,L,G){let se="";G=Math.min(C.length,G);for(let de=L;de<G;++de)se+=String.fromCharCode(C[de]&127);return se}function Se(C,L,G){let se="";G=Math.min(C.length,G);for(let de=L;de<G;++de)se+=String.fromCharCode(C[de]);return se}function Oe(C,L,G){const se=C.length;(!L||L<0)&&(L=0),(!G||G<0||G>se)&&(G=se);let de="";for(let Q=L;Q<G;++Q)de+=Tt[C[Q]];return de}function he(C,L,G){const se=C.slice(L,G);let de="";for(let Q=0;Q<se.length-1;Q+=2)de+=String.fromCharCode(se[Q]+se[Q+1]*256);return de}y.prototype.slice=function(C,L){const G=this.length;C=~~C,L=L===void 0?G:~~L,C<0?(C+=G,C<0&&(C=0)):C>G&&(C=G),L<0?(L+=G,L<0&&(L=0)):L>G&&(L=G),L<C&&(L=C);const se=this.subarray(C,L);return Object.setPrototypeOf(se,y.prototype),se};function Pe(C,L,G){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+L>G)throw new RangeError("Trying to access beyond buffer length")}y.prototype.readUintLE=y.prototype.readUIntLE=function(C,L,G){C=C>>>0,L=L>>>0,G||Pe(C,L,this.length);let se=this[C],de=1,Q=0;for(;++Q<L&&(de*=256);)se+=this[C+Q]*de;return se},y.prototype.readUintBE=y.prototype.readUIntBE=function(C,L,G){C=C>>>0,L=L>>>0,G||Pe(C,L,this.length);let se=this[C+--L],de=1;for(;L>0&&(de*=256);)se+=this[C+--L]*de;return se},y.prototype.readUint8=y.prototype.readUInt8=function(C,L){return C=C>>>0,L||Pe(C,1,this.length),this[C]},y.prototype.readUint16LE=y.prototype.readUInt16LE=function(C,L){return C=C>>>0,L||Pe(C,2,this.length),this[C]|this[C+1]<<8},y.prototype.readUint16BE=y.prototype.readUInt16BE=function(C,L){return C=C>>>0,L||Pe(C,2,this.length),this[C]<<8|this[C+1]},y.prototype.readUint32LE=y.prototype.readUInt32LE=function(C,L){return C=C>>>0,L||Pe(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},y.prototype.readUint32BE=y.prototype.readUInt32BE=function(C,L){return C=C>>>0,L||Pe(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},y.prototype.readBigUInt64LE=Xe(function(C){C=C>>>0,oe(C,"offset");const L=this[C],G=this[C+7];(L===void 0||G===void 0)&&ue(C,this.length-8);const se=L+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24,de=this[++C]+this[++C]*2**8+this[++C]*2**16+G*2**24;return BigInt(se)+(BigInt(de)<<BigInt(32))}),y.prototype.readBigUInt64BE=Xe(function(C){C=C>>>0,oe(C,"offset");const L=this[C],G=this[C+7];(L===void 0||G===void 0)&&ue(C,this.length-8);const se=L*2**24+this[++C]*2**16+this[++C]*2**8+this[++C],de=this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+G;return(BigInt(se)<<BigInt(32))+BigInt(de)}),y.prototype.readIntLE=function(C,L,G){C=C>>>0,L=L>>>0,G||Pe(C,L,this.length);let se=this[C],de=1,Q=0;for(;++Q<L&&(de*=256);)se+=this[C+Q]*de;return de*=128,se>=de&&(se-=Math.pow(2,8*L)),se},y.prototype.readIntBE=function(C,L,G){C=C>>>0,L=L>>>0,G||Pe(C,L,this.length);let se=L,de=1,Q=this[C+--se];for(;se>0&&(de*=256);)Q+=this[C+--se]*de;return de*=128,Q>=de&&(Q-=Math.pow(2,8*L)),Q},y.prototype.readInt8=function(C,L){return C=C>>>0,L||Pe(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},y.prototype.readInt16LE=function(C,L){C=C>>>0,L||Pe(C,2,this.length);const G=this[C]|this[C+1]<<8;return G&32768?G|4294901760:G},y.prototype.readInt16BE=function(C,L){C=C>>>0,L||Pe(C,2,this.length);const G=this[C+1]|this[C]<<8;return G&32768?G|4294901760:G},y.prototype.readInt32LE=function(C,L){return C=C>>>0,L||Pe(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},y.prototype.readInt32BE=function(C,L){return C=C>>>0,L||Pe(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},y.prototype.readBigInt64LE=Xe(function(C){C=C>>>0,oe(C,"offset");const L=this[C],G=this[C+7];(L===void 0||G===void 0)&&ue(C,this.length-8);const se=this[C+4]+this[C+5]*2**8+this[C+6]*2**16+(G<<24);return(BigInt(se)<<BigInt(32))+BigInt(L+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24)}),y.prototype.readBigInt64BE=Xe(function(C){C=C>>>0,oe(C,"offset");const L=this[C],G=this[C+7];(L===void 0||G===void 0)&&ue(C,this.length-8);const se=(L<<24)+this[++C]*2**16+this[++C]*2**8+this[++C];return(BigInt(se)<<BigInt(32))+BigInt(this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+G)}),y.prototype.readFloatLE=function(C,L){return C=C>>>0,L||Pe(C,4,this.length),d.read(this,C,!0,23,4)},y.prototype.readFloatBE=function(C,L){return C=C>>>0,L||Pe(C,4,this.length),d.read(this,C,!1,23,4)},y.prototype.readDoubleLE=function(C,L){return C=C>>>0,L||Pe(C,8,this.length),d.read(this,C,!0,52,8)},y.prototype.readDoubleBE=function(C,L){return C=C>>>0,L||Pe(C,8,this.length),d.read(this,C,!1,52,8)};function Fe(C,L,G,se,de,Q){if(!y.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>de||L<Q)throw new RangeError('"value" argument is out of bounds');if(G+se>C.length)throw new RangeError("Index out of range")}y.prototype.writeUintLE=y.prototype.writeUIntLE=function(C,L,G,se){if(C=+C,L=L>>>0,G=G>>>0,!se){const J=Math.pow(2,8*G)-1;Fe(this,C,L,G,J,0)}let de=1,Q=0;for(this[L]=C&255;++Q<G&&(de*=256);)this[L+Q]=C/de&255;return L+G},y.prototype.writeUintBE=y.prototype.writeUIntBE=function(C,L,G,se){if(C=+C,L=L>>>0,G=G>>>0,!se){const J=Math.pow(2,8*G)-1;Fe(this,C,L,G,J,0)}let de=G-1,Q=1;for(this[L+de]=C&255;--de>=0&&(Q*=256);)this[L+de]=C/Q&255;return L+G},y.prototype.writeUint8=y.prototype.writeUInt8=function(C,L,G){return C=+C,L=L>>>0,G||Fe(this,C,L,1,255,0),this[L]=C&255,L+1},y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function(C,L,G){return C=+C,L=L>>>0,G||Fe(this,C,L,2,65535,0),this[L]=C&255,this[L+1]=C>>>8,L+2},y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function(C,L,G){return C=+C,L=L>>>0,G||Fe(this,C,L,2,65535,0),this[L]=C>>>8,this[L+1]=C&255,L+2},y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function(C,L,G){return C=+C,L=L>>>0,G||Fe(this,C,L,4,4294967295,0),this[L+3]=C>>>24,this[L+2]=C>>>16,this[L+1]=C>>>8,this[L]=C&255,L+4},y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function(C,L,G){return C=+C,L=L>>>0,G||Fe(this,C,L,4,4294967295,0),this[L]=C>>>24,this[L+1]=C>>>16,this[L+2]=C>>>8,this[L+3]=C&255,L+4};function We(C,L,G,se,de){K(L,se,de,C,G,7);let Q=Number(L&BigInt(4294967295));C[G++]=Q,Q=Q>>8,C[G++]=Q,Q=Q>>8,C[G++]=Q,Q=Q>>8,C[G++]=Q;let J=Number(L>>BigInt(32)&BigInt(4294967295));return C[G++]=J,J=J>>8,C[G++]=J,J=J>>8,C[G++]=J,J=J>>8,C[G++]=J,G}function et(C,L,G,se,de){K(L,se,de,C,G,7);let Q=Number(L&BigInt(4294967295));C[G+7]=Q,Q=Q>>8,C[G+6]=Q,Q=Q>>8,C[G+5]=Q,Q=Q>>8,C[G+4]=Q;let J=Number(L>>BigInt(32)&BigInt(4294967295));return C[G+3]=J,J=J>>8,C[G+2]=J,J=J>>8,C[G+1]=J,J=J>>8,C[G]=J,G+8}y.prototype.writeBigUInt64LE=Xe(function(C,L=0){return We(this,C,L,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeBigUInt64BE=Xe(function(C,L=0){return et(this,C,L,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeIntLE=function(C,L,G,se){if(C=+C,L=L>>>0,!se){const ve=Math.pow(2,8*G-1);Fe(this,C,L,G,ve-1,-ve)}let de=0,Q=1,J=0;for(this[L]=C&255;++de<G&&(Q*=256);)C<0&&J===0&&this[L+de-1]!==0&&(J=1),this[L+de]=(C/Q>>0)-J&255;return L+G},y.prototype.writeIntBE=function(C,L,G,se){if(C=+C,L=L>>>0,!se){const ve=Math.pow(2,8*G-1);Fe(this,C,L,G,ve-1,-ve)}let de=G-1,Q=1,J=0;for(this[L+de]=C&255;--de>=0&&(Q*=256);)C<0&&J===0&&this[L+de+1]!==0&&(J=1),this[L+de]=(C/Q>>0)-J&255;return L+G},y.prototype.writeInt8=function(C,L,G){return C=+C,L=L>>>0,G||Fe(this,C,L,1,127,-128),C<0&&(C=255+C+1),this[L]=C&255,L+1},y.prototype.writeInt16LE=function(C,L,G){return C=+C,L=L>>>0,G||Fe(this,C,L,2,32767,-32768),this[L]=C&255,this[L+1]=C>>>8,L+2},y.prototype.writeInt16BE=function(C,L,G){return C=+C,L=L>>>0,G||Fe(this,C,L,2,32767,-32768),this[L]=C>>>8,this[L+1]=C&255,L+2},y.prototype.writeInt32LE=function(C,L,G){return C=+C,L=L>>>0,G||Fe(this,C,L,4,2147483647,-2147483648),this[L]=C&255,this[L+1]=C>>>8,this[L+2]=C>>>16,this[L+3]=C>>>24,L+4},y.prototype.writeInt32BE=function(C,L,G){return C=+C,L=L>>>0,G||Fe(this,C,L,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[L]=C>>>24,this[L+1]=C>>>16,this[L+2]=C>>>8,this[L+3]=C&255,L+4},y.prototype.writeBigInt64LE=Xe(function(C,L=0){return We(this,C,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeBigInt64BE=Xe(function(C,L=0){return et(this,C,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function He(C,L,G,se,de,Q){if(G+se>C.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function $e(C,L,G,se,de){return L=+L,G=G>>>0,de||He(C,L,G,4),d.write(C,L,G,se,23,4),G+4}y.prototype.writeFloatLE=function(C,L,G){return $e(this,C,L,!0,G)},y.prototype.writeFloatBE=function(C,L,G){return $e(this,C,L,!1,G)};function vt(C,L,G,se,de){return L=+L,G=G>>>0,de||He(C,L,G,8),d.write(C,L,G,se,52,8),G+8}y.prototype.writeDoubleLE=function(C,L,G){return vt(this,C,L,!0,G)},y.prototype.writeDoubleBE=function(C,L,G){return vt(this,C,L,!1,G)},y.prototype.copy=function(C,L,G,se){if(!y.isBuffer(C))throw new TypeError("argument should be a Buffer");if(G||(G=0),!se&&se!==0&&(se=this.length),L>=C.length&&(L=C.length),L||(L=0),se>0&&se<G&&(se=G),se===G||C.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),C.length-L<se-G&&(se=C.length-L+G);const de=se-G;return this===C&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,G,se):Uint8Array.prototype.set.call(C,this.subarray(G,se),L),de},y.prototype.fill=function(C,L,G,se){if(typeof C=="string"){if(typeof L=="string"?(se=L,L=0,G=this.length):typeof G=="string"&&(se=G,G=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!y.isEncoding(se))throw new TypeError("Unknown encoding: "+se);if(C.length===1){const Q=C.charCodeAt(0);(se==="utf8"&&Q<128||se==="latin1")&&(C=Q)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(L<0||this.length<L||this.length<G)throw new RangeError("Out of range index");if(G<=L)return this;L=L>>>0,G=G===void 0?this.length:G>>>0,C||(C=0);let de;if(typeof C=="number")for(de=L;de<G;++de)this[de]=C;else{const Q=y.isBuffer(C)?C:y.from(C,se),J=Q.length;if(J===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(de=0;de<G-L;++de)this[de+L]=Q[de%J]}return this};const Ct={};function Lt(C,L,G){Ct[C]=(function(se){function de(){var Q;return t(this,de),Q=a(this,de),Object.defineProperty(Q,"message",{value:L.apply(Q,arguments),writable:!0,configurable:!0}),Q.name=`${Q.name} [${C}]`,Q.stack,delete Q.name,Q}return h(de,se),n(de,[{key:"code",get:function(){return C},set:function(Q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Q,writable:!0})}},{key:"toString",value:function(){return`${this.name} [${C}]: ${this.message}`}}])})(G)}Lt("ERR_BUFFER_OUT_OF_BOUNDS",function(C){return C?`${C} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Lt("ERR_INVALID_ARG_TYPE",function(C,L){return`The "${C}" argument must be of type number. Received type ${typeof L}`},TypeError),Lt("ERR_OUT_OF_RANGE",function(C,L,G){let se=`The value of "${C}" is out of range.`,de=G;return Number.isInteger(G)&&Math.abs(G)>2**32?de=Ye(String(G)):typeof G=="bigint"&&(de=String(G),(G>BigInt(2)**BigInt(32)||G<-(BigInt(2)**BigInt(32)))&&(de=Ye(de)),de+="n"),se+=` It must be ${L}. Received ${de}`,se},RangeError);function Ye(C){let L="",G=C.length;const se=C[0]==="-"?1:0;for(;G>=se+4;G-=3)L=`_${C.slice(G-3,G)}${L}`;return`${C.slice(0,G)}${L}`}function _e(C,L,G){oe(L,"offset"),(C[L]===void 0||C[L+G]===void 0)&&ue(L,C.length-(G+1))}function K(C,L,G,se,de,Q){if(C>G||C<L){const J=typeof L=="bigint"?"n":"";let ve;throw L===0||L===BigInt(0)?ve=`>= 0${J} and < 2${J} ** ${(Q+1)*8}${J}`:ve=`>= -(2${J} ** ${(Q+1)*8-1}${J}) and < 2 ** ${(Q+1)*8-1}${J}`,new Ct.ERR_OUT_OF_RANGE("value",ve,C)}_e(se,de,Q)}function oe(C,L){if(typeof C!="number")throw new Ct.ERR_INVALID_ARG_TYPE(L,"number",C)}function ue(C,L,G){throw Math.floor(C)!==C?(oe(C,G),new Ct.ERR_OUT_OF_RANGE("offset","an integer",C)):L<0?new Ct.ERR_BUFFER_OUT_OF_BOUNDS:new Ct.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${L}`,C)}const q=/[^+/0-9A-Za-z-_]/g;function ae(C){if(C=C.split("=")[0],C=C.trim().replace(q,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function ge(C,L){L=L||1/0;let G;const se=C.length;let de=null;const Q=[];for(let J=0;J<se;++J){if(G=C.charCodeAt(J),G>55295&&G<57344){if(!de){if(G>56319){(L-=3)>-1&&Q.push(239,191,189);continue}else if(J+1===se){(L-=3)>-1&&Q.push(239,191,189);continue}de=G;continue}if(G<56320){(L-=3)>-1&&Q.push(239,191,189),de=G;continue}G=(de-55296<<10|G-56320)+65536}else de&&(L-=3)>-1&&Q.push(239,191,189);if(de=null,G<128){if((L-=1)<0)break;Q.push(G)}else if(G<2048){if((L-=2)<0)break;Q.push(G>>6|192,G&63|128)}else if(G<65536){if((L-=3)<0)break;Q.push(G>>12|224,G>>6&63|128,G&63|128)}else if(G<1114112){if((L-=4)<0)break;Q.push(G>>18|240,G>>12&63|128,G>>6&63|128,G&63|128)}else throw new Error("Invalid code point")}return Q}function be(C){const L=[];for(let G=0;G<C.length;++G)L.push(C.charCodeAt(G)&255);return L}function Re(C,L){let G,se,de;const Q=[];for(let J=0;J<C.length&&!((L-=2)<0);++J)G=C.charCodeAt(J),se=G>>8,de=G%256,Q.push(de),Q.push(se);return Q}function je(C){return p.toByteArray(ae(C))}function ze(C,L,G,se){let de;for(de=0;de<se&&!(de+G>=L.length||de>=C.length);++de)L[de+G]=C[de];return de}function qe(C,L){return C instanceof L||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===L.name}function nt(C){return C!==C}const Tt=(function(){const C="0123456789abcdef",L=new Array(256);for(let G=0;G<16;++G){const se=G*16;for(let de=0;de<16;++de)L[se+de]=C[G]+C[de]}return L})();function Xe(C){return typeof BigInt>"u"?Ut:C}function Ut(){throw new Error("BigInt not supported")}})(WY);var Ss=Or,bn=ogt,$Y=WY.Buffer;globalThis.__TYPEDARRAY_POOL||(globalThis.__TYPEDARRAY_POOL={UINT8:bn([32,0]),UINT16:bn([32,0]),UINT32:bn([32,0]),BIGUINT64:bn([32,0]),INT8:bn([32,0]),INT16:bn([32,0]),INT32:bn([32,0]),BIGINT64:bn([32,0]),FLOAT:bn([32,0]),DOUBLE:bn([32,0]),DATA:bn([32,0]),UINT8C:bn([32,0]),BUFFER:bn([32,0])});var dgt=typeof Uint8ClampedArray<"u",mgt=typeof BigUint64Array<"u",ggt=typeof BigInt64Array<"u",Hr=globalThis.__TYPEDARRAY_POOL;Hr.UINT8C||(Hr.UINT8C=bn([32,0]));Hr.BIGUINT64||(Hr.BIGUINT64=bn([32,0]));Hr.BIGINT64||(Hr.BIGINT64=bn([32,0]));Hr.BUFFER||(Hr.BUFFER=bn([32,0]));var m_=Hr.DATA,g_=Hr.BUFFER;Vt.free=function(e){if($Y.isBuffer(e))g_[Ss.log2(e.length)].push(e);else{if(Object.prototype.toString.call(e)!=="[object ArrayBuffer]"&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,r=Ss.log2(t)|0;m_[r].push(e)}};function qY(e){if(e){var t=e.length||e.byteLength,r=Ss.log2(t);m_[r].push(e)}}function ygt(e){qY(e.buffer)}Vt.freeUint8=Vt.freeUint16=Vt.freeUint32=Vt.freeBigUint64=Vt.freeInt8=Vt.freeInt16=Vt.freeInt32=Vt.freeBigInt64=Vt.freeFloat32=Vt.freeFloat=Vt.freeFloat64=Vt.freeDouble=Vt.freeUint8Clamped=Vt.freeDataView=ygt;Vt.freeArrayBuffer=qY;Vt.freeBuffer=function(e){g_[Ss.log2(e.length)].push(e)};Vt.malloc=function(e,t){if(t===void 0||t==="arraybuffer")return vi(e);switch(t){case"uint8":return B4(e);case"uint16":return KY(e);case"uint32":return ZY(e);case"int8":return QY(e);case"int16":return JY(e);case"int32":return eW(e);case"float":case"float32":return tW(e);case"double":case"float64":return rW(e);case"uint8_clamped":return nW(e);case"bigint64":return oW(e);case"biguint64":return iW(e);case"buffer":return sW(e);case"data":case"dataview":return aW(e);default:return null}return null};function vi(t){var t=Ss.nextPow2(t),r=Ss.log2(t),n=m_[r];return n.length>0?n.pop():new ArrayBuffer(t)}Vt.mallocArrayBuffer=vi;function B4(e){return new Uint8Array(vi(e),0,e)}Vt.mallocUint8=B4;function KY(e){return new Uint16Array(vi(2*e),0,e)}Vt.mallocUint16=KY;function ZY(e){return new Uint32Array(vi(4*e),0,e)}Vt.mallocUint32=ZY;function QY(e){return new Int8Array(vi(e),0,e)}Vt.mallocInt8=QY;function JY(e){return new Int16Array(vi(2*e),0,e)}Vt.mallocInt16=JY;function eW(e){return new Int32Array(vi(4*e),0,e)}Vt.mallocInt32=eW;function tW(e){return new Float32Array(vi(4*e),0,e)}Vt.mallocFloat32=Vt.mallocFloat=tW;function rW(e){return new Float64Array(vi(8*e),0,e)}Vt.mallocFloat64=Vt.mallocDouble=rW;function nW(e){return dgt?new Uint8ClampedArray(vi(e),0,e):B4(e)}Vt.mallocUint8Clamped=nW;function iW(e){return mgt?new BigUint64Array(vi(8*e),0,e):null}Vt.mallocBigUint64=iW;function oW(e){return ggt?new BigInt64Array(vi(8*e),0,e):null}Vt.mallocBigInt64=oW;function aW(e){return new DataView(vi(e),0,e)}Vt.mallocDataView=aW;function sW(e){e=Ss.nextPow2(e);var t=Ss.log2(e),r=g_[t];return r.length>0?r.pop():new $Y(e)}Vt.mallocBuffer=sW;Vt.clearCache=function(){for(var e=0;e<32;++e)Hr.UINT8[e].length=0,Hr.UINT16[e].length=0,Hr.UINT32[e].length=0,Hr.INT8[e].length=0,Hr.INT16[e].length=0,Hr.INT32[e].length=0,Hr.FLOAT[e].length=0,Hr.DOUBLE[e].length=0,Hr.BIGUINT64[e].length=0,Hr.BIGINT64[e].length=0,Hr.UINT8C[e].length=0,m_[e].length=0,g_[e].length=0};var vgt=bgt,Wg=32;function bgt(e,t){t<=4*Wg?Xg(0,t-1,e):$g(0,t-1,e)}function Xg(e,t,r){for(var n=2*(e+1),i=e+1;i<=t;++i){for(var o=r[n++],a=r[n++],s=i,u=n-2;s-- >e;){var l=r[u-2],c=r[u-1];if(l<o||l===o&&c<a)break;r[u]=l,r[u+1]=c,u-=2}r[u]=o,r[u+1]=a}}function s7(e,t,r){e*=2,t*=2;var n=r[e],i=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=n,r[t+1]=i}function l7(e,t,r){e*=2,t*=2,r[e]=r[t],r[e+1]=r[t+1]}function _gt(e,t,r,n){e*=2,t*=2,r*=2;var i=n[e],o=n[e+1];n[e]=n[t],n[e+1]=n[t+1],n[t]=n[r],n[t+1]=n[r+1],n[r]=i,n[r+1]=o}function u7(e,t,r,n,i){e*=2,t*=2,i[e]=i[t],i[t]=r,i[e+1]=i[t+1],i[t+1]=n}function da(e,t,r){e*=2,t*=2;var n=r[e],i=r[t];return n<i?!1:n===i?r[e+1]>r[t+1]:!0}function eg(e,t,r,n){e*=2;var i=n[e];return i<t?!0:i===t?n[e+1]<r:!1}function $g(e,t,r){var n=(t-e+1)/6|0,i=e+n,o=t-n,a=e+t>>1,s=a-n,u=a+n,l=i,c=s,h=a,f=u,p=o,d=e+1,m=t-1,v=0;da(l,c,r)&&(v=l,l=c,c=v),da(f,p,r)&&(v=f,f=p,p=v),da(l,h,r)&&(v=l,l=h,h=v),da(c,h,r)&&(v=c,c=h,h=v),da(l,f,r)&&(v=l,l=f,f=v),da(h,f,r)&&(v=h,h=f,f=v),da(c,p,r)&&(v=c,c=p,p=v),da(c,h,r)&&(v=c,c=h,h=v),da(f,p,r)&&(v=f,f=p,p=v);for(var b=r[2*c],g=r[2*c+1],y=r[2*f],_=r[2*f+1],w=2*l,T=2*h,O=2*p,E=2*i,S=2*a,A=2*o,M=0;M<2;++M){var H=r[w+M],N=r[T+M],k=r[O+M];r[E+M]=H,r[S+M]=N,r[A+M]=k}l7(s,e,r),l7(u,t,r);for(var R=d;R<=m;++R)if(eg(R,b,g,r))R!==d&&s7(R,d,r),++d;else if(!eg(R,y,_,r))for(;;)if(eg(m,y,_,r)){eg(m,b,g,r)?(_gt(R,d,m,r),++d,--m):(s7(R,m,r),--m);break}else{if(--m<R)break;continue}u7(e,d-1,b,g,r),u7(t,m+1,y,_,r),d-2-e<=Wg?Xg(e,d-2,r):$g(e,d-2,r),t-(m+2)<=Wg?Xg(m+2,t,r):$g(m+2,t,r),m-d<=Wg?Xg(d,m,r):$g(d,m,r)}var lW={init:Tgt,sweepBipartite:xgt,sweepComplete:Egt,scanBipartite:Sgt,scanComplete:kgt},zr=Vt,wgt=Or,y_=vgt,qi=1<<28,vu=1024,wn=zr.mallocInt32(vu),Ma=zr.mallocInt32(vu),Ia=zr.mallocInt32(vu),Al=zr.mallocInt32(vu),Lc=zr.mallocInt32(vu),wd=zr.mallocInt32(vu),jt=zr.mallocDouble(vu*8);function Tgt(e){var t=wgt.nextPow2(e);wn.length<t&&(zr.free(wn),wn=zr.mallocInt32(t)),Ma.length<t&&(zr.free(Ma),Ma=zr.mallocInt32(t)),Ia.length<t&&(zr.free(Ia),Ia=zr.mallocInt32(t)),Al.length<t&&(zr.free(Al),Al=zr.mallocInt32(t)),Lc.length<t&&(zr.free(Lc),Lc=zr.mallocInt32(t)),wd.length<t&&(zr.free(wd),wd=zr.mallocInt32(t));var r=8*t;jt.length<r&&(zr.free(jt),jt=zr.mallocDouble(r))}function Bc(e,t,r,n){var i=t[n],o=e[r-1];e[i]=o,t[o]=i}function Fc(e,t,r,n){e[r]=n,t[n]=r}function xgt(e,t,r,n,i,o,a,s,u,l){for(var c=0,h=2*e,f=e-1,p=h-1,d=r;d<n;++d){var m=o[d],v=h*d;jt[c++]=i[v+f],jt[c++]=-(m+1),jt[c++]=i[v+p],jt[c++]=m}for(var d=a;d<s;++d){var m=l[d]+qi,b=h*d;jt[c++]=u[b+f],jt[c++]=-m,jt[c++]=u[b+p],jt[c++]=m}var g=c>>>1;y_(jt,g);for(var y=0,_=0,d=0;d<g;++d){var w=jt[2*d+1]|0;if(w>=qi)w=w-qi|0,Bc(Ia,Al,_--,w);else if(w>=0)Bc(wn,Ma,y--,w);else if(w<=-268435456){w=-w-qi|0;for(var T=0;T<y;++T){var O=t(wn[T],w);if(O!==void 0)return O}Fc(Ia,Al,_++,w)}else{w=-w-1|0;for(var T=0;T<_;++T){var O=t(w,Ia[T]);if(O!==void 0)return O}Fc(wn,Ma,y++,w)}}}function Egt(e,t,r,n,i,o,a,s,u,l){for(var c=0,h=2*e,f=e-1,p=h-1,d=r;d<n;++d){var m=o[d]+1<<1,v=h*d;jt[c++]=i[v+f],jt[c++]=-m,jt[c++]=i[v+p],jt[c++]=m}for(var d=a;d<s;++d){var m=l[d]+1<<1,b=h*d;jt[c++]=u[b+f],jt[c++]=-m|1,jt[c++]=u[b+p],jt[c++]=m|1}var g=c>>>1;y_(jt,g);for(var y=0,_=0,w=0,d=0;d<g;++d){var T=jt[2*d+1]|0,O=T&1;if(d<g-1&&T>>1===jt[2*d+3]>>1&&(O=2,d+=1),T<0){for(var E=-(T>>1)-1,S=0;S<w;++S){var A=t(Lc[S],E);if(A!==void 0)return A}if(O!==0)for(var S=0;S<y;++S){var A=t(wn[S],E);if(A!==void 0)return A}if(O!==1)for(var S=0;S<_;++S){var A=t(Ia[S],E);if(A!==void 0)return A}O===0?Fc(wn,Ma,y++,E):O===1?Fc(Ia,Al,_++,E):O===2&&Fc(Lc,wd,w++,E)}else{var E=(T>>1)-1;O===0?Bc(wn,Ma,y--,E):O===1?Bc(Ia,Al,_--,E):O===2&&Bc(Lc,wd,w--,E)}}}function Sgt(e,t,r,n,i,o,a,s,u,l,c,h){var f=0,p=2*e,d=t,m=t+e,v=1,b=1;n?b=qi:v=qi;for(var g=i;g<o;++g){var y=g+v,_=p*g;jt[f++]=a[_+d],jt[f++]=-y,jt[f++]=a[_+m],jt[f++]=y}for(var g=u;g<l;++g){var y=g+b,w=p*g;jt[f++]=c[w+d],jt[f++]=-y}var T=f>>>1;y_(jt,T);for(var O=0,g=0;g<T;++g){var E=jt[2*g+1]|0;if(E<0){var y=-E,S=!1;if(y>=qi?(S=!n,y-=qi):(S=!!n,y-=1),S)Fc(wn,Ma,O++,y);else{var A=h[y],M=p*y,H=c[M+t+1],N=c[M+t+1+e];e:for(var k=0;k<O;++k){var R=wn[k],B=p*R;if(!(N<a[B+t+1]||a[B+t+1+e]<H)){for(var z=t+2;z<e;++z)if(c[M+z+e]<a[B+z]||a[B+z+e]<c[M+z])continue e;var U=s[R],V;if(n?V=r(A,U):V=r(U,A),V!==void 0)return V}}}}else Bc(wn,Ma,O--,E-v)}}function kgt(e,t,r,n,i,o,a,s,u,l,c){for(var h=0,f=2*e,p=t,d=t+e,m=n;m<i;++m){var v=m+qi,b=f*m;jt[h++]=o[b+p],jt[h++]=-v,jt[h++]=o[b+d],jt[h++]=v}for(var m=s;m<u;++m){var v=m+1,g=f*m;jt[h++]=l[g+p],jt[h++]=-v}var y=h>>>1;y_(jt,y);for(var _=0,m=0;m<y;++m){var w=jt[2*m+1]|0;if(w<0){var v=-w;if(v>=qi)wn[_++]=v-qi;else{v-=1;var T=c[v],O=f*v,E=l[O+t+1],S=l[O+t+1+e];e:for(var A=0;A<_;++A){var M=wn[A],H=a[M];if(H===T)break;var N=f*M;if(!(S<o[N+t+1]||o[N+t+1+e]<E)){for(var k=t+2;k<e;++k)if(l[O+k+e]<o[N+k]||o[N+k+e]<l[O+k])continue e;var R=r(H,T);if(R!==void 0)return R}}}}else{for(var v=w-qi,A=_-1;A>=0;--A)if(wn[A]===v){for(var k=A+1;k<_;++k)wn[k-1]=wn[k];break}--_}}}var F4={},ml="d",vc="ax",uW="vv",y2="fp",Op="es",Xy="rs",z4="re",Qp="rb",cW="ri",Xu="rp",$y="bs",H4="be",Jp="bb",hW="bi",$u="bp",v2="rv",b2="Q",LE=[ml,vc,uW,Xy,z4,Qp,cW,$y,H4,Jp,hW];function Ogt(e,t,r){var n="bruteForce"+(e?"Red":"Blue")+(t?"Flip":"")+(r?"Full":""),i=["function ",n,"(",LE.join(),"){","var ",Op,"=2*",ml,";"],o="for(var i="+Xy+","+Xu+"="+Op+"*"+Xy+";i<"+z4+";++i,"+Xu+"+="+Op+"){var x0="+Qp+"["+vc+"+"+Xu+"],x1="+Qp+"["+vc+"+"+Xu+"+"+ml+"],xi="+cW+"[i];",a="for(var j="+$y+","+$u+"="+Op+"*"+$y+";j<"+H4+";++j,"+$u+"+="+Op+"){var y0="+Jp+"["+vc+"+"+$u+"],"+(r?"y1="+Jp+"["+vc+"+"+$u+"+"+ml+"],":"")+"yi="+hW+"[j];";return e?i.push(o,b2,":",a):i.push(a,b2,":",o),r?i.push("if(y1<x0||x1<y0)continue;"):t?i.push("if(y0<=x0||x1<y0)continue;"):i.push("if(y0<x0||x1<y0)continue;"),i.push("for(var k="+vc+"+1;k<"+ml+";++k){var r0="+Qp+"[k+"+Xu+"],r1="+Qp+"[k+"+ml+"+"+Xu+"],b0="+Jp+"[k+"+$u+"],b1="+Jp+"[k+"+ml+"+"+$u+"];if(r1<b0||b1<r0)continue "+b2+";}var "+v2+"="+uW+"("),t?i.push("yi,xi"):i.push("xi,yi"),i.push(");if("+v2+"!==void 0)return "+v2+";}}}"),{name:n,code:i.join("")}}function fW(e){var t="bruteForce"+(e?"Full":"Partial"),r=[],n=LE.slice();e||n.splice(3,0,y2);var i=["function "+t+"("+n.join()+"){"];function o(u,l){var c=Ogt(u,l,e);r.push(c.code),i.push("return "+c.name+"("+LE.join()+");")}i.push("if("+z4+"-"+Xy+">"+H4+"-"+$y+"){"),e?(o(!0,!1),i.push("}else{"),o(!1,!1)):(i.push("if("+y2+"){"),o(!0,!0),i.push("}else{"),o(!0,!1),i.push("}}else{if("+y2+"){"),o(!1,!0),i.push("}else{"),o(!1,!1),i.push("}")),i.push("}}return "+t);var a=r.join("")+i.join(""),s=new Function(a);return s()}F4.partial=fW(!1);F4.full=fW(!0);var pW=Cgt,Pgt="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m";function Cgt(e,t){var r="abcdef".split("").concat(t),n=[];return e.indexOf("lo")>=0&&n.push("lo=e[k+n]"),e.indexOf("hi")>=0&&n.push("hi=e[k+o]"),r.push(Pgt.replace("_",n.join()).replace("$",e)),Function.apply(void 0,r)}var Agt=Dgt,Mgt=pW,c7=Mgt("lo<p0",["p0"]),Igt=8;function Rgt(e,t,r,n,i,o){for(var a=2*e,s=a*(r+1)+t,u=r+1;u<n;++u,s+=a)for(var l=i[s],c=u,h=a*(u-1);c>r&&i[h+t]>l;--c,h-=a){for(var f=h,p=h+a,d=0;d<a;++d,++f,++p){var m=i[f];i[f]=i[p],i[p]=m}var v=o[c];o[c]=o[c-1],o[c-1]=v}}function Dgt(e,t,r,n,i,o){if(n<=r+1)return r;for(var a=r,s=n,u=n+r>>>1,l=2*e,c=u,h=i[l*u+t];a<s;){if(s-a<Igt){Rgt(e,t,a,s,i,o),h=i[l*u+t];break}var f=s-a,p=Math.random()*f+a|0,d=i[l*p+t],m=Math.random()*f+a|0,v=i[l*m+t],b=Math.random()*f+a|0,g=i[l*b+t];d<=v?g>=v?(c=m,h=v):d>=g?(c=p,h=d):(c=b,h=g):v>=g?(c=m,h=v):g>=d?(c=p,h=d):(c=b,h=g);for(var y=l*(s-1),_=l*c,w=0;w<l;++w,++y,++_){var T=i[y];i[y]=i[_],i[_]=T}var O=o[s-1];o[s-1]=o[c],o[c]=O,c=c7(e,t,a,s-1,i,o,h);for(var y=l*(s-1),_=l*c,w=0;w<l;++w,++y,++_){var T=i[y];i[y]=i[_],i[_]=T}var O=o[s-1];if(o[s-1]=o[c],o[c]=O,u<c){for(s=c-1;a<s&&i[l*(s-1)+t]===h;)s-=1;s+=1}else if(c<u)for(a=c+1;a<s&&i[l*a+t]===h;)a+=1;else break}return c7(e,t,r,u,i,o,i[l*u+t])}var Ngt=$gt,Sc=Vt,_2=Or,dW=F4,jgt=dW.partial,Lgt=dW.full,ns=lW,Bgt=Agt,If=pW,h7=128,Fgt=1<<22,zgt=1<<22,Hgt=If("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),f7=If("lo===p0",["p0"]),Ugt=If("lo<p0",["p0"]),Vgt=If("hi<=p0",["p0"]),p7=If("lo<=p0&&p0<=hi",["p0"]),Ggt=If("lo<p0&&p0<=hi",["p0"]),U4=6,V4=2,mW=1024,Fn=Sc.mallocInt32(mW),Ml=Sc.mallocDouble(mW);function Ygt(e,t){var r=8*_2.log2(t+1)*(e+1)|0,n=_2.nextPow2(U4*r);Fn.length<n&&(Sc.free(Fn),Fn=Sc.mallocInt32(n));var i=_2.nextPow2(V4*r);Ml.length<i&&(Sc.free(Ml),Ml=Sc.mallocDouble(i))}function oo(e,t,r,n,i,o,a,s,u){var l=U4*e;Fn[l]=t,Fn[l+1]=r,Fn[l+2]=n,Fn[l+3]=i,Fn[l+4]=o,Fn[l+5]=a;var c=V4*e;Ml[c]=s,Ml[c+1]=u}function Wgt(e,t,r,n,i,o,a,s,u,l,c){var h=2*e,f=u*h,p=l[f+t];e:for(var d=i,m=i*h;d<o;++d,m+=h){var v=a[m+t],b=a[m+t+e];if(!(p<v||b<p)&&!(n&&p===v)){for(var g=s[d],y=t+1;y<e;++y){var v=a[m+y],b=a[m+y+e],_=l[f+y],w=l[f+y+e];if(b<_||w<v)continue e}var T;if(n?T=r(c,g):T=r(g,c),T!==void 0)return T}}}function Xgt(e,t,r,n,i,o,a,s,u,l){var c=2*e,h=s*c,f=u[h+t];e:for(var p=n,d=n*c;p<i;++p,d+=c){var m=a[p];if(m!==l){var v=o[d+t],b=o[d+t+e];if(!(f<v||b<f)){for(var g=t+1;g<e;++g){var v=o[d+g],b=o[d+g+e],y=u[h+g],_=u[h+g+e];if(b<y||_<v)continue e}var w=r(m,l);if(w!==void 0)return w}}}}function $gt(e,t,r,n,i,o,a,s,u){Ygt(e,n+a);var l=0,c=2*e,h;for(oo(l++,0,0,n,0,a,r?16:0,-1/0,1/0),r||oo(l++,0,0,a,0,n,1,-1/0,1/0);l>0;){l-=1;var f=l*U4,p=Fn[f],d=Fn[f+1],m=Fn[f+2],v=Fn[f+3],b=Fn[f+4],g=Fn[f+5],y=l*V4,_=Ml[y],w=Ml[y+1],T=g&1,O=!!(g&16),E=i,S=o,A=s,M=u;if(T&&(E=s,S=u,A=i,M=o),!(g&2&&(m=Ugt(e,p,d,m,E,S,w),d>=m))&&!(g&4&&(d=Vgt(e,p,d,m,E,S,_),d>=m))){var H=m-d,N=b-v;if(O){if(e*H*(H+N)<zgt){if(h=ns.scanComplete(e,p,t,d,m,E,S,v,b,A,M),h!==void 0)return h;continue}}else if(e*Math.min(H,N)<h7){if(h=jgt(e,p,t,T,d,m,E,S,v,b,A,M),h!==void 0)return h;continue}else if(e*H*N<Fgt){if(h=ns.scanBipartite(e,p,t,T,d,m,E,S,v,b,A,M),h!==void 0)return h;continue}var k=Hgt(e,p,d,m,E,S,_,w);if(d<k)if(e*(k-d)<h7){if(h=Lgt(e,p+1,t,d,k,E,S,v,b,A,M),h!==void 0)return h}else if(p===e-2){if(T?h=ns.sweepBipartite(e,t,v,b,A,M,d,k,E,S):h=ns.sweepBipartite(e,t,d,k,E,S,v,b,A,M),h!==void 0)return h}else oo(l++,p+1,d,k,v,b,T,-1/0,1/0),oo(l++,p+1,v,b,d,k,T^1,-1/0,1/0);if(k<m){var R=Bgt(e,p,v,b,A,M),B=A[c*R+p],z=f7(e,p,R,b,A,M,B);if(z<b&&oo(l++,p,k,m,z,b,(T|4)+(O?16:0),B,w),v<R&&oo(l++,p,k,m,v,R,(T|2)+(O?16:0),_,B),R+1===z){if(O?h=Xgt(e,p,t,k,m,E,S,R,A,M[R]):h=Wgt(e,p,t,T,k,m,E,S,R,A,M[R]),h!==void 0)return h}else if(R<z){var U;if(O){if(U=p7(e,p,k,m,E,S,B),k<U){var V=f7(e,p,k,U,E,S,B);if(p===e-2){if(k<V&&(h=ns.sweepComplete(e,t,k,V,E,S,R,z,A,M),h!==void 0)||V<U&&(h=ns.sweepBipartite(e,t,V,U,E,S,R,z,A,M),h!==void 0))return h}else k<V&&oo(l++,p+1,k,V,R,z,16,-1/0,1/0),V<U&&(oo(l++,p+1,V,U,R,z,0,-1/0,1/0),oo(l++,p+1,R,z,V,U,1,-1/0,1/0))}}else T?U=Ggt(e,p,k,m,E,S,B):U=p7(e,p,k,m,E,S,B),k<U&&(p===e-2?T?h=ns.sweepBipartite(e,t,R,z,A,M,k,U,E,S):h=ns.sweepBipartite(e,t,k,U,E,S,R,z,A,M):(oo(l++,p+1,k,U,R,z,T,-1/0,1/0),oo(l++,p+1,R,z,k,U,T^1,-1/0,1/0)))}}}}}var qgt=e0t,is=Vt,tg=lW,Kgt=Ngt;function Zgt(e,t){for(var r=0;r<e;++r)if(!(t[r]<=t[r+e]))return!0;return!1}function d7(e,t,r,n){for(var i=0,o=0,a=0,s=e.length;a<s;++a){var u=e[a];if(!Zgt(t,u)){for(var l=0;l<2*t;++l)r[i++]=u[l];n[o++]=a}}return o}function qy(e,t,r,n){var i=e.length,o=t.length;if(!(i<=0||o<=0)){var a=e[0].length>>>1;if(!(a<=0)){var s,u=is.mallocDouble(2*a*i),l=is.mallocInt32(i);if(i=d7(e,a,u,l),i>0){if(a===1&&n)tg.init(i),s=tg.sweepComplete(a,r,0,i,u,l,0,i,u,l);else{var c=is.mallocDouble(2*a*o),h=is.mallocInt32(o);o=d7(t,a,c,h),o>0&&(tg.init(i+o),a===1?s=tg.sweepBipartite(a,r,0,i,u,l,0,o,c,h):s=Kgt(a,r,n,i,u,l,o,c,h),is.free(c),is.free(h))}is.free(u),is.free(l)}return s}}}var t1;function gW(e,t){t1.push([e,t])}function Qgt(e){return t1=[],qy(e,e,gW,!0),t1}function Jgt(e,t){return t1=[],qy(e,t,gW,!1),t1}function e0t(e,t,r){switch(arguments.length){case 1:return Qgt(e);case 2:return typeof t=="function"?qy(e,e,t,!0):Jgt(e,t);case 3:return qy(e,t,r,!1);default:throw new Error("box-intersect: Invalid arguments")}}const $1=Ji(qgt);var yW={exports:{}},vW=t0t,m7=+(Math.pow(2,27)+1);function t0t(e,t,r){var n=e*t,i=m7*e,o=i-e,a=i-o,s=e-a,u=m7*t,l=u-t,c=u-l,h=t-c,f=n-a*c,p=f-s*c,d=p-a*h,m=s*h-d;return r?(r[0]=m,r[1]=n,r):[m,n]}var r0t=i0t;function n0t(e,t){var r=e+t,n=r-e,i=r-n,o=t-n,a=e-i,s=a+o;return s?[s,r]:[r]}function i0t(e,t){var r=e.length|0,n=t.length|0;if(r===1&&n===1)return n0t(e[0],t[0]);var i=r+n,o=new Array(i),a=0,s=0,u=0,l=Math.abs,c=e[s],h=l(c),f=t[u],p=l(f),d,m;h<p?(m=c,s+=1,s<r&&(c=e[s],h=l(c))):(m=f,u+=1,u<n&&(f=t[u],p=l(f))),s<r&&h<p||u>=n?(d=c,s+=1,s<r&&(c=e[s],h=l(c))):(d=f,u+=1,u<n&&(f=t[u],p=l(f)));for(var v=d+m,b=v-d,g=m-b,y=g,_=v,w,T,O,E,S;s<r&&u<n;)h<p?(d=c,s+=1,s<r&&(c=e[s],h=l(c))):(d=f,u+=1,u<n&&(f=t[u],p=l(f))),m=y,v=d+m,b=v-d,g=m-b,g&&(o[a++]=g),w=_+v,T=w-_,O=w-T,E=v-T,S=_-O,y=S+E,_=w;for(;s<r;)d=c,m=y,v=d+m,b=v-d,g=m-b,g&&(o[a++]=g),w=_+v,T=w-_,O=w-T,E=v-T,S=_-O,y=S+E,_=w,s+=1,s<r&&(c=e[s]);for(;u<n;)d=f,m=y,v=d+m,b=v-d,g=m-b,g&&(o[a++]=g),w=_+v,T=w-_,O=w-T,E=v-T,S=_-O,y=S+E,_=w,u+=1,u<n&&(f=t[u]);return y&&(o[a++]=y),_&&(o[a++]=_),a||(o[a++]=0),o.length=a,o}var o0t=a0t;function a0t(e,t,r){var n=e+t,i=n-e,o=n-i,a=t-i,s=e-o;return r?(r[0]=s+a,r[1]=n,r):[s+a,n]}var w2=vW,s0t=o0t,l0t=u0t;function u0t(e,t){var r=e.length;if(r===1){var n=w2(e[0],t);return n[0]?n:[n[1]]}var i=new Array(2*r),o=[.1,.1],a=[.1,.1],s=0;w2(e[0],t,o),o[0]&&(i[s++]=o[0]);for(var u=1;u<r;++u){w2(e[u],t,a);var l=o[1];s0t(l,a[0],o),o[0]&&(i[s++]=o[0]);var c=a[1],h=o[1],f=c+h,p=f-c,d=h-p;o[1]=f,d&&(i[s++]=d)}return o[1]&&(i[s++]=o[1]),s===0&&(i[s++]=0),i.length=s,i}var c0t=f0t;function h0t(e,t){var r=e+t,n=r-e,i=r-n,o=t-n,a=e-i,s=a+o;return s?[s,r]:[r]}function f0t(e,t){var r=e.length|0,n=t.length|0;if(r===1&&n===1)return h0t(e[0],-t[0]);var i=r+n,o=new Array(i),a=0,s=0,u=0,l=Math.abs,c=e[s],h=l(c),f=-t[u],p=l(f),d,m;h<p?(m=c,s+=1,s<r&&(c=e[s],h=l(c))):(m=f,u+=1,u<n&&(f=-t[u],p=l(f))),s<r&&h<p||u>=n?(d=c,s+=1,s<r&&(c=e[s],h=l(c))):(d=f,u+=1,u<n&&(f=-t[u],p=l(f)));for(var v=d+m,b=v-d,g=m-b,y=g,_=v,w,T,O,E,S;s<r&&u<n;)h<p?(d=c,s+=1,s<r&&(c=e[s],h=l(c))):(d=f,u+=1,u<n&&(f=-t[u],p=l(f))),m=y,v=d+m,b=v-d,g=m-b,g&&(o[a++]=g),w=_+v,T=w-_,O=w-T,E=v-T,S=_-O,y=S+E,_=w;for(;s<r;)d=c,m=y,v=d+m,b=v-d,g=m-b,g&&(o[a++]=g),w=_+v,T=w-_,O=w-T,E=v-T,S=_-O,y=S+E,_=w,s+=1,s<r&&(c=e[s]);for(;u<n;)d=f,m=y,v=d+m,b=v-d,g=m-b,g&&(o[a++]=g),w=_+v,T=w-_,O=w-T,E=v-T,S=_-O,y=S+E,_=w,u+=1,u<n&&(f=-t[u]);return y&&(o[a++]=y),_&&(o[a++]=_),a||(o[a++]=0),o.length=a,o}(function(e){var t=vW,r=r0t,n=l0t,i=c0t,o=5,a=11102230246251565e-32,s=(3+16*a)*a,u=(7+56*a)*a;function l(y,_,w,T){return function(O,E,S){var A=y(y(_(E[1],S[0]),_(-S[1],E[0])),y(_(O[1],E[0]),_(-E[1],O[0]))),M=y(_(O[1],S[0]),_(-S[1],O[0])),H=T(A,M);return H[H.length-1]}}function c(y,_,w,T){return function(O,E,S,A){var M=y(y(w(y(_(S[1],A[0]),_(-A[1],S[0])),E[2]),y(w(y(_(E[1],A[0]),_(-A[1],E[0])),-S[2]),w(y(_(E[1],S[0]),_(-S[1],E[0])),A[2]))),y(w(y(_(E[1],A[0]),_(-A[1],E[0])),O[2]),y(w(y(_(O[1],A[0]),_(-A[1],O[0])),-E[2]),w(y(_(O[1],E[0]),_(-E[1],O[0])),A[2])))),H=y(y(w(y(_(S[1],A[0]),_(-A[1],S[0])),O[2]),y(w(y(_(O[1],A[0]),_(-A[1],O[0])),-S[2]),w(y(_(O[1],S[0]),_(-S[1],O[0])),A[2]))),y(w(y(_(E[1],S[0]),_(-S[1],E[0])),O[2]),y(w(y(_(O[1],S[0]),_(-S[1],O[0])),-E[2]),w(y(_(O[1],E[0]),_(-E[1],O[0])),S[2])))),N=T(M,H);return N[N.length-1]}}function h(y,_,w,T){return function(O,E,S,A,M){var H=y(y(y(w(y(w(y(_(A[1],M[0]),_(-M[1],A[0])),S[2]),y(w(y(_(S[1],M[0]),_(-M[1],S[0])),-A[2]),w(y(_(S[1],A[0]),_(-A[1],S[0])),M[2]))),E[3]),y(w(y(w(y(_(A[1],M[0]),_(-M[1],A[0])),E[2]),y(w(y(_(E[1],M[0]),_(-M[1],E[0])),-A[2]),w(y(_(E[1],A[0]),_(-A[1],E[0])),M[2]))),-S[3]),w(y(w(y(_(S[1],M[0]),_(-M[1],S[0])),E[2]),y(w(y(_(E[1],M[0]),_(-M[1],E[0])),-S[2]),w(y(_(E[1],S[0]),_(-S[1],E[0])),M[2]))),A[3]))),y(w(y(w(y(_(S[1],A[0]),_(-A[1],S[0])),E[2]),y(w(y(_(E[1],A[0]),_(-A[1],E[0])),-S[2]),w(y(_(E[1],S[0]),_(-S[1],E[0])),A[2]))),-M[3]),y(w(y(w(y(_(A[1],M[0]),_(-M[1],A[0])),E[2]),y(w(y(_(E[1],M[0]),_(-M[1],E[0])),-A[2]),w(y(_(E[1],A[0]),_(-A[1],E[0])),M[2]))),O[3]),w(y(w(y(_(A[1],M[0]),_(-M[1],A[0])),O[2]),y(w(y(_(O[1],M[0]),_(-M[1],O[0])),-A[2]),w(y(_(O[1],A[0]),_(-A[1],O[0])),M[2]))),-E[3])))),y(y(w(y(w(y(_(E[1],M[0]),_(-M[1],E[0])),O[2]),y(w(y(_(O[1],M[0]),_(-M[1],O[0])),-E[2]),w(y(_(O[1],E[0]),_(-E[1],O[0])),M[2]))),A[3]),y(w(y(w(y(_(E[1],A[0]),_(-A[1],E[0])),O[2]),y(w(y(_(O[1],A[0]),_(-A[1],O[0])),-E[2]),w(y(_(O[1],E[0]),_(-E[1],O[0])),A[2]))),-M[3]),w(y(w(y(_(S[1],A[0]),_(-A[1],S[0])),E[2]),y(w(y(_(E[1],A[0]),_(-A[1],E[0])),-S[2]),w(y(_(E[1],S[0]),_(-S[1],E[0])),A[2]))),O[3]))),y(w(y(w(y(_(S[1],A[0]),_(-A[1],S[0])),O[2]),y(w(y(_(O[1],A[0]),_(-A[1],O[0])),-S[2]),w(y(_(O[1],S[0]),_(-S[1],O[0])),A[2]))),-E[3]),y(w(y(w(y(_(E[1],A[0]),_(-A[1],E[0])),O[2]),y(w(y(_(O[1],A[0]),_(-A[1],O[0])),-E[2]),w(y(_(O[1],E[0]),_(-E[1],O[0])),A[2]))),S[3]),w(y(w(y(_(E[1],S[0]),_(-S[1],E[0])),O[2]),y(w(y(_(O[1],S[0]),_(-S[1],O[0])),-E[2]),w(y(_(O[1],E[0]),_(-E[1],O[0])),S[2]))),-A[3]))))),N=y(y(y(w(y(w(y(_(A[1],M[0]),_(-M[1],A[0])),S[2]),y(w(y(_(S[1],M[0]),_(-M[1],S[0])),-A[2]),w(y(_(S[1],A[0]),_(-A[1],S[0])),M[2]))),O[3]),w(y(w(y(_(A[1],M[0]),_(-M[1],A[0])),O[2]),y(w(y(_(O[1],M[0]),_(-M[1],O[0])),-A[2]),w(y(_(O[1],A[0]),_(-A[1],O[0])),M[2]))),-S[3])),y(w(y(w(y(_(S[1],M[0]),_(-M[1],S[0])),O[2]),y(w(y(_(O[1],M[0]),_(-M[1],O[0])),-S[2]),w(y(_(O[1],S[0]),_(-S[1],O[0])),M[2]))),A[3]),w(y(w(y(_(S[1],A[0]),_(-A[1],S[0])),O[2]),y(w(y(_(O[1],A[0]),_(-A[1],O[0])),-S[2]),w(y(_(O[1],S[0]),_(-S[1],O[0])),A[2]))),-M[3]))),y(y(w(y(w(y(_(S[1],M[0]),_(-M[1],S[0])),E[2]),y(w(y(_(E[1],M[0]),_(-M[1],E[0])),-S[2]),w(y(_(E[1],S[0]),_(-S[1],E[0])),M[2]))),O[3]),w(y(w(y(_(S[1],M[0]),_(-M[1],S[0])),O[2]),y(w(y(_(O[1],M[0]),_(-M[1],O[0])),-S[2]),w(y(_(O[1],S[0]),_(-S[1],O[0])),M[2]))),-E[3])),y(w(y(w(y(_(E[1],M[0]),_(-M[1],E[0])),O[2]),y(w(y(_(O[1],M[0]),_(-M[1],O[0])),-E[2]),w(y(_(O[1],E[0]),_(-E[1],O[0])),M[2]))),S[3]),w(y(w(y(_(E[1],S[0]),_(-S[1],E[0])),O[2]),y(w(y(_(O[1],S[0]),_(-S[1],O[0])),-E[2]),w(y(_(O[1],E[0]),_(-E[1],O[0])),S[2]))),-M[3])))),k=T(H,N);return k[k.length-1]}}function f(y){var _=y===3?l:y===4?c:h;return _(r,t,n,i)}var p=f(3),d=f(4),m=[function(){return 0},function(){return 0},function(y,_){return _[0]-y[0]},function(y,_,w){var T=(y[1]-w[1])*(_[0]-w[0]),O=(y[0]-w[0])*(_[1]-w[1]),E=T-O,S;if(T>0){if(O<=0)return E;S=T+O}else if(T<0){if(O>=0)return E;S=-(T+O)}else return E;var A=s*S;return E>=A||E<=-A?E:p(y,_,w)},function(y,_,w,T){var O=y[0]-T[0],E=_[0]-T[0],S=w[0]-T[0],A=y[1]-T[1],M=_[1]-T[1],H=w[1]-T[1],N=y[2]-T[2],k=_[2]-T[2],R=w[2]-T[2],B=E*H,z=S*M,U=S*A,V=O*H,W=O*M,te=E*A,re=N*(B-z)+k*(U-V)+R*(W-te),X=(Math.abs(B)+Math.abs(z))*Math.abs(N)+(Math.abs(U)+Math.abs(V))*Math.abs(k)+(Math.abs(W)+Math.abs(te))*Math.abs(R),$=u*X;return re>$||-re>$?re:d(y,_,w,T)}];function v(y){var _=m[y.length];return _||(_=m[y.length]=f(y.length)),_.apply(void 0,y)}function b(y,_,w,T,O,E,S){return function(A,M,H,N,k){switch(arguments.length){case 0:case 1:return 0;case 2:return T(A,M);case 3:return O(A,M,H);case 4:return E(A,M,H,N);case 5:return S(A,M,H,N,k)}for(var R=new Array(arguments.length),B=0;B<arguments.length;++B)R[B]=arguments[B];return y(R)}}function g(){for(;m.length<=o;)m.push(f(m.length));e.exports=b.apply(void 0,[v].concat(m));for(var y=0;y<=o;++y)e.exports[y]=m[y]}g()})(yW);var p0t=yW.exports,d0t=m0t,rg=p0t;function m0t(e,t){for(var r=t[0],n=t[1],i=e.length,o=1,a=i,s=0,u=i-1;s<a;u=s++){var l=e[s],c=e[u],h=l[1],f=c[1];if(f<h){if(f<n&&n<h){var p=rg(l,c,t);if(p===0)return 0;o^=0<p|0}else if(n===h){var d=e[(s+1)%i],m=d[1];if(h<m){var p=rg(l,c,t);if(p===0)return 0;o^=0<p|0}}}else if(h<f){if(h<n&&n<f){var p=rg(l,c,t);if(p===0)return 0;o^=p<0|0}else if(n===h){var d=e[(s+1)%i],m=d[1];if(m<h){var p=rg(l,c,t);if(p===0)return 0;o^=p<0|0}}}else if(n===h){var v=Math.min(l[0],c[0]),b=Math.max(l[0],c[0]);if(s===0){for(;u>0;){var g=(u+i-1)%i,y=e[g];if(y[1]!==n)break;var _=y[0];v=Math.min(v,_),b=Math.max(b,_),u=g}if(u===0)return v<=r&&r<=b?0:1;a=u+1}for(var w=e[(u+i-1)%i][1];s+1<a;){var y=e[s+1];if(y[1]!==n)break;var _=y[0];v=Math.min(v,_),b=Math.max(b,_),s+=1}if(v<=r&&r<=b)return 0;var T=e[(s+1)%i][1];r<v&&w<n!=T<n&&(o^=1)}}return 2*o-1}const G4=Ji(d0t);function g0t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y0t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b0t(n.key),n)}}function v0t(e,t,r){return t&&y0t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b0t(e){var t=_0t(e,"string");return typeof t=="symbol"?t:t+""}function _0t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}let zc=(function(){function e(t,r){g0t(this,e),this.context=t;const{id:n,pubSub:i,getTheme:o}=t;this.pubSub=i??FP,this.id=n,this._xScale=Et(),this._yScale=Et(),this._refXScale=Et(),this._refYScale=Et(),this.position=[0,0],this.dimensions=[1,1],this.options=r,this.pubSubs=[],this.getTheme=o??(()=>{}),this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.defaultMouseMoveHandler.bind(this))),this.isLeftModified=!1}return v0t(e,[{key:"isWithin",value:function(t,r){let n=t,i=r,o=this.position[0],a=this.position[1];return this.isLeftModified&&(n=r,i=t,o=this.position[1],a=this.position[0]),FO(n,i,o,this.dimensions[0]+o,a,this.dimensions[1]+a)}},{key:"getProp",value:function(t){return()=>this[t]}},{key:"getData",value:function(){}},{key:"click",value:function(t,r,n){return{type:"generic",event:n,payload:null}}},{key:"clickOutside",value:function(){}},{key:"getDimensions",value:function(){return this.dimensions}},{key:"setDimensions",value:function(t){this.dimensions=t,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]])}},{key:"refXScale",value:function(t){return t?(this._refXScale=t,this):this._refXScale}},{key:"refYScale",value:function(t){return t?(this._refYScale=t,this):this._refYScale}},{key:"xScale",value:function(t){return t?(this._xScale=t,this):this._xScale}},{key:"yScale",value:function(t){return t?(this._yScale=t,this):this._yScale}},{key:"zoomed",value:function(t,r){this.xScale(t),this.yScale(r)}},{key:"refScalesChanged",value:function(t,r){this._refXScale=t,this._refYScale=r}},{key:"draw",value:function(){}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(t){this.position=t}},{key:"defaultMouseMoveHandler",value:function(t){}},{key:"remove",value:function(){this.pubSubs.forEach(t=>this.pubSub.unsubscribe(t)),this.pubSubs=[]}},{key:"rerender",value:function(t){}},{key:"respondsToPosition",value:function(t,r){return this.isWithin(t,r)}},{key:"zoomedY",value:function(t,r){}},{key:"movedY",value:function(t){}}])})();function w0t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T0t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E0t(n.key),n)}}function x0t(e,t,r){return t&&T0t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E0t(e){var t=S0t(e,"string");return typeof t=="symbol"?t:t+""}function S0t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function k0t(e,t,r){return t=yh(t),O0t(e,bW()?Reflect.construct(t,r||[],yh(e).constructor):t.apply(e,r))}function O0t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P0t(e)}function P0t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bW=function(){return!!e})()}function C0t(e,t,r,n){var i=BE(yh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function BE(){return BE=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=A0t(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},BE.apply(null,arguments)}function A0t(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=yh(e))!==null;);return e}function yh(e){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yh(e)}function M0t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FE(e,t)}function FE(e,t){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},FE(e,t)}function I0t(e,t){const r=pf(t,e);return Jl(`.${r}`,e)(e)}function R0t(e,t){const r=e.map(o=>+o).sort((o,a)=>a-o),n=r[t],i=r[r.length-1];return I0t(n,i)}function D0t(e,t,r,n){const i=t/(2**e*r);if(!Number.isNaN(i)){const o=t/(2**n*r),a=pf(o,i);return Jl(`.${a}`,i)(i)}return console.warn("NaN resolution, screen is probably too small."),""}let ro=(function(e){function t(r,n){var i;w0t(this,t),i=k0t(this,t,[r,n]);const{scene:o}=r;i.scene=o,i.delayDrawing=!1,i.pBase=new Ie.PIXI.Graphics,i.pMasked=new Ie.PIXI.Graphics,i.pMask=new Ie.PIXI.Graphics,i.pMain=new Ie.PIXI.Graphics,i.pBorder=new Ie.PIXI.Graphics,i.pBackground=new Ie.PIXI.Graphics,i.pForeground=new Ie.PIXI.Graphics,i.pLabel=new Ie.PIXI.Graphics,i.pMobile=new Ie.PIXI.Graphics,i.pAxis=new Ie.PIXI.Graphics,i.pMouseOver=new Ie.PIXI.Graphics,i.scene.addChild(i.pBase),i.pBase.addChild(i.pMasked),i.pMasked.addChild(i.pBackground),i.pMasked.addChild(i.pMain),i.pMasked.addChild(i.pMask),i.pMasked.addChild(i.pMobile),i.pMasked.addChild(i.pBorder),i.pMasked.addChild(i.pLabel),i.pMasked.addChild(i.pForeground),i.pMasked.addChild(i.pMouseOver),i.pBase.addChild(i.pAxis),i.pMasked.mask=i.pMask,i.prevOptions="",i.options=Object.assign(i.options,n);const a=i.getName();return i.labelTextFontFamily="Arial",i.labelTextFontSize=12,i.labelXOffset=0,i.labelText=new Ie.PIXI.Text(a,{fontSize:`${i.labelTextFontSize}px`,fontFamily:i.labelTextFontFamily,fill:"black"}),i.pLabel.addChild(i.labelText),i.errorText=new Ie.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"red"}),i.errorText.anchor.x=.5,i.errorText.anchor.y=.5,i.pLabel.addChild(i.errorText),i.flipText=!1,i.tilesetInfo=void 0,i.errorTexts={},i}return M0t(t,e),x0t(t,[{key:"setLabelText",value:function(){}},{key:"setPosition",value:function(r){this.position=r,this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}},{key:"setDimensions",value:function(r){C0t(t,"setDimensions",this)([r]),this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}},{key:"setMask",value:function(r,n){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(r[0],r[1],n[0],n[1]),this.pMask.endFill()}},{key:"setForeground",value:function(){this.pForeground.position.y=this.position[1],this.pForeground.position.x=this.position[0]}},{key:"remove",value:function(){this.pBase.clear(),this.scene.removeChild(this.pBase)}},{key:"drawBorder",value:function(){const r=this.pBorder;if(r.clear(),!this.options||!this.options.trackBorderWidth)return;const n=ot(this.options.trackBorderColor?this.options.trackBorderColor:"white");r.lineStyle(this.options.trackBorderWidth,n),r.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}},{key:"setError",value:function(r,n){this.errorTexts[n]=r,this.drawError()}},{key:"drawError",value:function(){this.errorText.x=this.position[0]+this.dimensions[0]/2,this.errorText.y=this.position[1]+this.dimensions[1]/2;const r=Object.values(this.errorTexts).filter(n=>n?.length).reduce((n,i)=>n?`${n}
${i}`:i,"");if(this.errorText.text=r,this.errorText.alpha=.8,r?.length){const n=this.pBorder;n.clear(),n.lineStyle(1,ot("red")),n.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}else this.pBorder.clear()}},{key:"drawBackground",value:function(){const r=this.pBackground;if(r.clear(),!this.options||!this.options.backgroundColor)return;let n=1,i=this.options.backgroundColor;this.options.backgroundColor==="transparent"&&(n=0,i="white");const o=ot(i);r.beginFill(o,n),r.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}},{key:"getLabelColor",value:function(){return this.options.labelColor&&this.options.labelColor!=="[glyph-color]"?this.options.labelColor:this.options.lineStrokeColor||this.options.barFillColor||"black"}},{key:"getName",value:function(){var r;return this.options.name?this.options.name:((r=this.tilesetInfo)==null?void 0:r.name)||""}},{key:"drawLabel",value:function(){var r,n;if(!this.labelText)return;const i=this.pLabel;if(i.clear(),!this.options||!this.options.labelPosition||this.options.labelPosition==="hidden"){this.labelText.alpha=0;return}const{labelBackgroundColor:o="white",labelBackgroundOpacity:a=.5}=this.options;i.beginFill(ot(o),+a);const s=ot(this.getLabelColor()),u=2;if(this.dimensions[0]<0)return;let l=this.options.labelShowAssembly&&this.tilesetInfo&&this.tilesetInfo.coordSystem?`${this.tilesetInfo.coordSystem} | `:"";if(l+=this.getName(),this.options.labelShowResolution&&Y0(this.tilesetInfo)&&this.tilesetInfo.bins_per_dimension){const d=D0t(this.calculateZoomLevel(),this.tilesetInfo.max_width,this.tilesetInfo.bins_per_dimension,this.tilesetInfo.max_zoom);l+=`
[Current data resolution: ${d}]`}else if(this.options.labelShowResolution&&zd(this.tilesetInfo)){const d=R0t(this.tilesetInfo.resolutions,this.calculateZoomLevel());l+=`
[Current data resolution: ${d}]`}if((r=this.options)!=null&&r.dataTransform){let d=null;if((n=this.tilesetInfo)!=null&&n.transforms)for(const m of this.tilesetInfo.transforms)m.value===this.options.dataTransform&&(d=m);d?l+=`
[Transform: ${d.name}]`:this.options.dataTransform==="None"?l+=`
[Transform: None ]`:l+=`
[Transform: Default ]`}this.labelText.text=l,this.labelText.style={fontSize:`${this.labelTextFontSize}px`,fontFamily:this.labelTextFontFamily,fill:s},this.labelText.alpha=typeof this.options.labelTextOpacity<"u"?this.options.labelTextOpacity:1,this.labelText.visible=!0,this.flipText&&(this.labelText.scale.x=-1);const{labelLeftMargin:c=0,labelRightMargin:h=0,labelTopMargin:f=0,labelBottomMargin:p=0}=this.options;this.options.labelPosition==="topLeft"?(this.labelText.x=this.position[0]+c+this.labelXOffset,this.labelText.y=this.position[1]+f,this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x+=this.labelText.width/2,i.drawRect(this.position[0]+c+this.labelXOffset,this.position[1]+f,this.labelText.width+u,this.labelText.height+u)):this.options.labelPosition==="bottomLeft"&&!this.flipText||this.options.labelPosition==="topRight"&&this.flipText?(this.labelText.x=this.position[0]+(c||f),this.labelText.y=this.position[1]+this.dimensions[1]-(p||h),this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x+=this.labelText.width/2+this.labelXOffset,i.drawRect(this.position[0]+(c||f)+this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-u-(p||h),this.labelText.width+u,this.labelText.height+u)):this.options.labelPosition==="topRight"&&!this.flipText||this.options.labelPosition==="bottomLeft"&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]-(h||p),this.labelText.y=this.position[1]+(f||c),this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x-=this.labelText.width/2+this.labelXOffset,i.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-u-(h||p)-this.labelXOffset,this.position[1]+(f||c),this.labelText.width+u,this.labelText.height+u)):this.options.labelPosition==="bottomRight"?(this.labelText.x=this.position[0]+this.dimensions[0]-h,this.labelText.y=this.position[1]+this.dimensions[1]-p,this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x-=this.labelText.width/2+this.labelXOffset,i.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-u-h-this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-u-p,this.labelText.width+u,this.labelText.height+u)):this.options.labelPosition==="outerLeft"&&!this.flipText||this.options.labelPosition==="outerTop"&&this.flipText?(this.labelText.x=this.position[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x-=this.labelText.width/2+3):this.options.labelPosition==="outerTop"&&!this.flipText||this.options.labelPosition==="outerLeft"&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y-=this.labelText.height/2+3):this.options.labelPosition==="outerBottom"&&!this.flipText||this.options.labelPosition==="outerRight"&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1]+this.dimensions[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y+=this.labelText.height/2+3):this.options.labelPosition==="outerRight"&&!this.flipText||this.options.labelPosition==="outerBottom"&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x+=this.labelText.width/2+3):this.labelText.visible=!1,this.options.labelPosition==="outerLeft"||this.options.labelPosition==="outerRight"||this.options.labelPosition==="outerTop"||this.options.labelPosition==="outerBottom"?this.pLabel.setParent(this.pBase):this.pLabel.setParent(this.pMasked)}},{key:"rerender",value:function(r){this.options=r,this.draw(),this.drawBackground(),this.drawLabel(),this.drawError(),this.drawBorder()}},{key:"draw",value:function(){this.drawError()}},{key:"exportSVG",value:function(){var r;const n=document.createElement("g"),i=document.createElement("rect");i.setAttribute("x",`${this.position[0]}`),i.setAttribute("y",`${this.position[1]}`),i.setAttribute("width",`${this.dimensions[0]}`),i.setAttribute("height",`${this.dimensions[1]}`),(r=this.options)!=null&&r.backgroundColor?i.setAttribute("fill",this.options.backgroundColor):i.setAttribute("fill-opacity","0");const o=document.createElement("g");o.setAttribute("class","g-clipped"),n.appendChild(o),o.appendChild(i);const a=document.createElement("g");o.setAttribute("class","g-track"),o.appendChild(a);const s=document.createElement("g");o.setAttribute("class","g-labels"),o.appendChild(s);const u=document.createElementNS("http://www.w3.org/2000/svg","clipPath");n.appendChild(u);const l=document.createElementNS("http://www.w3.org/2000/svg","polygon");u.appendChild(l),l.setAttribute("points",`${this.position[0]},${this.position[1]} ${this.position[0]+this.dimensions[0]},${this.position[1]} ${this.position[0]+this.dimensions[0]},${this.position[1]+this.dimensions[1]} ${this.position[0]},${this.position[1]+this.dimensions[1]} `);const c=Nt.nice();u.setAttribute("id",c),o.setAttribute("style",`clip-path:url(#${c});`);const h=this.labelText.text.split(`
`);let f=0;const p=(this.labelTextFontSize+2)*h.length+3;this.labelText.anchor.y===.5?f=p/2:this.labelText.anchor.y===1&&(f=-p);for(let d=0;d<h.length;d++){const m=document.createElement("text");if(m.setAttribute("font-family",this.labelTextFontFamily),m.setAttribute("font-size",`${this.labelTextFontSize}px`),m.innerText=h[d],this.options.labelPosition==="topLeft"||this.options.labelPosition==="topRight"){const v=f+(d+1)*(this.labelTextFontSize+2);m.setAttribute("dy",String(v))}else(this.options.labelPosition==="bottomLeft"||this.options.labelPosition==="bottomRight")&&m.setAttribute("dy",String(f+d*(this.labelTextFontSize+2)));m.setAttribute("fill",this.options.labelColor??""),this.labelText.anchor.x===.5?m.setAttribute("text-anchor","middle"):this.labelText.anchor.x===1&&m.setAttribute("text-anchor","end"),s.appendChild(m)}return s.setAttribute("transform",`translate(${this.labelText.x},${this.labelText.y})scale(${this.labelText.scale.x},1)`),[n,a]}},{key:"calculateZoomLevel",value:function(){throw new Error("Must be implemented by subclass")}}])})(zc);function qg(e,t=""){if(!e)throw new Error(t)}function N0t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j0t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B0t(n.key),n)}}function L0t(e,t,r){return t&&j0t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B0t(e){var t=F0t(e,"string");return typeof t=="symbol"?t:t+""}function F0t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function z0t(e){return e.length===2}function H0t(e){return{async fetchTiles(t){return await HV(t,e)},fetchTilesetInfo({server:t,tilesetUid:r}){return new Promise((n,i)=>{$V(t,r,n,i,e)})},registerTileset({server:t,url:r,filetype:n,coordSystem:i}){const o=`${Ab(t)}/register_url/`;return fetch(o,{method:"POST",body:JSON.stringify({fileurl:r,filetype:n,coordSystem:i}),headers:{"Content-Type":"application/json; charset=utf-8"}})}}}let v_=(function(){function e(t,r,n){if(N0t(this,e),this._tileSource=n||H0t(r),this.tilesetInfoLoading=!0,!t){console.error("No dataconfig provided");return}this.dataConfig=JSON.parse(JSON.stringify(t)),this.uuid=Nt.nice(),this.pubSub=r,t.children&&(this.dataConfig.children=t.children.map(i=>new e(i,r)))}return L0t(e,[{key:"registerFileUrl",value:async function({server:t,url:r,filetype:n,coordSystem:i}){return this._tileSource.registerTileset({server:t,url:r,filetype:n,coordSystem:i})}},{key:"tilesetInfo",value:function(t){const{server:r,url:n,filetype:i,coordSystem:o}=this.dataConfig;return r&&n&&i?this.registerFileUrl({server:r,url:n,filetype:i,coordSystem:o}).then(a=>a.json()).then(a=>{this.dataConfig.tilesetUid=a.uid,this.tilesetInfoAfterRegister(t)}).catch(a=>{console.error("Error registering url",a)}):new Promise(()=>{this.tilesetInfoAfterRegister(t)})}},{key:"tilesetInfoAfterRegister",value:function(t){if(this.dataConfig.children){const r=this.dataConfig.children.map(n=>new Promise(i=>{n.tilesetInfo(i)}));Promise.all(r).then(n=>{t(n[0])})}else{const{server:r,tilesetUid:n}=this.dataConfig;!r||!n?(console.warn("No dataConfig children, server or tilesetUid:",this.dataConfig),t(null)):this._tileSource.fetchTilesetInfo({server:r,tilesetUid:n}).then(i=>{this.dataConfig.tilesetInfo=i[n],t(i[n],n)}).catch(i=>{this.tilesetInfoLoading=!1,t({error:i})})}}},{key:"fullTileId",value:function(t,r){return`${t}.${r}`}},{key:"fetchTilesDebounced",value:function(t,r){var n;if(this.dataConfig.type==="horizontal-section")return this.fetchHorizontalSection(t,r);if(this.dataConfig.type==="vertical-section")return this.fetchHorizontalSection(t,r,!0);if(!this.dataConfig.children&&this.dataConfig.tilesetUid&&this.dataConfig.server)return this._tileSource.fetchTiles({id:Nt.nice(),server:this.dataConfig.server,tileIds:r.map(o=>`${this.dataConfig.tilesetUid}.${o}`),options:this.dataConfig.options}).then(o=>{const a=hr(o)[0].tilesetUid,s={};for(let u=0;u<r.length;u++){const l=this.fullTileId(a,r[u]);o[l].tilePositionId=r[u],s[r[u]]=o[l]}return t(s),s});const i=((n=this.dataConfig.children)==null?void 0:n.map(o=>new Promise(a=>{o.fetchTilesDebounced(a,r)})))??[];return Promise.all(i).then(o=>{if(this.dataConfig.type==="divided"&&z0t(o)){const a=this.makeDivided(o,r);return t(a),a}return console.warn("Unimplemented dataConfig type. Returning first data source.",this.dataConfig),t(o[0]),o[0]})}},{key:"divideData",value:function(t,r){const n=new Float32Array(t.length);for(let i=0;i<n.length;i++)r[i]===0?n[i]=Number.NaN:n[i]=t[i]/r[i];return n}},{key:"horizontalSlice",value:function(){return null}},{key:"extractDataSlice",value:function(t,r,n,i){if(!i)return t.slice(r[1]*n,r[1]*(n+1));const o=new Array(r[1]);for(let a=n;a<t.length;a+=r[0])o[Math.floor(a/r[0])]=t[a];return o}},{key:"fetchHorizontalSection",value:function(t,r,n=!1){const i=[],o=[],{slicePos:a,tilesetInfo:s,server:u}=this.dataConfig;qg(a,"No slice position in dataConfig."),qg(u,"No server in dataConfig."),qg(s,"No tilesetInfo in dataConfig.");for(const l of r){const c=l.split("."),h=+c[0],f=+c[1],p=Et().domain([a,a]);let d=[];if(zd(s)){const b=s.resolutions.map(g=>+g).sort((g,y)=>y-g);d=hy(b[h],p,s.min_pos[n?1:0],s.max_pos[n?1:0])}else d=cy(h,p,s.min_pos[n?1:0],s.max_pos[n?1:0],s.max_zoom,s.max_width);const m=[f,d[0]].sort((b,g)=>b-g);m[0]===f?o.push(!1):o.push(!0);const v=`${h}.${m[0]}.${m[1]}`;i.push(v)}return this._tileSource.fetchTiles({id:Nt.nice(),server:u,tileIds:i.map(l=>`${this.dataConfig.tilesetUid}.${l}`)}).then(l=>{const c=hr(l)[0].tilesetUid,h={};for(let f=0;f<i.length;f++){const p=i[f].split("."),d=+p[0],m=+p[1],v=+p[2],b=VV(s,s.max_width,s.min_pos[1],d,+a)[1],g=this.fullTileId(c,i[f]),y=l[g];let _=null;if(m===v){_=this.extractDataSlice(y.dense,[256,256],b);const T=this.extractDataSlice(y.dense,[256,256],b,1);for(let O=0;O<_.length;O++)_[O]+=T[O]}else o[f]?_=this.extractDataSlice(y.dense,[256,256],b,1):_=this.extractDataSlice(y.dense,[256,256],b);const w={min_value:Math.min.apply(null,_),max_value:Math.max.apply(null,_),denseDataExtrema:new q0(_),minNonZero:cx(_),maxNonZero:ux(_),dense:_,dtype:y.dtype,server:y.server,tilePos:o[f]?[v]:[m],tilePositionId:r[f],tilesetUid:c,zoomLevel:y.zoomLevel};h[r[f]]=w}return t(h),h})}},{key:"makeDivided",value:function(t,r){t.length<2&&console.warn("Only one tileset specified for a divided datafetcher:",this.dataConfig);const n={};for(let i=0;i<r.length;i++){const o=t[0][r[i]].zoomLevel,a=t[0][r[i]].tilePos;let s={zoomLevel:o,tilePos:a,tilePositionId:r[i]};const u=t[0][r[i]].dense,l=t[1][r[i]].dense;if(u&&l){const c=this.divideData(u,l),h=a.length===2?new HO(c):new q0(c);s={dense:c,denseDataExtrema:h,minNonZero:cx(c),maxNonZero:ux(c),zoomLevel:o,tilePos:a,tilePositionId:r[i]}}n[r[i]]=s}return n}}])})();var U0t=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];const V0t=U0t;function G0t(e){if(typeof e!="string")throw new TypeError("input must be a string");let t=[],r,n,i={LOCUS_TAG:"LOCUS",DEFINITION_TAG:"DEFINITION",ACCESSION_TAG:"ACCESSION",VERSION_TAG:"VERSION",KEYWORDS_TAG:"KEYWORDS",SOURCE_TAG:"SOURCE",ORGANISM_TAG:"ORGANISM",REFERENCE_TAG:"REFERENCE",FEATURES_TAG:"FEATURES",ORIGIN_TAG:"ORIGIN",END_SEQUENCE_TAG:"//"},o=e.split(/\r?\n/),a,s,u,l,c,h=!1;for(let k of o){if(k===null)break;let R=E(k),B=A(k),z=H(k),U=M(k);if(R===i.END_SEQUENCE_TAG||U?(a=R,s=null):z&&(s=R),!(k.trim()===""||R===";")){if(!h&&a!==i.LOCUS_TAG)break;switch(a){case i.LOCUS_TAG:h=!0,v(k);break;case i.FEATURES_TAG:y(k,R,B);break;case i.ORIGIN_TAG:m(k,R);break;case i.DEFINITION_TAG:case i.ACCESSION_TAG:case i.VERSION_TAG:case i.KEYWORDS_TAG:S(a,k,a.toLowerCase());break;case i.SOURCE_TAG:s===i.ORGANISM_TAG?S(s,k,"organism"):S(R,k,"source");break;case i.REFERENCE_TAG:if(R===i.REFERENCE_TAG){const V=r.references||[];r.references=V,V.push({})}g(k,s);break;case i.END_SEQUENCE_TAG:f();break}}}return t[t.length-1]!==r&&f(),t;function f(){d(),t.push(r)}function p(){return r.features[r.features.length-1]}function d(){if(r&&r.features)for(let k=0;k<r.features.length;k++)r.features[k]=N(r.features[k])}function m(k,R){if(R!==i.ORIGIN_TAG){let B=k.replace(/[\s]*[0-9]*/g,"");r.sequence+=B}}function v(k){r={features:[],name:"Untitled sequence",sequence:"",references:[]},k=b(i.LOCUS_TAG,k);const R=k.match(/^([^\s]+)\s+(\d+)\s+bp\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\s*([^\s]+)?$/);let B=R[1],z=+R[2],U=R[3],V=R[4]==="circular";const W=r;let te="";R[6]?(W.genbankDivision=R[5],te=R[6]):te=R[5],W.circular=V,W.moleculeType=U;const re=te.match(/^(\d{2})-(.{3})-(\d{4})$/),X=new Date;X.setFullYear(+re[3]),X.setUTCMonth(V0t.indexOf(re[2].toUpperCase())),X.setDate(+re[1]),X.setUTCHours(12),X.setMinutes(0),X.setSeconds(0),X.setMilliseconds(0),W.date=X.toISOString(),W.name=B,W.size=z}function b(k,R){return R=R.replace(/^\s*/,""),R.indexOf(k)===0&&(R=R.replace(k,"")),R.trim()}function g(k,R){const B=r.references;let z=B[B.length-1];R?S(R,k,R.toLowerCase(),z):S(i.REFERENCE_TAG,k,"description",z)}function y(k,R,B){let z;if(R===i.FEATURES_TAG){l=!0;return}if(l&&(u=_W(k),l=!1),Y0t(k,u))c?(T(k.trim()),c=!0):(n&&(n[n.length-1]+=k.trim().replace(/"/g,"")),c=!1);else if(w(k))p()&&(O(k),c=!1);else{B.match(/complement/g)?z=-1:z=1,_();let U=p();U.type=R,U.strand=z,T(B),c=!0}}function _(){r.features.push({notes:{}})}function w(k){let R=!1;return(k.trim().charAt(0).match(/\//)||k.match(/^[\s]*\/[\w]+=[\S]+/))&&(R=!0),R}function T(k){k=k.trim();let R=[];k.replace(/(\d+)/g,function(z,U){R.push(U)});let B=p();B.start=+R[0],B.end=R[1]===void 0?+R[0]:+R[1]}function O(k){let R,B;R=k.trim(),R=R.replace(/^\/|"$/g,""),B=R.split(/="|=/);let z=B[1];z&&(z=z.replace(/\\/g," "),k.match(/="/g)?z=z.replace(/".*/g,""):z.match(/^\d+$/g)&&(z=+z));let U=B[0],V=p().notes;V[U]?V[U].push(z):V[U]=[z],n=V[U]}function E(k){let R;return k=k.trim(),R=k.split(/[\s]+/),R[0]}function S(k,R,B,z){z=z||r;let U=b(k,R);z[B]=z[B]?`${z[B]} `:"",z[B]+=U}function A(k){let R;return k.indexOf("=")<0?(k=k.replace(/^[\s]*[\S]+[\s]+|[\s]+$/,""),k=k.trim(),k):(R=k.split(/=/),R[1])}function M(k){let R=!1;return k.substr(0,10).match(/^[\S]+/)&&(R=!0),R}function H(k){let R=!1;return k.substr(0,10).match(/^[\s]+[\S]+/)&&(R=!0),R}function N(k){return k.notes.label?k.name=k.notes.label[0]:k.notes.gene?k.name=k.notes.gene[0]:k.notes.ApEinfo_label?k.name=k.notes.ApEinfo_label[0]:k.notes.name?k.name=k.notes.name[0]:k.notes.organism?k.name=k.notes.organism[0]:k.notes.locus_tag?k.name=k.notes.locus_tag[0]:k.notes.note?k.name=k.notes.note[0]:k.name="Untitled Feature",k.name=typeof k.name=="string"?k.name:String(k.name),k}}function Y0t(e,t){let r=_W(e);return!(t===r||e.trim().charAt(0).match(/\//))}function _W(e){let t=/^\s*/.exec(e);return t!==null?t[0].length:0}var W0t=G0t;const X0t=Ji(W0t);function $0t(e,t){const{format:r,signal:n}=t,i=e instanceof Response?e:new Response(e);return qg(i.body,"Response does not include a body."),new Response(i.body.pipeThrough(new DecompressionStream(r),{signal:n}))}function q0t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K0t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q0t(n.key),n)}}function Z0t(e,t,r){return t&&K0t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q0t(e){var t=J0t(e,"string");return typeof t=="symbol"?t:t+""}function J0t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function g7(e,t,r){const n=[];if(!e.length)return[];let i=e[0].start,o=e[0].end;for(let a=1;a<e.length;a++)e[a].start<o+5/t?o=Math.max(o,e[a].end):(n.push({type:"filler",start:i,end:o,strand:r}),i=e[a].start,o=e[a].end);return n.push({start:i,end:o,type:"filler",strand:r}),n}function eyt(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}function tyt(e){return e.type==="filler"}function ryt(e){const t=e.end-e.start,r=e.strand===1?"+":"-",n=Nt.nice();return tyt(e)?{xStart:e.start,xEnd:e.end,strand:e.strand,fields:[],type:"filler",uid:n}:{xStart:e.start,xEnd:e.end,strand:r,chrOffset:0,importance:e.end-e.start,uid:n,type:e.type,fields:["chrom",e.start,e.end,e.name,t,r,"","",e.type,e.name,e.start.toString(),e.end.toString(),e.start.toString(),e.end.toString()]}}function nyt(e){const t=X0t(e),r=eyt(t[0].features.filter(n=>n.type!=="source").sort((n,i)=>n.start-i.start));return{json:t,features:r}}let wW=(function(){function e(t){q0t(this,e),this.dataConfig=t,this.trackUid=Nt.nice(),this.errorTxt="";let r;if(t.url){const n=t.url.slice(t.url.length-3);r=fetch(t.url,{mode:"cors",redirect:"follow",method:"GET"}).then(i=>(n===".gz"?$0t(i,{format:"gzip"}):i).text())}else if(t.text)r=Promise.resolve(t.text);else throw new Error("No data or URL specified");this.gbDataPromise=r.then(n=>nyt(n))}return Z0t(e,[{key:"tilesetInfo",value:function(t){return this.tilesetInfoLoading=!0,this.gbDataPromise.then(r=>{this.tilesetInfoLoading=!1;const n=1024,i={name:`genbank-${this.trackUid}`,tile_size:n,max_zoom:Math.ceil(Math.log(r.json[0].size/n)/Math.log(2)),max_width:r.json[0].size,min_pos:[0],max_pos:[r.json[0].size]};return t&&t(i),i}).catch(r=>{this.tilesetInfoLoading=!1,t&&t({error:`Error parsing genbank: ${r}`})})}},{key:"fetchTilesDebounced",value:async function(t,r){const n={},i=[],o=[];for(const s of r){const u=s.split("."),l=Number.parseInt(u[0],10),c=Number.parseInt(u[1],10);if(Number.isNaN(c)||Number.isNaN(l)){console.warn("Invalid tile zoom or position:",l,c);continue}i.push(s),o.push(this.tile(l,c))}const a=await Promise.all(o);for(let s=0;s<a.length;s++){const u=i[s];n[u]=a[s],n[u].tilePositionId=u}return t(n),n}},{key:"tile",value:async function(t,r){const[n,i]=await Promise.all([this.tilesetInfo(),this.gbDataPromise]);if(!n)throw new Error("No tileset info");const o=+n.max_width/2**+t,a=n.min_pos[0]+r*o,s=n.min_pos[0]+(r+1)*o,u=i.features.filter(d=>d.end>a&&d.start<s),l=1024/2**(n.max_zoom-t),c=g7(u.filter(d=>d.strand===1),l,"+"),h=g7(u.filter(d=>d.strand!==1),l,"-"),f=[],p=20;for(let d=0;d<i.features.length&&!(f.length>=p);d++)i.features[d].end>=a&&i.features[d].start<=s&&f.push(i.features[d]);return[f,c,h].flatMap(d=>d.map(ryt))}}])})();function iyt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oyt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,syt(n.key),n)}}function ayt(e,t,r){return t&&oyt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function syt(e){var t=lyt(e,"string");return typeof t=="symbol"?t:t+""}function lyt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}let TW=(function(){function e(t){iyt(this,e),this.dataConfig=t,this.tilesetInfoData=Object.values(this.dataConfig.tilesetInfo)[0],this.tilesData={},this.tilesetInfoLoading=!0}return ayt(e,[{key:"tilesetInfo",value:async function(t){return this.tilesetInfoLoading=!1,await new Promise(r=>setTimeout(()=>{t(this.tilesetInfoData),r(!0)},0)),this.tilesetInfoData}},{key:"fetchTilesDebounced",value:async function(t,r){this.tilesData={};for(const o of Object.keys(this.dataConfig.tiles)){const a=`localtile.${o.split(".").slice(1).join(".")}`;this.tilesData[a]=this.dataConfig.tiles[o]}const n={},i=r.map(o=>`localtile.${o}`);BP(this.tilesData,"",i);for(const o of r)n[o]=this.tilesData[`localtile.${o}`],n[o].tilePositionId=o;return t(n),n}},{key:"tile",value:function(t,r){}}])})();function uyt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cyt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fyt(n.key),n)}}function hyt(e,t,r){return t&&cyt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fyt(e){var t=pyt(e,"string");return typeof t=="symbol"?t:t+""}function pyt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dyt(e){return e.data===null}let myt=(function(){function e(){uyt(this,e),this.taskList=[],this.taskHandle=null,this.requestIdleCallbackTimeout=300}return hyt(e,[{key:"enqueueTask",value:function(t,r,n=null){n===null?this.taskList.push({handler:t,data:r}):(this.taskList=this.taskList.filter(i=>i.trackId!==n),this.taskList.push({handler:t,data:r,trackId:n})),this.taskHandle||(this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}))}},{key:"runTaskQueue",value:function(t){for(;(t.timeRemaining()>0||t.didTimeout)&&this.taskList.length;){const r=this.taskList.shift();r&&dyt(r)?r.handler():r&&r.handler(r.data)}this.taskList.length?this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}):this.taskHandle=0}}])})();const gyt=new myt;function yyt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vyt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_yt(n.key),n)}}function byt(e,t,r){return t&&vyt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _yt(e){var t=wyt(e,"string");return typeof t=="symbol"?t:t+""}function wyt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Tyt(e,t,r){return t=vh(t),xyt(e,xW()?Reflect.construct(t,r||[],vh(e).constructor):t.apply(e,r))}function xyt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eyt(e)}function Eyt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xW=function(){return!!e})()}function ng(e,t,r,n){var i=zE(vh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function zE(){return zE=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Syt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},zE.apply(null,arguments)}function Syt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=vh(e))!==null;);return e}function vh(e){return vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vh(e)}function kyt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HE(e,t)}function HE(e,t){return HE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},HE(e,t)}function Oyt(e,t,r,n,i){const o=e,a=0;return o==="log"&&t>0?["log",Cs().range([254,0]).domain([t+a,n+a])]:["linear",Et().range([254,0]).domain([t,n])]}let Qa=(function(e){function t(r,n){var i;yyt(this,t),i=Tyt(this,t,[r,n]);const{pubSub:o,dataConfig:a,handleTilesetInfoReceived:s,animate:u,onValueScaleChanged:l}=r;return i.renderVersion=1,i.visibleTiles=[],i.visibleTileIds=new Set,i.renderingTiles=new Set,i.fetching=new Set,i.scale={},i.fetchedTiles={},i.tileGraphics={},i.maxZoom=0,i.medianVisibleValue=null,i.backgroundTaskScheduler=gyt,i.continuousScaling="requestIdleCallback"in window,i.valueScaleMin=null,i.fixedValueScaleMin=null,i.valueScaleMax=null,i.fixedValueScaleMax=null,i.listeners={},i.pubSub=o,i.animate=u,i.onValueScaleChanged=l,i.prevValueScale=null,r.dataFetcher?i.dataFetcher=r.dataFetcher:i.dataFetcher=new v_(a,i.pubSub),i.tilesetInfo=null,i.tilesetInfoError=null,i.uuid=Nt.nice(),i.trackNotFoundText=new Ie.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"black"}),i.pLabel.addChild(i.trackNotFoundText),i.refreshTilesDebounced=BF(i.refreshTiles.bind(i),B0,B0),i.dataFetcher.tilesetInfo((c,h)=>{var f,p;if(c){if(Gle(c))i.tilesetInfo=c,i.tilesetInfo.chromsizes&&(i.chromInfo=Bd(i.tilesetInfo.chromsizes));else{console.warn("Error retrieving tilesetInfo:",a,c.error),c.error&&i.setError(c.error,"dataFetcher.tilesetInfo"),i.tilesetInfo=void 0;return}i.dataFetcher.dataConfig.tilesetUid||(i.dataFetcher.dataConfig.tilesetUid=h),i.tilesetUid=i.dataFetcher.dataConfig.tilesetUid,i.server=i.dataFetcher.dataConfig.server||"unknown",(f=i.tilesetInfo)!=null&&f.chromsizes&&(i.chromInfo=Bd(i.tilesetInfo.chromsizes)),zd(i.tilesetInfo)?i.maxZoom=i.tilesetInfo.resolutions.length:i.maxZoom=+i.tilesetInfo.max_zoom,(p=i.options)!=null&&p.maxZoom&&(i.options.maxZoom>=0?i.maxZoom=Math.min(i.options.maxZoom,i.maxZoom):console.error("Invalid maxZoom on track:",i)),i.refreshTiles(),i.tilesetInfoReceived(),s?.(i.tilesetInfo),i.options??(i.options={}),i.options.name=i.options.name||i.tilesetInfo.name,i.checkValueScaleLimits(),i.draw(),i.drawLabel(),i.animate()}}),i}return kyt(t,e),byt(t,[{key:"setError",value:function(r,n){this.errorTexts[n]=r,this.drawError()}},{key:"setFixedValueScaleMin",value:function(r){Number.isNaN(+r)?this.fixedValueScaleMin=null:this.fixedValueScaleMin=+r}},{key:"setFixedValueScaleMax",value:function(r){Number.isNaN(+r)?this.fixedValueScaleMax=null:this.fixedValueScaleMax=+r}},{key:"checkValueScaleLimits",value:function(){this.valueScaleMin=typeof this.options.valueScaleMin<"u"?+this.options.valueScaleMin:null,this.fixedValueScaleMin!==null&&(this.valueScaleMin=this.fixedValueScaleMin),this.valueScaleMax=typeof this.options.valueScaleMax<"u"?+this.options.valueScaleMax:null,this.fixedValueScaleMax!==null&&(this.valueScaleMax=this.fixedValueScaleMax)}},{key:"on",value:function(r,n){this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(n)}},{key:"off",value:function(r,n){const i=this.listeners[r].indexOf(n);i===-1||i>=this.listeners[r].length||this.listeners[r].splice(i,1)}},{key:"rerender",value:function(r){var n;ng(t,"rerender",this)([r]),this.renderVersion+=1,this.tilesetInfo&&(this.checkValueScaleLimits(),zd(this.tilesetInfo)?this.maxZoom=this.tilesetInfo.resolutions.length:this.maxZoom=+this.tilesetInfo.max_zoom,(n=this.options)!=null&&n.maxZoom&&(this.options.maxZoom>=0?this.maxZoom=Math.min(this.options.maxZoom,this.maxZoom):console.error("Invalid maxZoom on track:",this)))}},{key:"tilesetInfoReceived",value:function(){}},{key:"visibleAndFetchedIds",value:function(){return Object.keys(this.fetchedTiles).filter(r=>this.visibleTileIds.has(r))}},{key:"visibleAndFetchedTiles",value:function(){return this.visibleAndFetchedIds().map(r=>this.fetchedTiles[r])}},{key:"setVisibleTiles",value:function(r){this.visibleTiles=r.map(n=>({tileId:this.tileToLocalId(n),remoteId:this.tileToRemoteId(n),mirrored:n.mirrored})),this.visibleTileIds=new Set(this.visibleTiles.map(n=>n.tileId))}},{key:"removeOldTiles",value:function(){this.calculateVisibleTiles();const r=[...new Set(Object.keys(this.fetchedTiles))].filter(n=>!this.visibleTileIds.has(n));this.removeTiles(r)}},{key:"refreshTiles",value:function(){if(!this.tilesetInfo)return;this.calculateVisibleTiles();const r=new Set(Object.keys(this.fetchedTiles)),n=[...this.visibleTiles].filter(i=>!this.fetching.has(i.remoteId)&&!r.has(i.tileId));for(let i=0;i<n.length;i++)this.fetching.add(n[i].remoteId);this.removeOldTiles(),this.fetchNewTiles(n)}},{key:"parentInFetched",value:function(r){const n=r.tileData.tilesetUid;let i=r.tileData.zoomLevel,o=r.tileData.tilePos;for(;i>0;)if(i-=1,o=o.map(a=>Math.floor(a/2)),`${n}.${i}.${o.join(".")}`in this.fetchedTiles)return!0;return!1}},{key:"parentTileId",value:function(r){const n=r.tileData.zoomLevel-1,i=r.tileData.tilePos.map(o=>Math.floor(o/2));return`${r.tileData.tilesetUid}.${n}.${i.join(".")}`}},{key:"removeTiles",value:function(r){!r.length||!this.areAllVisibleTilesLoaded()||this.renderingTiles.size||(r.forEach(n=>{const i=n;this.destroyTile(this.fetchedTiles[i]),i in this.tileGraphics&&(this.pMain.removeChild(this.tileGraphics[i]),delete this.tileGraphics[i]),delete this.fetchedTiles[i]}),this.synchronizeTilesAndGraphics(),this.draw())}},{key:"zoomed",value:function(r,n,i=1,o=0,a=0){this.xScale(r),this.yScale(n),this.refreshTilesDebounced(),this.pMobile.position.x=o,this.pMobile.position.y=this.position[1],this.pMobile.scale.x=i,this.pMobile.scale.y=1}},{key:"setPosition",value:function(r){ng(t,"setPosition",this)([r])}},{key:"setDimensions",value:function(r){ng(t,"setDimensions",this)([r])}},{key:"areAllVisibleTilesLoaded",value:function(){const r=new Set(Object.keys(this.fetchedTiles)),n=[...this.visibleTileIds];for(let i=0;i<n.length;i++)if(!r.has(n[i]))return!1;return!0}},{key:"allTilesLoaded",value:function(){}},{key:"minValue",value:function(r){return r?(this.scale.minValue=r,this):this.valueScaleMin!==null?this.valueScaleMin:this.scale.minValue}},{key:"maxValue",value:function(r){return r?(this.scale.maxValue=r,this):this.valueScaleMax!==null?this.valueScaleMax:this.scale.maxValue}},{key:"minRawValue",value:function(){return this.scale.minRawValue}},{key:"maxRawValue",value:function(){return this.scale.maxRawValue}},{key:"initTile",value:function(r){var n;(n=r.tileData)!=null&&n.dense&&(this.scale.minRawValue=this.continuousScaling?this.minVisibleValue():this.minVisibleValueInTiles(),this.scale.maxRawValue=this.continuousScaling?this.maxVisibleValue():this.maxVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue)}},{key:"updateTile",value:function(r){}},{key:"destroyTile",value:function(r){}},{key:"addMissingGraphics",value:function(){const r=Object.keys(this.fetchedTiles);this.renderVersion+=1;for(let n=0;n<r.length;n++)if(!(r[n]in this.tileGraphics)){const i=new Ie.PIXI.Graphics;this.pMain.addChild(i),this.fetchedTiles[r[n]].graphics=i,this.initTile(this.fetchedTiles[r[n]]),this.tileGraphics[r[n]]=i}}},{key:"updateExistingGraphics",value:function(){const r=Object.keys(this.fetchedTiles);for(let n=0;n<r.length;n++){const i=this.fetchedTiles[r[n]];this.updateTile(i)}}},{key:"synchronizeTilesAndGraphics",value:function(){if(this.addMissingGraphics(),this.removeOldTiles(),this.updateExistingGraphics(),this.listeners.dataChanged)for(const r of this.listeners.dataChanged)r(this.visibleAndFetchedTiles().map(n=>n.tileData))}},{key:"loadTileData",value:function(r,n){let i=this.lruCache.get(r.tileId);return i||(i=n(r.data,r.type),this.lruCache.put(r.tileId,i)),i}},{key:"fetchNewTiles",value:function(r){if(this._checkForErrors(),this.draw(),r.length>0){const n=[...new Set(r.map(i=>i.remoteId))];this.dataFetcher.fetchTilesDebounced(this.receivedTiles.bind(this),n)}}},{key:"receivedTiles",value:function(r){var n;for(let i=0;i<this.visibleTiles.length;i++){const{tileId:o}=this.visibleTiles[i];if(r[this.visibleTiles[i].remoteId]&&this.visibleTiles[i].remoteId in r){if(o in this.fetchedTiles||(this.fetchedTiles[o]=this.visibleTiles[i]),Array.isArray(r[this.visibleTiles[i].remoteId])){const a=r[this.visibleTiles[i].remoteId];this.fetchedTiles[o].tileData=[...a],Object.keys(a).filter(s=>Number.isNaN(+s)).forEach(s=>{this.fetchedTiles[o].tileData[s]=a[s]})}else this.fetchedTiles[o].tileData={...r[this.visibleTiles[i].remoteId]};this.fetchedTiles[o].tileData.error&&console.warn("Error in loaded tile",o,this.fetchedTiles[o].tileData)}}for(const i in r)if(r[i]){const o=r[i].tilePositionId;this.fetching.has(o)&&this.fetching.delete(o)}this.synchronizeTilesAndGraphics(),this.draw(),this.drawLabel(),this.valueScale&&(!this.prevValueScale||JSON.stringify(this.valueScale.domain())!==JSON.stringify(this.prevValueScale.domain()))&&(this.prevValueScale=this.valueScale.copy(),this.onValueScaleChanged&&this.onValueScaleChanged()),this.animate(),this.areAllVisibleTilesLoaded()&&((n=this.pubSub)==null||n.publish("TiledPixiTrack.tilesLoaded",{uuid:this.uuid}))}},{key:"_checkForErrors",value:function(){const r=Object.values(this.fetchedTiles).map(n=>{var i;return((i=n.tileData)==null?void 0:i.error)&&`${n.tileId}: ${n.tileData.error}`}).filter(n=>n);return r.length?this.errorTexts.TiledPixiTrack=r.join(`
`):this.errorTexts.TiledPixiTrack="",this.tilesetInfoError&&(this.errorTexts.TiledPixiTrack=this.tilesetInfoError,r.push(this.tilesetInfoError)),r}},{key:"draw",value:function(){var r,n;if(!this.delayDrawing){if(this.tilesetInfo)this.trackNotFoundText.visible=!1;else{if(this.dataFetcher.tilesetInfoLoading)this.trackNotFoundText.text="Loading...";else{const i=this.dataFetcher.dataConfig.server||"unknown",o=this.dataFetcher.dataConfig.tilesetUid;this.trackNotFoundText.text=`Tileset info not found. Server: [${i}] tilesetUid: [${o}]`}[this.trackNotFoundText.x,this.trackNotFoundText.y]=this.position,this.trackNotFoundText.visible=!0}(r=this.pubSub)==null||r.publish("TiledPixiTrack.tilesDrawnStart",{uuid:this.uuid}),this._checkForErrors(),ng(t,"draw",this)([]),Object.keys(this.fetchedTiles).forEach(i=>{this.drawTile(this.fetchedTiles[i])}),(n=this.pubSub)==null||n.publish("TiledPixiTrack.tilesDrawnEnd",{uuid:this.uuid})}}},{key:"drawTile",value:function(r){}},{key:"calculateMedianVisibleValue",value:function(){this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();let r=this.visibleAndFetchedIds();r.length===0&&(r=Object.keys(this.fetchedTiles));const n=[].concat(...r.filter(i=>this.fetchedTiles[i].tileData.dense).map(i=>Array.from(this.fetchedTiles[i].tileData.dense))).filter(i=>i>0);return this.medianVisibleValue=N9(n),this.medianVisibleValue}},{key:"allVisibleValues",value:function(){return[].concat(...this.visibleAndFetchedIds().map(r=>Array.from(this.fetchedTiles[r].tileData.dense)))}},{key:"minVisibleValue",value:function(r=!1){return this.minVisibleValueInTiles(r)}},{key:"minVisibleValueInTiles",value:function(r=!1){let n=this.visibleAndFetchedIds();n.length===0&&(n=Object.keys(this.fetchedTiles));let i=Math.min(...n.map(o=>this.fetchedTiles[o].tileData.minNonZero));return i===Number.MAX_SAFE_INTEGER&&(i=null),r?i:this.valueScaleMin!==null?this.valueScaleMin:i}},{key:"maxVisibleValue",value:function(r=!1){return this.maxVisibleValueInTiles(r)}},{key:"maxVisibleValueInTiles",value:function(r=!1){let n=this.visibleAndFetchedIds();n.length===0&&(n=Object.keys(this.fetchedTiles));let i=Math.max(...n.map(o=>this.fetchedTiles[o].tileData.maxNonZero));return i===Number.MIN_SAFE_INTEGER&&(i=null),r?i:this.valueScaleMax!==null?this.valueScaleMax:i}},{key:"makeValueScale",value:function(r,n,i,o){let a=null,s=0,u=o;(u===null||typeof u>"u")&&(u=6);let l=Math.min(this.dimensions[1]-u,u),c=Math.max(this.dimensions[1]-u,u);if(this.dimensions[1]-u<u&&(l=this.dimensions[1]/2,c=this.dimensions[1]/2),this.options.valueScaling==="log")s=n,s||(s=r),a=Cs().domain([s,i+s]).range([c,l]);else if(this.options.valueScaling==="quantile"){const h=this.dimensions[1]-u,f=u,p=b0().domain(this.allVisibleValues()).range(Vn(h,f,(f-h)/256));return p.ticks=d=>zl(h,f,d),[p,0]}else if(this.options.valueScaling==="setquantile"){const h=this.dimensions[1]-u,f=u,p=new Set(this.allVisibleValues()),d=b0().domain([...p]).range(Vn(h,f,(f-h)/256));return d.ticks=m=>zl(h,f,m),[d,0]}else a=Et().domain([r,i]).range([c,l]);return[a,s]}}])})(ro);function Pyt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cyt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Myt(n.key),n)}}function Ayt(e,t,r){return t&&Cyt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Myt(e){var t=Iyt(e,"string");return typeof t=="symbol"?t:t+""}function Iyt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ryt(e,t,r){return t=bh(t),Dyt(e,EW()?Reflect.construct(t,r||[],bh(e).constructor):t.apply(e,r))}function Dyt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nyt(e)}function Nyt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EW=function(){return!!e})()}function y7(e,t,r,n){var i=UE(bh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function UE(){return UE=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=jyt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},UE.apply(null,arguments)}function jyt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=bh(e))!==null;);return e}function bh(e){return bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bh(e)}function Lyt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VE(e,t)}function VE(e,t){return VE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},VE(e,t)}const Byt=1024;let Y4=(function(e){function t(r,n){var i;Pyt(this,t),i=Ryt(this,t,[r,n]);const{onMouseMoveZoom:o,isValueScaleLocked:a,getLockGroupExtrema:s}=r;return i.onMouseMoveZoom=o,i.isValueScaleLocked=a,i.getLockGroupExtrema=s,i.onMouseMoveZoom&&i.pubSubs.push(i.pubSub.subscribe("app.mouseMove",i.mouseMoveHandler.bind(i))),i}return Lyt(t,e),Ayt(t,[{key:"initTile",value:function(r){y7(t,"initTile",this)([r])}},{key:"tileToLocalId",value:function(r){return`${r.join(".")}`}},{key:"tileToRemoteId",value:function(r){return`${r.join(".")}`}},{key:"relevantScale",value:function(){return null}},{key:"setVisibleTiles",value:function(r){this.visibleTiles=r.map(n=>({tileId:this.tileToLocalId(n),remoteId:this.tileToRemoteId(n)})),this.visibleTileIds=new Set(this.visibleTiles.map(n=>n.tileId))}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){const n=this.tilesetInfo.resolutions.map(o=>+o).sort((o,a)=>a-o),i=_t.calculateTilesFromResolution(n[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]).map(o=>[this.zoomLevel,o]);this.setVisibleTiles(i);return}const r=_t.calculateTiles(this.zoomLevel,this.relevantScale(),this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width).map(n=>[this.zoomLevel,n]);this.setVisibleTiles(r)}},{key:"getTilePosAndDimensions",value:function(r,n,i){const o=n[0],a=n[0];if(this.tilesetInfo.resolutions){const m=i||Byt,v=this.tilesetInfo.resolutions.map(w=>+w).sort((w,T)=>T-w)[r],b=v*m,g=b,y=v*m*n[0],_=v*m*n[1];return{tileX:y,tileY:_,tileWidth:b,tileHeight:g}}const s=this.tilesetInfo.max_width,u=this.tilesetInfo.max_width,l=this.tilesetInfo.min_pos[0],c=this.tilesetInfo.min_pos[1],h=s/2**r,f=u/2**r,p=l+o*h,d=c+a*f;return{tileX:p,tileY:d,tileWidth:h,tileHeight:f}}},{key:"updateTile",value:function(r){}},{key:"scheduleRerender",value:function(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}},{key:"handleRerender",value:function(){this.rerender(this.options,!1)}},{key:"getIndicesOfVisibleDataInTile",value:function(r){const n=this._xScale.range();if(!this.tilesetInfo)return[null,null];const{tileX:i,tileWidth:o}=this.getTilePosAndDimensions(r.tileData.zoomLevel,r.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),a=Et().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([i,i+o]),s=Math.max(0,Math.round(a.invert(this._xScale.invert(n[0])))),u=Math.min(r.tileData.dense.length,Math.round(a.invert(this._xScale.invert(n[1]))));return[s,u]}},{key:"minVisibleValue",value:function(r=!1){let n=this.visibleAndFetchedIds();n.length===0&&(n=Object.keys(this.fetchedTiles));const i=n.map(a=>this.fetchedTiles[a]).map(a=>{const s=this.getIndicesOfVisibleDataInTile(a);return a.tileData.denseDataExtrema.getMinNonZeroInSubset(s)}),o=Math.min(...i);return r?o:this.valueScaleMin!==null?this.valueScaleMin:o}},{key:"maxVisibleValue",value:function(r=!1){let n=this.visibleAndFetchedIds();n.length===0&&(n=Object.keys(this.fetchedTiles));const i=n.map(a=>this.fetchedTiles[a]).map(a=>{const s=this.getIndicesOfVisibleDataInTile(a);return a.tileData.denseDataExtrema.getMaxNonZeroInSubset(s)}),o=Math.max(...i);return r?o:this.valueScaleMax!==null?this.valueScaleMax:o}},{key:"getAggregatedVisibleValue",value:function(r="max"){const n=r==="min"?Math.min:Math.max,i=r==="min"?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;let o=this.visibleAndFetchedIds();o.length===0&&(o=Object.keys(this.fetchedTiles));const a=this._xScale.range();return o.map(s=>this.fetchedTiles[s]).map(s=>{if(!s.tileData.tilePos)return r==="min"?this.minVisibleValue():this.maxVisibleValue();const{tileX:u,tileWidth:l}=this.getTilePosAndDimensions(s.tileData.zoomLevel,s.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),c=Et().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([u,u+l]),h=Math.max(0,Math.round(c.invert(this._xScale.invert(a[0])))),f=Math.min(s.tileData.dense.length,Math.round(c.invert(this._xScale.invert(a[1]))));return s.tileData.dense.slice(h,f)}).reduce((s,u)=>n(s,...u),i)}},{key:"getDataAtPos",value:function(r){let n;if(!this.tilesetInfo)return n;const i=this.calculateZoomLevel(),o=_t.calculateTileWidth(this.tilesetInfo,i,this.tilesetInfo.tile_size),a=this._xScale.invert(r)/o,s=this.tileToLocalId([i,Math.floor(a)]),u=this.fetchedTiles[s];if(!u)return n;const l=this.tilesetInfo.tile_size*(a-Math.floor(a));return u.tileData.dense?u.tileData.dense[Math.floor(l)]:null}},{key:"mouseMoveHandler",value:function({x:r,y:n}={}){this.isWithin(r,n)&&(this.mouseX=r,this.mouseY=n,this.mouseMoveZoomHandler())}},{key:"mouseMoveZoomHandler",value:function(){}},{key:"zoomed",value:function(...r){y7(t,"zoomed",this)(r),this.mouseMoveZoomHandler()}}])})(Qa);function Fyt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zyt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uyt(n.key),n)}}function Hyt(e,t,r){return t&&zyt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uyt(e){var t=Vyt(e,"string");return typeof t=="symbol"?t:t+""}function Vyt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gyt(e,t,r){return t=_h(t),Yyt(e,SW()?Reflect.construct(t,r||[],_h(e).constructor):t.apply(e,r))}function Yyt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wyt(e)}function Wyt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SW=function(){return!!e})()}function ig(e,t,r,n){var i=GE(_h(1&n?e.prototype:e),t,r);return 2&n&&typeof i=="function"?function(o){return i.apply(r,o)}:i}function GE(){return GE=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Xyt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},GE.apply(null,arguments)}function Xyt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=_h(e))!==null;);return e}function _h(e){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_h(e)}function $yt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YE(e,t)}function YE(e,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},YE(e,t)}let Rf=(function(e){function t(r,n){var i;Fyt(this,t),i=Gyt(this,t,[r,n]);const{animate:o,isShowGlobalMousePosition:a}=r;return i.constIndicator=new Ie.PIXI.Graphics,i.pMain.addChild(i.constIndicator),i.axis=new Zb(i),i.pBase.addChild(i.axis.pAxis),i.animate=o,i.options=n,i.isShowGlobalMousePosition=a,i.pubSubs=[],i.options.showMousePosition&&!i.hideMousePosition&&(i.hideMousePosition=Gl(i,i.is2d,i.isShowGlobalMousePosition())),i}return $yt(t,e),Hyt(t,[{key:"rerender",value:function(r,n){const i=JSON.stringify(r);!n&&i===this.prevOptions||(ig(t,"rerender",this,3)([r,n]),this.prevOptions=i,this.options=r,this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=Gl(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}},{key:"calculateZoomLevel",value:function(){if(this.tilesetInfo.resolutions)return _t.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]-2);const r=_t.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size);let n=Math.min(r,this.maxZoom);return n=Math.max(n,0),n}},{key:"relevantScale",value:function(){return this._xScale}},{key:"draw",value:function(){ig(t,"draw",this,3)([]),this.drawConstIndicator()}},{key:"drawAxis",value:function(r){if(!this.options.axisPositionVertical&&!this.options.axisPositionHorizontal){this.axis.clearAxis();return}if(this.options.axisPositionVertical&&this.options.axisPositionVertical==="hidden"){this.axis.clearAxis();return}if(this.options.axisPositionHorizontal&&this.options.axisPositionHorizontal==="hidden"){this.axis.clearAxis();return}const n=this.options.axisMargin||0;this.options.axisPositionHorizontal==="left"||this.options.axisPositionVertical==="top"?(this.axis.pAxis.position.x=this.position[0]+n,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(r,this.dimensions[1])):this.options.axisPositionHorizontal==="outsideLeft"||this.options.axisPositionVertical==="outsideTop"?(this.axis.pAxis.position.x=this.position[0]+n,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(r,this.dimensions[1])):this.options.axisPositionHorizontal==="right"||this.options.axisPositionVertical==="bottom"?(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-n,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(r,this.dimensions[1])):(this.options.axisPositionHorizontal==="outsideRight"||this.options.axisPositionVertical==="outsideBottom")&&(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-n,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(r,this.dimensions[1]))}},{key:"mouseMoveZoomHandler",value:function(r=this.mouseX,n=this.mouseY){if(typeof r>"u"||!this.areAllVisibleTilesLoaded()||!this.tilesetInfo)return;let i=0,o=0,a="1d-horizontal";this.isLeftModified?(i=n-this.position[1],o=r-this.position[0],a="1d-vertical"):(i=r-this.position[0],o=n-this.position[1]);const s=r-this.position[0],u=n-this.position[1],l=this._xScale.invert(i),c=this._yScale.invert(o),h=this.getDataAtPos(i);h&&this.onMouseMoveZoom({trackId:this.id,data:h,absX:r,absY:n,relX:s,relY:u,dataX:l,dataY:c,orientation:a})}},{key:"drawConstIndicator",value:function(){if(this.constIndicator){for(this.constIndicator.clear();this.constIndicator.children[0];)this.constIndicator.removeChild(this.constIndicator.children[0]);!this.options.constIndicators||!this.valueScale||this.options.constIndicators.forEach(({color:r="black",opacity:n=1,label:i=null,labelColor:o="black",labelOpacity:a=1,labelPosition:s="leftTop",labelSize:u=12,value:l=0}={})=>{const c=ot(r),h=ot(o);this.constIndicator.beginFill(c,n);const f=this.valueScale(l);let p=0,d=0;if(i){const m=new Ie.PIXI.Text(i,{fontFamily:"Arial",fontSize:u,fill:h});switch(m.alpha=a,s){case"right":m.anchor.x=1,m.anchor.y=.5,m.x=this.position[0]+this.dimensions[0]-6,m.y=f,d=m.width+8;break;case"rightBottom":m.anchor.x=1,m.anchor.y=0,m.x=this.position[0]+this.dimensions[0]-6,m.y=f;break;case"rightTop":m.anchor.x=1,m.anchor.y=1,m.x=this.position[0]+this.dimensions[0]-6,m.y=f;break;case"left":m.anchor.x=0,m.anchor.y=.5,m.x=this.position[0]+2,m.y=f,p=m.width+4;break;case"leftBottom":m.anchor.x=0,m.anchor.y=0,m.x=this.position[0]+2,m.y=f;break;default:m.anchor.x=0,m.anchor.y=1,m.x=this.position[0]+2,m.y=f;break}this.constIndicator.addChild(m)}this.constIndicator.drawRect(this.position[0]+p,f,this.dimensions[0]-d,1)})}}},{key:"exportSVG",value:function(){let r=null,n=null;ig(t,"exportSVG",this,1)?[n,r]=ig(t,"exportSVG",this,3)([]):(n=document.createElement("g"),r=n),n.setAttribute("class","horizontal-tiled-1d-track");const i=document.createElement("g");return r.appendChild(i),this.options.constIndicators&&this.options.constIndicators.forEach(({color:o="black",opacity:a=1,label:s=null,labelColor:u="black",labelOpacity:l=1,labelPosition:c="leftTop",labelSize:h=12,value:f=0}={})=>{const p=this.valueScale(f);if(s){const m=document.createElement("text");switch(m.textContent=s,m.setAttribute("x",this.position[0]),m.setAttribute("y",p),m.setAttribute("style",`font-family: 'Arial'; font-size: ${h}px; fill: ${u}; fill-opacity: ${l};`),c){case"rightBottom":m.setAttribute("x",this.position[0]+this.dimensions[0]-6),m.setAttribute("y",p+h+2),m.setAttribute("text-anchor","end");break;case"right":case"rightTop":m.setAttribute("x",this.position[0]+this.dimensions[0]-6),m.setAttribute("y",p-2),m.setAttribute("text-anchor","end");break;case"leftBottom":m.setAttribute("x",this.position[0]+2),m.setAttribute("y",p+h+2);break;default:m.setAttribute("x",this.position[0]+2),m.setAttribute("y",p-2);break}i.appendChild(m)}const d=document.createElement("line");d.setAttribute("x1",this.position[0]),d.setAttribute("y1",p),d.setAttribute("x2",this.dimensions[0]),d.setAttribute("y2",p),d.setAttribute("stroke",o),d.setAttribute("stroke-opacity",a),i.appendChild(d)}),[n,r]}}])})(Y4);function qyt(e,t,r){return t=wh(t),Kyt(e,kW()?Reflect.construct(t,r||[],wh(e).constructor):t.apply(e,r))}function Kyt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zyt(e)}function Zyt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kW=function(){return!!e})()}function sl(e,t,r,n){var i=WE(wh(1&n?e.prototype:e),t,r);return 2&n&&typeof i=="function"?function(o){return i.apply(r,o)}:i}function WE(){return WE=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Qyt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},WE.apply(null,arguments)}function Qyt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=wh(e))!==null;);return e}function wh(e){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wh(e)}function Jyt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XE(e,t)}function XE(e,t){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},XE(e,t)}function OW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function evt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tvt(n.key),n)}}function PW(e,t,r){return t&&evt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tvt(e){var t=rvt(e,"string");return typeof t=="symbol"?t:t+""}function rvt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}const nvt=16,$E=50,T2=5e3,v7=5,ivt=14,Sl={align:"center",fontSize:`${ivt}px`,fontFamily:"Arial",stroke:"white",strokeThickness:2,fontWeight:400,dropShadow:!0,dropShadowColor:"white",dropShadowDistance:0,dropShadowBlur:2},CW=(e,t,r,n,i)=>{const o=[];for(;e.length;){const[a,s]=e.splice(0,2);o.push([a*t+r,s*n+i])}return o},ovt=e=>{let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t&=t}return t},b7=(e,t,r)=>{const n=(r.domain()[1]-r.domain()[0])/(t.domain()[1]-t.domain()[0]),i=t.domain().map(r)[0];e.scale.x=n,e.position.x=-i*n},avt=e=>{const t={};for(let r=0;r<e.length;r++)t[e[r].uid]=e[r];return Object.values(t)};let svt=(function(){function e(t){OW(this,e),this.track=t,this.texts={},this.textsList=[],this.textWidths={},this.textHeights={},this.textGraphics=new Ie.PIXI.Graphics,this.track.pMain.addChild(this.textGraphics),this.fontSize=9}return PW(e,[{key:"hideOverlaps",value:function(){const[t,r]=[this.allBoxes,this.allTexts];$1(t,(n,i)=>{r[n].importance>r[i].importance?r[n].text.visible&&(r[i].text.visible=!1):r[i].text.visible&&(r[n].text.visible=!1)})}},{key:"startDraw",value:function(){this.allBoxes=[],this.allTexts=[]}},{key:"lightUpdateSingleText",value:function(t,r,n,i){if(!this.texts[t.uid]||!this.track.options.showTexts)return;const o=this.texts[t.uid],a=3;o.position.x=r,o.position.y=n,o.visible=!0,this.allBoxes.push([o.position.x-a,o.position.y-this.textHeights[t.uid]/2,o.position.x+this.textWidths[t.uid]+a,o.position.y+this.textHeights[t.uid]/2]),this.allTexts.push({text:o,...i})}},{key:"updateSingleText",value:function(t,r,n,i){if(!this.texts[t.uid])return;const o=this.texts[t.uid];o.position.x=r,o.position.y=n,o.nominalY=n;const a=this.track.options.fontColor!==void 0?ot(this.track.options.fontColor):"black",s=+this.track.options.fontSize||Sl.fontSize;if(s!==this.fontSize&&(this.fontSize=s,this.textWidths={},this.textHeights={}),o.style={...Sl,fill:a,fontSize:this.fontSize},o.text=i,!(t.uid in this.textWidths)){o.updateTransform();const u=o.getBounds().width,l=o.getBounds().height,c=5;this.textWidths[t.uid]=u,this.textHeights[t.uid]=l-c}}},{key:"updateTexts",value:function(){if(this.track.options.showTexts){this.texts={};let t=[(0-this.track.vertY)/(this.track.vertK*this.track.prevK),(this.track.dimensions[1]-this.track.vertY)/(this.track.vertK*this.track.prevK)];const r=t[1]-t[0];t=[t[0]-r*.8,t[1]+r*.8];const n=this.track.uniqueSegments.filter(i=>!i.yMiddle||i.yMiddle>t[0]&&i.yMiddle<t[1]);for(n.forEach((i,o)=>{if(o>=(+this.track.options.maxTexts||$E))return;let a=this.textsList[o];a||(a=new Ie.PIXI.Text,this.textsList.push(a),this.textGraphics.addChild(a)),a.style={...Sl,fontSize:+this.track.options.fontSize||Sl.fontSize},this.track.isLeftModified&&(a.scale.x=-1),a.anchor.x=.5,a.anchor.y=.5,this.texts[i.uid]=a});this.textsList.length>Math.min(n.length,+this.track.options.maxTexts||$E);){const i=this.textsList.pop();this.textGraphics.removeChild(i)}}}}])})(),W4=(function(e){function t(r,n){var i;return OW(this,t),i=qyt(this,t,[r,n]),i.valueScaleTransform=sn,i.textManager=new svt(i),i.vertY=1,i.vertK=0,i.prevY=0,i.prevK=1,i.minRawValue=null,i.maxRawValue=null,i.rectGraphics=new Ie.PIXI.Graphics,i.pMain.addChild(i.rectGraphics),i.selectedRect=null,i.uniqueSegments=[],i}return Jyt(t,e),PW(t,[{key:"initialize",value:function(){this.initialized||([this.prevK,this.vertK,this.vertY]=[1,1,0],this.drawnRects||(this.drawnRects={}),this.colorScale||(this.options.colorRange?this.colorScale=xs(this.options.colorRange):this.colorScale=ih),this.initialized=!0)}},{key:"updateExistingGraphics",value:function(){const r=this._checkForErrors();let n=[],i=[];if(r.length>0){this.draw();return}if(this.uniqueSegments=avt(Object.values(this.fetchedTiles).filter(o=>o.tileData.length).flatMap(o=>o.tileData)),this.uniqueSegments.forEach(o=>{o.importance||(o.importance=ovt(o.uid.toString()))}),this.uniqueSegments.sort((o,a)=>a.importance-o.importance),!this.options||!this.options.valueColumn){const o=this.uniqueSegments.map(a=>{const s=+a.chrOffset;return{from:+a.fields[1]+s,to:+a.fields[2]+s,value:a,text:a.fields[3],strand:a.fields.length>=6&&a.fields[5]==="-"?"-":"+"}});n=$0(o.filter(a=>a.strand==="+")),i=$0(o.filter(a=>a.strand==="-"))}else n=[this.uniqueSegments.map(o=>({value:o}))];this.plusStrandRows=n,this.minusStrandRows=i,this.textManager.updateTexts(),this.render()}},{key:"selectRect",value:function(r){this.selectedRect=r,this.render(),this.animate()}},{key:"clickOutside",value:function(){this.selectRect(null)}},{key:"initTile",value:function(r){}},{key:"destroyTile",value:function(r){}},{key:"removeTiles",value:function(r){sl(t,"removeTiles",this,3)([r])}},{key:"drawTile",value:function(r){var n;(n=this.options)!=null&&n.valueColumn&&this.valueScale&&this.drawAxis(this.valueScale)}},{key:"rerender",value:function(r,n){sl(t,"rerender",this,3)([r,n]),this.valueScale=null,this.drawnRects={},this.options.colorRange?this.colorScale=xs(this.options.colorRange):this.colorScale=ih,this.updateExistingGraphics()}},{key:"updateTile",value:function(r){}},{key:"allVisibleRects",value:function(){const r={};Object.values(this.fetchedTiles).forEach(a=>{if(a.plusStrandRows)for(const s of a.plusStrandRows[0])r[s.value.uid]||(r[s.value.uid]=s)});const n=Object.values(r).sort((a,s)=>a.from-s.from);let i=0,o=0;for(let a=0;a<n.length;a++)if(n[a].staggeredStartPosition!==void 0){i=a,o=n[a].staggeredStartPosition;break}for(let a=i;a<n.length;a++)n[a].staggeredStartPosition=(o+a-i)%2;for(let a=i;a>=0&&n.length;a--)n[a].staggeredStartPosition=(o+i-a)%2;return r}},{key:"drawSegmentStyle",value:function(r,n,i,o,a){const s=i+o/2,u=[r,i,r+2*.1,i,r+2*.1,s-.1,n-2*.1,s-.1,n-2*.1,i,n,i,n,i+o,n-2*.1,i+o,n-2*.1,s+.1,r+2*.1,s+.1,r+2*.1,i+o,r,i+o];return this.rectGraphics.drawPolygon(u),u}},{key:"drawPoly",value:function(r,n,i,o,a){let s=null;return this.options.annotationStyle==="segment"?this.drawSegmentStyle(r,n,i,o,a):((a==="+"||a==="-")&&n-r<nvt/2?(s=[r,i,r+o/2,i+o/2,r,i+o],a==="+"?this.rectGraphics.drawPolygon(s):(s=[n,i,n-o/2,i+o/2,n,i+o],this.rectGraphics.drawPolygon(s))):(a==="+"?s=[r,i,n-o/2,i,n,i+o/2,n-o/2,i+o,r,i+o]:a==="-"?s=[r+o/2,i,n,i,n,i+o,r+o/2,i+o,r,i+o/2]:s=[r,i,n,i,n,i+o,r,i+o],this.rectGraphics.drawPolygon(s)),s)}},{key:"setValueScale",value:function(){var r;if(this.valueScale=null,(r=this.options)!=null&&r.valueColumn){const n=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.valueColumn),i=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.valueColumn);this.options.valueColumn&&([this.valueScale]=this.makeValueScale(n,this.calculateMedianVisibleValue(+this.options.valueColumn),i))}}},{key:"setColorValueScale",value:function(){var r;if(this.colorValueScale=null,(r=this.options)!=null&&r.colorEncoding&&this.options.colorEncoding!=="itemRgb"){const n=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.colorEncoding),i=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.colorEncoding);this.colorValueScale=Et().domain([n,i]).range([0,255])}}},{key:"renderRows",value:function(r,n,i,o,a){this.initialize();const s=f1().domain(Vn(n)).range([i,o]);this.allVisibleRects();let u=null;this.options.staggered&&(u=this.allVisibleRects());for(let l=0;l<r.length;l++)for(let c=0;c<r[l].length;c++){const h=r[l][c].value,f=h.fields,p=+h.xStart,d=+h.xEnd,m=(p+d)/2;let v=s(l)+s.bandwidth()/2,b=this.options.annotationHeight||"scaled";if(b==="scaled"&&(b=s.bandwidth(),this.options.maxAnnotationHeight&&(b=Math.min(b,+this.options.maxAnnotationHeight))),this.options&&this.options.colorEncoding==="itemRgb"&&h.fields[8]){let O=[];try{O=h.fields[8].split(",")}catch{}O.length===3&&(a=`rgb(${h.fields[8]})`)}else this.colorValueScale?a=`rgba(${zO(this.colorValueScale,this.colorScale,0,-Number.MIN_VALUE)(+f[+this.options.colorEncoding-1]).join(",")})`:this.options&&this.options.colorEncoding==="itemRgb"&&h.fields[8]&&h.fields[8].split(",").length===3&&(a=`rgb(${h.fields[8]})`);if(this.valueScale){const O=+f[+this.options.valueColumn-1];v=this.valueScale(O)}const g=this.options.fillOpacity||.3;this.selectedRect===h.uid?this.rectGraphics.lineStyle(3,0,.75):this.rectGraphics.lineStyle(1,ot(a),g),this.rectGraphics.beginFill(ot(a),g);let y=v-b/2;const _=this._xScale(p),w=this._xScale(d);this.options.staggered&&(u[h.uid].staggeredStartPosition?y-=v7/2:y+=v7/2);const T=this.drawPoly(_,w,y*this.prevK,b*this.prevK,f[5]);this.drawnRects[h.uid]=[T,{start:p,end:d,value:h,fill:a}],h.yMiddle=v,this.options.showTexts&&(c>=(+this.options.maxTexts||$E)||this.textManager.updateSingleText(h,this._xScale(m),y+b/2,h.fields[3]))}this.textManager.updateTexts()}},{key:"render",value:function(){const r=this.plusStrandRows?this.plusStrandRows.length:1,n=this.minusStrandRows?this.minusStrandRows.length:1;this.prevVertY=this.vertY;const i=this.rectGraphics;this.rectGraphics=new Ie.PIXI.Graphics,this.drawnAtScale=this._xScale.copy(),this.setValueScale(),this.setColorValueScale();const o=this.options.plusStrandColor||this.options.fillColor||"blue",a=this.options.minusStrandColor||this.options.fillColor||"purple",s=0;let u=0;this.options.separatePlusMinusStrands?u=r*this.dimensions[1]/(r+n)-s/2:u=this.dimensions[1],this.renderRows(this.plusStrandRows,r,0,u,o),this.renderRows(this.minusStrandRows,n,this.options.separatePlusMinusStrands?u+s/2:0,this.dimensions[1],a),this.pMain.removeChild(i),this.pMain.addChild(this.rectGraphics),b7(this.rectGraphics,this._xScale,this.drawnAtScale)}},{key:"calculateZoomLevel",value:function(){const r=_t.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);let n=Math.min(r,this.maxZoom);return n=Math.max(n,0),n}},{key:"minVisibleValueInTiles",value:function(r){let n=this.visibleAndFetchedIds();n.length===0&&(n=Object.keys(this.fetchedTiles));let i=Math.min.apply(null,n.map(o=>this.fetchedTiles[o]).filter(o=>{var a;return(a=o.tileData)==null?void 0:a.length}).map(o=>Math.min.apply(null,o.tileData.sort((a,s)=>s.importance-a.importance).slice(0,T2).map(a=>+a.fields[r-1]).filter(a=>!Number.isNaN(a)))));return i===Number.MAX_SAFE_INTEGER&&(i=null),i}},{key:"maxVisibleValueInTiles",value:function(r){let n=this.visibleAndFetchedIds();n.length===0&&(n=Object.keys(this.fetchedTiles));let i=Math.max.apply(null,n.map(o=>this.fetchedTiles[o]).filter(o=>{var a;return(a=o.tileData)==null?void 0:a.length}).map(o=>Math.max.apply(null,o.tileData.sort((a,s)=>s.importance-a.importance).slice(0,T2).map(a=>+a.fields[r-1]).filter(a=>!Number.isNaN(a)))));return i===Number.MIN_SAFE_INTEGER&&(i=null),i}},{key:"calculateMedianVisibleValue",value:function(r){this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();let n=this.visibleAndFetchedIds();n.length===0&&(n=Object.keys(this.fetchedTiles));const i=[].concat(...n.map(o=>this.fetchedTiles[o]).filter(o=>{var a;return(a=o.tileData)==null?void 0:a.length}).map(o=>o.tileData.sort((a,s)=>s.importance-a.importance).slice(0,T2).map(a=>+a.fields[r-1]))).filter(o=>o>0);this.medianVisibleValue=N9(i)}},{key:"draw",value:function(){var r;sl(t,"draw",this,3)([]),this.textManager.startDraw(),this.rectGraphics.scale.y=this.vertK,this.rectGraphics.position.y=this.vertY,this.drawnAtScale&&(b7(this.rectGraphics,this._xScale,this.drawnAtScale),(r=this.uniqueSegments)!=null&&r.length&&this.uniqueSegments.forEach(n=>{const i=n.fields,o=i[3],a=this._xScale((n.xStart+n.xEnd)/2);if(this.textManager.texts[n.uid]){const s=this.textManager.texts[n.uid].nominalY*(this.vertK*this.prevK)+this.vertY;this.textManager.lightUpdateSingleText(n,a,s,{importance:n.importance,caption:o,strand:i[5]})}}),this.textManager.hideOverlaps())}},{key:"setPosition",value:function(r){sl(t,"setPosition",this,3)([r]),[this.pMain.position.x,this.pMain.position.y]=this.position}},{key:"setDimensions",value:function(r){sl(t,"setDimensions",this,3)([r])}},{key:"zoomed",value:function(r,n){this.xScale(r),this.yScale(n),this.refreshTiles(),this.draw()}},{key:"exportSVG",value:function(){let r=null,n=null;sl(t,"exportSVG",this,1)?[n,r]=sl(t,"exportSVG",this,3)([]):(n=document.createElement("g"),r=n);const i=document.createElement("g");i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),r.appendChild(i);const o=document.createElement("g"),a=document.createElement("g");return i.appendChild(o),i.appendChild(a),this.uniqueSegments.forEach(s=>{const u=document.createElement("g");if(u.setAttribute("transform",`translate(${this.rectGraphics.position.x},${this.rectGraphics.position.y})scale(${this.rectGraphics.scale.x},${this.rectGraphics.scale.y})`),o.appendChild(u),this.drawnRects&&s.uid in this.drawnRects){const l=this.drawnRects[s.uid][0],c=document.createElement("path");let h=`M ${l[0]} ${l[1]}`;for(let d=2;d<l.length;d+=2)h+=` L ${l[d]} ${l[d+1]}`;const f=this.drawnRects[s.uid][1].fill,p=this.options.fontColor!==void 0?ot(this.options.fontColor):f;if(c.setAttribute("d",h),c.setAttribute("fill",f),c.setAttribute("opacity",.3),c.style.stroke=f,c.style.strokeWidth="1px",u.appendChild(c),this.textManager.texts[s.uid]){const d=this.textManager.texts[s.uid];if(!d.visible)return;const m=document.createElement("g"),v=document.createElement("text");a.appendChild(m),m.appendChild(v),m.setAttribute("transform",`translate(${d.x},${d.y})scale(${d.scale.x},1)`),v.setAttribute("text-anchor","middle"),v.setAttribute("font-family",Sl.fontFamily),v.setAttribute("font-size",+this.options.fontSize||Sl.fontSize),v.setAttribute("font-weight","bold"),v.setAttribute("dy","5px"),v.setAttribute("fill",p),v.setAttribute("stroke",Sl.stroke),v.setAttribute("stroke-width","0.4"),v.setAttribute("text-shadow","0px 0px 2px grey"),v.innerHTML=d.text}}}),[n,n]}},{key:"movedY",value:function(r){const n=this.valueScaleTransform,{y:i,k:o}=n,a=this.dimensions[1];i+r/o>-(o-1)*a&&i+r/o<0&&(this.valueScaleTransform=n.translate(0,r/o)),this.rectGraphics.position.y=this.valueScaleTransform.y,this.vertY=this.valueScaleTransform.y,this.animate(),this.vertY-this.prevVertY>this.dimensions[1]/2&&this.render()}},{key:"zoomedY",value:function(r,n){const i=Wd.zoomedY(r,n,this.valueScaleTransform,this.dimensions[1]);this.valueScaleTransform=i;let o=i.k;const a=i.y;let s=!1;o/=this.prevK,(o>1.5||o<1/1.5)&&(this.prevK*=o,o=1,s=!0),this.vertK=o,this.vertY=a,s&&this.render(),this.rectGraphics.scale.y=o,this.rectGraphics.position.y=a,this.draw(),this.animate()}},{key:"getMouseOverHtml",value:function(r,n){if(!this.tilesetInfo||!this.drawnRects)return"";const i="",o=[r,n],a=Object.values(this.drawnRects);for(let s=0;s<a.length;s++){const u=a[s][0].slice(0),l=CW(u,this.rectGraphics.scale.x,this.rectGraphics.position.x,this.rectGraphics.scale.y,this.rectGraphics.position.y);if(G4(l,o)===-1)return a[s][1].value.fields.join(" ")}return i}}])})(Rf);function lvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uvt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hvt(n.key),n)}}function cvt(e,t,r){return t&&uvt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hvt(e){var t=fvt(e,"string");return typeof t=="symbol"?t:t+""}function fvt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pvt(e,t,r){return t=Th(t),dvt(e,AW()?Reflect.construct(t,r||[],Th(e).constructor):t.apply(e,r))}function dvt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mvt(e)}function mvt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AW=function(){return!!e})()}function nn(e,t,r,n){var i=qE(Th(1&n?e.prototype:e),t,r);return 2&n&&typeof i=="function"?function(o){return i.apply(r,o)}:i}function qE(){return qE=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=gvt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},qE.apply(null,arguments)}function gvt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Th(e))!==null;);return e}function Th(e){return Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Th(e)}function yvt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KE(e,t)}function KE(e,t){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},KE(e,t)}const _7=200,as=10,ed=40,In=10,ss=In,w7=4,bc=1,ls=4,T7=5,vvt=256,Pp=as+ed+In+bc+ss+ls;let q1=(function(e){function t(r,n){var i,o;lvt(this,t);const a={...r};a.onValueScaleChanged=()=>{r.onValueScaleChanged(),o.drawColorbar()},o=pvt(this,t,[a,n]);const{pubSub:s,animate:u,svgElement:l,onTrackOptionsChanged:c,onMouseMoveZoom:h,isShowGlobalMousePosition:f,isValueScaleLocked:p}=r;return o.pubSub=s,o.is2d=!0,o.animate=u,o.uid=Nt.nice(),o.scaleBrush=Sf(),o.onTrackOptionsChanged=c,o.isShowGlobalMousePosition=f,o.isValueScaleLocked=p,o.pColorbarArea=new Ie.PIXI.Graphics,o.pMasked.addChild(o.pColorbarArea),o.pColorbar=new Ie.PIXI.Graphics,o.pColorbarArea.addChild(o.pColorbar),o.axis=new Zb(o),o.pColorbarArea.addChild(o.axis.pAxis),o.colorScale=ih,n?.colorRange&&(o.colorScale=xs(n.colorRange)),o.gBase=ut(l).append("g"),o.gMain=o.gBase.append("g"),o.gColorscaleBrush=o.gMain.append("g"),o.brushing=!1,o.prevOptions="",o.prevIndUpperLeftTile="",o.onMouseMoveZoom=h,o.setDataLensSize(11),o.dataLens=new Float32Array(o.dataLensSize**2),o.mouseMoveHandlerBound=o.mouseMoveHandler.bind(o),o.onMouseMoveZoom&&o.pubSubs.push(o.pubSub.subscribe("app.mouseMove",o.mouseMoveHandlerBound)),(i=o.options)!=null&&i.showMousePosition&&!o.hideMousePosition&&(o.hideMousePosition=Gl(o,o.is2d,o.isShowGlobalMousePosition())),o.prevOptions=JSON.stringify(n),o}return yvt(t,e),cvt(t,[{key:"mouseMoveHandler",value:function(r){this.isWithin(r.x,r.y)&&(this.mouseX=r.x,this.mouseY=r.y,this.mouseMoveZoomHandler())}},{key:"mouseMoveZoomHandler",value:function(r=this.mouseX,n=this.mouseY){if(typeof r>"u"||typeof n>"u"||!this.areAllVisibleTilesLoaded()||!this.tilesetInfo)return;const i=r-this.position[0],o=n-this.position[1];let a,s;try{s=this.getVisibleRectangleData(i-this.dataLensPadding,o-this.dataLensPadding,this.dataLensSize,this.dataLensSize),a=s.get(this.dataLensPadding,this.dataLensPadding)}catch{return}const u=this.dataLensSize;let l;try{l=zO(this.limitedValueScale,this.colorScale,this.valueScale.domain()[0])}catch{return}if(!l)return;const c=Math.round(this._xScale.invert(i)),h=Math.round(this._yScale.invert(o));let f=[c,h],p=[Math.round(this._xScale.invert(i-this.dataLensPadding)),Math.round(this._xScale.invert(i+this.dataLensPadding))],d=[Math.round(this._yScale.invert(o-this.dataLensPadding)),Math.round(this._yScale.invert(o+this.dataLensPadding))];this.chromInfo&&(f=f.map(m=>Ur(m,this.chromInfo).slice(0,2)),p=p.map(m=>Ur(m,this.chromInfo).slice(0,2)),d=d.map(m=>Ur(m,this.chromInfo).slice(0,2))),this.onMouseMoveZoom({trackId:this.id,data:a,absX:r,absY:n,relX:i,relY:o,dataX:c,dataY:h,orientation:"2d",dataLens:s,dim:u,toRgb:l,center:f,xRange:p,yRange:d,isGenomicCoords:!!this.chromInfo})}},{key:"scheduleRerender",value:function(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}},{key:"handleRerender",value:function(){this.rerender(this.options,!0)}},{key:"getAbsTileDim",value:function(r,n,i){const{tileX:o,tileY:a,tileWidth:s,tileHeight:u}=this.getTilePosAndDimensions(r,n),l={};return l.width=this._refXScale(o+s)-this._refXScale(o),l.height=this._refYScale(a+u)-this._refYScale(a),i?(l.x=this._refXScale(a),l.y=this._refYScale(o)):(l.x=this._refXScale(o),l.y=this._refYScale(a)),l}},{key:"updateValueScale",value:function(){var r;let n=this.minValue(),i=this.maxValue();const o=1e-6;n!=null&&i!==void 0&&i!==null&&Math.abs(n-i)<o&&(n=Math.max(o,n-.001),i+=.001);const[a,s]=Oyt(((r=this.options)==null?void 0:r.heatmapValueScaling)||"log",n,this.medianVisibleValue,i);return this.valueScale=s,this.limitedValueScale=this.valueScale.copy(),this.options&&typeof this.options.scaleStartPercent<"u"&&typeof this.options.scaleEndPercent<"u"&&this.limitedValueScale.domain([this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleStartPercent,this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleEndPercent]),[a,s]}},{key:"rerender",value:function(r,n){var i;nn(t,"rerender",this,3)([r,n]),this.updateValueScale();const o=JSON.stringify(r);this.drawColorbar(),!(!n&&o===this.prevOptions)&&(this.prevOptions=o,this.options=r,nn(t,"rerender",this,3)([r,n]),this.calculateVisibleTiles(),r?.colorRange&&(this.colorScale=xs(r.colorRange)),this.visibleAndFetchedTiles().forEach(a=>this.renderTile(a)),this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0),(i=this.options)!=null&&i.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=Gl(this,this.is2d,this.isShowGlobalMousePosition())))}},{key:"drawLabel",value:function(){this.options.labelPosition===this.options.colorbarPosition?this.labelXOffset=Pp:this.labelXOffset=0,nn(t,"drawLabel",this,3)([])}},{key:"tileDataToCanvas",value:function(r){const n=document.createElement("canvas");n.width=this.binsPerTile(),n.height=this.binsPerTile();const i=n.getContext("2d");i.fillStyle="transparent",i.fillRect(0,0,n.width,n.height);const o=new ImageData(r,n.width,n.height);return i.putImageData(o,0,0),n}},{key:"exportData",value:function(){if(this.tilesetInfo){const r=this.getVisibleRectangleData(0,0,this.dimensions[0],this.dimensions[1]),n={bounds:[this._xScale.domain(),this._yScale.domain()],dimensions:r.shape,data:DF(r)};hd("data.json",JSON.stringify(n))}}},{key:"setSpriteProperties",value:function(r,n,i,o){const a=this.getAbsTileDim(n,i,o);r.width=a.width,r.height=a.height,r.x=a.x,r.y=a.y,o&&i[0]!==i[1]&&(r.rotation=-Math.PI/2,r.scale.x=Math.abs(r.scale.x)*-1)}},{key:"refXScale",value:function(r){nn(t,"refXScale",this,3)([r]),this.draw()}},{key:"refYScale",value:function(r){nn(t,"refYScale",this,3)([r]),this.draw()}},{key:"draw",value:function(){nn(t,"draw",this,3)([])}},{key:"newBrushOptions",value:function(r){const n=JSON.parse(JSON.stringify(this.options)),i=this.valueScale.copy().range([this.colorbarHeight,0]),o=i.invert(r[0]),a=(i.invert(r[1])-i.domain()[0])/(i.domain()[1]-i.domain()[0]),s=(o-i.domain()[0])/(i.domain()[1]-i.domain()[0]);return n.scaleStartPercent=a.toFixed(T7),n.scaleEndPercent=s.toFixed(T7),n}},{key:"brushStart",value:function(){this.brushing=!0}},{key:"brushMoved",value:function(r){if(!r.selection)return;const n=this.newBrushOptions(r.selection),i=JSON.stringify(n);this.gColorscaleBrush.selectAll(".handle--custom").attr("y",o=>o.type==="n"?r.selection[0]:r.selection[1]-w7/2),i!==this.prevOptions&&(this.prevOptions=i,this.rerender(n,!0),this.onTrackOptionsChanged(n),this.isValueScaleLocked()&&this.onValueScaleChanged())}},{key:"brushEnd",value:function(){this.brushing=!1}},{key:"setPosition",value:function(r){nn(t,"setPosition",this,3)([r]),this.drawColorbar()}},{key:"setDimensions",value:function(r){nn(t,"setDimensions",this,3)([r]),this.drawColorbar()}},{key:"removeColorbar",value:function(){this.pColorbarArea.visible=!1,this.scaleBrush.on(".brush")&&this.gColorscaleBrush.call(this.scaleBrush.move,null),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.selectAll("rect").remove()}},{key:"drawColorbar",value:function(){if(this.pColorbar.clear(),!this.options||!this.options.colorbarPosition||this.options.colorbarPosition==="hidden"){this.removeColorbar();return}if(this.pColorbarArea.visible=!0,!this.valueScale||Number.isNaN(+this.valueScale.domain()[0])||Number.isNaN(+this.valueScale.domain()[1]))return;const r=Math.min(this.dimensions[1]/2,_7);if(this.colorbarHeight=r-2*In,this.colorbarHeight<0){this.removeColorbar();return}if(this.valueScale.domain()[1]===this.valueScale.domain()[0]){this.removeColorbar();return}const n=this.valueScale.copy().range([this.colorbarHeight,0]);this.options.colorbarPosition==="topLeft"||this.options.colorbarPosition==="bottomLeft"?this.scaleBrush.extent([[ls,0],[ss,this.colorbarHeight]]):this.scaleBrush.extent([[0,0],[ss-ls,this.colorbarHeight]]),this.options.colorbarPosition==="topLeft"&&([this.pColorbarArea.x,this.pColorbarArea.y]=this.position,this.pColorbar.y=In,this.axis.pAxis.y=In,this.axis.pAxis.x=ls+ss+bc+as,this.pColorbar.x=ls+ss+bc,this.gColorscaleBrush.attr("transform",`translate(${this.pColorbarArea.x+ls},${this.pColorbarArea.y+this.pColorbar.y-1})`)),this.options.colorbarPosition==="topRight"&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-Pp,this.pColorbarArea.y=this.position[1],this.pColorbar.y=In,this.axis.pAxis.y=In,this.axis.pAxis.x=ed+In,this.pColorbar.x=ed+In,this.gColorscaleBrush.attr("transform",`translate(${this.pColorbarArea.x+this.pColorbar.x+as+2},${this.pColorbarArea.y+this.pColorbar.y-1})`)),this.options.colorbarPosition==="bottomRight"&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-Pp,this.pColorbarArea.y=this.position[1]+this.dimensions[1]-r,this.pColorbar.y=In,this.axis.pAxis.y=In,this.axis.pAxis.x=ed+In,this.pColorbar.x=ed+In,this.gColorscaleBrush.attr("transform",`translate(${this.pColorbarArea.x+this.pColorbar.x+as+bc},${this.pColorbarArea.y+this.pColorbar.y-1})`)),this.options.colorbarPosition==="bottomLeft"&&(this.pColorbarArea.x=this.position[0],this.pColorbarArea.y=this.position[1]+this.dimensions[1]-r,this.pColorbar.y=In,this.axis.pAxis.y=In,this.axis.pAxis.x=ls+ss+bc+as,this.pColorbar.x=ls+ss+bc,this.gColorscaleBrush.attr("transform",`translate(${this.pColorbarArea.x+2},${this.pColorbarArea.y+this.pColorbar.y-1})`)),this.pColorbarArea.clear(),this.pColorbarArea.beginFill(ot(this.options.colorbarBackgroundColor||"white"),+this.options.colorbarBackgroundOpacity>=0?+this.options.colorbarBackgroundOpacity:.6),this.pColorbarArea.drawRect(0,0,Pp,r),this.options?(this.options.scaleStartPercent||(this.options.scaleStartPercent=0),this.options.scaleEndPercent||(this.options.scaleEndPercent=1)):this.options={scaleStartPercent:0,scaleEndPercent:1};const i=n.domain()[1]-n.domain()[0],o=n(this.options.scaleStartPercent*i+n.domain()[0]),a=n(this.options.scaleEndPercent*i+n.domain()[0]);this.brushing||(this.scaleBrush.on("start",this.brushStart.bind(this)).on("brush",this.brushMoved.bind(this)).on("end",this.brushEnd.bind(this)).handleSize(0),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.call(this.scaleBrush),this.northHandle=this.gColorscaleBrush.selectAll(".handle--custom").data([{type:"n"},{type:"s"}]).enter().append("rect").classed("handle--custom",!0).attr("cursor","ns-resize").attr("width",ss).attr("height",w7).style("fill","#666").style("stroke","white"),this.flipText&&this.northHandle.attr("cursor","ew-resize"),this.gColorscaleBrush.call(this.scaleBrush.move,[a,o]));const s=Et().domain([0,255]).range([0,this.colorbarHeight]);for(let u=0;u<this.colorbarHeight;u++){const l=this.limitedValueScale(n.invert(u)),c=Math.max(0,Math.min(254,Math.floor(l)));this.pColorbar.beginFill(ot(`rgb(${this.colorScale[c][0]},${this.colorScale[c][1]},${this.colorScale[c][2]})`)),this.pColorbar.drawRect(0,u,as,1)}this.pAxis.position.x=as,this.pAxis.position.y=s(0),this.options.colorbarPosition==="topLeft"||this.options.colorbarPosition==="bottomLeft"?this.axis.drawAxisRight(n,this.colorbarHeight):(this.options.colorbarPosition==="topRight"||this.options.colorbarPosition==="bottomRight")&&this.axis.drawAxisLeft(n,this.colorbarHeight)}},{key:"exportColorBarSVG",value:function(){const r=document.createElement("g");if(r.setAttribute("class","color-bar"),!this.options.colorbarPosition||this.options.colorbarPosition==="hidden"||!this.valueScale)return r;r.setAttribute("transform",`translate(${this.pColorbarArea.x}, ${this.pColorbarArea.y})`);const n=document.createElement("rect");r.appendChild(n);const i=document.createElement("g");r.appendChild(i),i.setAttribute("transform",`translate(${this.pColorbar.x}, ${this.pColorbar.y})`);const o=Math.min(this.dimensions[1]/2,_7);this.colorbarHeight=o-2*In,n.setAttribute("x",0),n.setAttribute("y",0),n.setAttribute("width",Pp),n.setAttribute("height",o),n.setAttribute("style","fill: white; stroke-width: 0; opacity: 0.7");const a=256,s=Et().domain([0,a-1]).range([0,this.colorbarHeight]),u=this.colorbarHeight/a;for(let f=0;f<a;f++){const p=document.createElement("rect");i.appendChild(p),p.setAttribute("x",0),p.setAttribute("y",s(f)),p.setAttribute("width",as),p.setAttribute("height",u),p.setAttribute("class","color-rect");const d=Math.min(this.colorScale.length-1,Math.max(0,Math.floor(this.limitedValueScale(this.valueScale.invert(f))))),m=this.colorScale[d];m?p.setAttribute("style",`fill: rgb(${m[0]}, ${m[1]}, ${m[2]})`):p.setAttribute("style","fill: rgb(255,255,255,0)")}const l=document.createElement("g");r.appendChild(l),l.setAttribute("transform",`translate(${this.axis.pAxis.position.x},${this.axis.pAxis.position.y})`);let c=null;const h=this.valueScale.copy().range([this.colorbarHeight,0]);return this.options.colorbarPosition==="topLeft"||this.options.colorbarPosition==="bottomLeft"?c=this.axis.exportAxisRightSVG(h,this.colorbarHeight):(this.options.colorbarPosition==="topRight"||this.options.colorbarPosition==="bottomRight")&&(c=this.axis.exportAxisLeftSVG(h,this.colorbarHeight)),l.appendChild(c),r}},{key:"setDataLensSize",value:function(r){this.dataLensPadding=Math.max(0,Math.floor((r-1)/2)),this.dataLensSize=this.dataLensPadding*2+1}},{key:"binsPerTile",value:function(){return this.tilesetInfo.bins_per_dimension||vvt}},{key:"getVisibleRectangleData",value:function(r,n,i,o){let a=this.calculateZoomLevel();a=this.tilesetInfo.max_zoom?Math.min(this.tilesetInfo.max_zoom,a):a;const s=GV(this.tilesetInfo,a,this.binsPerTile())/this.binsPerTile(),u=[this._xScale.invert(r),this._xScale.invert(r+i)],l=[this._yScale.invert(n),this._yScale.invert(n+o)],c=[Math.max(u[0],this.tilesetInfo.min_pos[0]),Math.min(u[1],this.tilesetInfo.max_pos[0])],h=[Math.max(l[0],this.tilesetInfo.min_pos[1]),Math.min(l[1],this.tilesetInfo.max_pos[1])],f=Math.floor(c[0]/s),p=Math.floor(h[0]/s),d=Math.max(0,Math.ceil((c[1]-c[0])/s)),m=Math.max(0,Math.ceil((h[1]-h[0])/s)),v=Rc(new Array(m*d).fill(Number.NaN),[m,d]);return this.visibleAndFetchedTiles().forEach(b=>{const g=b.mirrored?[b.tileData.tilePos[1],b.tileData.tilePos[0]]:b.tileData.tilePos,{tileX:y,tileY:_,tileWidth:w,tileHeight:T}=this.getTilePosAndDimensions(b.tileData.zoomLevel,g,this.binsPerTile()),O=Math.floor(y/s),E=Math.floor((y+w)/s),S=Math.floor(_/s),A=Math.floor((_+T)/s);let M=Math.max(f,O)-O,H=Math.max(p,S)-S;const N=Math.min(f+d,E)-O,k=Math.min(p+m,A)-S,R=Math.max(O-f,0),B=Math.max(S-p,0),z=N-M,U=k-H;if(!(z<0||U<0)){if(b.mirrored&&M>H){const V=M;M=H,H=V}MF(v.hi(B+U,R+z).lo(B,R),b.dataArray.hi(H+U,M+z).lo(H,M))}}),v}},{key:"initTile",value:function(r){nn(t,"initTile",this,3)([r]),r.tileData.dense.length===this.binsPerTile()**2&&(r.dataArray=Rc(Array.from(r.tileData.dense),[this.binsPerTile(),this.binsPerTile()]),this.continuousScaling&&r.tileData.tilePos[0]===r.tileData.tilePos[1]&&r.mirrored&&(r.tileData.denseDataExtrema.mirrorPrecomputedExtrema(),nn(t,"initTile",this,3)([r]))),!(this.scale.minValue===null||this.scale.maxValue===null)&&this.renderTile(r)}},{key:"updateTile",value:function(r){r.scale&&this.scale&&this.scale.minValue===r.scale.minValue&&this.scale.maxValue===r.scale.maxValue||(this.renderTile(r),this.drawColorbar())}},{key:"destroyTile",value:function(r){r.sprite.destroy(!0),r.canvas=null,r.sprite=null,r.texture=null}},{key:"pixDataFunction",value:function(r,n){if(n){const{graphics:i}=r,o=this.tileDataToCanvas(n.pixData);r.sprite&&r.sprite.destroy(!0);const a=Ie.PIXI.VERSION[0]==="4"?Ie.PIXI.Texture.fromCanvas(o,Ie.PIXI.SCALE_MODES.NEAREST):Ie.PIXI.Texture.from(o,{scaleMode:Ie.PIXI.SCALE_MODES.NEAREST}),s=new Ie.PIXI.Sprite(a);r.sprite=s,r.texture=a,r.canvas=o,this.setSpriteProperties(r.sprite,r.tileData.zoomLevel,r.tileData.tilePos,r.mirrored),i.removeChildren(),i.addChild(r.sprite)}this.renderingTiles.delete(r.tileId)}},{key:"renderTile",value:function(r){var n;const[i]=this.updateValueScale(),o=0;if(this.renderingTiles.add(r.tileId),this.tilesetInfo.tile_size&&((n=r.tileData.dense)==null?void 0:n.length)<this.tilesetInfo.tile_size){const a=new Float32Array(this.tilesetInfo.tile_size);a.fill(Number.NaN),a.set(r.tileData.dense),r.tileData.dense=a}YV(r,i,this.limitedValueScale.domain(),o,this.colorScale,a=>this.pixDataFunction(r,a),this.mirrorTiles()&&!r.mirrored&&r.tileData.tilePos[0]===r.tileData.tilePos[1],this.options.extent==="upper-right"&&r.tileData.tilePos[0]===r.tileData.tilePos[1],this.options.zeroValueColor?aF(this.options.zeroValueColor):void 0,{selectedRows:this.options.selectRows,selectedRowsAggregationMode:this.options.selectRowsAggregationMode,selectedRowsAggregationWithRelativeHeight:this.options.selectRowsAggregationWithRelativeHeight,selectedRowsAggregationMethod:this.options.selectRowsAggregationMethod})}},{key:"remove",value:function(){this.gMain.remove(),this.gMain=null,nn(t,"remove",this,3)([])}},{key:"refScalesChanged",value:function(r,n){nn(t,"refScalesChanged",this,3)([r,n]),Cb(this.fetchedTiles).filter(i=>i.sprite).forEach(i=>this.setSpriteProperties(i.sprite,i.tileData.zoomLevel,i.tileData.tilePos,i.mirrored))}},{key:"superSVG",value:function(){return nn(t,"exportSVG",this,3)([])}},{key:"exportSVG",value:function(){let r=null,n=null;nn(t,"exportSVG",this,1)?[n,r]=nn(t,"exportSVG",this,3)([]):(n=document.createElement("g"),r=n);const i=document.createElement("g");r.appendChild(i),i.setAttribute("transform",`translate(${this.pMain.position.x},${this.pMain.position.y}) scale(${this.pMain.scale.x},${this.pMain.scale.y})`);for(const a of this.visibleAndFetchedTiles()){const s=a.sprite.rotation*180/Math.PI,u=document.createElement("g");u.setAttribute("transform",`translate(${a.sprite.x},${a.sprite.y}) rotate(${s}) scale(${a.sprite.scale.x},${a.sprite.scale.y})`);const l=document.createElement("image");l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.canvas.toDataURL()),l.setAttribute("width",a.canvas.width),l.setAttribute("height",a.canvas.height),l.setAttribute("style","image-rendering: pixelated"),u.appendChild(l),i.appendChild(u)}const o=this.exportColorBarSVG();return r.appendChild(o),[n,n]}},{key:"getVisiblePartOfUppLeftTile",value:function(){const r=this.visibleAndFetchedTiles().map(f=>{const p=f.mirrored?[f.tileData.tilePos[1],f.tileData.tilePos[0]]:f.tileData.tilePos;return[p[0],p[1],f.tileId]});if(r.length===0)return null;let n=r[0];for(let f=0;f<r.length;f++){const p=r[f];(p[0]<n[0]||p[1]<n[1])&&(n=p)}const i=Math.min(RO,this.binsPerTile()),o=this.binsPerTile()/i,a=this.visibleAndFetchedTiles().filter(f=>f.tileId===n[2])[0],s=this.getIndicesOfVisibleDataInTile(a),u=s[0],l=s[1],c=u-u%o,h=l-l%o;return[a.tileId,c,h]}},{key:"getIndicesOfVisibleDataInTile",value:function(r){const n=this._xScale.range(),i=this._yScale.range(),o=r.mirrored?[r.tileData.tilePos[1],r.tileData.tilePos[0]]:r.tileData.tilePos,{tileX:a,tileY:s,tileWidth:u,tileHeight:l}=this.getTilePosAndDimensions(r.tileData.zoomLevel,o,this.binsPerTile()),c=Et().domain([0,this.binsPerTile()]).range([a,a+u]),h=Math.max(0,Math.round(c.invert(this._xScale.invert(n[0])))-1),f=Math.min(this.binsPerTile(),Math.round(c.invert(this._xScale.invert(n[1])))),p=Et().domain([0,this.binsPerTile()]).range([s,s+l]),d=Math.max(0,Math.round(p.invert(this._yScale.invert(i[0])))-1),m=Math.min(this.binsPerTile(),Math.round(p.invert(this._yScale.invert(i[1]))));return r.mirrored&&o[0]!==o[1]?[d,h,m,f]:[h,d,f,m]}},{key:"minVisibleValue",value:function(r=!1){const n=this.visibleAndFetchedTiles().map(o=>{if(o.tileData.denseDataExtrema===void 0)return null;const a=this.getIndicesOfVisibleDataInTile(o);return o.tileData.denseDataExtrema.getMinNonZeroInSubset(a)});if(n.length===0&&this.valueScaleMax===null)return null;const i=Math.min.apply(null,n);return i===Number.MAX_SAFE_INTEGER?nn(t,"minVisibleValue",this,3)([r]):r?i:this.valueScaleMin!==null?this.valueScaleMin:i}},{key:"maxVisibleValue",value:function(r=!1){const n=this.visibleAndFetchedTiles().map(o=>{if(o.tileData.denseDataExtrema===void 0)return null;const a=this.getIndicesOfVisibleDataInTile(o);return o.tileData.denseDataExtrema.getMaxNonZeroInSubset(a)});if(n.length===0&&this.valueScaleMax===null)return null;const i=Math.max.apply(null,n);return i===Number.MIN_SAFE_INTEGER?nn(t,"maxVisibleValue",this,3)([r]):r?i:this.valueScaleMax!==null?this.valueScaleMax:i}},{key:"zoomed",value:function(r,n,i,o,a){if(this.brushing)return;nn(t,"zoomed",this,3)([r,n]),this.pMain.position.x=o,this.pMain.position.y=a,this.pMain.scale.x=i,this.pMain.scale.y=i;const s=this.isValueScaleLocked();if(this.continuousScaling&&this.minValue()!==void 0&&this.maxValue()!==void 0){const u=JSON.stringify(this.getVisiblePartOfUppLeftTile());if(this.valueScaleMin===null&&this.valueScaleMax===null&&!s&&u!==this.prevIndUpperLeftTile){const l=this.minVisibleValue(),c=this.maxVisibleValue(),h=1e-6;l!==null&&c!==null&&(Math.abs(this.minValue()-l)>h||Math.abs(this.maxValue()-c)>h)&&(this.minValue(l),this.maxValue(c),this.scheduleRerender()),this.prevIndUpperLeftTile=u}s&&this.onValueScaleChanged()}this.mouseMoveZoomHandler()}},{key:"addTileId",value:function(r,n,i,o,a,s=!1){const u=[n,i,o];u.mirrored=s,u.dataTransform=a,r.push(u)}},{key:"tilesToId",value:function(r,n,i){var o;const a=r,s=n,u=((o=this.options)==null?void 0:o.dataTransform)||"default",l=[];for(let c=0;c<a.length;c++)for(let h=0;h<s.length;h++)this.mirrorTiles()?(a[c]>=s[h]?this.options.extent!=="lower-left"&&this.addTileId(l,i,s[h],a[c],u,!0):this.options.extent!=="upper-right"&&this.addTileId(l,i,a[c],s[h],u),a[c]===s[h]&&this.options.extent==="lower-left"&&this.addTileId(l,i,a[c],s[h],u)):this.addTileId(l,i,a[c],s[h],u);return l}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){const r=this.tilesetInfo.resolutions.map(n=>+n).sort((n,i)=>i-n);this.xTiles=hy(r[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=hy(r[this.zoomLevel],this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=cy(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=cy(this.zoomLevel,this._yScale,this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],this.options.reverseYAxis?-this.tilesetInfo.min_pos[1]:this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width1||this.tilesetInfo.max_width);this.setVisibleTiles(this.tilesToId(this.xTiles,this.yTiles,this.zoomLevel))}}},{key:"mirrorTiles",value:function(){return!(this.tilesetInfo.mirror_tiles&&(this.tilesetInfo.mirror_tiles===!1||this.tilesetInfo.mirror_tiles==="false"))}},{key:"contextMenuItems",value:function(r,n){return[]}},{key:"getMouseOverHtml",value:function(r,n){if(!this.options||!this.options.showTooltip||!this.tilesetInfo)return"";const i=UV(this.tilesetInfo,this.zoomLevel),o=Math.max(this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0]),a=Math.ceil(Math.log(o/i)/Math.log(10));this.setDataLensSize(1);const s=this._xScale.invert(r),u=this._yScale.invert(n);let l="<b>Position:</b> ";if(this.chromInfo){const h=Ur(s,this.chromInfo),f=Ur(u,this.chromInfo),p=d=>Yn(`.${a}s`)(d);l+=`${h[0]}:${p(h[1])} & ${f[0]}:${p(f[1])}`,l+="<br/>"}let c=null;try{c=this.getVisibleRectangleData(r,n,1,1).get(0,0)}catch{return""}return this.options&&this.options.heatmapValueScaling==="log"?c>0?`${l}<b>Value:</b> 1e${Yn(".3f")(Math.log(c)/Math.log(10))}`:c===0?`${l}<b>Value:</b> 0`:`${l}<b>Value:</b> N/A`:`${l}<b>Value:</b> ${Yn(".3f")(c)}`}},{key:"getTilePosAndDimensions",value:function(r,n,i){const o=i||this.binsPerTile();if(this.tilesetInfo.resolutions){const d=this.tilesetInfo.resolutions.map(y=>+y).sort((y,_)=>_-y)[r],m=d*o,v=m,b=d*o*n[0],g=d*o*n[1];return{tileX:b,tileY:g,tileWidth:m,tileHeight:v}}const a=n[0],s=n[1],u=this.tilesetInfo.min_pos[0],l=this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],c=this.tilesetInfo.max_width/2**r,h=this.tilesetInfo.max_width/2**r,f=u+a*c,p=l+s*h;return{tileX:f,tileY:p,tileWidth:c,tileHeight:h}}},{key:"calculateZoomLevel",value:function(){var r;this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1];let n=null;if(this.tilesetInfo.resolutions){const i=Fx(this.tilesetInfo.resolutions,this._xScale),o=Fx(this.tilesetInfo.resolutions,this._yScale);n=Math.min(i,o)}else{const i=zx(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.binsPerTile()),o=zx(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.binsPerTile());n=Math.max(i,o),n=Math.min(n,this.maxZoom)}return(r=this.options)!=null&&r.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}},{key:"tileToLocalId",value:function(r){return r.dataTransform&&r.dataTransform!=="default"?`${r.join(".")}.${r.mirrored}.${r.dataTransform}`:`${r.join(".")}.${r.mirrored}`}},{key:"tileToRemoteId",value:function(r){return r.dataTransform&&r.dataTransform!=="default"?`${r.join(".")}.${r.dataTransform}`:`${r.join(".")}`}},{key:"localToRemoteId",value:function(r){const n=r.split(".");return n.slice(0,n.length-1).join(".")}}])})(Qa);function bvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _vt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tvt(n.key),n)}}function wvt(e,t,r){return t&&_vt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tvt(e){var t=xvt(e,"string");return typeof t=="symbol"?t:t+""}function xvt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Evt(e,t,r){return t=Ky(t),Svt(e,MW()?Reflect.construct(t,r||[],Ky(e).constructor):t.apply(e,r))}function Svt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kvt(e)}function kvt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MW=function(){return!!e})()}function Ky(e){return Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ky(e)}function Ovt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZE(e,t)}function ZE(e,t){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ZE(e,t)}function IW(e){if(!e.graphics)return;const t=e.graphics,{tileX:r,tileY:n,tileWidth:i}=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos);e.drawnAtScale=this._xScale.copy();const o=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0))),a=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));e.text.scale.x=o,e.text.scale.y=a;const s=this._xScale(i)-this._xScale(0);if(e.textGraphics.scale.x=s/256,e.textGraphics.scale.y=s/256,t.clear(),t.lineStyle(4*o,255,1),t.beginFill(16740363,.4),t.alpha=.5,e.mirrored){const u=this._refXScale(n+i)-this._refXScale(n),l=this._refYScale(r+i)-this._refYScale(r);e.textGraphics.position.x=this._refXScale(n)+u/2,e.textGraphics.position.y=this._refYScale(r)+l/2,t.drawRect(this._refXScale(n),this._refYScale(r),u,l)}else{const u=this._refXScale(r+i)-this._refXScale(r),l=this._refYScale(n+i)-this._refYScale(n);e.textGraphics.position.x=this._refXScale(r)+u/2,e.textGraphics.position.y=this._refYScale(n)+l/2,t.drawRect(this._refXScale(r),this._refYScale(n),u,l)}}function RW(e){const t=e.graphics;e.textGraphics=new Ie.PIXI.Graphics,e.mirrored?e.text=new Ie.PIXI.Text(`${e.tileData.zoomLevel}/${[e.tileData.tilePos[1],e.tileData.tilePos[0]].join("/")}`,{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}):e.text=new Ie.PIXI.Text(`${e.tileData.zoomLevel}/${e.tileData.tilePos.join("/")}`,{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,t.addChild(e.textGraphics)}let DW=(function(e){function t(){return bvt(this,t),Evt(this,t,arguments)}return Ovt(t,e),wvt(t,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(r){RW.bind(this)(r),this.drawTile(r)}},{key:"destroyTile",value:function(r,n){}},{key:"drawTile",value:function(r){IW.bind(this)(r)}},{key:"fetchNewTiles",value:function(r){r.forEach(n=>{const i=n.remoteId.split("."),o={zoomLevel:i[0],tilePos:i.slice(1,i.length).map(a=>+a)};this.fetchedTiles[n.tileId]=n,this.fetchedTiles[n.tileId].tileData=o,this.fetching.has(n.remoteId)&&this.fetching.delete(n.remoteId)}),this.synchronizeTilesAndGraphics()}}])})(q1);function Pvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cvt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mvt(n.key),n)}}function Avt(e,t,r){return t&&Cvt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mvt(e){var t=Ivt(e,"string");return typeof t=="symbol"?t:t+""}function Ivt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Rvt(e,t,r){return t=xh(t),Dvt(e,NW()?Reflect.construct(t,r||[],xh(e).constructor):t.apply(e,r))}function Dvt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nvt(e)}function Nvt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NW=function(){return!!e})()}function jvt(e,t,r,n){var i=QE(xh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function QE(){return QE=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Lvt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},QE.apply(null,arguments)}function Lvt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=xh(e))!==null;);return e}function xh(e){return xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xh(e)}function Bvt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JE(e,t)}function JE(e,t){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},JE(e,t)}let jW=(function(e){function t(r,n){var i;return Pvt(this,t),i=Rvt(this,t,[r,n]),i.pMain=i.pMobile,i}return Bvt(t,e),Avt(t,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(r){const n=r.graphics;r.textGraphics=new Ie.PIXI.Graphics,r.text=new Ie.PIXI.Text(`${r.tileData.zoomLevel}/${r.tileData.tilePos.join("/")}`,{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),r.textGraphics.addChild(r.text),r.text.anchor.x=.5,r.text.anchor.y=.5,n.addChild(r.textGraphics),this.drawTile(r)}},{key:"destroyTile",value:function(r){}},{key:"drawTile",value:function(r){if(jvt(t,"drawTile",this)([r]),!r.graphics)return;const n=r.graphics,{tileX:i,tileWidth:o}=this.getTilePosAndDimensions(r.tileData.zoomLevel,r.tileData.tilePos),a=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0)));r.text.scale.x=a,n.clear();const s=this.dimensions[1],u=this._refXScale(i+o)-this._refXScale(i);r.textGraphics.position.x=this._refXScale(i)+u/2,r.textGraphics.position.y=s/2;const l=this._refXScale(i);n.lineStyle(4*a,255,1),n.beginFill(16740363,.4),n.alpha=.5,n.moveTo(l,0),n.lineTo(l,s),n.moveTo(l+u,0),n.lineTo(l+u,s),n.lineStyle(0,255,1),n.drawRect(l,0,u,s)}}])})(Rf);function Fvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zvt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uvt(n.key),n)}}function Hvt(e,t,r){return t&&zvt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uvt(e){var t=Vvt(e,"string");return typeof t=="symbol"?t:t+""}function Vvt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gvt(e,t,r){return t=Eh(t),Yvt(e,LW()?Reflect.construct(t,r||[],Eh(e).constructor):t.apply(e,r))}function Yvt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wvt(e)}function Wvt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LW=function(){return!!e})()}function Xvt(e,t,r,n){var i=eS(Eh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function eS(){return eS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=$vt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},eS.apply(null,arguments)}function $vt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Eh(e))!==null;);return e}function Eh(e){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Eh(e)}function qvt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tS(e,t)}function tS(e,t){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},tS(e,t)}let BW=(function(e){function t(){return Fvt(this,t),Gvt(this,t,arguments)}return qvt(t,e),Hvt(t,[{key:"calculateZoomLevel",value:function(){const r=_t.calculateZoomLevel(this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);return Math.min(r,this.maxZoom)}},{key:"relevantScale",value:function(){return this._yScale}},{key:"zoomed",value:function(r,n){Xvt(t,"zoomed",this)([r,n]);const i=1,o=(n(1)-n(0))/(this._refYScale(1)-this._refYScale(0)),a=this.position[0],s=n(0)+this.position[1]-this._refYScale(1)*o;this.pMain.position.x=a,this.pMain.position.y=s,this.pMain.scale.x=i,this.pMain.scale.y=o}}])})(Y4);function Kvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zvt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jvt(n.key),n)}}function Qvt(e,t,r){return t&&Zvt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jvt(e){var t=ebt(e,"string");return typeof t=="symbol"?t:t+""}function ebt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function tbt(e,t,r){return t=Sh(t),rbt(e,FW()?Reflect.construct(t,r||[],Sh(e).constructor):t.apply(e,r))}function rbt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nbt(e)}function nbt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FW=function(){return!!e})()}function ibt(e,t,r,n){var i=rS(Sh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function rS(){return rS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=obt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},rS.apply(null,arguments)}function obt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Sh(e))!==null;);return e}function Sh(e){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sh(e)}function abt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nS(e,t)}function nS(e,t){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},nS(e,t)}let zW=(function(e){function t(){return Kvt(this,t),tbt(this,t,arguments)}return abt(t,e),Qvt(t,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(r){const n=r.graphics;r.textGraphics=new Ie.PIXI.Graphics,r.text=new Ie.PIXI.Text(`${r.tileData.zoomLevel}/${r.tileData.tilePos.join("/")}`,{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),r.textGraphics.addChild(r.text),r.text.anchor.x=.5,r.text.anchor.y=.5,r.text.rotation=-Math.PI/2,n.addChild(r.textGraphics),this.drawTile(r,n)}},{key:"destroyTile",value:function(r,n){}},{key:"drawTile",value:function(r){if(ibt(t,"drawTile",this)([r]),!r.graphics)return;const n=r.graphics,{tileY:i,tileHeight:o}=this.getTilePosAndDimensions(r.tileData.zoomLevel,r.tileData.tilePos),a=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));r.text.scale.x=a,n.clear(),n.lineStyle(4*a,255,1),n.beginFill(16740363,.4),n.alpha=.5;const s=this.dimensions[0],u=this._refYScale(i+o)-this._refYScale(i);r.textGraphics.position.x=s/2,r.textGraphics.position.y=this._refYScale(i)+u/2,n.drawRect(0,this._refYScale(i),s,u)}},{key:"fetchNewTiles",value:function(r){r.forEach(n=>{const i=n.remoteId.split("."),o={zoomLevel:i[1],tilePos:i.slice(2,i.length).map(a=>+a)};this.fetchedTiles[n.tileId]=n,this.fetchedTiles[n.tileId].tileData=o,this.fetching.has(n.remoteId)&&this.fetching.delete(n.remoteId)}),this.synchronizeTilesAndGraphics()}}])})(BW);var x2=Array.prototype.slice;function sbt(e){return e}var Kg=1,Zg=2,iS=3,td=4,x7=1e-6;function lbt(e){return"translate("+e+",0)"}function ubt(e){return"translate(0,"+e+")"}function cbt(e){return t=>+e(t)}function hbt(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function fbt(){return!this.__axis}function b_(e,t){var r=[],n=null,i=null,o=6,a=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===Kg||e===td?-1:1,c=e===td||e===Zg?"x":"y",h=e===Kg||e===iS?lbt:ubt;function f(p){var d=n??(t.ticks?t.ticks.apply(t,r):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,r):sbt),v=Math.max(o,0)+s,b=t.range(),g=+b[0]+u,y=+b[b.length-1]+u,_=(t.bandwidth?hbt:cbt)(t.copy(),u),w=p.selection?p.selection():p,T=w.selectAll(".domain").data([null]),O=w.selectAll(".tick").data(d,t).order(),E=O.exit(),S=O.enter().append("g").attr("class","tick"),A=O.select("line"),M=O.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge(S),A=A.merge(S.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),M=M.merge(S.append("text").attr("fill","currentColor").attr(c,l*v).attr("dy",e===Kg?"0em":e===iS?"0.71em":"0.32em")),p!==w&&(T=T.transition(p),O=O.transition(p),A=A.transition(p),M=M.transition(p),E=E.transition(p).attr("opacity",x7).attr("transform",function(H){return isFinite(H=_(H))?h(H+u):this.getAttribute("transform")}),S.attr("opacity",x7).attr("transform",function(H){var N=this.parentNode.__axis;return h((N&&isFinite(N=N(H))?N:_(H))+u)})),E.remove(),T.attr("d",e===td||e===Zg?a?"M"+l*a+","+g+"H"+u+"V"+y+"H"+l*a:"M"+u+","+g+"V"+y:a?"M"+g+","+l*a+"V"+u+"H"+y+"V"+l*a:"M"+g+","+u+"H"+y),O.attr("opacity",1).attr("transform",function(H){return h(_(H)+u)}),A.attr(c+"2",l*o),M.attr(c,l*v).text(m),w.filter(fbt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Zg?"start":e===td?"end":"middle"),w.each(function(){this.__axis=_})}return f.scale=function(p){return arguments.length?(t=p,f):t},f.ticks=function(){return r=x2.call(arguments),f},f.tickArguments=function(p){return arguments.length?(r=p==null?[]:x2.call(p),f):r.slice()},f.tickValues=function(p){return arguments.length?(n=p==null?null:x2.call(p),f):n&&n.slice()},f.tickFormat=function(p){return arguments.length?(i=p,f):i},f.tickSize=function(p){return arguments.length?(o=a=+p,f):o},f.tickSizeInner=function(p){return arguments.length?(o=+p,f):o},f.tickSizeOuter=function(p){return arguments.length?(a=+p,f):a},f.tickPadding=function(p){return arguments.length?(s=+p,f):s},f.offset=function(p){return arguments.length?(u=+p,f):u},f}function HW(e){return b_(Kg,e)}function pbt(e){return b_(Zg,e)}function dbt(e){return b_(iS,e)}function UW(e){return b_(td,e)}const mbt=Object.freeze(Object.defineProperty({__proto__:null,axisBottom:dbt,axisLeft:UW,axisRight:pbt,axisTop:HW},Symbol.toStringTag,{value:"Module"}));function gbt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ybt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bbt(n.key),n)}}function vbt(e,t,r){return t&&ybt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bbt(e){var t=_bt(e,"string");return typeof t=="symbol"?t:t+""}function _bt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wbt(e,t,r){return t=Zy(t),Tbt(e,VW()?Reflect.construct(t,r||[],Zy(e).constructor):t.apply(e,r))}function Tbt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xbt(e)}function xbt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VW=function(){return!!e})()}function Zy(e){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zy(e)}function Ebt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oS(e,t)}function oS(e,t){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},oS(e,t)}let bu=(function(e){function t(r,n){var i;gbt(this,t),i=wbt(this,t,[r,n]);const{svgElement:o}=r;return i.gMain=ut(o).append("g"),i.clipUid=Nt.nice(),i.clipRect=i.gMain.append("clipPath").attr("id",`track-bounds-${i.clipUid}`).append("rect"),i.gMain.attr("clip-path",`url(#track-bounds-${i.clipUid})`),i}return Ebt(t,e),vbt(t,[{key:"setPosition",value:function(r){this.position=r,this.gMain.attr("transform",`translate(${this.position[0]},${this.position[1]})`),this.draw()}},{key:"setDimensions",value:function(r){this.dimensions=r,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]]),r[0]>=0&&r[1]>=0?(this.clipRect.attr("width",r[0]),this.clipRect.attr("height",r[1])):(this.clipRect.attr("width",0),this.clipRect.attr("height",0)),this.draw()}},{key:"remove",value:function(){this.gMain.remove(),this.gMain=null}},{key:"draw",value:function(){return this}}])})(zc);function Sbt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kbt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pbt(n.key),n)}}function Obt(e,t,r){return t&&kbt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pbt(e){var t=Cbt(e,"string");return typeof t=="symbol"?t:t+""}function Cbt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Abt(e,t,r){return t=kh(t),Mbt(e,GW()?Reflect.construct(t,r||[],kh(e).constructor):t.apply(e,r))}function Mbt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ibt(e)}function Ibt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GW=function(){return!!e})()}function E7(e,t,r,n){var i=aS(kh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function aS(){return aS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Rbt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},aS.apply(null,arguments)}function Rbt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=kh(e))!==null;);return e}function kh(e){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kh(e)}function Dbt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sS(e,t)}function sS(e,t){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},sS(e,t)}let YW=(function(e){function t(r,n){var i;return Sbt(this,t),i=Abt(this,t,[r,n]),i.axis=UW(i._yScale),i.gAxis=i.gMain.append("g"),i.tilesetInfo=!0,i}return Dbt(t,e),Obt(t,[{key:"setDimensions",value:function(r){E7(t,"setDimensions",this)([r]),this.axis.ticks(Math.ceil(this.dimensions[1]/150)),this.gAxis.attr("transform",`translate(${r[0]},0)`)}},{key:"draw",value:function(){return this.axis.scale(this._yScale),this.gAxis.call(this.axis),this}},{key:"zoomed",value:function(r,n){E7(t,"zoomed",this)([r,n]),this.draw()}}])})(bu);function Nbt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jbt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bbt(n.key),n)}}function Lbt(e,t,r){return t&&jbt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bbt(e){var t=Fbt(e,"string");return typeof t=="symbol"?t:t+""}function Fbt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zbt(e,t,r){return t=Oh(t),Hbt(e,WW()?Reflect.construct(t,r||[],Oh(e).constructor):t.apply(e,r))}function Hbt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ubt(e)}function Ubt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WW=function(){return!!e})()}function Cp(e,t,r,n){var i=lS(Oh(1&n?e.prototype:e),t,r);return 2&n&&typeof i=="function"?function(o){return i.apply(r,o)}:i}function lS(){return lS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Vbt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},lS.apply(null,arguments)}function Vbt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Oh(e))!==null;);return e}function Oh(e){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Oh(e)}function Gbt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uS(e,t)}function uS(e,t){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},uS(e,t)}const Ybt=(e,t,r,n,i)=>{i.drawRect(e,t,r,n)},Wbt=(e,t,r,n,i,{fill:o=0,fillOpacity:a=0,stroke:s=0,strokeWidth:u=0,strokeOpacity:l=0}={})=>{const c=document.createElement("rect");c.setAttribute("x",e),c.setAttribute("y",t),c.setAttribute("width",r),c.setAttribute("height",n),c.setAttribute("fill",`#${ox(o)}`),c.setAttribute("fill-opacity",a),c.setAttribute("stroke",`#${ox(s)}`),c.setAttribute("stroke-opacity",l),c.setAttribute("stroke-width",u),i.appendChild(c)},jo=(e,t,r,n,i,o)=>{i instanceof HTMLElement?Wbt(e,t,r,n,i,o):Ybt(e,t,r,n,i)},S7=(e,t,r,n,i,o,a,s,{isVertical:u=!1,svg:l=null}={})=>{var c,h;let f=t,p=r,d=n,m=i;const v=s.width*2>n?n/2:s.width,b=s.width*2>i?i/2:s.width,g=l||e,y={fill:0,fillOpacity:0,stroke:0,strokeOpacity:0,strokeWidth:1};if((c=s.positions)!=null&&c.length?(e.lineStyle(1,0,0),e.beginFill(s.color,s.opacity),y.fill=s.color,y.fillOpacity=s.opacity,y.stroke=0,y.strokeOpacity=0,y.strokeWidth=1,s.positions.forEach(_=>{_==="top"&&!u||_==="left"&&u?jo(t-v,r-b,n+v*2,b,g,y):_==="bottom"&&!u||_==="right"&&u?jo(t-v,r+i,n+v*2,b,g,y):_==="left"&&!u||_==="top"&&u?jo(t-v,r-b,v,i+b*2,g,y):(_==="right"&&!u||_==="bottom"&&u)&&jo(t+n,r-b,v,i+b*2,g,y)})):s.width>0&&s.opacity>0&&(e.lineStyle(s.width,s.color,s.opacity),e.beginFill(0,0),y.fill=0,y.fillOpacity=0,y.stroke=s.color,y.strokeOpacity=s.opacity,y.strokeWidth=s.width,jo(t-v,r-b,n+v*2,i+b*2,g,y)),(h=a.positions)!=null&&h.length){e.lineStyle(1,0,0),e.beginFill(a.color,a.opacity);const _=a.width*2>n?n/2:a.width,w=a.width*2>i?i/2:a.width;y.fill=a.color,y.fillOpacity=a.opacity,y.stroke=0,y.strokeOpacity=0,y.strokeWidth=1,a.positions.forEach(T=>{T==="top"&&!u||T==="left"&&u?(jo(t,r,n,w,g,y),p+=w,m-=w):T==="bottom"&&!u||T==="right"&&u?(jo(t,r+i-w,n,w,g,y),m-=w):T==="left"&&!u||T==="top"&&u?(jo(t,r,_,i,g,y),f+=_,d-=_):(T==="right"&&!u||T==="bottom"&&u)&&(jo(t+n-_,r,_,i,g,y),d-=_)})}else e.lineStyle(a.width,a.color,a.opacity),y.stroke=a.color,y.strokeOpacity=a.opacity,y.strokeWidth=a.width;e.beginFill(o.color,o.opacity),y.fill=o.color,y.fillOpacity=o.opacity,jo(f,p,d,m,g,y)};let XW=(function(e){function t(r,n){var i;return Nbt(this,t),i=zbt(this,t,[r,n]),i.options=n||{},i.drawnRects={},i}return Gbt(t,e),Lbt(t,[{key:"drawHorizontalOverlay",value:function(r,n,i,o=0,a,s,u,l){if(!i||i.length<2)return;let c=this.position[0]+n.left+this._xScale(i[0]);const h=this.position[1]+n.top,f=n.height;let p=this._xScale(i[1])-this._xScale(i[0]);p<o&&(c-=(o-p)/2,p=o),S7(r,c,h,p,f,a,s,u,l)}},{key:"drawVerticalOverlay",value:function(r,n,i,o=0,a,s,u,l={}){if(!i||i.length<2)return;const c=this.position[0]+n.left;let h=this.position[1]+n.top+this._yScale(i.length>=4?i[2]:i[0]);const f=this.position[1]+n.top,p=this.position[1]+n.top+n.height;if(h>p)return;h<f&&(h=f);const d=n.width;let m=this._yScale(i.length>=4?i[3]:i[1])-h+n.top+this.position[1];m<0||(h+m>p&&(m+=p-(h+m)),m<o&&(h-=(o-m)/2,m=o),l.isVertical=!0,S7(r,c,h,d,m,a,s,u,l))}},{key:"draw",value:function(r){Cp(t,"draw",this,3)([]);const n=this.pMain,i={color:ot(this.options.fill||this.options.fillColor||"blue"),opacity:Number.isNaN(+this.options.fillOpacity)?.3:+this.options.fillOpacity},o={color:ot(this.options.stroke||"blue"),opacity:+this.options.strokeOpacity||1,width:+this.options.strokeWidth||0,positions:!this.options.strokePos||Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]},a={color:ot(this.options.outline||"white"),opacity:+this.options.outlineOpacity||1,width:+this.options.outlineWidth||0,positions:!this.options.outlinePos||Array.isArray(this.options.outlinePos)?this.options.outlinePos:[this.options.outlinePos]};(!r||!r.svg)&&n.clear(),n.lineStyle(o.width,o,+!o.positions*o.opacity),n.beginFill(i.color,i.opacity);const s=Math.max(0,+this.options.minWidth||0),u=Math.max(0,+this.options.minHeight||0);Array.isArray(this.options.extent)&&this.options.orientationsAndPositions.forEach(l=>{(l.orientation==="1d-horizontal"||l.orientation==="2d")&&this.options.extent.forEach(c=>this.drawHorizontalOverlay(n,l.position,c,s,i,o,a,r)),(l.orientation==="1d-vertical"||l.orientation==="2d")&&this.options.extent.forEach(c=>this.drawVerticalOverlay(n,l.position,c,u,i,o,a,r))})}},{key:"zoomed",value:function(r,n){this.xScale(r),this.yScale(n),this.draw()}},{key:"setPosition",value:function(r){Cp(t,"setPosition",this,3)([r]),this.draw()}},{key:"setDimensions",value:function(r){Cp(t,"setDimensions",this,3)([r]),this.draw()}},{key:"exportSVG",value:function(){let r=null,n=null;Cp(t,"exportSVG",this,1)?[n,r]=Cp(t,"exportSVG",this,3)([]):(n=document.createElement("g"),r=n);const i=document.createElement("g");return r.appendChild(i),this.draw({svg:i}),[n,r]}}])})(ro);function Xbt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $bt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kbt(n.key),n)}}function qbt(e,t,r){return t&&$bt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kbt(e){var t=Zbt(e,"string");return typeof t=="symbol"?t:t+""}function Zbt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qbt(e,t,r){return t=Ph(t),Jbt(e,$W()?Reflect.construct(t,r||[],Ph(e).constructor):t.apply(e,r))}function Jbt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e_t(e)}function e_t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($W=function(){return!!e})()}function k7(e,t,r,n){var i=cS(Ph(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function cS(){return cS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=t_t(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},cS.apply(null,arguments)}function t_t(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Ph(e))!==null;);return e}function Ph(e){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ph(e)}function r_t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hS(e,t)}function hS(e,t){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},hS(e,t)}let qW=(function(e){function t(r,n){var i;return Xbt(this,t),i=Qbt(this,t,[r,n]),i.axis=HW(i._xScale),i.gAxis=i.gMain.append("g"),i.tilesetInfo=!0,i}return r_t(t,e),qbt(t,[{key:"setDimensions",value:function(r){k7(t,"setDimensions",this)([r]),this.axis.ticks(Math.ceil(this.dimensions[0]/150)),this.gAxis.attr("transform",`translate(0,${r[1]})`)}},{key:"draw",value:function(){return this.axis.scale(this._xScale),this.gAxis.call(this.axis),this}},{key:"zoomed",value:function(r,n){k7(t,"zoomed",this)([r,n]),this.draw()}}])})(bu);function n_t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i_t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a_t(n.key),n)}}function o_t(e,t,r){return t&&i_t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a_t(e){var t=s_t(e,"string");return typeof t=="symbol"?t:t+""}function s_t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function l_t(e,t,r){return t=Ch(t),u_t(e,KW()?Reflect.construct(t,r||[],Ch(e).constructor):t.apply(e,r))}function u_t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c_t(e)}function c_t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KW=function(){return!!e})()}function os(e,t,r,n){var i=fS(Ch(1&n?e.prototype:e),t,r);return 2&n&&typeof i=="function"?function(o){return i.apply(r,o)}:i}function fS(){return fS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=h_t(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},fS.apply(null,arguments)}function h_t(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Ch(e))!==null;);return e}function Ch(e){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ch(e)}function f_t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pS(e,t)}function pS(e,t){return pS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},pS(e,t)}let Df=(function(e){function t(){return n_t(this,t),l_t(this,t,arguments)}return f_t(t,e),o_t(t,[{key:"stopHover",value:function(){this.pMouseOver.clear(),this.animate()}},{key:"getMouseOverHtml",value:function(r){if(!this.tilesetInfo||!this.options.showTooltip||!this.valueScale)return"";const n=this.getDataAtPos(r);let i="";n&&(i=Yn(".3f")(n));const o=this.pMouseOver,a=0,s=this.valueScale(n);o.clear(),o.beginFill(a,.5),o.lineStyle(1,a,1);const u=4;return o.drawRect(r-u/2,s-u/2,u,u),this.animate(),`${i}`}},{key:"initTile",value:function(r){if(os(t,"initTile",this,3)([r]),!r.tileData||!r.tileData.dense){console.warn("emptyTile:",r);return}if(r.xValues=new Array(r.tileData.dense.length),r.yValues=new Array(r.tileData.dense.length),this.isValueScaleLocked()){const n=this.getLockGroupExtrema();n!==null&&(this.minValue(n[0]),this.maxValue(n[1]))}this.drawTile(r)}},{key:"rerender",value:function(r,n){os(t,"rerender",this,3)([r,n]),this.options=r,os(t,"draw",this,3)([]),this.visibleAndFetchedTiles().forEach(i=>{this.renderTile(i)})}},{key:"renderTile",value:function(r){this.drawTile(r),this.drawAxis(this.valueScale)}},{key:"drawTile",value:function(r){if(os(t,"drawTile",this,3)([r]),!r.graphics||!r.tileData||!r.tileData.dense)return;const n=r.graphics,{tileX:i,tileWidth:o}=this.getTilePosAndDimensions(r.tileData.zoomLevel,r.tileData.tilePos),a=r.tileData.dense;if(a.length===0)return;const[s,u]=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue());if(this.valueScale=s,n.clear(),this.drawAxis(this.valueScale),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}const l=ot(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue");!this.tilesetInfo.tile_size&&!this.tilesetInfo.bins_per_dimension&&console.warn("No tileset_info.tile_size or tileset_info.bins_per_dimension",this.tilesetInfo);const c=this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension,h=Et().domain([0,c]).range([i,i+o]),f=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;n.lineStyle(f,l,1),r.segments=[];let p=[];for(let d=0;d<a.length;d++){const m=this._xScale(h(d)),v=this.valueScale(a[d]+u);if(this.options.valueScaling==="log"&&a[d]===0||Number.isNaN(v)){p.length>1&&r.segments.push(p),p=[];continue}if(h(d)>this.tilesetInfo.max_pos[0])break;p.push([m,v])}p.length>1&&r.segments.push(p);for(const d of r.segments){const m=d[0],v=d.slice(1);n.moveTo(m[0],m[1]);for(const b of v)n.lineTo(b[0],b[1])}}},{key:"setPosition",value:function(r){os(t,"setPosition",this,3)([r]),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.pMouseOver.position.y=this.position[1],this.pMouseOver.position.x=this.position[0]}},{key:"zoomed",value:function(r,n){this.xScale(r),this.yScale(n),this.refreshTiles(),this.draw();const i=this.isValueScaleLocked();if(this.continuousScaling&&this.minValue()!==void 0&&this.maxValue()!==void 0){if(this.valueScaleMin===null&&this.valueScaleMax===null&&!i){const o=this.minVisibleValue(),a=this.maxVisibleValue(),s=1e-6;o!==null&&a!==null&&(Math.abs(this.minValue()-o)>s||Math.abs(this.maxValue()-a)>s)&&(this.minValue(o),this.maxValue(a),this.scheduleRerender())}i&&this.onValueScaleChanged()}}},{key:"superSVG",value:function(){return os(t,"exportSVG",this,3)([])}},{key:"exportSVG",value:function(){let r=null,n=null;os(t,"exportSVG",this,1)?[n,r]=os(t,"exportSVG",this,3)([]):(n=document.createElement("g"),r=n),n.setAttribute("class","exported-line-track");const i=document.createElement("g");r.appendChild(i),i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`);const o=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue";this.visibleAndFetchedTiles().forEach(s=>{const u=document.createElement("path");u.setAttribute("fill","transparent"),u.setAttribute("stroke",o);let l="";for(const c of s.segments){const h=c[0],f=c.slice(1);l+=`M${h[0]} ${h[1]}`;for(const p of f)l+=`L${p[0]} ${p[1]}`}u.setAttribute("d",l),i.appendChild(u)});const a=document.createElement("g");if(a.setAttribute("id","axis"),n.appendChild(a),a.setAttribute("transform",`translate(${this.axis.pAxis.position.x}, ${this.axis.pAxis.position.y})`),this.options.axisPositionHorizontal==="left"||this.options.axisPositionVertical==="top"){const s=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);a.appendChild(s)}else if(this.options.axisPositionHorizontal==="right"||this.options.axisPositionVertical==="bottom"){const s=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);a.appendChild(s)}return[n,r]}},{key:"tileToLocalId",value:function(r){return this.options.aggregationMode&&this.options.aggregationMode!=="mean"?`${r.join(".")}.${this.options.aggregationMode}`:`${r.join(".")}`}},{key:"tileToRemoteId",value:function(r){return this.tileToLocalId(r)}}])})(Rf);function p_t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d_t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g_t(n.key),n)}}function m_t(e,t,r){return t&&d_t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g_t(e){var t=y_t(e,"string");return typeof t=="symbol"?t:t+""}function y_t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function v_t(e,t,r){return t=Ah(t),b_t(e,ZW()?Reflect.construct(t,r||[],Ah(e).constructor):t.apply(e,r))}function b_t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return __t(e)}function __t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZW=function(){return!!e})()}function qu(e,t,r,n){var i=dS(Ah(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function dS(){return dS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=w_t(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},dS.apply(null,arguments)}function w_t(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Ah(e))!==null;);return e}function Ah(e){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ah(e)}function T_t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mS(e,t)}function mS(e,t){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},mS(e,t)}const x_t=ot("#FFFFFF");let X4=(function(e){function t(...r){var n,i;return p_t(this,t),i=v_t(this,t,[...r]),i.zeroLine=new Ie.PIXI.Graphics,i.pMain.addChild(i.zeroLine),i.valueScaleTransform=sn,(n=i.options)!=null&&n.colorRange&&(i.options.colorRangeGradient?i.setColorGradient(i.options.colorRange):i.setColorScale(i.options.colorRange)),i.initialized=!0,i}return T_t(t,e),m_t(t,[{key:"setColorScale",value:function(r){r&&(this.colorScale=xs(r),this.colorScale=this.colorScale.map(n=>n.map(i=>i/255)))}},{key:"setColorGradient",value:function(r){if(!r)return;const n=r.length-1;this.colorGradientColors=this.options.align==="bottom"?r.slice().reverse().map((i,o)=>({from:o/n,color:i})):r.map((i,o)=>({from:o/n,color:i}))}},{key:"initTile",value:function(r){this.initialized&&qu(t,"initTile",this)([r])}},{key:"updateTile",value:function(r){(!r.valueScale||!this.scale||this.scale.minValue!==r.scale.minValue||this.scale.maxValue!==r.scale.maxValue)&&this.renderTile(r)}},{key:"renderTile",value:function(r){this.initialized&&qu(t,"renderTile",this)([r])}},{key:"drawTile",value:function(r){if(!r.graphics||!r.tileData||!r.tileData.dense)return;const{graphics:n}=r;r.svgData=void 0;const{tileX:i,tileWidth:o}=this.getTilePosAndDimensions(r.tileData.zoomLevel,r.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),a=r.tileData.dense;if(a.length===0)return;const[s,u]=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue(),0);s.clamp(!0),this.valueScale=s;const l=s.copy();if(l.range([254,0]).clamp(!0),n.clear(),this.drawAxis(this.valueScale),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}const c=ot(this.options.lineStrokeColor||"blue"),h=Et().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([i,i+o]);n.lineStyle(0,c,1);const f=this.options.barFillColor||"grey",p=ot(f),d="barOpacity"in this.options?this.options.barOpacity:1;n.beginFill(p,d),r.drawnAtScale=this._xScale.copy();const m=this.options.align==="top";let v,b,g,y,_,w;if(this.colorGradientColors){_=new Ie.PIXI.Graphics,_.beginFill(x_t,1);const T=SF(this.colorGradientColors,1,this.dimensions[1],0,0,0,this.dimensions[1]);w=new Ie.PIXI.Sprite(Ie.PIXI.Texture.fromCanvas(T,Ie.PIXI.SCALE_MODES.NEAREST)),w.x=this._xScale(i),w.width=this._xScale(i+o)-w.x}for(let T=0;T<a.length;T++)if(v=this._xScale(h(T)),g=this.valueScale(a[T]+u),b=this._xScale(h(T+1))-v,y=this.dimensions[1]-g,m&&(g=0),!(Number.isNaN(y)||y<0||g<0)){if(this.addSVGInfo(r,v,g,b,y,f),h(T)>this.tilesetInfo.max_pos[0])break;if(this.colorScale&&!this.options.colorRangeGradient){const O=Math.round(l(a[T]+u)),E=this.colorScale[O],S=Ie.PIXI.utils.rgb2hex(E);n.beginFill(S,d)}(_||n).drawRect(v,g,b,y)}this.colorGradientColors&&(w.mask=_,n.removeChildren(),n.addChild(w,_))}},{key:"rerender",value:function(r,n){r?.colorRange&&(r.colorRangeGradient?this.setColorGradient(r.colorRange):this.setColorScale(r.colorRange)),qu(t,"rerender",this)([r,n])}},{key:"drawZeroLine",value:function(){this.zeroLine.clear();const r=ot(this.options.barFillColor||"grey"),n=+this.options.barOpacity||1,i=this.options.zeroLineColor?ot(this.options.zeroLineColor):r,o=Number.isNaN(+this.options.zeroLineOpacity)?n:+this.options.zeroLineOpacity;this.zeroLine.beginFill(i,o),this.zeroLine.drawRect(0,this.dimensions[1]-1,this.dimensions[0],1)}},{key:"drawZeroLineSvg",value:function(r){const n=document.createElement("rect");n.setAttribute("id","zero-line"),n.setAttribute("x",0),n.setAttribute("y",this.dimensions[1]-1),n.setAttribute("height",1),n.setAttribute("width",this.dimensions[0]),n.setAttribute("fill",this.options.zeroLineColor||this.options.barFillColor),n.setAttribute("fill-opacity",this.options.zeroLineOpacity||this.options.barOpacity),r.appendChild(n)}},{key:"getXScaleAndOffset",value:function(r){const n=r.domain(),i=this._xScale.domain(),o=(n[1]-n[0])/(i[1]-i[0]),a=this._xScale.domain().map(r)[0];return[o,-a*o]}},{key:"draw",value:function(){this.initialized&&(qu(t,"draw",this)([]),this.options.zeroLineVisible?this.drawZeroLine():this.zeroLine.clear(),Object.values(this.fetchedTiles).forEach(r=>{const[n,i]=this.getXScaleAndOffset(r.drawnAtScale);r.graphics.scale.x=n,r.graphics.position.x=i}))}},{key:"zoomed",value:function(r,n){qu(t,"zoomed",this)([r,n])}},{key:"movedY",value:function(r){}},{key:"zoomedY",value:function(r,n){}},{key:"addSVGInfo",value:function(r,n,i,o,a,s){r.svgData?(r.svgData.barXValues.push(n),r.svgData.barYValues.push(i),r.svgData.barWidths.push(o),r.svgData.barHeights.push(a),r.svgData.barColors.push(s)):r.svgData={barXValues:[n],barYValues:[i],barWidths:[o],barHeights:[a],barColors:[s]}}},{key:"exportSVG",value:function(){let r=null,n=null;[n,r]=qu(t,"superSVG",this)([]),n.setAttribute("class","exported-line-track");const i=document.createElement("g");r.appendChild(i),i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),this.options.zeroLine&&this.drawZeroLineSvg(i),this.visibleAndFetchedTiles().filter(a=>{var s;return(s=a.svgData)==null?void 0:s.barXValues}).forEach(a=>{const s=a.svgData;for(let u=0;u<s.barXValues.length;u++){const l=document.createElement("rect");l.setAttribute("fill",s.barColors[u]),l.setAttribute("stroke",s.barColors[u]),l.setAttribute("x",s.barXValues[u]),l.setAttribute("y",s.barYValues[u]),l.setAttribute("height",s.barHeights[u]),l.setAttribute("width",s.barWidths[u]),a.barBorders&&(l.setAttribute("stroke-width","0.1"),l.setAttribute("stroke","black")),i.appendChild(l)}});const o=document.createElement("g");if(o.setAttribute("id","axis"),n.appendChild(o),o.setAttribute("transform",`translate(${this.axis.pAxis.position.x}, ${this.axis.pAxis.position.y})`),this.options.axisPositionHorizontal==="left"||this.options.axisPositionVertical==="top"){const a=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);o.appendChild(a)}else if(this.options.axisPositionHorizontal==="right"||this.options.axisPositionVertical==="bottom"){const a=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);o.appendChild(a)}return[n,r]}}])})(Df);function E_t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S_t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O_t(n.key),n)}}function k_t(e,t,r){return t&&S_t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O_t(e){var t=P_t(e,"string");return typeof t=="symbol"?t:t+""}function P_t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function C_t(e,t,r){return t=Qy(t),A_t(e,QW()?Reflect.construct(t,r||[],Qy(e).constructor):t.apply(e,r))}function A_t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M_t(e)}function M_t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QW=function(){return!!e})()}function Qy(e){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qy(e)}function I_t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gS(e,t)}function gS(e,t){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},gS(e,t)}let JW=(function(e){function t(){return E_t(this,t),C_t(this,t,arguments)}return I_t(t,e),k_t(t,[{key:"drawTile",value:function(r){this.renderTile(r)}},{key:"renderTile",value:function(r){if(!r.graphics)return;const n=r.graphics,{tileX:i,tileWidth:o}=this.getTilePosAndDimensions(r.tileData.zoomLevel,r.tileData.tilePos,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension),a=r.tileData.dense;if(a.length===0)return;let s=0;if(this.valueScale=null,this.options.valueScaling==="log"){let v=this.medianVisibleValue;this.medianVisibleValue||(v=this.minValue()),this.valueScale=Cs().domain([v,this.maxValue()+v]).range([this.dimensions[1],0]),s=v}else this.valueScale=Et().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(n.clear(),this.drawAxis(this.valueScale),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}const u=ot(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),l=Et().domain([0,this.tilesetInfo.tile_size]).range([i,i+o]);n.lineStyle(0,u,1);const c=this.options.barFillColorTop?this.options.barFillColorTop:"green",h=this.options.barFillColorBottom?this.options.barFillColorBottom:"red",f=ot(c),p=ot(h),d="barOpacity"in this.options?this.options.barOpacity:1;r.drawnAtScale=this._xScale.copy();let m=0;this.options.valueScaling==="log"?m=this.valueScale(1):m=this.valueScale(0),delete r.svgData;for(let v=0;v<a.length;v++){const b=this._xScale(l(v)),g=this.valueScale(a[v]+s),y=this._xScale(l(v+1))-b;if(g>m?(n.beginFill(p,d),this.addSVGInfo(r,b,m,y,g-m,h)):(n.beginFill(f,d),this.addSVGInfo(r,b,g,y,m-g,c)),l(v)>this.tilesetInfo.max_pos[0])break;n.drawRect(b,r.svgData.barYValues[v],y,r.svgData.barHeights[v])}}}])})(X4);function R_t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D_t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j_t(n.key),n)}}function N_t(e,t,r){return t&&D_t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j_t(e){var t=L_t(e,"string");return typeof t=="symbol"?t:t+""}function L_t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function B_t(e,t,r){return t=Mh(t),F_t(e,eX()?Reflect.construct(t,r||[],Mh(e).constructor):t.apply(e,r))}function F_t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z_t(e)}function z_t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eX=function(){return!!e})()}function H_t(e,t,r,n){var i=yS(Mh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function yS(){return yS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=U_t(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},yS.apply(null,arguments)}function U_t(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Mh(e))!==null;);return e}function Mh(e){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mh(e)}function V_t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vS(e,t)}function vS(e,t){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},vS(e,t)}let tX=(function(e){function t(r,n){var i;return R_t(this,t),i=B_t(this,t,[r,n]),i.setColorScale(n.colorRange),i.opacity=n.opacity||1,i}return V_t(t,e),N_t(t,[{key:"setColorScale",value:function(r){this.colorScale=r?xs(r):ih,this.colorScale=this.colorScale.map(n=>n.map(i=>i/255))}},{key:"rerender",value:function(r){r?.colorRange&&this.setColorScale(r.colorRange),this.opacity=r.opacity||1,H_t(t,"rerender",this)([r])}},{key:"drawAxis",value:function(){}},{key:"drawTile",value:function(r){if(!r.graphics||!r.tileData||!r.tileData.dense)return;const n=r.graphics,{tileX:i,tileWidth:o}=this.getTilePosAndDimensions(r.tileData.zoomLevel,r.tileData.tilePos),a=r.tileData.dense;if(a.length===0)return;const[s,u]=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue());if(s.range([254,0]).clamp(!0),this.valueScale=s,n.clear(),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}const l=Et().domain([0,this.tilesetInfo.tile_size]).range([i,i+o]);n.lineStyle(0,0,0);for(let c=0;c<a.length;c++){if(Number.isNaN(a[c]))continue;const h=Math.round(this.valueScale(a[c]+u));if(Number.isNaN(+h))continue;const f=this._xScale(l(c)),p=this._xScale(l(c+1))-f,d=this.dimensions[1];r.xValues[c]=f,r.yValues[c]=h;const m=this.colorScale[h],v=Ie.PIXI.utils.rgb2hex(m);if(n.beginFill(v,this.opacity),c!==0){if(l(c)>this.tilesetInfo.max_pos[0])break;a[c]!==0&&n.drawRect(f,0,p,d)}}}}])})(Df);function G_t(e){let t=0;const r=[];return e.forEach(n=>{t+=+n||0,r.push(t)}),Float64Array.from(r)}const Y_t=(e,t)=>{const r=Hd(e,t);return G_t(e.map(n=>(Array.isArray(n)&&t?n.length:1)/r))};function W_t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X_t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q_t(n.key),n)}}function $_t(e,t,r){return t&&X_t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q_t(e){var t=K_t(e,"string");return typeof t=="symbol"?t:t+""}function K_t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Z_t(e,t,r){return t=Ih(t),Q_t(e,rX()?Reflect.construct(t,r||[],Ih(e).constructor):t.apply(e,r))}function Q_t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J_t(e)}function J_t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rX=function(){return!!e})()}function O7(e,t,r,n){var i=bS(Ih(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function bS(){return bS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=ewt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},bS.apply(null,arguments)}function ewt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Ih(e))!==null;);return e}function Ih(e){return Ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ih(e)}function twt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_S(e,t)}function _S(e,t){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},_S(e,t)}let nX=(function(e){function t(r,n){var i;return W_t(this,t),i=Z_t(this,t,[r,n]),i.pMain=i.pMobile,i.continuousScaling=!1,i.updateDataFetcher(n),i}return twt(t,e),$_t(t,[{key:"updateDataFetcher",value:function(r){if(r?.selectRows&&r.selectRowsAggregationMethod==="server"){const{pubSub:n,dataFetcher:i}=this,o=i.dataConfig.options,a={aggGroups:r.selectRows,aggFunc:r.selectRowsAggregationMode};if(JSON.stringify(o)!==JSON.stringify(a)){const s={...i.dataConfig,options:a};this.dataFetcher=new i.constructor(s,n),this.dataFetcher.dataConfig.tilesetUid&&this.fetchNewTiles(Object.keys(this.fetchedTiles).map(u=>({tileId:u,remoteId:u})))}}}},{key:"rerender",value:function(r,n){this.updateDataFetcher(r),O7(t,"rerender",this)([r,n]),r.selectRows&&(this.selectRowsCumWeights=Y_t(r.selectRows,r.selectRowsAggregationWithRelativeHeight))}},{key:"tileDataToCanvas",value:function(r){const n=document.createElement("canvas");this.options.selectRows&&this.tilesetInfo.shape?(n.width=this.tilesetInfo.shape[0],n.height=Hd(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight)):this.tilesetInfo.shape?(n.width=this.tilesetInfo.shape[0],n.height=this.tilesetInfo.shape[1]):(n.width=this.tilesetInfo.tile_size,n.height=1);const i=n.getContext("2d");if(i.fillStyle="transparent",i.fillRect(0,0,n.width,n.height),r.length!==0&&r.length===4*n.width*n.height){const o=new ImageData(r,n.width,n.height);i.putImageData(o,0,0)}else console.warn("HorizontalMultivecTrack: pixData has an incorrect length.");return n}},{key:"setSpriteProperties",value:function(r,n,i){const{tileX:o,tileWidth:a}=this.getTilePosAndDimensions(n,i,this.tilesetInfo.tile_size),s=o+a;r.width=this._refXScale(s)-this._refXScale(o),r.height=this.dimensions[1],r.x=this._refXScale(o),r.y=0}},{key:"leftTrackZoomed",value:function(r,n,i,o,a){const s=this._xScale(0)-i*this._refXScale(0);this.pMobile.position.x=s+this.position[0],this.pMobile.position.y=this.position[1],this.pMobile.scale.x=i,this.pMobile.scale.y=1}},{key:"zoomed",value:function(r,n,i,o){O7(t,"zoomed",this)([r,n]),this.pMain.position.x=o,this.pMain.position.y=this.position[1],this.pMain.scale.x=i,this.pMain.scale.y=1,this.drawColorbar()}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){const n=this.tilesetInfo.resolutions.map(i=>+i).sort((i,o)=>o-i);this.xTiles=_t.calculateTilesFromResolution(n[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],null,this.tilesetInfo.tile_size)}else this.xTiles=_t.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const r=this.xTiles.map(n=>[this.zoomLevel,n]);this.setVisibleTiles(r)}},{key:"calculateZoomLevel",value:function(){if(!this.tilesetInfo)return;const r=this.tilesetInfo.min_pos[0];let n=null;return this.tilesetInfo.resolutions?n=_t.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,r):n=_t.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),n}},{key:"tileToLocalId",value:function(r){return r.join(".")}},{key:"tileToRemoteId",value:function(r){return r.join(".")}},{key:"getTilePosAtPosition",value:function(r,n){if(!this.tilesetInfo)return;const i=this.calculateZoomLevel(),o=_t.calculateTileWidth(this.tilesetInfo,i,this.tilesetInfo.tile_size),a=this._xScale.invert(r)/o;return[i,Math.floor(a)]}},{key:"getVisibleData",value:function(r,n){const i=this.calculateZoomLevel(),o=_t.calculateTileWidth(this.tilesetInfo,i,this.tilesetInfo.tile_size),a=this._xScale.invert(r)/o;let s=this.tilesetInfo.shape?this.tilesetInfo.shape[1]:1;this.options.selectRows&&(s=Hd(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight));let u=this.tilesetInfo.tile_size*(a-Math.floor(a));const l=n/this.dimensions[1],c=l*s;let h=Math.floor(c),f;this.options.selectRows&&(this.options.selectRowsAggregationWithRelativeHeight&&(h=this.selectRowsCumWeights.findIndex((v,b)=>l<=v&&(b===this.selectRowsCumWeights.length-1||this.selectRowsCumWeights[b+1]>=l))),f=this.options.selectRows[h]);const p=this.tileToLocalId([i,Math.floor(a)]),d=this.fetchedTiles[p];let m="";if(d){this.tilesetInfo.shape||(u=d.tileData.dense.length*(a-Math.floor(a)));let v=null;if(this.tilesetInfo.shape?Array.isArray(f)&&this.options.selectRowsAggregationMethod==="client"?v=f.map(b=>this.tilesetInfo.shape[0]*b+Math.floor(u)):f&&this.options.selectRowsAggregationMethod==="client"?v=this.tilesetInfo.shape[0]*f+Math.floor(u):v=this.tilesetInfo.shape[0]*h+Math.floor(u):v=d.tileData.dense.length*h+Math.floor(u),Array.isArray(v)){const b=UO(this.options.selectRowsAggregationMode),g=v.map(y=>d.tileData.dense[y]);m=Yn(".3f")(b(g)),m+="<br/>",m+=`${v.length}-item ${this.options.selectRowsAggregationMode}`}else m=Yn(".3f")(d.tileData.dense[v]),Array.isArray(f)&&(m+="<br/>",m+=`${f.length}-item ${this.options.selectRowsAggregationMode}`)}if(this.tilesetInfo.row_infos){m+="<br/>";let v="";this.options.selectRows&&!Array.isArray(f)?v=this.tilesetInfo.row_infos[f]:h>=0&&h<this.tilesetInfo.row_infos.length&&(v=this.tilesetInfo.row_infos[h]),typeof v=="object"?m+=Object.values(v).join("	"):m+=v}return`${m}`}},{key:"getMouseOverHtml",value:function(r,n){var i;if(!this.tilesetInfo)return"";const o=this.getTilePosAtPosition(r,n);let a="";if((i=this.options)!=null&&i.heatmapValueScaling&&this.options.heatmapValueScaling==="categorical"&&this.options.colorRange){const s=this.getVisibleData(r,n).split("<br/>"),u=this.options.colorRange[Number.parseInt(s[0],10)-1],l=s[1];if(Number.isNaN(u)||u==="NaN"||typeof u>"u"||u==="undefined")return"";a=`<svg width="10" height="10" style="position:relative;bottom:1px"><rect width="10" height="10" rx="2" ry="2"
                 style="fill:${u};stroke:black;stroke-width:2;"></svg> ${l}`}else a+=`Data value: ${this.getVisibleData(r,n)}</br>`,a+=`Zoom level: ${o[0]} tile position: ${o[1]}`;return a}}])})(q1);function rwt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nwt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,owt(n.key),n)}}function iwt(e,t,r){return t&&nwt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function owt(e){var t=awt(e,"string");return typeof t=="symbol"?t:t+""}function awt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function swt(e,t,r){return t=Rh(t),lwt(e,iX()?Reflect.construct(t,r||[],Rh(e).constructor):t.apply(e,r))}function lwt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uwt(e)}function uwt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iX=function(){return!!e})()}function og(e,t,r,n){var i=wS(Rh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function wS(){return wS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=cwt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},wS.apply(null,arguments)}function cwt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Rh(e))!==null;);return e}function Rh(e){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rh(e)}function hwt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TS(e,t)}function TS(e,t){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},TS(e,t)}let oX=(function(e){function t(){return rwt(this,t),swt(this,t,arguments)}return hwt(t,e),iwt(t,[{key:"initTile",value:(function(r){r.barXValues=new Array(r.tileData.dense.length),r.barYValues=new Array(r.tileData.dense.length),r.barWidths=new Array(r.tileData.dense.length),r.barHeights=new Array(r.tileData.dense.length),og(t,"initTile",this)([r])})},{key:"drawTile",value:function(r){if(!r.graphics||!r.tileData||!r.tileData.dense)return;const n=r.graphics,{tileX:i,tileWidth:o}=this.getTilePosAndDimensions(r.tileData.zoomLevel,r.tileData.tilePos),a=r.tileData.dense;if(a.length===0)return;let s=0;if(this.valueScale=null,this.options.valueScaling==="log"){let f=this.medianVisibleValue;this.medianVisibleValue||(f=this.minValue()),this.valueScale=Cs().domain([f,this.maxValue()+f]).range([this.dimensions[1],0]),s=f}else this.valueScale=Et().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(n.clear(),this.drawAxis(this.valueScale),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}const u=ot(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),l=Et().domain([0,this.tilesetInfo.tile_size]).range([i,i+o]);n.lineStyle(0,u,1);const c=this.options.pointSize?this.options.pointSize:3,h=ot(this.options.pointColor?this.options.pointColor:"red");n.beginFill(h,1),r.drawnAtScale=this._xScale.copy();for(let f=0;f<a.length;f++){const p=this._xScale(l(f)),d=this.valueScale(a[f]+s);if(r.barXValues[f]=p-c/2/this.pMain.scale.x,r.barYValues[f]=d-c/2/this.pMain.scale.y,r.barWidths[f]=c/this.pMain.scale.x,r.barHeights[f]=c/this.pMain.scale.y,l(f)>this.tilesetInfo.max_pos[0])break;n.drawRect(p-c/2/this.pMain.scale.x,d-c/2/this.pMain.scale.y,c/this.pMain.scale.x,c/this.pMain.scale.y)}}},{key:"draw",value:function(){og(t,"draw",this)([]);for(const r of hr(this.fetchedTiles)){const n=(r.drawnAtScale.domain()[1]-r.drawnAtScale.domain()[0])/(this._xScale.domain()[1]-this._xScale.domain()[0]),i=this._xScale.domain().map(r.drawnAtScale)[0];r.graphics.scale.x=n,r.graphics.position.x=-i*n}}},{key:"zoomed",value:function(r,n,i,o,a){og(t,"zoomed",this)([r,n])}},{key:"exportSVG",value:function(){let r=null,n=null;[n,r]=og(t,"superSVG",this)([]),n.setAttribute("class","exported-line-track");const i=document.createElement("g");r.appendChild(i),i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`);for(const a of this.visibleAndFetchedTiles())for(let s=0;s<a.barXValues.length;s++){const u=document.createElement("rect"),l=this.options.lineStrokeColor||"blue",c=this.options.pointColor||"red";u.setAttribute("fill",c),u.setAttribute("stroke",l),u.setAttribute("stroke-width",0),u.setAttribute("x",a.barXValues[s]),u.setAttribute("y",a.barYValues[s]),u.setAttribute("height",a.barHeights[s]),u.setAttribute("width",a.barWidths[s]),i.appendChild(u)}const o=document.createElement("g");if(o.setAttribute("id","axis"),n.appendChild(o),o.setAttribute("transform",`translate(${this.axis.pAxis.position.x}, ${this.axis.pAxis.position.y})`),this.options.axisPositionHorizontal==="left"||this.options.axisPositionVertical==="top"){const a=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);o.appendChild(a)}else if(this.options.axisPositionHorizontal==="right"||this.options.axisPositionVertical==="bottom"){const a=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);o.appendChild(a)}return[n,r]}}])})(Df);var fwt=function(e,t){var r=e.length,n=0,i=t||!1;e=e.map(pwt),e[0]!=e[e.length-1]&&(e=e.concat(e[0]));for(var o=0;o<r;o++)n+=e[o].x*e[o+1].y-e[o].y*e[o+1].x;return i?n/2:Math.abs(n)/2};function pwt(e){return Array.isArray(e)?{x:e[0],y:e[1]}:e}const dwt=Ji(fwt);function mwt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gwt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vwt(n.key),n)}}function ywt(e,t,r){return t&&gwt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vwt(e){var t=bwt(e,"string");return typeof t=="symbol"?t:t+""}function bwt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _wt(e,t,r){return t=Dh(t),wwt(e,aX()?Reflect.construct(t,r||[],Dh(e).constructor):t.apply(e,r))}function wwt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Twt(e)}function Twt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aX=function(){return!!e})()}function P7(e,t,r,n){var i=xS(Dh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function xS(){return xS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=xwt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},xS.apply(null,arguments)}function xwt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Dh(e))!==null;);return e}function Dh(e){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dh(e)}function Ewt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ES(e,t)}function ES(e,t){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ES(e,t)}const Swt=(e,t,r)=>{const n=Object.values(e.drawnRects),i=[t,r],o=[],a=e.rectGraphics;for(const s of n){const u=s[0].slice(0),l=CW(u,a.scale.x,a.position.x,a.scale.y,a.position.y),c=dwt(l);if(G4(l,i)===-1){const h=s[1];h.area=c,o.push(h)}}return o};let sX=(function(e){function t(r,n,i){return mwt(this,t),_wt(this,t,[r,n])}return Ewt(t,e),ywt(t,[{key:"rerender",value:function(r,n){if(r&&r.projectUid!==this.options.projectUid){this.options=r,this.fetchedTiles={},this.refreshTiles();return}P7(t,"rerender",this)([r,n])}},{key:"tileToLocalId",value:function(r){return this.tileToRemoteId(r)}},{key:"tileToRemoteId",value:function(r){let n=`${r.join(".")}`;return this.options.projectUid&&(n=`${n}.ui=${this.options.projectUid}`),n}},{key:"click",value:function(r,n){const i=Swt(this,r,n);return i.length?this.selectRect(i[0].value.uid):this.selectRect(null),{type:"1d-annotations",event:null,payload:i}}},{key:"render",value:function(){P7(t,"render",this)([])}}])})(W4);function kwt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Owt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cwt(n.key),n)}}function Pwt(e,t,r){return t&&Owt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cwt(e){var t=Awt(e,"string");return typeof t=="symbol"?t:t+""}function Awt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Mwt(e,t,r){return t=Nh(t),Iwt(e,lX()?Reflect.construct(t,r||[],Nh(e).constructor):t.apply(e,r))}function Iwt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rwt(e)}function Rwt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lX=function(){return!!e})()}function ag(e,t,r,n){var i=SS(Nh(1&n?e.prototype:e),t,r);return 2&n&&typeof i=="function"?function(o){return i.apply(r,o)}:i}function SS(){return SS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Dwt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},SS.apply(null,arguments)}function Dwt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Nh(e))!==null;);return e}function Nh(e){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nh(e)}function Nwt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kS(e,t)}function kS(e,t){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},kS(e,t)}const jwt=250;let uX=(function(e){function t(r,n){var i;kwt(this,t),i=Mwt(this,t,[r,n]);const{pubSub:o}=r;i.drawnAnnotations={},i.drawnAnnoGfx={},i.selectedAnno=null,i.options.minSquareSize=+i.options.minSquareSize;const{publish:a,subscribe:s,unsubscribe:u}=lb();return i.publish=a,i.subscribe=s,i.unsubscribe=u,i.sT=0,i.annoSelectedBound=i.annoSelected.bind(i),i.pubSubs.push(o.subscribe("annoSelected",i.annoSelectedBound)),i}return Nwt(t,e),Pwt(t,[{key:"minX",get:function(){var r;return(r=this.tilesetInfo)!=null&&r.min_pos?this.tilesetInfo.min_pos[0]:0}},{key:"maxX",get:function(){var r;return(r=this.tilesetInfo)!=null&&r.max_pos?this.tilesetInfo.max_pos[0]:this.tilesetInfo.max_width||this.tilesetInfo.max_size}},{key:"minY",get:function(){return this.minX}},{key:"maxY",get:function(){return this.maxX}},{key:"maxSize",get:function(){return this.tilesetInfo.max_pos&&Math.max(this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1])||(this.tilesetInfo.max_size?this.tilesetInfo.max_size:0)}},{key:"projection",value:function([r,n]){return[this._xScale(r),this._yScale(n)]}},{key:"tileToLocalId",value:function(r){return`${r.join(".")}`}},{key:"tileToRemoteId",value:function(r){return`${r.join(".")}`}},{key:"localToRemoteId",value:function(r){const n=r.split(".");return n.slice(0,n.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const r=_t.calculateZoomLevel(this._xScale,this.minX,this.maxX),n=_t.calculateZoomLevel(this._yScale,this.minY,this.maxY);return AF(lx(r,n),this.maxZoom)}},{key:"setVisibleTiles",value:function(r){this.visibleTiles=r.map(n=>({tileId:this.tileToLocalId(n),remoteId:this.tileToRemoteId(n)})),this.visibleTileIds=new Set(this.visibleTiles.map(n=>n.tileId))}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel(),this.xTiles=_t.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.tilesetInfo.max_zoom,this.maxSize),this.yTiles=_t.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.tilesetInfo.max_zoom,this.maxSize);const r=this.zoomLevel,n=[];for(let i=0;i<this.xTiles.length;i++)for(let o=0;o<this.yTiles.length;o++)n.push([r,this.xTiles[i],this.yTiles[o]]);this.setVisibleTiles(n)}},{key:"draw",value:function(){this.drawnAnnotations={},ag(t,"draw",this,3)([])}},{key:"drawTile",value:function(r,n=!1,i=!1){if(!r.graphics)return;r.graphics.__tile__=r;const o=r.graphics;o.clear(),this.setBorderStyle(o),this.setFill(o),o.alpha=+this.options.rectangleDomainOpacity,r.tileData.length&&r.tileData.filter(a=>!(a.uid in this.drawnAnnotations)||n).forEach(a=>{const[s,u]=this.projection([a.xStart,a.yStart]),[l,c]=this.projection([a.xEnd,a.yEnd]);this.options.exclude&&this.options.exclude.indexOf(a.uid)>=0||this.drawAnnotation(this.prepAnnotation(o,a.uid,s,u,l-s,c-u,a),i)})}},{key:"prepAnnotation",value:function(r,n,i,o,a,s,u){let l;try{l=JSON.parse(u.fields)}catch{}return{graphics:r,id:u.id,uid:n,annotation:{x:i,y:o,width:a,height:s},dataPos:[u.xStart,u.xEnd,u.yStart,u.yEnd],importance:u.importance,info:l}}},{key:"drawAnnotation",value:function({graphics:r,id:n,uid:i,annotation:o,dataPos:a,importance:s,info:u},l){this.options.minSquareSize&&(o.width<this.options.minSquareSize||o.height<this.options.minSquareSize)&&(o.x=(o.x+o.width)/2,o.y=(o.y+o.height)/2,o.width=this.options.minSquareSize,o.height=this.options.minSquareSize),this.drawnAnnotations[i]=o;const c=[o.x,o.y,o.width,o.height];let h=this.drawnAnnoGfx[i];h||(h=new Ie.PIXI.Graphics,this.drawnAnnoGfx[i]=h),r.children.indexOf(h)===-1&&r.addChild(h),this._drawRect(h,c,i),r.interactive=!0,h.interactive=!0,h.buttonMode=!0;const f={id:n,uid:i,dataPos:a,importance:s,info:u,viewPos:[o.x,o.y,o.x+o.width,o.y+o.height]};h.mouseover=()=>this.hover(h,c,i),h.mouseout=()=>this.blur(h,c,i),h.mousedown=()=>this.mouseDown(),h.mouseup=p=>this.mouseUp(h,c,i,p,f),l||this.publish("annotationDrawn",{trackUuids:this.uuid,annotationUuid:i,annotationId:n,viewPos:c,dataPos:a,importance:s,info:u})}},{key:"_drawRect",value:function(r,n,i){let o=this.options.rectangleDomainStrokeColor,a=this.options.rectangleDomainStrokeWidth,s=this.options.rectangleDomainStrokeOpacity,u=this.options.rectangleDomainFillColor,l=this.options.rectangleDomainFillOpacity;this.hoveredAnno===i&&(o=this.options.hoverColor,a=this.options.rectangleDomainStrokeWidth+1||2,s=1,u=this.options.hoverColor,l=this.options.rectangleDomainFillOpacity),this.selectedAnno&&this.selectedAnno.uid===i&&(o=this.options.selectColor,a=this.options.rectangleDomainStrokeWidth+1||2,s=1,u=this.options.selectColor,l=lx(.33,this.options.rectangleDomainFillOpacity)),r.clear(),this.options.trackBorderBgWidth&&(this.setBorderStyle(r,this.options.trackBorderBgColor,this.options.trackBorderBgWidth,this.options.trackBorderBgAlpha),this.setFill(r,u,0),r.drawRect(...n)),this.setBorderStyle(r,o,a,s),this.setFill(r,u,l),r.drawRect(...n),r.__viewPos__=n}},{key:"context",value:function(r,n,i){return o=>o(r,n,i)}},{key:"click",value:function(r,n,i,o,a){this.select(r,n,i),this.pubSub.publish("app.click",{type:"annotation",event:o,payload:a})}},{key:"mouseDown",value:function(){this.sT=performance.now()}},{key:"mouseUp",value:function(r,n,i,o,a){performance.now()-this.sT<=jwt&&this.click(r,n,i,o,a)}},{key:"hover",value:function(r,n,i){this.hoveredAnno=i,this._drawRect(r,n,i),this.animate()}},{key:"focus",value:function(r,n,i){this._drawRect(r,n,i),this.animate()}},{key:"blur",value:function(r,n,i){this.hoveredAnno=null,this._drawRect(r,n,i),this.animate()}},{key:"select",value:function(r,n,i,o=!1){let a=null,s=null;this.selectedAnno&&(a=this.selectedAnno.graphics,s=this.selectedAnno.uid),this.selectedAnno={graphics:r,uid:i},this.focus(r,n,i),this.options.onSelect&&!o&&(window[this.options.onSelect](i),this.pubSub.publish("annoSelected",i)),a&&s&&this.blur(a,a.__viewPos__,s)}},{key:"unselect",value:function(){const r=this.selectedAnno.graphics,n=this.selectedAnno.uid;this.selectedAnno=null,this.blur(r,r.__viewPos__,n)}},{key:"annoSelected",value:function(r){if(!this.selectedAnno||this.selectedAnno.uid!==r){this.selectedAnno&&this.unselect();const n=this.drawnAnnoGfx[r];n&&this.select(n,n.__viewPos__,r,!0)}}},{key:"exportSVG",value:function(){let r=null,n=null;ag(t,"exportSVG",this,1)?[n,r]=ag(t,"exportSVG",this,3)([]):(n=document.createElement("g"),r=n);const i=document.createElement("g");return i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),r.appendChild(i),this.visibleAndFetchedTiles().filter(o=>{var a;return(a=o.tileData)==null?void 0:a.length}).map(o=>({graphics:o.graphics,td:o.tileData})).forEach(({td:o,graphics:a})=>{const s=document.createElement("g");if(s.setAttribute("transform",`translate(${a.position.x},${a.position.y})scale(${a.scale.x},${a.scale.y})`),i.appendChild(s),o.uid in this.drawnAnnotations){const u=this.drawnAnnotations[o.uid],l=document.createElement("rect");l.setAttribute("x",u.x),l.setAttribute("y",u.y),l.setAttribute("width",u.width),l.setAttribute("height",u.height),l.setAttribute("fill",this.options.fillColor||"grey"),l.setAttribute("opacity",.3),l.style.stroke=this.options.fillColor||"grey",l.style.strokeWidth="1px",s.appendChild(l)}}),[n,n]}},{key:"setBorderStyle",value:function(r,n=this.options.rectangleDomainStrokeColor,i=this.options.rectangleDomainStrokeWidth,o=this.options.rectangleDomainStrokeOpacity){r.lineStyle(typeof i<"u"?i:1,ot(n||"black"),typeof o<"u"?o:1)}},{key:"setFill",value:function(r,n=this.options.rectangleDomainFillColor,i=this.options.rectangleDomainFillOpacity){r.beginFill(ot(n||"grey"),typeof i<"u"?i:.4)}},{key:"setPosition",value:function(r){ag(t,"setPosition",this,3)([r]),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(r,n){this.xScale(r),this.yScale(n),this.refreshTiles(),this.draw()}}])})(Qa);function Lwt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bwt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zwt(n.key),n)}}function Fwt(e,t,r){return t&&Bwt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zwt(e){var t=Hwt(e,"string");return typeof t=="symbol"?t:t+""}function Hwt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Uwt(e,t,r){return t=jh(t),Vwt(e,cX()?Reflect.construct(t,r||[],jh(e).constructor):t.apply(e,r))}function Vwt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gwt(e)}function Gwt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cX=function(){return!!e})()}function sg(e,t,r,n){var i=OS(jh(1&n?e.prototype:e),t,r);return 2&n&&typeof i=="function"?function(o){return i.apply(r,o)}:i}function OS(){return OS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Ywt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},OS.apply(null,arguments)}function Ywt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=jh(e))!==null;);return e}function jh(e){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jh(e)}function Wwt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PS(e,t)}function PS(e,t){return PS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},PS(e,t)}function C7(e,t,r,n,i,o,a,s,u,l){const c=l?e._xScale(r.yStart):e._xScale(r.xStart),h=l?e._xScale(r.yEnd):e._xScale(r.xEnd),f=l?e._yScale(r.xStart):e._yScale(r.yStart),p=l?e._yScale(r.xEnd):e._yScale(r.yEnd),d=r.uid+l,m=h-c,v=p-f;let b={x:c,y:f,width:m,height:v};n&&(m<n||v<n)&&(b={x:c-n/2,y:f-n/2,width:n,height:n}),e.drawnRects[d]=b;const g=b.x+b.width,y=b.y+b.height;(b.x>i&&b.x<o||g>i&&g<o||b.y>a&&b.y<s||y>a&&y<s)&&(b.width>u||b.height>u)&&(t.drawRect(b.x,b.y,b.width,b.height),e.publish("annotationDrawn",{trackUuid:e.uuid,annotationUuid:d,viewPos:[b.x,b.y,b.width,b.height],dataPos:[r.xStart,r.xEnd,r.yStart,r.yEnd],importance:r.importance,info:{patternType:e.options.patternType}}))}let hX=(function(e){function t(...r){var n;Lwt(this,t),n=Uwt(this,t,[...r]),n.drawnRects={};const{publish:i,subscribe:o,unsubscribe:a}=lb();return n.publish=i,n.subscribe=o,n.unsubscribe=a,n}return Wwt(t,e),Fwt(t,[{key:"tileToLocalId",value:function(r){return`${r.join(".")}`}},{key:"tileToRemoteId",value:function(r){return`${r.join(".")}`}},{key:"localToRemoteId",value:function(r){const n=r.split(".");return n.slice(0,n.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const r=_t.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),n=_t.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);let i=Math.max(r,n);return i=Math.min(i,this.maxZoom),i}},{key:"setVisibleTiles",value:function(r){this.visibleTiles=r.map(n=>({tileId:this.tileToLocalId(n),remoteId:this.tileToRemoteId(n)})),this.visibleTileIds=new Set(this.visibleTiles.map(n=>n.remoteId))}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel(),this.xTiles=_t.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=_t.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const r=this.xTiles,n=this.yTiles,i=this.zoomLevel,o=[];for(let a=0;a<r.length;a++)for(let s=0;s<n.length;s++){const u=[i,r[a],n[s]];o.push(u)}this.setVisibleTiles(o)}},{key:"initTile",value:function(){}},{key:"destroyTile",value:function(){}},{key:"draw",value:function(){this.drawnRects={},sg(t,"draw",this,3)([])}},{key:"drawTile",value:function(r){const n=r.graphics;if(!n)return;n.clear();const i=ot(this.options.rectangleDomainStrokeColor||"black"),o=ot(this.options.rectangleDomainFillColor||"grey");n.lineStyle(typeof this.options.rectangleDomainStrokeWidth<"u"?this.options.rectangleDomainStrokeWidth:1,i,typeof this.options.rectangleDomainStrokeOpacity<"u"?this.options.rectangleDomainStrokeOpacity:1),n.beginFill(o,typeof this.options.rectangleDomainFillOpacity<"u"?this.options.rectangleDomainFillOpacity:.4),n.alpha=this.options.rectangleDomainOpacity||.5;const a=this.options.minSquareSize&&this.options.minSquareSize!=="none"?+this.options.minSquareSize:0,s=this.options.rectangleMinSize?+this.options.rectangleMinSize:0,u=this._xScale.range()[0],l=this._xScale.range()[1],c=this._yScale.range()[0],h=this._yScale.range()[1];r.tileData.length&&r.tileData.filter(f=>!(f.uid in this.drawnRects)).forEach(f=>{C7(this,n,f,a,u,l,c,h,s,this.options.flipDiagonal==="yes"),this.options.flipDiagonal&&this.options.flipDiagonal==="copy"&&C7(this,n,f,a,u,l,c,h,s,!0)})}},{key:"exportSVG",value:function(){let r=null,n=null;sg(t,"exportSVG",this,1)?[n,r]=sg(t,"exportSVG",this,3)([]):(n=document.createElement("g"),r=n);const i=document.createElement("g");i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),r.appendChild(i);for(const o of[!0,!1])for(const a of this.visibleAndFetchedTiles())!a.tileData||!a.tileData.length||a.tileData.forEach(s=>{const u=s.uid+o,l=document.createElement("g");if(l.setAttribute("transform",`translate(${a.graphics.position.x},${a.graphics.position.y})scale(${a.graphics.scale.x},${a.graphics.scale.y})`),i.appendChild(l),u in this.drawnRects){const c=this.drawnRects[u],h=document.createElement("rect");h.setAttribute("x",c.x),h.setAttribute("y",c.y),h.setAttribute("width",c.width),h.setAttribute("height",c.height),h.setAttribute("fill",this.options.rectangleDomainFillColor?this.options.rectangleDomainFillColor:"grey"),h.setAttribute("opacity",.3),h.style.stroke="black",h.style.strokeWidth="1px",l.appendChild(h)}});return[n,n]}},{key:"setPosition",value:function(r){sg(t,"setPosition",this,3)([r]),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(r,n){this.xScale().domain()[0]===r.domain()[0]&&this.xScale().domain()[1]===r.domain()[1]&&this.yScale().domain()[0]===n.domain()[0]&&this.yScale().domain()[1]===n.domain()[1]||(this.xScale(r),this.yScale(n),this.refreshTiles(),this.draw())}},{key:"leftTrackDraw",value:function(){this.draw()}}])})(Qa);function Xwt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $wt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kwt(n.key),n)}}function qwt(e,t,r){return t&&$wt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kwt(e){var t=Zwt(e,"string");return typeof t=="symbol"?t:t+""}function Zwt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qwt(e,t,r){return t=Jy(t),Jwt(e,fX()?Reflect.construct(t,r||[],Jy(e).constructor):t.apply(e,r))}function Jwt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eTt(e)}function eTt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fX=function(){return!!e})()}function Jy(e){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jy(e)}function tTt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CS(e,t)}function CS(e,t){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},CS(e,t)}let pX=(function(e){function t(r,n){var i;return Xwt(this,t),i=Qwt(this,t,[r,n]),i.seen=new Set,i.pMain=i.pMobile,i.rows=[],i}return tTt(t,e),qwt(t,[{key:"uid",value:function(r){return r[r.length-2]}},{key:"segmentOverlap",value:function(r,n){}},{key:"drawAll",value:function(r){this.pMain.clear();const n=new Set,i=r.map(a=>n.has(this.uid(a))?null:(n.add(this.uid(a)),{from:+a[1],to:+a[2],type:a[4],uid:this.uid(a)})).filter(a=>a),o=$0(i);this.rows=o,this.draw()}},{key:"draw",value:function(){const r=this.rows;if(!r)return;const n=f1().range([0,this.dimensions[1]]).padding(.1).domain(Vn(0,this.maxRows())),i=this.pMain;i.clear(),i.lineStyle(1,255,0),i.beginFill(16740363,.8);for(let o=0;o<r.length;o++)for(let a=0;a<r[o].length;a++){const s=r[o][a],u=this._refXScale(s.from),l=this._refXScale(s.to),c=n(o),h=c+n.bandwidth(),f=l-u,p=h-c;i.drawRect(u,c,f,p)}}},{key:"allTilesLoaded",value:function(){const r=this.visibleAndFetchedIds().map(i=>this.fetchedTiles[i].tileData.discrete),n=[].concat(...r);this.drawAll(n)}},{key:"initTile",value:function(r){}},{key:"maxRows",value:function(){return this.rows.length}},{key:"updateTile",value:function(r){}},{key:"destroyTile",value:function(r){r.tileData.discrete.forEach(n=>{const i=n[n.length-2];this.seen.has(i)&&this.seen.delete(i)})}},{key:"drawTile",value:function(r){}}])})(Rf);function rTt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nTt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oTt(n.key),n)}}function iTt(e,t,r){return t&&nTt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oTt(e){var t=aTt(e,"string");return typeof t=="symbol"?t:t+""}function aTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function sTt(e,t,r){return t=Lh(t),lTt(e,dX()?Reflect.construct(t,r||[],Lh(e).constructor):t.apply(e,r))}function lTt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uTt(e)}function uTt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dX=function(){return!!e})()}function Ku(e,t,r,n){var i=AS(Lh(1&n?e.prototype:e),t,r);return 2&n&&typeof i=="function"?function(o){return i.apply(r,o)}:i}function AS(){return AS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=cTt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},AS.apply(null,arguments)}function cTt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Lh(e))!==null;);return e}function Lh(e){return Lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lh(e)}function hTt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MS(e,t)}function MS(e,t){return MS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},MS(e,t)}const A7=11,E2="Arial",M7="outside",IS=10,fTt=4,pTt=20,dTt=ot("#ffffff"),lg=2,mTt=2*IS/3,Zu=2*mTt/3,gTt=50,yTt=5e3,RS="blue",DS="red",$4=(e,t,r)=>{r.type!=="filler"&&t.pubSub.publish("app.click",{type:"gene-annotation",event:e,payload:r})},I7=(e,t)=>{const r=e.concat(t),n=r.map(i=>[i.xStart,1,i.xEnd,1]);$1(n,(i,o)=>{let a=null,s=null;if(r[i].type==="filler"?a=r[i]:s=r[i],r[o].type==="filler"){if(a)return;a=r[o]}else{if(!a)return;s=r[o]}a.xStart>=s.xStart&&a.xEnd<=s.xEnd&&(a.hide=!0)})};function vTt(e,t,r){const{flipText:n,fontSize:i,fontFamily:o,plusStrandColor:a,minusStrandColor:s,maxGeneEntries:u,maxFillerEntries:l,maxTexts:c}=r;if(t.texts={},t.rectGraphics=new Ie.PIXI.Graphics,t.textBgGraphics=new Ie.PIXI.Graphics,t.textGraphics=new Ie.PIXI.Graphics,t.rectMaskGraphics=new Ie.PIXI.Graphics,t.graphics.addChild(t.rectGraphics),t.graphics.addChild(t.textBgGraphics),t.graphics.addChild(t.textGraphics),t.graphics.addChild(t.rectMaskGraphics),t.rectGraphics.mask=t.rectMaskGraphics,!t.tileData.sort)return;t.tileData.sort((p,d)=>d.importance-p.importance);const h=t.tileData.filter(p=>p.type!=="filler").slice(0,u),f=t.tileData.filter(p=>p.type==="filler").slice(0,l);t.tileData=h.concat(f),t.tileData.forEach((p,d)=>{if(p.type==="filler")return;const m=p.fields,v=m[3],b=e.geneId(m,p.type),g=p.strand||m[5];p.strand=p.strand||g;let y=a||RS;if(g==="-"&&(y=s||DS),t.textWidths={},t.textHeights={},d>=c)return;const _=new Ie.PIXI.Text(v,{fontSize:`${i}px`,fontFamily:o,fill:ot(y)});_.interactive=!0,n&&(_.scale.x=-1),_.anchor.x=.5,_.anchor.y=1,t.texts[b]=_,t.texts[b].strand=g,t.textGraphics.addChild(_)}),t.initialized=!0}function R7(e,t,r,n,i,o,a,s,u){const l=s-u/2,c=0;e.forEach(h=>{const f=new Ie.PIXI.Graphics;r.rectGraphics.addChild(f),f.beginFill(o,.1),f.lineStyle(0,o);const p=[i(h.xStart)-c,l,i(h.xEnd)+c,l,i(h.xEnd)+c,l+u,i(h.xStart)-c,l+u,i(h.xStart)-c,l];f.interactive=!0,f.buttonMode=!0,f.mouseup=d=>$4(d,t,h),f.drawPolygon(p),r.allRects.push([p,h.strand,h])})}function bTt(e,t,r,n,i,o,a,s,u,l){const c=s-u/2,h=i.split(",").map(_=>+_+a),f=o.split(",").map(_=>+_+a),p=e._xScale(r),d=e._xScale(n),m=d-p,v=s,b=[];let g=[p,v-lg/2,p+m,v-lg/2,p+m,v+lg/2,p,v+lg/2];t.drawPolygon(g),b.push(g);const y=2*u;for(let _=Math.max(e.position[0],p)+y;_<Math.min(e.position[0]+e.dimensions[0],p+m);_+=y)l==="+"?g=[_,v-Zu/2,_+Zu/2,v,_,v+Zu/2]:g=[_,v-Zu/2,_-Zu/2,v,_,v+Zu/2],b.push(g),t.drawPolygon(g);for(let _=0;_<h.length;_++){const w=h[_],T=f[_],O=e._xScale(w),E=Math.max(1,e._xScale(T)-e._xScale(w));let S=p,A=d;const M=e.geneRectHeight/2;let H=null;l==="+"?(A=d-M,H=[Math.min(O,A),c,Math.min(O+E,A),c,Math.min(O+E,A),c+u,Math.min(O,A),c+u,Math.min(O,A),c]):(S=p+M,H=[Math.max(O,S),c,Math.max(O+E,S),c,Math.max(O+E,S),c+u,Math.max(O,S),c+u,Math.max(O,S),c]),b.push(H),t.drawPolygon(H)}return b}function _Tt(e,t,r,n,i,o,a,s,u){const l=s-u/2;e.forEach(c=>{const h=t._xScale(c.xStart),f=t._xScale(c.xEnd),p=new Ie.PIXI.Graphics;r.rectGraphics.addChild(p),p.beginFill(o,a),p.interactive=!0,p.buttonMode=!0,p.mouseup=v=>$4(v,t,c);const d=t.geneRectHeight/2;let m=[];if(c.strand==="+"||c.fields[5]==="+"){const v=Math.max(h,f-d),b=v+d;m=[v,l,b,l+t.geneRectHeight/2,v,l+t.geneRectHeight]}else{const v=Math.min(f,h+d),b=v-d;m=[v,l,b,l+t.geneRectHeight/2,v,l+t.geneRectHeight]}p.drawPolygon(m),r.allRects.push([m,c.strand,c])})}function wTt(e,t,r,n,i,o,a,s,u){e.forEach(l=>{const c=l.fields,h=+l.chrOffset,f=c[12],p=c[13],d=new Ie.PIXI.Graphics;r.rectGraphics.addChild(d),d.beginFill(o,a),d.interactive=!0,d.buttonMode=!0,d.mouseup=m=>$4(m,t,l),r.allRects=r.allRects.concat(bTt(t,d,l.xStart,l.xEnd,f,p,h,s,u,l.strand||l.fields[5]).map(m=>[m,l.strand,l]))})}function D7(e,t,r,n,i,o,a,s,u){_Tt(e,t,r,n,i,o,a,s,u),wTt(e,t,r,n,i,o,a,s,u)}function TTt(e,t){const{tileX:r,tileWidth:n}=Wd.getTilePosAndDimensions(e.tilesetInfo,t.tileId);t.rectMaskGraphics.clear();const i=Math.floor(Math.random()*16**6);t.rectMaskGraphics.beginFill(i,.3);const o=e._xScale(r),a=0,s=e._xScale(r+n)-e._xScale(r),u=e.dimensions[1];t.rectMaskGraphics.drawRect(o,a,s,u)}let mX=(function(e){function t(r,n){var i;rTt(this,t),i=sTt(this,t,[r,n]);const{animate:o}=r;return i.animate=o,i.options=n,i.fontSize=+i.options.fontSize||A7,i.geneLabelPos=i.options.geneLabelPosition||M7,i.geneRectHeight=+i.options.geneAnnotationHeight||IS,i.geneRectHeight-=2,i.geneStrandSpacing=+i.options.geneStrandSpacing||fTt,i.geneStrandHSpacing=i.geneStrandSpacing/2,i.geneRectHHeight=i.geneRectHeight/2,i}return hTt(t,e),iTt(t,[{key:"initTile",value:function(r){vTt(this,r,{flipText:this.flipText,fontSize:this.fontSize,fontFamily:E2,plusStrandColor:this.options.plusStrandColor,minusStrandColor:this.options.minusStrandColor,maxGeneEntries:gTt,maxFillerEntries:yTt,maxTexts:pTt}),this.renderTile(r)}},{key:"destroyTile",value:function(r){r.rectGraphics.destroy(),r.rectMaskGraphics.destroy(),r.textGraphics.destroy(),r.textBgGraphics.destroy(),r.graphics.destroy()}},{key:"rerender",value:function(r,n){const i=JSON.stringify(r);!n&&i===this.prevOptions||(Ku(t,"rerender",this,3)([r,n]),this.fontSize=+this.options.fontSize||A7,this.geneLabelPos=this.options.geneLabelPosition||M7,this.geneRectHeight=+this.options.geneAnnotationHeight||IS,this.geneStrandHSpacing=this.geneStrandSpacing/2,this.geneRectHHeight=this.geneRectHeight/2,this.prevOptions=i,this.visibleAndFetchedTiles().forEach(o=>{this.renderTile(o)}))}},{key:"drawTile",value:function(){}},{key:"geneId",value:function(r,n){return`${n}_${r[0]}_${r[1]}_${r[2]}_${r[3]}`}},{key:"renderTile",value:function(r){if(!r.initialized)return;r.allRects=[],r.drawnAtScale=this._xScale.copy(),r.rectGraphics.removeChildren(),r.rectGraphics.clear(),r.textBgGraphics.clear();const n={},i=.3,o=.3;n["+"]=ot(this.options.plusStrandColor||RS),n["-"]=ot(this.options.minusStrandColor||DS);let a=r.tileData.filter(m=>m.type==="filler"&&m.strand==="+"),s=r.tileData.filter(m=>m.type==="filler"&&m.strand==="-");const u=r.tileData.filter(m=>m.type!=="filler"&&(m.strand==="+"||m.fields[5]==="+")),l=r.tileData.filter(m=>m.type!=="filler"&&(m.strand==="-"||m.fields[5]==="-"));I7(u,a),I7(l,s),a=a.filter(m=>!m.hide),s=s.filter(m=>!m.hide);const c=this.dimensions[1]/2,h=c-this.geneRectHeight/2-this.geneStrandSpacing/2,f=c+this.geneRectHeight/2+this.geneStrandSpacing/2,p=[this,r,r.rectGraphics,this._xScale,n["+"],i,h,this.geneRectHeight],d=[this,r,r.rectGraphics,this._xScale,n["-"],i,f,this.geneRectHeight];R7(a,...p),R7(s,...d),p[5]=o,d[5]=o,D7(u,...p),D7(l,...d),TTt(this,r),Wd.stretchRects(this,[m=>m.rectGraphics,m=>m.rectMaskGraphics]);for(const m of Object.values(r.texts))m.style={fontSize:`${this.fontSize}px`,FONT_FAMILY:E2,fill:ot(m.strand==="-"?this.options.minusStrandColor||DS:this.options.plusStrandColor||RS)}}},{key:"calculateZoomLevel",value:function(){const r=_t.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);let n=Math.min(r,this.maxZoom);return n=Math.max(n,0),n}},{key:"draw",value:function(){Ku(t,"draw",this,3)([]),this.allTexts=[],this.allBoxes=[];const r=[];this.geneAreaHeight=this.geneRectHeight;const n=this.fontSize/2;Wd.stretchRects(this,[i=>i.rectGraphics,i=>i.rectMaskGraphics]),Object.values(this.fetchedTiles).filter(i=>i.drawnAtScale).forEach(i=>{i.textBgGraphics.clear(),i.textBgGraphics.beginFill(typeof this.options.labelBackgroundColor<"u"?ot(this.options.labelBackgroundColor):dTt);const o=this.parentInFetched(i);i.initialized&&i.tileData.forEach(a=>{if(!i.texts||a.type==="filler")return;const s=a.fields,u=s[3],l=this.geneId(s,a.type),c=i.texts[l];if(!c)return;const h=+a.chrOffset,f=+s[1]+h,p=+s[2]+h,d=(f+p)/2;let m=this.dimensions[1]/2;const v=(this.geneAreaHeight-this.fontSize)/2;if(s[5]==="+"?m-=this.geneLabelPos==="inside"?v+this.geneStrandSpacing-2:this.fontSize/2+this.geneAreaHeight-2:m+=this.geneLabelPos==="inside"?this.fontSize+this.geneStrandSpacing/2+v+1:1.5*this.fontSize+this.geneAreaHeight+2,c.position.x=this._xScale(d),c.position.y=m,!i.textWidths[l]){const b=c.getBounds().width,g=c.getBounds().height;i.textHeights[l]=g,i.textWidths[l]=b}if(o)c.visible=!1;else{c.visible=!0;const b=2;this.flipText?this.allBoxes.push([c.position.x-i.textHeights[l]/2-b,m-n-1,c.position.x+i.textHeights[l]/2+b,m+n-1,u]):this.allBoxes.push([c.position.x-i.textWidths[l]/2-b,m-n-1,c.position.x+i.textWidths[l]/2+b,m+n-1,u]),this.allTexts.push({importance:+s[4],text:c,caption:u,strand:s[5]}),r.push(i.textBgGraphics)}})}),this.hideOverlaps(this.allBoxes,this.allTexts),this.renderTextBg(this.allBoxes,this.allTexts,r)}},{key:"renderTextBg",value:function(r,n,i){n.forEach((o,a)=>{if(o.text.visible&&r[a]&&i[a]){const[s,u,l,c]=r[a],h=l-s,f=c-u;i[a].drawRect(s-h/2,u-f/2,h,f)}})}},{key:"hideOverlaps",value:function(r,n){$1(r,(i,o)=>{n[i].importance>n[o].importance?n[o].text.visible=!1:n[i].text.visible=!1})}},{key:"setPosition",value:function(r){Ku(t,"setPosition",this,3)([r]),[this.pMain.position.x,this.pMain.position.y]=this.position}},{key:"setDimensions",value:function(r){Ku(t,"setDimensions",this,3)([r]),this.halfRectHHeight=this.dimensions[1]/2,this.visibleAndFetchedTiles().forEach(n=>{this.renderTile(n)})}},{key:"zoomed",value:function(r,n){this.xScale(r),this.yScale(n),this.refreshTiles(),this.draw()}},{key:"getMouseOverHtml",value:function(r,n){if(!this.tilesetInfo)return"";const i=[r,n];for(const o of this.visibleAndFetchedTiles())for(let a=0;a<o.allRects.length;a++){if(o.allRects[a][2].type==="filler")continue;const s=o.allRects[a][0].slice(0),u=[];for(;s.length;){const l=s.splice(0,2);l[0]=l[0]*o.rectGraphics.scale.x+o.rectGraphics.position.x,l[1]=l[1]*o.rectGraphics.scale.y+o.rectGraphics.position.y,u.push(l)}if(G4(u,i)===-1){const l=o.allRects[a][2];return`
            <div>
              <b>${l.fields[3]}</b><br>
              <b>Position:</b> ${l.fields[0]}:${l.fields[1]}-${l.fields[2]}<br>
              <b>Strand:</b> ${l.fields[5]}
            </div>
          `}}return""}},{key:"exportSVG",value:function(){let r=null,n=null;Ku(t,"exportSVG",this,1)?[n,r]=Ku(t,"exportSVG",this,3)([]):(n=document.createElement("g"),r=n);const i=document.createElement("g");return i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),r.appendChild(i),this.visibleAndFetchedTiles().filter(o=>o.allRects).forEach(o=>{const a=document.createElement("g");a.setAttribute("transform",`translate(${o.rectGraphics.position.x},
          ${o.rectGraphics.position.y})
          scale(${o.rectGraphics.scale.x},
          ${o.rectGraphics.scale.y})`),o.allRects.forEach(s=>{const u=document.createElement("path"),l=s[0];let c=`M ${l[0]} ${l[1]}`;for(let h=2;h<l.length;h+=2)c+=` L ${l[h]} ${l[h+1]}`;u.setAttribute("d",c),s[1]==="+"?u.setAttribute("fill",this.options.plusStrandColor):u.setAttribute("fill",this.options.minusStrandColor),u.setAttribute("opacity","0.3"),a.appendChild(u)}),i.appendChild(a)}),this.allTexts.filter(o=>o.text.visible).forEach(o=>{const a=document.createElement("g"),s=document.createElement("text");s.setAttribute("text-anchor","middle"),s.setAttribute("font-family",E2),s.setAttribute("font-size",`${this.fontSize}px`),s.setAttribute("dy","-.2em"),a.setAttribute("transform",`scale(${o.text.scale.x},1)`),o.strand==="+"?s.setAttribute("fill",this.options.plusStrandColor):s.setAttribute("fill",this.options.minusStrandColor),s.innerHTML=o.text.text,a.appendChild(s),a.setAttribute("transform",`translate(${o.text.x},${o.text.y})scale(${o.text.scale.x},1)`),i.appendChild(a)}),[n,n]}}])})(Rf);function xTt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ETt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kTt(n.key),n)}}function STt(e,t,r){return t&&ETt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kTt(e){var t=OTt(e,"string");return typeof t=="symbol"?t:t+""}function OTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}let N7=(function(){function e(t){xTt(this,e),this.scene=t.scene,this.originalTrack=t,this.pBase=new Ie.PIXI.Graphics,this.scene.removeChild(t.pBase),this.scene.addChild(this.pBase),this.moveToOrigin=new Ie.PIXI.Graphics,this.moveToOrigin.addChild(t.pBase),this.pBase.addChild(this.moveToOrigin),this.moveToOrigin.rotation=Math.PI/2,t.isLeftModified=!0,t.flipText=!0,this.svgOutput=null,t.gBase&&t.gMain&&(this.originalTrack.gBase.attr("transform",`translate(${this.moveToOrigin.position.x},${this.moveToOrigin.position.y})
                             rotate(90)
                             scale(${this.moveToOrigin.scale.x},${this.moveToOrigin.scale.y})`),this.originalTrack.gMain.attr("transform",`translate(${this.originalTrack.pBase.position.x},${this.originalTrack.pBase.position.y})`))}return STt(e,[{key:"remove",value:function(){this.originalTrack.remove(),this.pBase.clear(),this.scene.removeChild(this.pBase)}},{key:"setDimensions",value:function(t){this.dimensions=t;const r=[t[1],t[0]];this.originalTrack.setDimensions(r)}},{key:"setPosition",value:function(t){this.position=t,this.originalTrack.setPosition(t),this.originalTrack.pBase.position.x=-this.originalTrack.position[0],this.originalTrack.pBase.position.y=-this.originalTrack.position[1],this.moveToOrigin.scale.y=-1,this.moveToOrigin.scale.x=1,this.moveToOrigin.position.x=this.originalTrack.position[0],this.moveToOrigin.position.y=this.originalTrack.position[1],this.originalTrack.gMain&&(this.originalTrack.gBase.attr("transform",`translate(${this.moveToOrigin.position.x},${this.moveToOrigin.position.y})
                                 rotate(90)
                                 scale(${this.moveToOrigin.scale.x},${this.moveToOrigin.scale.y})`),this.originalTrack.gMain.attr("transform",`translate(${this.originalTrack.pBase.position.x},${this.originalTrack.pBase.position.y})`))}},{key:"refXScale",value:function(t){return arguments.length?(this.originalTrack._refXScale=t,this):this.originalTrack._refYScale}},{key:"refYScale",value:function(t){return arguments.length?(this.originalTrack._refYScale=t,this):this.originalTrack._refXScale}},{key:"xScale",value:function(t){return arguments.length?(this.originalTrack._yScale=t,this):this.originalTrack._xScale}},{key:"yScale",value:function(t){return arguments.length?(this.originalTrack._xScale=t,this):this.originalTrack._yScale}},{key:"getMouseOverHtml",value:function(t,r){return this.originalTrack.getMouseOverHtml(r,t)}},{key:"clickOutside",value:function(){this.originalTrack.clickOutside()}},{key:"click",value:function(...t){this.originalTrack.click(...t)}},{key:"draw",value:function(){this.originalTrack.draw()}},{key:"zoomed",value:function(t,r,n=1,i=0,o=0,a=0,s=0){if(this.xScale(t),this.yScale(r),this.originalTrack.leftTrackZoomed){this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),this.originalTrack.leftTrackZoomed(t,r,n,i,o),this.originalTrack.draw();return}const u=this.originalTrack._xScale(0)-n*this.originalTrack._refXScale(0);if(this.originalTrack.pMobile.position.x=u+this.originalTrack.position[0],this.originalTrack.pMobile.position.y=this.originalTrack.position[1]+this.originalTrack.dimensions[1],this.originalTrack.pMobile.scale.x=n,this.originalTrack.pMobile.scale.y=n,this.originalTrack.options.oneDHeatmapFlipped&&(this.originalTrack.pMobile.scale.y=-n,this.originalTrack.pMobile.position.y=this.originalTrack.position[1]),this.originalTrack.leftTrackDraw){this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),this.originalTrack.leftTrackDraw();return}this.originalTrack.zoomed(this.xScale(),this.yScale())}},{key:"zoomedY",value:function(t,r){this.originalTrack.zoomedY(t,r)}},{key:"movedY",value:function(t){this.originalTrack.movedY(t)}},{key:"refScalesChanged",value:function(t,r){this.originalTrack.refScalesChanged(r,t)}},{key:"rerender",value:function(t){this.originalTrack.rerender(t)}},{key:"exportSVG",value:function(){const t=document.createElement("g");if(t.setAttribute("transform",`translate(${this.moveToOrigin.position.x},${this.moveToOrigin.position.y})
                             rotate(90)
                             scale(${this.moveToOrigin.scale.x},${this.moveToOrigin.scale.y})`),this.originalTrack.exportSVG){const r=document.createElement("g");r.setAttribute("transform",`translate(${this.originalTrack.pBase.position.x}, ${this.originalTrack.pBase.position.y})`),r.appendChild(this.originalTrack.exportSVG()[0]),t.appendChild(r)}return[t,t]}},{key:"respondsToPosition",value:function(t,r){return t>=this.position[0]&&t<=this.dimensions[0]+this.position[0]&&r>=this.position[1]&&r<=this.dimensions[1]+this.position[1]}}])})();function PTt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CTt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MTt(n.key),n)}}function ATt(e,t,r){return t&&CTt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MTt(e){var t=ITt(e,"string");return typeof t=="symbol"?t:t+""}function ITt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function RTt(e,t,r){return t=Bh(t),DTt(e,gX()?Reflect.construct(t,r||[],Bh(e).constructor):t.apply(e,r))}function DTt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NTt(e)}function NTt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gX=function(){return!!e})()}function Ap(e,t,r,n){var i=NS(Bh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function NS(){return NS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=jTt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},NS.apply(null,arguments)}function jTt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Bh(e))!==null;);return e}function Bh(e){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bh(e)}function LTt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jS(e,t)}function jS(e,t){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},jS(e,t)}let yX=(function(e){function t(r,n){var i;return PTt(this,t),i=RTt(this,t,[r,n]),i.drawnRects=new Set,i.pMain=i.pMobile,i}return LTt(t,e),ATt(t,[{key:"tileToLocalId",value:function(r){return`${r.join(".")}`}},{key:"tileToRemoteId",value:function(r){return`${r.join(".")}`}},{key:"localToRemoteId",value:function(r){const n=r.split(".");return n.slice(0,n.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){var r;const n=_t.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),i=_t.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);let o=Math.max(n,i);return o=Math.min(o,this.maxZoom),(r=this.options)!=null&&r.maxZoom&&(this.options.maxZoom>=0?o=Math.min(this.options.maxZoom,o):console.error("Invalid maxZoom on track:",this)),o}},{key:"setVisibleTiles",value:function(r){this.visibleTiles=r.map(n=>({tileId:this.tileToLocalId(n),remoteId:this.tileToRemoteId(n)})),this.visibleTileIds=new Set(this.visibleTiles.map(n=>n.tileId))}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel();const r=this._xScale.copy();r.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.xTiles=_t.calculateTiles(this.zoomLevel,r,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=_t.calculateTiles(this.zoomLevel,r,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const n=this.xTiles,i=this.yTiles,o=this.zoomLevel,a=this.tilesetInfo.max_width/2**o,s=[];for(let u=0;u<n.length;u++)for(let l=u;l<i.length;l++){if((l-u-2)*(this._xScale(a)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])continue;const c=[o,n[u],i[l]];c.mirrored=!1,s.push(c)}this.setVisibleTiles(s)}},{key:"initTile",value:function(r){Ap(t,"initTile",this)([r]),this.drawTile(r)}},{key:"destroyTile",value:function(r,n){}},{key:"draw",value:function(){this.delayDrawing||this.drawnRects.clear(),Ap(t,"draw",this)([])}},{key:"drawTile",value:function(r){if(!r.graphics)return;const n=r.graphics;n.clear();const i=ot(this.options.rectangleDomainStrokeColor?this.options.rectangleDomainStrokeColor:"black"),o=ot(this.options.rectangleDomainFillColor?this.options.rectangleDomainFillColor:"grey");if(n.lineStyle(1/this.pMain.scale.x,i,1),n.beginFill(o,.4),n.alpha=this.options.rectangleDomainOpacity?this.options.rectangleDomainOpacity:.5,!!r.tileData.sort)for(const a of r.tileData){const s=this._refXScale(a.xStart),u=this._refXScale(a.xEnd),l=this._refYScale(a.yStart),c=this._refYScale(a.yEnd),h=a.uid;this.drawnRects.has(h)||(this.drawnRects.add(h),n.drawRect(s,l,u-s,c-l),n.pivot.x=this._refXScale(0),n.pivot.y=this._refYScale(0),n.scale.x=-1/Math.sqrt(2),n.rotation=-3*Math.PI/4,n.scale.y=1/Math.sqrt(2),n.position.x=this._refXScale(0),n.position.y=0)}}},{key:"setPosition",value:function(r){Ap(t,"setPosition",this)([r]),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"refScalesChanged",value:function(r,n){Ap(t,"refScalesChanged",this)([r,n]);for(const i in this.fetchedTiles){const o=this.fetchedTiles[i];if(o.sprite){const a=o.graphics;a.pivot.x=this._refXScale(0),a.pivot.y=this._refYScale(0),a.scale.x=-1/Math.sqrt(2),a.rotation=-3*Math.PI/4,a.scale.y=1/Math.sqrt(2),a.position.x=this._refXScale(0),a.position.y=0}}}},{key:"zoomed",value:function(r,n,i,o,a){Ap(t,"zoomed",this)([r,n,i,o,a]),this.pMain.position.x=o,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=i,this.pMain.scale.y=i,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-i,this.pMain.position.y=this.position[1]),this.draw()}},{key:"leftTrackDraw",value:function(){this.draw()}}])})(Qa);function BTt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FTt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HTt(n.key),n)}}function zTt(e,t,r){return t&&FTt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HTt(e){var t=UTt(e,"string");return typeof t=="symbol"?t:t+""}function UTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function VTt(e,t,r){return t=Fh(t),GTt(e,vX()?Reflect.construct(t,r||[],Fh(e).constructor):t.apply(e,r))}function GTt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YTt(e)}function YTt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vX=function(){return!!e})()}function j7(e,t,r,n){var i=LS(Fh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function LS(){return LS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=WTt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},LS.apply(null,arguments)}function WTt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Fh(e))!==null;);return e}function Fh(e){return Fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fh(e)}function XTt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BS(e,t)}function BS(e,t){return BS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},BS(e,t)}const $Tt=300;let bX=(function(e){function t(r,n){var i;BTt(this,t),i=VTt(this,t,[r,n]);const{chromInfoPath:o,pubSub:a}=r;return i.pubSub=a,i.rects={},Es(o,s=>{i.chromInfo=s,i.draw()},i.pubSub),i}return XTt(t,e),zTt(t,[{key:"draw",value:function(){if(!this.chromInfo)return;const r=this.options.minRectWidth?this.options.minRectWidth:10,n=this.options.minRectWidth?this.options.minRectHeight:10;j7(t,"draw",this)([]);const i=this.pMain;i.clear();const o=performance.now();this.options.regions.forEach(a=>{const s=a.slice(0,6).join("-");this.rects[s]||(this.rects[s]={graphics:new Ie.PIXI.Graphics},i.addChild(this.rects[s].graphics)),this.rects[s].timeStamp=o;const u=di(a[6]);let l=di(a[7]);l||(l=u);const c=Ie.PIXI.utils.rgb2hex([u.r/255,u.g/255,u.b/255]),h=Ie.PIXI.utils.rgb2hex([l.r/255,l.g/255,l.b/255]);i.lineStyle(1,h,l.opacity),i.beginFill(c,u.opacity);let f=this._xScale(this.chromInfo.chrPositions[a[0]].pos+ +a[1]);const p=this._xScale(this.chromInfo.chrPositions[a[0]].pos+ +a[2]);let d=this._yScale(this.chromInfo.chrPositions[a[3]].pos+ +a[4]);const m=this._yScale(this.chromInfo.chrPositions[a[3]].pos+ +a[5]);let v=p-f,b=m-d;const g=typeof a[8]<"u"?a[8]:r,y=typeof a[9]<"u"?a[9]:n;v<g&&(f=(f+p)/2-g/2,v=g),b<y&&(d=(d+m)/2-y/2,b=y),i.drawRect(f,d,v,b),this.rects[s].graphics.clear(),this.rects[s].graphics.interactive=!0,this.rects[s].graphics.buttonMode=!0,this.rects[s].graphics.hitArea=new Ie.PIXI.Rectangle(f,d,v,b),this.rects[s].graphics.mousedown=()=>{this.rects[s].mouseDownTime=performance.now()},this.rects[s].graphics.mouseup=_=>{performance.now()-this.rects[s].mouseDownTime<$Tt&&this.pubSub.publish("app.click",{type:"annotation",event:_,payload:a})}})}},{key:"setPosition",value:function(r){j7(t,"setPosition",this)([r]),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(r,n){this.xScale(r),this.yScale(n),this.draw()}}])})(ro);function qTt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KTt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QTt(n.key),n)}}function ZTt(e,t,r){return t&&KTt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QTt(e){var t=JTt(e,"string");return typeof t=="symbol"?t:t+""}function JTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function e2t(e,t,r){return t=zh(t),t2t(e,_X()?Reflect.construct(t,r||[],zh(e).constructor):t.apply(e,r))}function t2t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r2t(e)}function r2t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _X(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_X=function(){return!!e})()}function n2t(e,t,r,n){var i=FS(zh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function FS(){return FS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=i2t(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},FS.apply(null,arguments)}function i2t(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=zh(e))!==null;);return e}function zh(e){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zh(e)}function o2t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zS(e,t)}function zS(e,t){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},zS(e,t)}let wX=(function(e){function t(r,n){var i;qTt(this,t),i=e2t(this,t,[r,n]);const{dataConfig:o,animate:a,pubSub:s}=r;i.searchField=null,i.chromInfo=null,i.animate=a;const u=o.server,l=o.tilesetUid,c=`${u}/chrom-sizes/?id=${l}`;return Es(c,h=>{i.chromInfo=h,i.searchField=new WP(i.chromInfo),i.draw(),i.texts=[];for(let f=0;f<i.chromInfo.cumPositions.length;f++){const p=[];for(let d=0;d<i.chromInfo.cumPositions.length;d++){const m=`${i.chromInfo.cumPositions[f].chr}/${i.chromInfo.cumPositions[d].chr}`,v=new Ie.PIXI.Text(m,{fontSize:"14px",fontFamily:"Arial",fill:"red"});v.anchor.x=.5,v.anchor.y=.5,v.visible=!1,v.hashValue=Math.random(),p.push(v),i.pMain.addChild(v)}i.texts.push(p)}i.draw(),i.animate()},s),i}return o2t(t,e),ZTt(t,[{key:"draw",value:function(){const r=[];if(!this.texts||!this.searchField)return;const n=Ur(this._xScale.domain()[0],this.chromInfo),i=Ur(this._xScale.domain()[1],this.chromInfo),o=Ur(this._yScale.domain()[0],this.chromInfo),a=Ur(this._yScale.domain()[1],this.chromInfo);for(let s=0;s<this.texts.length;s++)for(let u=0;u<this.texts.length;u++)this.texts[s][u].visible=!1;for(let s=n[3];s<=i[3];s++)for(let u=o[3];u<=a[3];u++){const l=this.chromInfo.cumPositions[s],c=this.chromInfo.cumPositions[u],h=l.pos+this.chromInfo.chromLengths[l.chr]/2,f=c.pos+this.chromInfo.chromLengths[c.chr]/2,p=this._xScale(h),d=this._yScale(f),m=this.texts[s][u];m.x=p,m.y=d,m.updateTransform();const v=m.getBounds(),b=v.width/2,g=v.height/2;p+b>this.dimensions[0]?m.x-=p+b-this.dimensions[0]:p-b<0&&(m.x-=p-b),d+g>this.dimensions[1]?m.y-=d+g-this.dimensions[1]:d-g<0&&(m.y-=d-g),m.visible=!0,r.push({importance:this.texts[s][u].hashValue,text:this.texts[s][u],caption:null})}this.hideOverlaps(r)}},{key:"hideOverlaps",value:function(r){let n=[];n=r.map(i=>{const o=i.text;o.updateTransform();const a=o.getBounds();return[a.x,a.y,a.x+a.width,a.y+a.height]}),$1(n,(i,o)=>{r[i].importance>r[o].importance?r[o].text.visible=0:r[i].text.visible=0})}},{key:"setPosition",value:function(r){n2t(t,"setPosition",this)([r]),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(r,n){this.xScale(r),this.yScale(n),this.draw()}}])})(ro);function a2t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s2t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u2t(n.key),n)}}function l2t(e,t,r){return t&&s2t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u2t(e){var t=c2t(e,"string");return typeof t=="symbol"?t:t+""}function c2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function h2t(e,t,r){return t=Hh(t),f2t(e,TX()?Reflect.construct(t,r||[],Hh(e).constructor):t.apply(e,r))}function f2t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p2t(e)}function p2t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TX=function(){return!!e})()}function S2(e,t,r,n){var i=HS(Hh(1&n?e.prototype:e),t,r);return 2&n&&typeof i=="function"?function(o){return i.apply(r,o)}:i}function HS(){return HS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=d2t(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},HS.apply(null,arguments)}function d2t(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Hh(e))!==null;);return e}function Hh(e){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hh(e)}function m2t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&US(e,t)}function US(e,t){return US=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},US(e,t)}let rd=(function(e){function t(r,n){var i;a2t(this,t),i=h2t(this,t,[r,n]);const{chromInfoPath:o,dataConfig:a,animate:s,pubSub:u,orientation:l="2d",isOverlay:c=!1}=r;return i.chromInfo=null,i.animate=s,i.orientation=l,i.isOverlay=c,o&&Es(o,h=>{i.chromInfo=h,i.tilesetInfoReceived()},i.pubSub),i}return m2t(t,e),l2t(t,[{key:"tilesetInfoReceived",value:function(){this.texts=[],this.lineGraphics=new Ie.PIXI.Graphics,this.lineGraphics1dH=new Ie.PIXI.Graphics,this.lineGraphics1dV=new Ie.PIXI.Graphics,this.lineGraphics2d=new Ie.PIXI.Graphics,this.mask1dH=new Ie.PIXI.Graphics,this.mask1dV=new Ie.PIXI.Graphics,this.mask2d=new Ie.PIXI.Graphics,this.lineGraphics.addChild(this.lineGraphics1dH),this.lineGraphics1dH.addChild(this.mask1dH),this.lineGraphics.addChild(this.lineGraphics1dV),this.lineGraphics1dV.addChild(this.mask1dV),this.lineGraphics.addChild(this.lineGraphics2d),this.lineGraphics2d.addChild(this.mask2d),this.pMain.addChild(this.lineGraphics),this.draw(),this.animate()}},{key:"calculateVisibleTiles",value:function(){return[]}},{key:"drawLines",value:function(r=this.orientation,n=0,i=0){let o=this.lineGraphics;this.isOverlay&&r==="1d-horizontal"&&(o=this.lineGraphics1dH),this.isOverlay&&r==="1d-vertical"&&(o=this.lineGraphics1dV),this.isOverlay&&r==="2d"&&(o=this.lineGraphics2d);const a=ot(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),s=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;o.lineStyle(s,a,1),(r==="2d"||r==="1d-horizontal")&&(o.moveTo(this._xScale(0)+n,i),o.lineTo(this._xScale(0)+n,this.dimensions[1]+i)),(r==="2d"||r==="1d-vertical")&&(o.moveTo(n,this._yScale(0)+i),o.lineTo(this.dimensions[0]+n,this._yScale(0)+i));for(let u=0;u<this.chromInfo.cumPositions.length;u++){const l=this.chromInfo.cumPositions[u],c=l.pos+ +this.chromInfo.chromLengths[l.chr]+1;(r==="2d"||r==="1d-horizontal")&&(o.moveTo(this._xScale(c)+n,i),o.lineTo(this._xScale(c)+n,this.dimensions[1]+i)),(r==="2d"||r==="1d-vertical")&&(o.moveTo(n,this._yScale(c)+i),o.lineTo(this.dimensions[0]+n,this._yScale(c)+i))}}},{key:"draw",value:function(){if(this.texts&&this.tilesetInfo)if(this.lineGraphics.clear(),this.isOverlay){this.lineGraphics1dH.clear(),this.lineGraphics1dV.clear(),this.lineGraphics2d.clear(),this.mask1dH.clear(),this.mask1dV.clear(),this.mask2d.clear(),this.mask1dH.beginFill(16777215),this.mask1dV.beginFill(16777215),this.mask2d.beginFill(16711680);for(let r=0;r<this.options.orientationsAndPositions.length;r++){const n=this.options.orientationsAndPositions[r].orientation,{left:i,top:o,width:a,height:s}=this.options.orientationsAndPositions[r].position;n==="1d-horizontal"&&this.mask1dH.drawRect(i,o,a,s),n==="1d-vertical"&&this.mask1dV.drawRect(i,o,a,s),n==="2d"&&this.mask2d.drawRect(i,o,a,s),this.drawLines(n,i,o)}this.lineGraphics1dH.mask=this.mask1dH,this.lineGraphics1dV.mask=this.mask1dV,this.lineGraphics2d.mask=this.mask2d}else this.drawLines()}},{key:"setPosition",value:function(r){S2(t,"setPosition",this,3)([r]),[this.pMain.position.x,this.pMain.position.y]=this.position}},{key:"zoomed",value:function(r,n){this.xScale(r),this.yScale(n),this.draw()}},{key:"createSvgLine",value:function(r,n,i,o,a,s){const u=document.createElement("line");return u.setAttribute("x1",r),u.setAttribute("x2",n),u.setAttribute("y1",i),u.setAttribute("y2",o),u.setAttribute("stroke",a),u.setAttribute("stroke-width",s),u}},{key:"drawLinesSvg",value:function(r,n,i,o,a=0,s=0){const u=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue",l=this.options.lineStrokeWidth;if(n==="2d"||n==="1d-vertical"){const c=this._yScale(0);c>0&&c<s+o&&r.appendChild(this.createSvgLine(a,i+a,c+s,c+s,u,l))}if(n==="2d"||n==="1d-horizontal"){const c=this._xScale(0);c>0&&c<a+i&&r.appendChild(this.createSvgLine(c+a,c+a,s,o+s,u,l))}for(let c=0;c<this.chromInfo.cumPositions.length;c++){const h=this.chromInfo.cumPositions[c],f=h.pos+ +this.chromInfo.chromLengths[h.chr]+1;if(n==="2d"||n==="1d-vertical"){const p=this._yScale(f);p>0&&p<s+o&&r.appendChild(this.createSvgLine(a,i+a,p+s,p+s,u,l))}if(n==="2d"||n==="1d-horizontal"){const p=this._xScale(f);p>0&&p<a+i&&r.appendChild(this.createSvgLine(p+a,p+a,s,o+s,u,l))}}}},{key:"exportSVG",value:function(){let r=null,n=null;S2(t,"exportSVG",this,1)?[n,r]=S2(t,"exportSVG",this,3)([]):(n=document.createElement("g"),r=n);const i=document.createElement("g");if(r.appendChild(i),n.setAttribute("id","ChromosomeGrid"),i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),!this.chromInfo)return[n,r];if(this.isOverlay)for(let o=0;o<this.options.orientationsAndPositions.length;o++){const a=this.options.orientationsAndPositions[o].orientation,{left:s,top:u,width:l,height:c}=this.options.orientationsAndPositions[o].position;this.drawLinesSvg(i,a,l,c,s,u)}else this.drawLinesSvg(i,this.orientation,...this.dimensions);return[n,r]}}])})(Qa);function g2t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y2t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b2t(n.key),n)}}function v2t(e,t,r){return t&&y2t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b2t(e){var t=_2t(e,"string");return typeof t=="symbol"?t:t+""}function _2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function w2t(e,t,r){return t=Uh(t),T2t(e,xX()?Reflect.construct(t,r||[],Uh(e).constructor):t.apply(e,r))}function T2t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x2t(e)}function x2t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xX=function(){return!!e})()}function ug(e,t,r,n){var i=VS(Uh(1&n?e.prototype:e),t,r);return 2&n&&typeof i=="function"?function(o){return i.apply(r,o)}:i}function VS(){return VS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=E2t(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},VS.apply(null,arguments)}function E2t(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Uh(e))!==null;);return e}function Uh(e){return Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uh(e)}function S2t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GS(e,t)}function GS(e,t){return GS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},GS(e,t)}const k2t=200,O2t=6,P2t=2,L7=7829367;let EX=(function(e){function t(r,n){var i;g2t(this,t),i=w2t(this,t,[r,n]);const{dataConfig:o,animate:a,chromInfoPath:s,isShowGlobalMousePosition:u}=r;return i.chromInfo=null,i.dataConfig=o,i.pTicks=new Ie.PIXI.Graphics,i.pMain.addChild(i.pTicks),i.gTicks={},i.tickTexts={},i.options=n,i.isShowGlobalMousePosition=u,i.textFontSize=12,i.textFontFamily="Arial",i.textFontColor="#808080",i.textStrokeColor=i.getTheme()===br?"#000000":"#ffffff",i.pixiTextConfig={fontSize:+i.options.fontSize?`${+i.options.fontSize}px`:`${i.textFontSize}px`,fontFamily:i.textFontFamily,fill:i.options.color||i.textFontColor,lineJoin:"round",stroke:i.options.stroke||i.textStrokeColor,strokeThickness:2},i.stroke=ot(i.pixiTextConfig.stroke),i.tickWidth=k2t,i.tickHeight=O2t,i.tickTextSeparation=P2t,i.tickColor=i.options.tickColor?ot(i.options.tickColor):L7,i.animate=a,i.pubSubs=[],i.options.showMousePosition&&!i.hideMousePosition&&(i.hideMousePosition=Gl(i,i.is2d,i.isShowGlobalMousePosition())),s&&Es(s,l=>{i.chromInfo=l,i.tilesetInfoReceived()},i.pubSub),i}return S2t(t,e),v2t(t,[{key:"tilesetInfoReceived",value:function(){this.rerender(this.options,!0),this.draw(),this.animate()}},{key:"calculateVisibleTiles",value:function(){return[]}},{key:"initBoundsTicks",value:function(){this.pTicks&&(this.pMain.removeChild(this.pTicks),this.pTicks=null),this.gBoundTicks||(this.gBoundTicks=new Ie.PIXI.Graphics,this.leftBoundTick=new Ie.PIXI.Text("",this.pixiTextConfig),this.rightBoundTick=new Ie.PIXI.Text("",this.pixiTextConfig),this.gBoundTicks.addChild(this.leftBoundTick),this.gBoundTicks.addChild(this.rightBoundTick),this.pMain.addChild(this.gBoundTicks)),this.texts=[]}},{key:"initChromLabels",value:function(){if(this.chromInfo){this.gBoundTicks&&(this.pMain.removeChild(this.gBoundTicks),this.gBoundTicks=null),this.pTicks||(this.pTicks=new Ie.PIXI.Graphics,this.pMain.addChild(this.pTicks)),this.texts=[],this.pTicks.removeChildren();for(let r=0;r<this.chromInfo.cumPositions.length;r++){const n=this.chromInfo.cumPositions[r].chr;this.gTicks[n]=new Ie.PIXI.Graphics,this.tickTexts[n]||(this.tickTexts[n]=[]);const i=new Ie.PIXI.Text(n,this.pixiTextConfig);i.hashValue=Math.random(),this.pTicks.addChild(i),this.pTicks.addChild(this.gTicks[n]),this.texts.push(i)}}}},{key:"rerender",value:function(r,n){const i=JSON.stringify(r);!n&&i===this.prevOptions||(this.prevOptions=i,this.options=r,this.tickTexts={},this.pixiTextConfig.fontSize=+this.options.fontSize?`${+this.options.fontSize}px`:this.pixiTextConfig.fontSize,this.pixiTextConfig.fill=this.options.color||this.pixiTextConfig.fill,this.pixiTextConfig.stroke=this.options.stroke||this.pixiTextConfig.stroke,this.stroke=ot(this.pixiTextConfig.stroke),this.tickColor=this.options.tickColor?ot(this.options.tickColor):L7,this.options.tickPositions==="ends"?this.initBoundsTicks():this.initChromLabels(),ug(t,"rerender",this,3)([r,n]),this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=Gl(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}},{key:"formatTick",value:function(r){const n=this._xScale.domain(),i=n[1]-n[0],o=pf(r,i),a=Yn(","),s=Jl(`,.${o}`,i);let u=a;return this.options.tickFormat==="si"?u=s:this.options.tickFormat==="plain"?u=a:this.options.tickPositions==="ends"&&(u=s),u(r)}},{key:"drawBoundsTicks",value:function(r,n){const i=this.gBoundTicks;i.clear(),i.lineStyle(1,0);const o=this.options.reverseOrientation?0:this.dimensions[1],a=this.options.reverseOrientation?this.tickHeight:this.dimensions[1]-this.tickHeight;i.moveTo(1,o),i.lineTo(1,a),i.moveTo(this.dimensions[0]-1,o),i.lineTo(this.dimensions[0]-1,a),this.leftBoundTick.x=0,this.leftBoundTick.y=this.options.reverseOrientation?a+this.tickTextSeparation:a-this.tickTextSeparation,this.leftBoundTick.text=`${r[0]}: ${this.formatTick(r[1])}`,this.leftBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.x=this.dimensions[0],this.rightBoundTick.text=`${n[0]}: ${this.formatTick(n[1])}`,this.rightBoundTick.y=this.options.reverseOrientation?a+this.tickTextSeparation:a-this.tickTextSeparation,this.rightBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.anchor.x=1,this.flipText&&(this.leftBoundTick.scale.x=-1,this.leftBoundTick.anchor.x=1,this.rightBoundTick.scale.x=-1,this.rightBoundTick.anchor.x=0),this.leftBoundTick.tickLine=[1,this.dimensions[1],1,this.dimensions[1]-this.tickHeight],this.rightBoundTick.tickLine=[this.dimensions[0]-1,this.dimensions[1],this.dimensions[0]-1,this.dimensions[1]-this.tickHeight],this.tickTexts={},this.tickTexts.all=[this.leftBoundTick,this.rightBoundTick]}},{key:"drawTicks",value:function(r){const n=this.gTicks[r.chr];n.visible=!0,n.clear();const i=+this.chromInfo.chromLengths[r.chr],o=Math.max(this._xScale(r.pos),0),a=Math.min(this._xScale(r.pos+i),this.dimensions[0]),s=(a-o)/this.tickWidth,u=Et().domain([Math.max(1,this._xScale.invert(0)-r.pos),Math.min(i,this._xScale.invert(this.dimensions[0])-r.pos)]).range(o,a).ticks(s).filter(m=>Number.isInteger(m)),l=this.tickTexts[r.chr],c=this.options.fontIsLeftAligned?(+this.options.fontSize||this.textFontSize)/2:this.tickHeight,h=this.flipText?-1:1,f=this.options.fontIsLeftAligned?h*4:0;let p=this.options.fontIsLeftAligned?0:c+this.tickTextSeparation;for(this.options.reverseOrientation&&(p=this.dimensions[1]-p);l.length<u.length;){const m=new Ie.PIXI.Text("",this.pixiTextConfig);l.push(m),this.gTicks[r.chr].addChild(m)}for(;l.length>u.length;){const m=l.pop();this.gTicks[r.chr].removeChild(m)}let d=0;for(;d<u.length;){l[d].visible=!0,l[d].anchor.x=this.options.fontIsLeftAligned?0:.5,l[d].anchor.y=this.options.reverseOrientation?0:1,this.flipText&&(l[d].scale.x=-1),l[d].x=this._xScale(r.pos+u[d])+f,l[d].y=this.dimensions[1]-p,l[d].text=u[d]===0?`${r.chr}: 1`:`${r.chr}: ${this.formatTick(u[d])}`;const m=this._xScale(r.pos+u[d]);l[d].tickLine=[m-1,this.dimensions[1],m-1,this.dimensions[1]-c-1];const v=this.options.reverseOrientation?0:this.dimensions[1],b=this.options.reverseOrientation?c:this.dimensions[1]-c;n.lineStyle(1,this.stroke),n.moveTo(m-1,v),n.lineTo(m-1,b-1),this.options.fontIsLeftAligned?(n.lineTo(m+2*h+1*h,b-1),n.lineTo(m+2*h+1*h,b+1),n.lineTo(m+1,b+1)):n.lineTo(m+1,b-1),n.lineTo(m+1,v),n.lineStyle(1,this.tickColor),n.moveTo(m,v),n.lineTo(m,b),this.options.fontIsLeftAligned&&n.lineTo(m+2*h,b),d+=1}for(;d<l.length;)l[d].visible=!1,d+=1;return u.length}},{key:"draw",value:function(){if(this.allTexts=[],!this.texts)return;const r=Ur(this._xScale.domain()[0],this.chromInfo),n=Ur(this._xScale.domain()[1],this.chromInfo);if(!r||!n){console.warn("Empty chromInfo:",this.dataConfig,this.chromInfo);return}if(this.options.tickPositions==="ends"){if(!this.gBoundTicks)return;this.gBoundTicks.visible=!0,this.drawBoundsTicks(r,n);return}if(!this.pTicks)return;for(let o=0;o<this.texts.length;o++)this.texts[o].visible=!1,this.gTicks[this.chromInfo.cumPositions[o].chr].visible=!1;let i=this.options.fontIsLeftAligned?0:this.tickHeight+this.tickTextSeparation;this.options.reverseOrientation&&(i=this.dimensions[1]-i),Object.keys(this.chromInfo.chrPositions).forEach(o=>{if(this.tickTexts[o])for(let a=0;a<this.tickTexts[o].length;a++)this.tickTexts[o][a].visible=!1});for(let o=r[3];o<=n[3];o++){const a=this.chromInfo.cumPositions[o],s=a.pos+this.chromInfo.chromLengths[a.chr]/2,u=this._xScale(s),l=this.texts[o];l.anchor.x=this.options.fontIsLeftAligned?0:.5,l.anchor.y=this.options.reverseOrientation?0:1,l.x=u,l.y=this.dimensions[1]-i,l.updateTransform(),this.flipText&&(l.scale.x=-1);const c=this.drawTicks(a);l.visible=c<=0,this.allTexts.push({importance:l.hashValue,text:l,caption:null})}this.hideOverlaps(this.allTexts)}},{key:"hideOverlaps",value:function(r){let n=[];n=r.map(({text:i},o)=>{i.updateTransform();const a=i.getBounds();return[a.x,a.y,a.x+a.width,a.y+a.height]}),$1(n,(i,o)=>{r[i].importance>r[o].importance?r[o].text.visible=!1:r[i].text.visible=!1})}},{key:"setPosition",value:function(r){ug(t,"setPosition",this,3)([r]),[this.pMain.position.x,this.pMain.position.y]=this.position}},{key:"zoomed",value:function(r,n){this.xScale(r),this.yScale(n),this.draw()}},{key:"exportSVG",value:function(){let r=null,n=null;ug(t,"exportSVG",this,1)?[n,r]=ug(t,"exportSVG",this,3)([]):(n=document.createElement("g"),r=n),n.setAttribute("class","chromosome-labels");const i=document.createElement("g");return r.appendChild(i),i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),this.allTexts.filter(o=>o.text.visible).forEach(o=>{const a=hx(o.text);i.appendChild(a)}),Object.values(this.tickTexts).forEach(o=>{o.filter(a=>a.visible).forEach(a=>{let s=hx(a);i.appendChild(s),s=LF(a.x,this.options.reverseOrientation?0:this.dimensions[1],a.x,this.options.reverseOrientation?this.tickHeight:this.dimensions[1]-this.tickHeight,1,this.tickColor);const u=document.createElement("line");u.setAttribute("x1",a.tickLine[0]),u.setAttribute("y1",a.tickLine[1]),u.setAttribute("x2",a.tickLine[2]),u.setAttribute("y2",a.tickLine[3]),u.setAttribute("style","stroke: grey"),i.appendChild(s),i.appendChild(u)})}),[n,r]}}])})(Qa);function C2t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A2t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I2t(n.key),n)}}function M2t(e,t,r){return t&&A2t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function I2t(e){var t=R2t(e,"string");return typeof t=="symbol"?t:t+""}function R2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function D2t(e,t,r){return t=Vh(t),N2t(e,SX()?Reflect.construct(t,r||[],Vh(e).constructor):t.apply(e,r))}function N2t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j2t(e)}function j2t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SX=function(){return!!e})()}function B7(e,t,r,n){var i=YS(Vh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function YS(){return YS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=L2t(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},YS.apply(null,arguments)}function L2t(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Vh(e))!==null;);return e}function Vh(e){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vh(e)}function B2t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WS(e,t)}function WS(e,t){return WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},WS(e,t)}let kX=(function(e){function t(r,n){var i;return C2t(this,t),i=D2t(this,t,[r,n]),i.drawnRects=new Set,i}return B2t(t,e),M2t(t,[{key:"tileToLocalId",value:function(r){return`${r.join(".")}`}},{key:"tileToRemoteId",value:function(r){return`${r.join(".")}`}},{key:"localToRemoteId",value:function(r){const n=r.split(".");return n.slice(0,n.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const r=_t.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),n=_t.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);let i=Math.max(r,n);return i=Math.min(i,this.maxZoom),i}},{key:"setVisibleTiles",value:function(r){this.visibleTiles=r.map(n=>({tileId:this.tileToLocalId(n),remoteId:this.tileToRemoteId(n)})),this.visibleTileIds=new Set(this.visibleTiles.map(n=>n.tileId))}},{key:"calculateVisibleTiles",value:function(r=!0){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel(),this.xTiles=_t.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=_t.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const n=this.xTiles,i=this.yTiles,o=this.zoomLevel,a=[];for(let s=0;s<n.length;s++)for(let u=0;u<i.length;u++){const l=[o,n[s],i[u]];a.push(l)}this.setVisibleTiles(a)}},{key:"initTile",value:function(r){}},{key:"destroyTile",value:function(r,n){}},{key:"draw",value:function(){this.drawnRects.clear(),B7(t,"draw",this)([])}},{key:"drawTile",value:function(r){if(!r.graphics)return;const n=r.graphics;n.clear();const i=ot("green");n.lineStyle(1,255,1),n.beginFill(i,.8),n.alpha=.5;for(const o of r.tileData){const a=this._xScale(o.xStart),s=this._xScale(o.xEnd),u=this._yScale(o.yStart),l=this._yScale(o.yEnd),c=o.uid;if(this.drawnRects.has(c))continue;this.drawnRects.add(c);const h=6,f=6;let p=l-u,d=s-a;const m=(a+s)/2,v=(u+l)/2;p<h&&(p=h),d<f&&(d=f),n.drawRect(m-p/2,v-d/2,p,d)}}},{key:"setPosition",value:function(r){B7(t,"setPosition",this)([r]),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(r,n){this.xScale(r),this.yScale(n),this.refreshTiles(),this.draw()}}])})(Qa);function F2t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z2t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U2t(n.key),n)}}function H2t(e,t,r){return t&&z2t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U2t(e){var t=V2t(e,"string");return typeof t=="symbol"?t:t+""}function V2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function G2t(e,t,r){return t=Gh(t),Y2t(e,OX()?Reflect.construct(t,r||[],Gh(e).constructor):t.apply(e,r))}function Y2t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W2t(e)}function W2t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OX=function(){return!!e})()}function Mp(e,t,r,n){var i=XS(Gh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function XS(){return XS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=X2t(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},XS.apply(null,arguments)}function X2t(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Gh(e))!==null;);return e}function Gh(e){return Gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gh(e)}function $2t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$S(e,t)}function $S(e,t){return $S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},$S(e,t)}let PX=(function(e){function t(r,n){var i;F2t(this,t),i=G2t(this,t,[r,n]);const{animate:o}=r;return i.pMain=i.pMobile,i.colorScale=ih,i.continuousScaling=!1,n?.colorRange&&(i.colorScale=xs(n.colorRange)),i.animate=o,i.options=n,i.pubSubs=[],i}return $2t(t,e),H2t(t,[{key:"rerender",value:function(r,n){Mp(t,"rerender",this)([r,n]),this.zoomed(this.xScale(),this.yScale(),this.pMain.scale.x,this.pMain.position.x,this.pMain.position.y)}},{key:"calculateZoomLevel",value:function(){var r;let n=null;if(this.tilesetInfo.resolutions){const i=_t.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),o=_t.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);n=Math.min(i,o)}else{const i=_t.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),o=_t.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);n=Math.max(i,o),n=Math.min(n,this.maxZoom)}return(r=this.options)!=null&&r.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel();const r=this._xScale.copy();if(r.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.tilesetInfo.resolutions){const u=this.tilesetInfo.resolutions.map(l=>+l).sort((l,c)=>c-l);this.xTiles=_t.calculateTilesFromResolution(u[this.zoomLevel],r,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=_t.calculateTilesFromResolution(u[this.zoomLevel],r,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=_t.calculateTiles(this.zoomLevel,r,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=_t.calculateTiles(this.zoomLevel,r,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const n=this.xTiles,i=this.yTiles,o=this.zoomLevel,a=this.tilesetInfo.max_width/2**o,s=[];for(let u=0;u<n.length;u++)for(let l=u;l<i.length;l++){if((l-u-2)*(this._xScale(a)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])continue;const c=[o,n[u],i[l]];c.mirrored=!1,c.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",s.push(c)}this.setVisibleTiles(s)}},{key:"tileDataToCanvas",value:function(r){const n=document.createElement("canvas");n.width=256,n.height=256;const i=n.getContext("2d");i.fillStyle="transparent",i.fillRect(0,0,n.width,n.height);const o=new ImageData(r,n.width,n.height);return i.putImageData(o,0,0),n}},{key:"setSpriteProperties",value:function(r,n,i,o){const{tileX:a,tileY:s,tileWidth:u,tileHeight:l}=this.getTilePosAndDimensions(n,i),c=a+u,h=s+l;r.width=this._refXScale(c)-this._refXScale(a),r.height=this._refYScale(h)-this._refYScale(s),r.x=this._refXScale(a),r.y=this._refYScale(s)}},{key:"pixDataFunction",value:function(r,n){if(n){const i=r.graphics,o=this.tileDataToCanvas(n.pixData),a=Ie.PIXI.VERSION[0]==="4"?Ie.PIXI.Texture.fromCanvas(o,Ie.PIXI.SCALE_MODES.NEAREST):Ie.PIXI.Texture.from(o,{scaleMode:Ie.PIXI.SCALE_MODES.NEAREST});r.sprite=new Ie.PIXI.Sprite(a),r.canvas=o,this.setSpriteProperties(r.sprite,r.tileData.zoomLevel,r.tileData.tilePos,r.mirrored),i.pivot.x=this._refXScale(0),i.pivot.y=this._refYScale(0),i.scale.x=-1/Math.sqrt(2),i.rotation=-3*Math.PI/4,i.scale.y=1/Math.sqrt(2),i.position.x=this._refXScale(0),i.position.y=0,i.removeChildren(),i.addChild(r.sprite)}this.renderingTiles.delete(r.tileId)}},{key:"refScalesChanged",value:function(r,n){Mp(t,"refScalesChanged",this)([r,n]);for(const i in this.fetchedTiles){const o=this.fetchedTiles[i];if(o.sprite){this.setSpriteProperties(o.sprite,o.tileData.zoomLevel,o.tileData.tilePos,o.mirrored);const a=o.graphics;a.pivot.x=this._refXScale(0),a.pivot.y=this._refYScale(0),a.scale.x=-1/Math.sqrt(2),a.rotation=-3*Math.PI/4,a.scale.y=1/Math.sqrt(2),a.position.x=this._refXScale(0),a.position.y=0}}}},{key:"zoomed",value:function(r,n,i,o,a){Mp(t,"zoomed",this)([r,n,i,o,a]),Mp(t,"draw",this)([]),this.pMain.position.x=o,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=i,this.pMain.scale.y=i,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-i,this.pMain.position.y=this.position[1])}},{key:"leftTrackDraw",value:function(){this.draw()}},{key:"exportSVG",value:function(){let r=null,n=null;[n,r]=Mp(t,"superSVG",this)([]);const i=document.createElement("g");r.appendChild(i),i.setAttribute("transform",`translate(${this.pMain.position.x},${this.pMain.position.y}) scale(${this.pMain.scale.x},${this.pMain.scale.y})`);for(const a of this.visibleAndFetchedTiles()){const s=document.createElement("g"),u=a.graphics,l=u.rotation*180/Math.PI,c=`translate(${u.position.x},${u.position.y}) rotate(${l}) scale(${u.scale.x},${u.scale.y}) translate(${-u.pivot.x},${-u.pivot.y})`;s.setAttribute("transform",c);const h=a.sprite.rotation*180/Math.PI,f=document.createElement("g");f.setAttribute("transform",`translate(${a.sprite.x},${a.sprite.y}) rotate(${h}) scale(${a.sprite.scale.x},${a.sprite.scale.y})`);const p=document.createElement("image");p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.canvas.toDataURL()),p.setAttribute("width",256),p.setAttribute("height",256),f.appendChild(p),s.appendChild(f),i.appendChild(s)}const o=this.exportColorBarSVG();return r.appendChild(o),[n,n]}}])})(q1);function q2t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K2t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q2t(n.key),n)}}function Z2t(e,t,r){return t&&K2t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q2t(e){var t=J2t(e,"string");return typeof t=="symbol"?t:t+""}function J2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function e5t(e,t,r){return t=ev(t),t5t(e,CX()?Reflect.construct(t,r||[],ev(e).constructor):t.apply(e,r))}function t5t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r5t(e)}function r5t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CX=function(){return!!e})()}function ev(e){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ev(e)}function n5t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qS(e,t)}function qS(e,t){return qS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},qS(e,t)}let F7=(function(e){function t(r,n){var i;return q2t(this,t),i=e5t(this,t,[r,n]),i.tilesetInfo={},i.setError(`Unknown track type: ${n.type}`),i}return n5t(t,e),Z2t(t,[{key:"zoomed",value:function(){this.draw()}}])})(ro);function i5t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o5t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s5t(n.key),n)}}function a5t(e,t,r){return t&&o5t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s5t(e){var t=l5t(e,"string");return typeof t=="symbol"?t:t+""}function l5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function u5t(e,t,r){return t=tv(t),c5t(e,AX()?Reflect.construct(t,r||[],tv(e).constructor):t.apply(e,r))}function c5t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h5t(e)}function h5t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AX=function(){return!!e})()}function tv(e){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tv(e)}function f5t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KS(e,t)}function KS(e,t){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},KS(e,t)}let MX=(function(e){function t(r,n){var i;return i5t(this,t),i=u5t(this,t,[r,n]),i.axis=new Zb(i),i.pBase.addChild(i.axis.pAxis),i}return f5t(t,e),a5t(t,[{key:"initTile",value:function(r){this.scale.minRawValue=this.minVisibleValueInTiles(),this.scale.maxRawValue=this.minVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue,this.drawTile(r)}},{key:"drawTile",value:function(r){if(!r.graphics)return;const n=r.graphics,i=6,o=4;n.clear(),this.valueScale=Cs().domain([this.minValue()+.01,this.maxValue()]).range([this.dimensions[1]-i/2,i/2]);const a=ot("black");n.lineStyle(1,a,.3),n.beginFill(a,.3),this.drawAxis(this.valueScale),r.tileData.forEach(s=>{const u=s.fields,l=+s.chrOffset,c=+u[1]+l,h=+u[2]+l,f=+u[3],p=this._xScale(c),d=this._xScale(h),m=Math.max(d-p,o),v=this.valueScale(f),b=(d+p)/2;n.drawRect(b-m/2,v-i/2,m,i)})}},{key:"minVisibleValueInTiles",value:function(){let r=this.visibleAndFetchedIds();return r.length===0&&(r=Object.keys(this.fetchedTiles)),Math.min.apply(null,r.map(n=>+Math.min(...this.fetchedTiles[n].tileData.filter(i=>!Number.isNaN(i.fields[3])).map(i=>+i.fields[3]))))}},{key:"maxVisibleValueInTiles",value:function(){let r=this.visibleAndFetchedIds();return r.length===0&&(r=Object.keys(this.fetchedTiles)),Math.max.apply(null,r.map(n=>+Math.max(...this.fetchedTiles[n].tileData.filter(i=>!Number.isNaN(i.fields[3])).map(i=>+i.fields[3]))))}}])})(Df);function p5t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d5t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g5t(n.key),n)}}function m5t(e,t,r){return t&&d5t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g5t(e){var t=y5t(e,"string");return typeof t=="symbol"?t:t+""}function y5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function v5t(e,t,r){return t=Yh(t),b5t(e,IX()?Reflect.construct(t,r||[],Yh(e).constructor):t.apply(e,r))}function b5t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _5t(e)}function _5t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IX=function(){return!!e})()}function k2(e,t,r,n){var i=ZS(Yh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function ZS(){return ZS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=w5t(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},ZS.apply(null,arguments)}function w5t(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Yh(e))!==null;);return e}function Yh(e){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yh(e)}function T5t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QS(e,t)}function QS(e,t){return QS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},QS(e,t)}let RX=(function(e){function t(r,n){var i;p5t(this,t),i=v5t(this,t,[r,n]);const{registerViewportChanged:o,removeViewportChanged:a,setDomainsCallback:s}=r,u=Nt.nice();return i.uid=u,i.options=n,i.hasFromView=!r.projectionXDomain||!r.projectionYDomain,i.removeViewportChanged=a,i.setDomainsCallback=s,i.viewportXDomain=i.hasFromView?null:r.projectionXDomain,i.viewportYDomain=i.hasFromView?null:r.projectionYDomain,i.brush=t_().on("brush",i.brushed.bind(i)),i.gBrush=i.gMain.append("g").attr("id",`brush-${i.uid}`).call(i.brush),i.gBrush.selectAll(".overlay").style("pointer-events","none"),i.gBrush.selectAll(".handle--n").style("pointer-events","none"),i.gBrush.selectAll(".handle--s").style("pointer-events","none"),i.gBrush.selectAll(".handle--w").style("pointer-events","none"),i.gBrush.selectAll(".handle--e").style("pointer-events","none"),o(u,i.viewportChanged.bind(i)),i.rerender(),i.draw(),i}return T5t(t,e),m5t(t,[{key:"brushed",value:function(r){const n=r.selection;if(!this._xScale||!this._yScale)return;const i=[this._xScale.invert(n[0][0]),this._xScale.invert(n[1][0])],o=[this._yScale.invert(n[0][1]),this._yScale.invert(n[1][1])];this.hasFromView||(this.viewportXDomain=i,this.viewportYDomain=o),this.setDomainsCallback(i,o)}},{key:"viewportChanged",value:function(r,n){const i=r.domain(),o=n.domain();this.viewportXDomain=i,this.viewportYDomain=o,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),k2(t,"remove",this)([])}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(!this._xScale||!this.yScale||!this.viewportXDomain||!this.viewportYDomain)return;const r=this._xScale(this.viewportXDomain[0]),n=this._yScale(this.viewportYDomain[0]),i=this._xScale(this.viewportXDomain[1]),o=this._yScale(this.viewportYDomain[1]),a=[[r,n],[i,o]];this.brush.on("brush",null),this.gBrush.call(this.brush.move,a),this.brush.on("brush",this.brushed.bind(this))}},{key:"zoomed",value:function(r,n){this.xScale(r),this.yScale(n),this.draw()}},{key:"setPosition",value:function(r){k2(t,"setPosition",this)([r]),this.draw()}},{key:"setDimensions",value:function(r){k2(t,"setDimensions",this)([r]);const n=this._xScale.range(),i=this._yScale.range(),o=n[1]-n[0],a=i[1]-i[0];this.brush.extent([[n[0]-o,i[0]-a],[n[1]+o,i[1]+a]]),this.gBrush.call(this.brush),this.draw()}}])})(bu);function x5t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E5t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k5t(n.key),n)}}function S5t(e,t,r){return t&&E5t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function k5t(e){var t=O5t(e,"string");return typeof t=="symbol"?t:t+""}function O5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function P5t(e,t,r){return t=Wh(t),C5t(e,DX()?Reflect.construct(t,r||[],Wh(e).constructor):t.apply(e,r))}function C5t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A5t(e)}function A5t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DX=function(){return!!e})()}function O2(e,t,r,n){var i=JS(Wh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function JS(){return JS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=M5t(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},JS.apply(null,arguments)}function M5t(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Wh(e))!==null;);return e}function Wh(e){return Wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wh(e)}function I5t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ek(e,t)}function ek(e,t){return ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ek(e,t)}let NX=(function(e){function t(r,n){var i;x5t(this,t),i=P5t(this,t,[r,n]);const{registerViewportChanged:o,removeViewportChanged:a,setDomainsCallback:s}=r,u=Nt.nice();return i.uid=u,i.options=n,i.hasFromView=!r.projectionXDomain,i.removeViewportChanged=a,i.setDomainsCallback=s,i.viewportXDomain=i.hasFromView?null:r.projectionXDomain,i.viewportYDomain=i.hasFromView?null:[0,0],i.brush=fh().on("brush",i.brushed.bind(i)),i.gBrush=i.gMain.append("g").attr("id",`brush-${i.uid}`).call(i.brush),i.gBrush.selectAll(".overlay").style("pointer-events","none"),i.gBrush.selectAll(".handle--ne").style("pointer-events","none"),i.gBrush.selectAll(".handle--nw").style("pointer-events","none"),i.gBrush.selectAll(".handle--sw").style("pointer-events","none"),i.gBrush.selectAll(".handle--se").style("pointer-events","none"),i.gBrush.selectAll(".handle--n").style("pointer-events","none"),i.gBrush.selectAll(".handle--s").style("pointer-events","none"),o(u,i.viewportChanged.bind(i)),i.rerender(),i.draw(),i}return I5t(t,e),S5t(t,[{key:"brushed",value:function(r){const n=r.selection;if(!this._xScale||!this._yScale)return;const i=[this._xScale.invert(n[0]),this._xScale.invert(n[1])],o=this.viewportYDomain;this.hasFromView||(this.viewportXDomain=i),this.setDomainsCallback(i,o)}},{key:"viewportChanged",value:function(r,n,i=!0){const o=r.domain(),a=n.domain();this.viewportXDomain=o,this.viewportYDomain=a,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),O2(t,"remove",this)([])}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(!this._xScale||!this.yScale||!this.viewportXDomain||!this.viewportYDomain)return;const r=this._xScale(this.viewportXDomain[0]),n=this._xScale(this.viewportXDomain[1]),i=[r,n];this.brush.on("brush",null),this.gBrush.call(this.brush.move,i),this.brush.on("brush",this.brushed.bind(this))}},{key:"zoomed",value:function(r,n){this.xScale(r),this.yScale(n),this.draw()}},{key:"setPosition",value:function(r){O2(t,"setPosition",this)([r]),this.draw()}},{key:"setDimensions",value:function(r){O2(t,"setDimensions",this)([r]);const n=this._xScale.range(),i=this._yScale.range(),o=n[1]-n[0];this.brush.extent([[n[0]-o,i[0]],[n[1]+o,i[1]]]),this.gBrush.call(this.brush),this.draw()}}])})(bu);function R5t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D5t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j5t(n.key),n)}}function N5t(e,t,r){return t&&D5t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j5t(e){var t=L5t(e,"string");return typeof t=="symbol"?t:t+""}function L5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function B5t(e,t,r){return t=Xh(t),F5t(e,jX()?Reflect.construct(t,r||[],Xh(e).constructor):t.apply(e,r))}function F5t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z5t(e)}function z5t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jX=function(){return!!e})()}function P2(e,t,r,n){var i=tk(Xh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function tk(){return tk=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=H5t(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},tk.apply(null,arguments)}function H5t(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Xh(e))!==null;);return e}function Xh(e){return Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xh(e)}function U5t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rk(e,t)}function rk(e,t){return rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},rk(e,t)}let LX=(function(e){function t(r,n){var i;R5t(this,t),i=B5t(this,t,[r,n]);const{registerViewportChanged:o,removeViewportChanged:a,setDomainsCallback:s}=r,u=Nt.nice();return i.uid=u,i.options=n,i.hasFromView=!r.projectionYDomain,i.removeViewportChanged=a,i.setDomainsCallback=s,i.viewportXDomain=i.hasFromView?null:[0,0],i.viewportYDomain=i.hasFromView?null:r.projectionYDomain,i.brush=Sf().on("brush",i.brushed.bind(i)),i.gBrush=i.gMain.append("g").attr("id",`brush-${i.uid}`).call(i.brush),i.gBrush.selectAll(".overlay").style("pointer-events","none"),i.gBrush.selectAll(".handle--ne").style("pointer-events","none"),i.gBrush.selectAll(".handle--nw").style("pointer-events","none"),i.gBrush.selectAll(".handle--sw").style("pointer-events","none"),i.gBrush.selectAll(".handle--se").style("pointer-events","none"),i.gBrush.selectAll(".handle--e").style("pointer-events","none"),i.gBrush.selectAll(".handle--w").style("pointer-events","none"),o(u,i.viewportChanged.bind(i)),i.rerender(),i.draw(),i}return U5t(t,e),N5t(t,[{key:"brushed",value:function(r){const n=r.selection;if(!this._xScale||!this._yScale)return;const i=this.viewportXDomain,o=[this._yScale.invert(n[0]),this._yScale.invert(n[1])];this.hasFromView||(this.viewportYDomain=o),this.setDomainsCallback(i,o)}},{key:"viewportChanged",value:function(r,n,i=!0){const o=r.domain(),a=n.domain();this.viewportXDomain=o,this.viewportYDomain=a,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),P2(t,"remove",this)([])}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(!this._xScale||!this.yScale||!this.viewportXDomain||!this.viewportYDomain)return;const r=this._yScale(this.viewportYDomain[0]),n=this._yScale(this.viewportYDomain[1]),i=[r,n];this.brush.on("brush",null),this.gBrush.call(this.brush.move,i),this.brush.on("brush",this.brushed.bind(this))}},{key:"zoomed",value:function(r,n){this.xScale(r),this.yScale(n),this.draw()}},{key:"setPosition",value:function(r){P2(t,"setPosition",this)([r]),this.draw()}},{key:"setDimensions",value:function(r){P2(t,"setDimensions",this)([r]);const n=this._xScale.range(),i=this._yScale.range(),o=i[1]-i[0];this.brush.extent([[n[0],i[0]-o],[n[1],i[1]+o]]),this.gBrush.call(this.brush),this.draw()}}])})(bu);function V5t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G5t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W5t(n.key),n)}}function Y5t(e,t,r){return t&&G5t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W5t(e){var t=X5t(e,"string");return typeof t=="symbol"?t:t+""}function X5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $5t(e,t,r){return t=$h(t),q5t(e,BX()?Reflect.construct(t,r||[],$h(e).constructor):t.apply(e,r))}function q5t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K5t(e)}function K5t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BX=function(){return!!e})()}function z7(e,t,r,n){var i=nk($h(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function nk(){return nk=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Z5t(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},nk.apply(null,arguments)}function Z5t(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=$h(e))!==null;);return e}function $h(e){return $h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$h(e)}function Q5t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ik(e,t)}function ik(e,t){return ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ik(e,t)}const q4=n_(e=>(function(t){function r(n,i){var o;V5t(this,r),o=$5t(this,r,[n,i]);const{animate:a}=n;return o.highlighted=!1,o.animate=a,o.MOUSEOVER_RADIUS=4,o.pubSub=n.pubSub,o.pubSubs.push(o.pubSub.subscribe("app.mouseMove",o.mouseMoveHandler.bind(o))),o}return Q5t(r,t),Y5t(r,[{key:"setPosition",value:function(n){z7(r,"setPosition",this)([n]),this.pMain.position.x=this.position[0],this.pMain.position.y=this.position[1]}},{key:"zoomed",value:function(n,i){z7(r,"zoomed",this)([n,i]),this.draw()}},{key:"respondsToPosition",value:function(){return this.highlighted}}])})(e));function H7(e,t,r,n){var i=ok(qh(1&n?e.prototype:e),t,r);return 2&n&&typeof i=="function"?function(o){return i.apply(r,o)}:i}function ok(){return ok=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=J5t(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},ok.apply(null,arguments)}function J5t(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=qh(e))!==null;);return e}function FX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ext(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,txt(n.key),n)}}function zX(e,t,r){return t&&ext(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function txt(e){var t=rxt(e,"string");return typeof t=="symbol"?t:t+""}function rxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function HX(e,t,r){return t=qh(t),nxt(e,UX()?Reflect.construct(t,r||[],qh(e).constructor):t.apply(e,r))}function nxt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ixt(e)}function ixt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UX=function(){return!!e})()}function qh(e){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qh(e)}function VX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ak(e,t)}function ak(e,t){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ak(e,t)}const GX=n_(e=>(function(t){function r(){return FX(this,r),HX(this,r,arguments)}return VX(r,t),zX(r,[{key:"drawVerticalRule",value:function(n){let i=ot(this.options.color||"black");this.highlighted&&(i=ot("red")),n.lineStyle(this.strokeWidth,i,this.strokeOpacity);let o=0;for(;o<this.dimensions[1];)n.moveTo(this._xScale(this.xPosition),o),n.lineTo(this._xScale(this.xPosition),o+this.dashLength),o+=this.dashLength+this.dashGap}},{key:"isMouseOverVerticalLine",value:function(n){return Math.abs(n.x-this.position[0]-this._xScale(this.xPosition))<this.MOUSEOVER_RADIUS}}])})(e));let YX=(function(e){function t(r,n){var i;return FX(this,t),i=HX(this,t,[r,n]),i.xPosition=r.xPosition,i.strokeWidth=2,i.strokeOpacity=1,i.dashLength=5,i.dashGap=3,i}return VX(t,e),zX(t,[{key:"draw",value:function(){const r=this.pMain;r.clear(),this.drawVerticalRule(r),this.animate()}},{key:"exportSVG",value:function(){let r=null,n=null;H7(t,"exportSVG",this,1)?[n,r]=H7(t,"exportSVG",this,3)([]):(n=document.createElement("g"),r=n);const i=document.createElement("g");i.setAttribute("class","vertical-rule"),i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),r.appendChild(i);const o=this.options.color||"black",a=document.createElement("line");return a.setAttribute("stroke",o),a.setAttribute("stroke-width",this.strokeWidth),a.setAttribute("stroke-dasharray",`${this.dashLength} ${this.dashGap}`),a.setAttribute("x1",this._xScale(this.xPosition)),a.setAttribute("y1",0),a.setAttribute("x2",this._xScale(this.xPosition)),a.setAttribute("y2",this.dimensions[1]),i.appendChild(a),[n,r]}},{key:"mouseMoveHandler",value:function(r){this.highlighted=this.isWithin(r.x,r.y)&&this.isMouseOverVerticalLine(r),this.draw()}}])})(Of(ro).with(q4,GX));function oxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function axt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lxt(n.key),n)}}function sxt(e,t,r){return t&&axt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lxt(e){var t=uxt(e,"string");return typeof t=="symbol"?t:t+""}function uxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cxt(e,t,r){return t=Kh(t),hxt(e,WX()?Reflect.construct(t,r||[],Kh(e).constructor):t.apply(e,r))}function hxt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fxt(e)}function fxt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WX=function(){return!!e})()}function U7(e,t,r,n){var i=sk(Kh(1&n?e.prototype:e),t,r);return 2&n&&typeof i=="function"?function(o){return i.apply(r,o)}:i}function sk(){return sk=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=pxt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},sk.apply(null,arguments)}function pxt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Kh(e))!==null;);return e}function Kh(e){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kh(e)}function dxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lk(e,t)}function lk(e,t){return lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},lk(e,t)}let XX=(function(e){function t(r,n){var i;oxt(this,t),i=cxt(this,t,[r,n]);const{x:o,y:a}=r;return i.xPosition=o,i.yPosition=a,i.strokeWidth=2,i.strokeOpacity=1,i.dashLength=5,i.dashGap=3,i}return dxt(t,e),sxt(t,[{key:"draw",value:function(){const r=this.pMain;r.clear(),this.drawHorizontalRule(r),this.drawVerticalRule(r)}},{key:"mouseMoveHandler",value:function(r){this.highlighted=this.isWithin(r.x,r.y)&&(this.isMouseOverHorizontalLine(r)||this.isMouseOverVerticalLine(r)),this.draw()}},{key:"drawHorizontalRule",value:function(r){let n=ot(this.options.color||"black");this.highlighted&&(n=ot("red")),r.lineStyle(this.strokeWidth,n,this.strokeOpacity);let i=0;for(;i<this.dimensions[0];)r.moveTo(i,this._yScale(this.yPosition)),r.lineTo(i+this.dashLength,this._yScale(this.yPosition)),i+=this.dashLength+this.dashGap}},{key:"isMouseOverHorizontalLine",value:function(r){return Math.abs(r.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}},{key:"exportSVG",value:function(){let r=null,n=null;U7(t,"exportSVG",this,1)?[n,r]=U7(t,"exportSVG",this,3)([]):(n=document.createElement("g"),r=n);const i=document.createElement("g");i.setAttribute("class","cross-rule"),i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),r.appendChild(i);const o=this.options.color||"black",a=document.createElement("line");a.setAttribute("stroke",o),a.setAttribute("stroke-width",this.strokeWidth),a.setAttribute("stroke-dasharray",`${this.dashLength} ${this.dashGap}`),a.setAttribute("x1",this._xScale(this.xPosition)),a.setAttribute("y1",0),a.setAttribute("x2",this._xScale(this.xPosition)),a.setAttribute("y2",this.dimensions[1]);const s=document.createElement("line");return s.setAttribute("stroke",o),s.setAttribute("stroke-width",this.strokeWidth),s.setAttribute("stroke-dasharray",`${this.dashLength} ${this.dashGap}`),s.setAttribute("x1",0),s.setAttribute("y1",this._yScale(this.yPosition)),s.setAttribute("x2",this.dimensions[0]),s.setAttribute("y2",this._yScale(this.yPosition)),i.appendChild(a),i.appendChild(s),[n,r]}}])})(Of(ro).with(q4,GX));function V7(e,t,r,n){var i=uk(Zh(1&n?e.prototype:e),t,r);return 2&n&&typeof i=="function"?function(o){return i.apply(r,o)}:i}function uk(){return uk=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=mxt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},uk.apply(null,arguments)}function mxt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Zh(e))!==null;);return e}function $X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gxt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yxt(n.key),n)}}function qX(e,t,r){return t&&gxt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yxt(e){var t=vxt(e,"string");return typeof t=="symbol"?t:t+""}function vxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function KX(e,t,r){return t=Zh(t),bxt(e,ZX()?Reflect.construct(t,r||[],Zh(e).constructor):t.apply(e,r))}function bxt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _xt(e)}function _xt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZX=function(){return!!e})()}function Zh(e){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zh(e)}function QX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ck(e,t)}function ck(e,t){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ck(e,t)}const wxt=n_(e=>(function(t){function r(){return $X(this,r),KX(this,r,arguments)}return QX(r,t),qX(r,[{key:"drawHorizontalRule",value:function(n){let i=ot(this.options.color||"black");this.highlighted&&(i=ot("red")),n.lineStyle(this.strokeWidth,i,this.strokeOpacity);let o=0;for(;o<this.dimensions[0];)n.moveTo(o,this._yScale(this.yPosition)),n.lineTo(o+this.dashLength,this._yScale(this.yPosition)),o+=this.dashLength+this.dashGap}},{key:"isMouseOverHorizontalLine",value:function(n){return Math.abs(n.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}}])})(e));let JX=(function(e){function t(r,n){var i;return $X(this,t),i=KX(this,t,[r,n]),i.yPosition=r.yPosition,i.strokeWidth=2,i.strokeOpacity=1,i.dashLength=5,i.dashGap=3,i}return QX(t,e),qX(t,[{key:"mouseMoveHandler",value:function(r){if(this.isWithin(r.x,r.y)&&this.isMouseOverHorizontalLine(r)){this.highlighted=!0,this.draw();return}this.highlighted=!1,this.draw()}},{key:"draw",value:function(){const r=this.pMain;r.clear(),this.drawHorizontalRule(r),this.animate()}},{key:"exportSVG",value:function(){let r=null,n=null;V7(t,"exportSVG",this,1)?[n,r]=V7(t,"exportSVG",this,3)([]):(n=document.createElement("g"),r=n);const i=document.createElement("g");i.setAttribute("class","horizontal-rule"),i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),r.appendChild(i);const o=this.options.color||"black",a=document.createElement("line");return a.setAttribute("stroke",o),a.setAttribute("stroke-width",this.strokeWidth),a.setAttribute("stroke-dasharray",`${this.dashLength} ${this.dashGap}`),a.setAttribute("x1",0),a.setAttribute("y1",this._yScale(this.yPosition)),a.setAttribute("x2",this.dimensions[0]),a.setAttribute("y2",this._yScale(this.yPosition)),i.appendChild(a),[n,r]}}])})(Of(ro).with(q4,wxt));function Txt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xxt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sxt(n.key),n)}}function Ext(e,t,r){return t&&xxt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sxt(e){var t=kxt(e,"string");return typeof t=="symbol"?t:t+""}function kxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Oxt(e,t,r){return t=Qh(t),Pxt(e,e$()?Reflect.construct(t,r||[],Qh(e).constructor):t.apply(e,r))}function Pxt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cxt(e)}function Cxt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!e})()}function Ip(e,t,r,n){var i=hk(Qh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function hk(){return hk=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Axt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},hk.apply(null,arguments)}function Axt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Qh(e))!==null;);return e}function Qh(e){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qh(e)}function Mxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fk(e,t)}function fk(e,t){return fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},fk(e,t)}let K1=(function(e){function t(r,n){var i;Txt(this,t),i=Oxt(this,t,[r,n]);const{animate:o}=r;return i.visibleTiles=new Set,i.visibleTileIds=new Set,i.fetching=new Set,i.fetchedTiles={},i.tileGraphics={},i.minX=typeof i.options.minPos<"u"&&!Number.isNaN(+i.options.minPos)?+i.options.minPos:-180,i.maxX=+i.options.maxPos||180,i.maxX=typeof i.options.maxPos<"u"&&!Number.isNaN(+i.options.maxPos)?+i.options.maxPos:180,i.minY=i.options.minY||i.minX,i.maxY=i.options.maxY||i.maxX,i.maxZoom=19,i.maxWidth=i.maxX-i.minX,i.animate=o,i.uuid=Nt.nice(),i.refreshTilesDebounced=AO(i.refreshTiles.bind(i),B0),i}return Mxt(t,e),Ext(t,[{key:"visibleAndFetchedIds",value:function(){return Object.keys(this.fetchedTiles).filter(r=>this.visibleTileIds.has(r))}},{key:"visibleAndFetchedTiles",value:function(){return this.visibleAndFetchedIds().map(r=>this.fetchedTiles[r])}},{key:"setVisibleTiles",value:function(r){this.visibleTiles=r.map(n=>({tileId:this.tileToLocalId(n),remoteId:this.tileToRemoteId(n),mirrored:n.mirrored})),this.visibleTileIds=new Set(this.visibleTiles.map(n=>n.tileId))}},{key:"removeAllTiles",value:function(){const r=new Set(Object.keys(this.fetchedTiles));this.removeTiles([...r])}},{key:"refreshTiles",value:function(){this.calculateVisibleTiles();const r=new Set(Object.keys(this.fetchedTiles)),n=[...this.visibleTiles].filter(o=>!this.fetching.has(o.remoteId)&&!r.has(o.tileId));for(let o=0;o<n.length;o++)this.fetching.add(n[o].remoteId);const i=[...r].filter(o=>!this.visibleTileIds.has(o));this.removeTiles(i),this.fetchNewTiles(n)}},{key:"removeTiles",value:function(r){r.length&&this.areAllVisibleTilesLoaded()&&(r.forEach(n=>{const i=n;this.destroyTile(this.fetchedTiles[i]),i in this.tileGraphics&&(this.pMain.removeChild(this.tileGraphics[i]),delete this.tileGraphics[i]),delete this.fetchedTiles[i]}),this.synchronizeTilesAndGraphics(),this.draw())}},{key:"tileToLocalId",value:function(r){return r.join(".")}},{key:"tileToRemoteId",value:function(r){return r.join(".")}},{key:"localToRemoteId",value:function(r){const n=r.split(".");return n.slice(0,n.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const r=_t.calculateZoomLevel(this._xScale,this.minX,this.maxX),n=_t.calculateZoomLevel(this._xScale,this.minY,this.maxY);let i=Math.min(Math.max(r,n),this.maxZoom);return this.options.maxZoom&&(this.options.maxZoom>=0?i=Math.min(this.options.maxZoom,i):console.error("Invalid maxZoom on track:",this)),i}},{key:"calculateVisibleTiles",value:function(){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=_t.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.maxZoom,this.maxWidth),this.yTiles=_t.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.maxZoom,this.maxWidth);const r=this.xTiles,n=this.yTiles,i=this.zoomLevel,o=[];for(let a=0;a<r.length;a++)for(let s=0;s<n.length;s++){const u=[i,r[a],n[s]];o.push(u)}this.setVisibleTiles(o)}},{key:"zoomed",value:function(r,n,i,o,a){Ip(t,"zoomed",this)([r,n]),this.xScale(r),this.yScale(n),this.pMain.position.x=o,this.pMain.position.y=a,this.pMain.scale.x=i,this.pMain.scale.y=i,this.refreshTilesDebounced(),this.draw()}},{key:"setPosition",value:function(r){Ip(t,"setPosition",this)([r])}},{key:"setDimensions",value:function(r){Ip(t,"setDimensions",this)([r])}},{key:"areAllVisibleTilesLoaded",value:function(){const r=new Set(Object.keys(this.fetchedTiles)),n=[...this.visibleTileIds];for(let i=0;i<n.length;i++)if(!r.has(n[i]))return!1;return!0}},{key:"allTilesLoaded",value:function(){}},{key:"minValue",value:function(r){return r&&(this.scale.minValue=r),this.scale.minValue}},{key:"maxValue",value:function(r){return r&&(this.scale.maxValue=r),this.scale.maxValue}},{key:"minRawValue",value:function(){return this.scale.minRawValue}},{key:"maxRawValue",value:function(){return this.scale.maxRawValue}},{key:"getTilePosAndDimensions",value:function(r,n){const i=this.maxWidth/2**r,o=i,a=this.minX+n[0]*i,s=this.minY+n[1]*o;return{tileX:a,tileY:s,tileWidth:i,tileHeight:o}}},{key:"setSpriteProperties",value:function(r,n,i){const{tileX:o,tileY:a,tileWidth:s,tileHeight:u}=this.getTilePosAndDimensions(n,i);r.x=this._refXScale(o),r.y=this._refYScale(a);const l=o+s,c=a+u;r.width=this._refXScale(l)-this._refXScale(o),r.height=this._refYScale(c)-this._refYScale(a)}},{key:"initTile",value:function(r){const n=new Ie.PIXI.Texture(new Ie.PIXI.BaseTexture(r.tileData.img)),i=new Ie.PIXI.Sprite(n),o=r.graphics;r.sprite=i,this.setSpriteProperties(r.sprite,r.tileData.zoomLevel,r.tileData.tilePos),o.removeChildren(),o.addChild(r.sprite)}},{key:"updateTile",value:function(r){}},{key:"destroyTile",value:function(r){}},{key:"addMissingGraphics",value:function(){const r=Object.keys(this.fetchedTiles);for(let n=0;n<r.length;n++)if(!(r[n]in this.tileGraphics)){const i=new Ie.PIXI.Graphics;this.pMain.addChild(i),this.fetchedTiles[r[n]].graphics=i,this.initTile(this.fetchedTiles[r[n]]),this.tileGraphics[r[n]]=i}}},{key:"updateExistingGraphics",value:function(){const r=Object.keys(this.fetchedTiles);for(let n=0;n<r.length;n++)this.updateTile(this.fetchedTiles[r[n]])}},{key:"synchronizeTilesAndGraphics",value:function(){this.addMissingGraphics(),this.updateExistingGraphics()}},{key:"loadTileData",value:function(r,n){let i=this.lruCache.get(r.tileId);return i||(i=n(r.data,r.type),this.lruCache.put(r.tileId,i)),i}},{key:"getTileUrl",value:function(r){const n=["a","b","c"],i=Math.floor(Math.random()*n.length);return`https://${n[i]}.tile.openstreetmap.org/${r[0]}/${r[1]}/${r[2]}.png`}},{key:"fetchNewTiles",value:function(r){if(r.length>0){const n=[...new Set(r.map(i=>i.remoteId))];for(const i of n){const o=i.split("."),a=this.getTileUrl(o),s=new Image;s.crossOrigin="Anonymous",s.src=a,s.onload=()=>{const u={};u[i]={tileId:i,img:s,zoomLevel:+o[0],tilePos:[+o[1],+o[2]],tileSrc:a},this.receivedTiles(u)}}}}},{key:"receivedTiles",value:function(r){for(let n=0;n<this.visibleTiles.length;n++){const i=this.visibleTiles[n].tileId;r[this.visibleTiles[n].remoteId]&&this.visibleTiles[n].remoteId in r&&(i in this.fetchedTiles||(this.fetchedTiles[i]=this.visibleTiles[n]),this.fetchedTiles[i].tileData=r[this.visibleTiles[n].remoteId])}for(const n in r)r[n]&&this.fetching.has(n)&&this.fetching.delete(n);this.synchronizeTilesAndGraphics(),this.refreshTiles(),this.draw(),this.animate()}},{key:"draw",value:function(){this.delayDrawing||Ip(t,"draw",this)([])}},{key:"drawTile",value:function(){}},{key:"refScalesChanged",value:function(r,n){Ip(t,"refScalesChanged",this)([r,n]);for(const i in this.fetchedTiles){const o=this.fetchedTiles[i];o.sprite&&this.setSpriteProperties(o.sprite,o.tileData.zoomLevel,o.tileData.tilePos)}}}])})(ro);function Ixt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rxt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nxt(n.key),n)}}function Dxt(e,t,r){return t&&Rxt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nxt(e){var t=jxt(e,"string");return typeof t=="symbol"?t:t+""}function jxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Lxt(e,t,r){return t=Jh(t),Bxt(e,t$()?Reflect.construct(t,r||[],Jh(e).constructor):t.apply(e,r))}function Bxt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fxt(e)}function Fxt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t$=function(){return!!e})()}function zxt(e,t,r,n){var i=pk(Jh(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function pk(){return pk=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Hxt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},pk.apply(null,arguments)}function Hxt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Jh(e))!==null;);return e}function Jh(e){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jh(e)}function Uxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dk(e,t)}function dk(e,t){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},dk(e,t)}let r$=(function(e){function t(r,n){var i;return Ixt(this,t),i=Lxt(this,t,[r,n]),i.style=n.style,i.options.accessToken||(i.setError("No access token provided in the viewconf's track options ('accessToken' option)."),i.drawError()),i}return Uxt(t,e),Dxt(t,[{key:"rerender",value:function(r){zxt(t,"rerender",this)([r]),r.style!==this.style&&(this.style=r.style,this.removeAllTiles(),this.refreshTiles())}},{key:"getTileUrl",value:function(r){var n;const i=(n=this.options)!=null&&n.style?this.options.style:"streets-v10",o=this.options&&+this.options.tileSize?+this.options.tileSize:256;return`https://api.mapbox.com/styles/v1/mapbox/${i}/tiles/${o}/${r[0]}/${r[1]}/${r[2]}?access_token=${this.options.accessToken}`}}])})(K1);function Vxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gxt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wxt(n.key),n)}}function Yxt(e,t,r){return t&&Gxt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wxt(e){var t=Xxt(e,"string");return typeof t=="symbol"?t:t+""}function Xxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $xt(e,t,r){return t=ef(t),qxt(e,n$()?Reflect.construct(t,r||[],ef(e).constructor):t.apply(e,r))}function qxt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kxt(e)}function Kxt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n$=function(){return!!e})()}function Zxt(e,t,r,n){var i=mk(ef(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function mk(){return mk=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Qxt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},mk.apply(null,arguments)}function Qxt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=ef(e))!==null;);return e}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ef(e)}function Jxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gk(e,t)}function gk(e,t){return gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},gk(e,t)}let i$=(function(e){function t(){return Vxt(this,t),$xt(this,t,arguments)}return Jxt(t,e),Yxt(t,[{key:"initTile",value:function(r){RW.bind(this)(r),this.drawTile(r)}},{key:"drawTile",value:function(r){IW.bind(this)(r)}},{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"fetchNewTiles",value:function(r){r.forEach(n=>{const i=n.remoteId.split("."),o={zoomLevel:i[0],tilePos:i.slice(1,i.length).map(a=>+a)};this.fetchedTiles[n.tileId]=n,this.fetchedTiles[n.tileId].tileData=o,this.fetching.has(n.remoteId)&&this.fetching.delete(n.remoteId)}),this.synchronizeTilesAndGraphics(),this.draw(),this.animate()}},{key:"draw",value:function(){Zxt(t,"draw",this)([])}}])})(K1);function eEt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tEt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nEt(n.key),n)}}function rEt(e,t,r){return t&&tEt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nEt(e){var t=iEt(e,"string");return typeof t=="symbol"?t:t+""}function iEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function oEt(e,t,r){return t=rv(t),aEt(e,o$()?Reflect.construct(t,r||[],rv(e).constructor):t.apply(e,r))}function aEt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sEt(e)}function sEt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o$=function(){return!!e})()}function rv(e){return rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rv(e)}function lEt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yk(e,t)}function yk(e,t){return yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},yk(e,t)}let a$=(function(e){function t(r,n){var i;return eEt(this,t),i=oEt(this,t,[r,n]),i.style=n.style,i.options.tileSource||(i.setError("No tile source string provided in the options. It should be in the form of http://a.com/{z}/{x}/{y}"),i.drawError()),i}return lEt(t,e),rEt(t,[{key:"getTileUrl",value:function(r){let n=this.options.tileSource.replace("{z}",r[0]);return n=n.replace("{x}",r[1]),n=n.replace("{y}",r[2]),n}}])})(K1);const uEt=(e,t,r,n=Cv)=>{const i=r[e.type];return i?new i.dataFetcher(n,e,t):e.type==="genbank"?new wW(e,t):e.type==="local-tiles"?new TW(e,t):new v_(e,t)};var pt=1e-6,nv=1e-12,zt=Math.PI,jr=zt/2,iv=zt/4,qn=zt*2,vr=180/zt,ct=zt/180,tr=Math.abs,Nf=Math.atan,Kn=Math.atan2,tt=Math.cos,cg=Math.ceil,s$=Math.exp,vk=Math.hypot,ov=Math.log,C2=Math.pow,Qe=Math.sin,Ki=Math.sign||function(e){return e>0?1:e<0?-1:0},fn=Math.sqrt,K4=Math.tan;function l$(e){return e>1?0:e<-1?zt:Math.acos(e)}function Zn(e){return e>1?jr:e<-1?-jr:Math.asin(e)}function G7(e){return(e=Qe(e/2))*e}function Ar(){}function av(e,t){e&&W7.hasOwnProperty(e.type)&&W7[e.type](e,t)}var Y7={Feature:function(e,t){av(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,i=r.length;++n<i;)av(r[n].geometry,t)}},W7={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)e=r[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){bk(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)bk(r[n],t,0)},Polygon:function(e,t){X7(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)X7(r[n],t)},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,i=r.length;++n<i;)av(r[n],t)}};function bk(e,t,r){var n=-1,i=e.length-r,o;for(t.lineStart();++n<i;)o=e[n],t.point(o[0],o[1],o[2]);t.lineEnd()}function X7(e,t){var r=-1,n=e.length;for(t.polygonStart();++r<n;)bk(e[r],t,1);t.polygonEnd()}function mo(e,t){e&&Y7.hasOwnProperty(e.type)?Y7[e.type](e,t):av(e,t)}var sv=new Jr,lv=new Jr,u$,c$,_k,wk,Tk,Qo={point:Ar,lineStart:Ar,lineEnd:Ar,polygonStart:function(){sv=new Jr,Qo.lineStart=cEt,Qo.lineEnd=hEt},polygonEnd:function(){var e=+sv;lv.add(e<0?qn+e:e),this.lineStart=this.lineEnd=this.point=Ar},sphere:function(){lv.add(qn)}};function cEt(){Qo.point=fEt}function hEt(){h$(u$,c$)}function fEt(e,t){Qo.point=h$,u$=e,c$=t,e*=ct,t*=ct,_k=e,wk=tt(t=t/2+iv),Tk=Qe(t)}function h$(e,t){e*=ct,t*=ct,t=t/2+iv;var r=e-_k,n=r>=0?1:-1,i=n*r,o=tt(t),a=Qe(t),s=Tk*a,u=wk*o+s*tt(i),l=s*n*Qe(i);sv.add(Kn(l,u)),_k=e,wk=o,Tk=a}function pEt(e){return lv=new Jr,mo(e,Qo),lv*2}function uv(e){return[Kn(e[1],e[0]),Zn(e[2])]}function Kl(e){var t=e[0],r=e[1],n=tt(r);return[n*tt(t),n*Qe(t),Qe(r)]}function hg(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function tf(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function A2(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function fg(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function cv(e){var t=fn(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Cr,pi,Ir,Pi,gl,f$,p$,Hc,Td,hs,Fa,ba={point:xk,lineStart:$7,lineEnd:q7,polygonStart:function(){ba.point=m$,ba.lineStart=dEt,ba.lineEnd=mEt,Td=new Jr,Qo.polygonStart()},polygonEnd:function(){Qo.polygonEnd(),ba.point=xk,ba.lineStart=$7,ba.lineEnd=q7,sv<0?(Cr=-(Ir=180),pi=-(Pi=90)):Td>pt?Pi=90:Td<-1e-6&&(pi=-90),Fa[0]=Cr,Fa[1]=Ir},sphere:function(){Cr=-(Ir=180),pi=-(Pi=90)}};function xk(e,t){hs.push(Fa=[Cr=e,Ir=e]),t<pi&&(pi=t),t>Pi&&(Pi=t)}function d$(e,t){var r=Kl([e*ct,t*ct]);if(Hc){var n=tf(Hc,r),i=[n[1],-n[0],0],o=tf(i,n);cv(o),o=uv(o);var a=e-gl,s=a>0?1:-1,u=o[0]*vr*s,l,c=tr(a)>180;c^(s*gl<u&&u<s*e)?(l=o[1]*vr,l>Pi&&(Pi=l)):(u=(u+360)%360-180,c^(s*gl<u&&u<s*e)?(l=-o[1]*vr,l<pi&&(pi=l)):(t<pi&&(pi=t),t>Pi&&(Pi=t))),c?e<gl?Oi(Cr,e)>Oi(Cr,Ir)&&(Ir=e):Oi(e,Ir)>Oi(Cr,Ir)&&(Cr=e):Ir>=Cr?(e<Cr&&(Cr=e),e>Ir&&(Ir=e)):e>gl?Oi(Cr,e)>Oi(Cr,Ir)&&(Ir=e):Oi(e,Ir)>Oi(Cr,Ir)&&(Cr=e)}else hs.push(Fa=[Cr=e,Ir=e]);t<pi&&(pi=t),t>Pi&&(Pi=t),Hc=r,gl=e}function $7(){ba.point=d$}function q7(){Fa[0]=Cr,Fa[1]=Ir,ba.point=xk,Hc=null}function m$(e,t){if(Hc){var r=e-gl;Td.add(tr(r)>180?r+(r>0?360:-360):r)}else f$=e,p$=t;Qo.point(e,t),d$(e,t)}function dEt(){Qo.lineStart()}function mEt(){m$(f$,p$),Qo.lineEnd(),tr(Td)>pt&&(Cr=-(Ir=180)),Fa[0]=Cr,Fa[1]=Ir,Hc=null}function Oi(e,t){return(t-=e)<0?t+360:t}function gEt(e,t){return e[0]-t[0]}function K7(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function yEt(e){var t,r,n,i,o,a,s;if(Pi=Ir=-(Cr=pi=1/0),hs=[],mo(e,ba),r=hs.length){for(hs.sort(gEt),t=1,n=hs[0],o=[n];t<r;++t)i=hs[t],K7(n,i[0])||K7(n,i[1])?(Oi(n[0],i[1])>Oi(n[0],n[1])&&(n[1]=i[1]),Oi(i[0],n[1])>Oi(n[0],n[1])&&(n[0]=i[0])):o.push(n=i);for(a=-1/0,r=o.length-1,t=0,n=o[r];t<=r;n=i,++t)i=o[t],(s=Oi(n[1],i[0]))>a&&(a=s,Cr=i[0],Ir=n[1])}return hs=Fa=null,Cr===1/0||pi===1/0?[[NaN,NaN],[NaN,NaN]]:[[Cr,pi],[Ir,Pi]]}var nd,hv,fv,pv,dv,mv,gv,yv,Ek,Sk,kk,g$,y$,zn,Hn,Un,vo={sphere:Ar,point:Z4,lineStart:Z7,lineEnd:Q7,polygonStart:function(){vo.lineStart=_Et,vo.lineEnd=wEt},polygonEnd:function(){vo.lineStart=Z7,vo.lineEnd=Q7}};function Z4(e,t){e*=ct,t*=ct;var r=tt(t);Z1(r*tt(e),r*Qe(e),Qe(t))}function Z1(e,t,r){++nd,fv+=(e-fv)/nd,pv+=(t-pv)/nd,dv+=(r-dv)/nd}function Z7(){vo.point=vEt}function vEt(e,t){e*=ct,t*=ct;var r=tt(t);zn=r*tt(e),Hn=r*Qe(e),Un=Qe(t),vo.point=bEt,Z1(zn,Hn,Un)}function bEt(e,t){e*=ct,t*=ct;var r=tt(t),n=r*tt(e),i=r*Qe(e),o=Qe(t),a=Kn(fn((a=Hn*o-Un*i)*a+(a=Un*n-zn*o)*a+(a=zn*i-Hn*n)*a),zn*n+Hn*i+Un*o);hv+=a,mv+=a*(zn+(zn=n)),gv+=a*(Hn+(Hn=i)),yv+=a*(Un+(Un=o)),Z1(zn,Hn,Un)}function Q7(){vo.point=Z4}function _Et(){vo.point=TEt}function wEt(){v$(g$,y$),vo.point=Z4}function TEt(e,t){g$=e,y$=t,e*=ct,t*=ct,vo.point=v$;var r=tt(t);zn=r*tt(e),Hn=r*Qe(e),Un=Qe(t),Z1(zn,Hn,Un)}function v$(e,t){e*=ct,t*=ct;var r=tt(t),n=r*tt(e),i=r*Qe(e),o=Qe(t),a=Hn*o-Un*i,s=Un*n-zn*o,u=zn*i-Hn*n,l=vk(a,s,u),c=Zn(l),h=l&&-c/l;Ek.add(h*a),Sk.add(h*s),kk.add(h*u),hv+=c,mv+=c*(zn+(zn=n)),gv+=c*(Hn+(Hn=i)),yv+=c*(Un+(Un=o)),Z1(zn,Hn,Un)}function xEt(e){nd=hv=fv=pv=dv=mv=gv=yv=0,Ek=new Jr,Sk=new Jr,kk=new Jr,mo(e,vo);var t=+Ek,r=+Sk,n=+kk,i=vk(t,r,n);return i<nv&&(t=mv,r=gv,n=yv,hv<pt&&(t=fv,r=pv,n=dv),i=vk(t,r,n),i<nv)?[NaN,NaN]:[Kn(r,t)*vr,Zn(n/i)*vr]}function Qu(e){return function(){return e}}function Ok(e,t){function r(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(r.invert=function(n,i){return n=t.invert(n,i),n&&e.invert(n[0],n[1])}),r}function Pk(e,t){return[tr(e)>zt?e+Math.round(-e/qn)*qn:e,t]}Pk.invert=Pk;function Q4(e,t,r){return(e%=qn)?t||r?Ok(eD(e),tD(t,r)):eD(e):t||r?tD(t,r):Pk}function J7(e){return function(t,r){return t+=e,[t>zt?t-qn:t<-zt?t+qn:t,r]}}function eD(e){var t=J7(e);return t.invert=J7(-e),t}function tD(e,t){var r=tt(e),n=Qe(e),i=tt(t),o=Qe(t);function a(s,u){var l=tt(u),c=tt(s)*l,h=Qe(s)*l,f=Qe(u),p=f*r+c*n;return[Kn(h*i-p*o,c*r-f*n),Zn(p*i+h*o)]}return a.invert=function(s,u){var l=tt(u),c=tt(s)*l,h=Qe(s)*l,f=Qe(u),p=f*i-h*o;return[Kn(h*i+f*o,c*r+p*n),Zn(p*r-c*n)]},a}function b$(e){e=Q4(e[0]*ct,e[1]*ct,e.length>2?e[2]*ct:0);function t(r){return r=e(r[0]*ct,r[1]*ct),r[0]*=vr,r[1]*=vr,r}return t.invert=function(r){return r=e.invert(r[0]*ct,r[1]*ct),r[0]*=vr,r[1]*=vr,r},t}function _$(e,t,r,n,i,o){if(r){var a=tt(t),s=Qe(t),u=n*r;i==null?(i=t+n*qn,o=t-u/2):(i=rD(a,i),o=rD(a,o),(n>0?i<o:i>o)&&(i+=n*qn));for(var l,c=i;n>0?c>o:c<o;c-=u)l=uv([a,-s*tt(c),-s*Qe(c)]),e.point(l[0],l[1])}}function rD(e,t){t=Kl(t),t[0]-=e,cv(t);var r=l$(-t[1]);return((-t[2]<0?-r:r)+qn-pt)%qn}function EEt(){var e=Qu([0,0]),t=Qu(90),r=Qu(6),n,i,o={point:a};function a(u,l){n.push(u=i(u,l)),u[0]*=vr,u[1]*=vr}function s(){var u=e.apply(this,arguments),l=t.apply(this,arguments)*ct,c=r.apply(this,arguments)*ct;return n=[],i=Q4(-u[0]*ct,-u[1]*ct,0).invert,_$(o,l,c,1),u={type:"Polygon",coordinates:[n]},n=i=null,u}return s.center=function(u){return arguments.length?(e=typeof u=="function"?u:Qu([+u[0],+u[1]]),s):e},s.radius=function(u){return arguments.length?(t=typeof u=="function"?u:Qu(+u),s):t},s.precision=function(u){return arguments.length?(r=typeof u=="function"?u:Qu(+u),s):r},s}function w$(){var e=[],t;return{point:function(r,n,i){t.push([r,n,i])},lineStart:function(){e.push(t=[])},lineEnd:Ar,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function Qg(e,t){return tr(e[0]-t[0])<pt&&tr(e[1]-t[1])<pt}function pg(e,t,r,n){this.x=e,this.z=t,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function T$(e,t,r,n,i){var o=[],a=[],s,u;if(e.forEach(function(d){if(!((m=d.length-1)<=0)){var m,v=d[0],b=d[m],g;if(Qg(v,b)){if(!v[2]&&!b[2]){for(i.lineStart(),s=0;s<m;++s)i.point((v=d[s])[0],v[1]);i.lineEnd();return}b[0]+=2*pt}o.push(g=new pg(v,d,null,!0)),a.push(g.o=new pg(v,null,g,!1)),o.push(g=new pg(b,d,null,!1)),a.push(g.o=new pg(b,null,g,!0))}}),!!o.length){for(a.sort(t),nD(o),nD(a),s=0,u=a.length;s<u;++s)a[s].e=r=!r;for(var l=o[0],c,h;;){for(var f=l,p=!0;f.v;)if((f=f.n)===l)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(s=0,u=c.length;s<u;++s)i.point((h=c[s])[0],h[1]);else n(f.x,f.n.x,1,i);f=f.n}else{if(p)for(c=f.p.z,s=c.length-1;s>=0;--s)i.point((h=c[s])[0],h[1]);else n(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,p=!p}while(!f.v);i.lineEnd()}}}function nD(e){if(t=e.length){for(var t,r=0,n=e[0],i;++r<t;)n.n=i=e[r],i.p=n,n=i;n.n=i=e[0],i.p=n}}function M2(e){return tr(e[0])<=zt?e[0]:Ki(e[0])*((tr(e[0])+zt)%qn-zt)}function x$(e,t){var r=M2(t),n=t[1],i=Qe(n),o=[Qe(r),-tt(r),0],a=0,s=0,u=new Jr;i===1?n=jr+pt:i===-1&&(n=-jr-pt);for(var l=0,c=e.length;l<c;++l)if(f=(h=e[l]).length)for(var h,f,p=h[f-1],d=M2(p),m=p[1]/2+iv,v=Qe(m),b=tt(m),g=0;g<f;++g,d=_,v=T,b=O,p=y){var y=h[g],_=M2(y),w=y[1]/2+iv,T=Qe(w),O=tt(w),E=_-d,S=E>=0?1:-1,A=S*E,M=A>zt,H=v*T;if(u.add(Kn(H*S*Qe(A),b*O+H*tt(A))),a+=M?E+S*qn:E,M^d>=r^_>=r){var N=tf(Kl(p),Kl(y));cv(N);var k=tf(o,N);cv(k);var R=(M^E>=0?-1:1)*Zn(k[2]);(n>R||n===R&&(N[0]||N[1]))&&(s+=M^E>=0?1:-1)}}return(a<-1e-6||a<pt&&u<-1e-12)^s&1}function E$(e,t,r,n){return function(i){var o=t(i),a=w$(),s=t(a),u=!1,l,c,h,f={point:p,lineStart:m,lineEnd:v,polygonStart:function(){f.point=b,f.lineStart=g,f.lineEnd=y,c=[],l=[]},polygonEnd:function(){f.point=p,f.lineStart=m,f.lineEnd=v,c=j9(c);var _=x$(l,n);c.length?(u||(i.polygonStart(),u=!0),T$(c,kEt,_,r,i)):_&&(u||(i.polygonStart(),u=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),c=l=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(_,w){e(_,w)&&i.point(_,w)}function d(_,w){o.point(_,w)}function m(){f.point=d,o.lineStart()}function v(){f.point=p,o.lineEnd()}function b(_,w){h.push([_,w]),s.point(_,w)}function g(){s.lineStart(),h=[]}function y(){b(h[0][0],h[0][1]),s.lineEnd();var _=s.clean(),w=a.result(),T,O=w.length,E,S,A;if(h.pop(),l.push(h),h=null,!!O){if(_&1){if(S=w[0],(E=S.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),T=0;T<E;++T)i.point((A=S[T])[0],A[1]);i.lineEnd()}return}O>1&&_&2&&w.push(w.pop().concat(w.shift())),c.push(w.filter(SEt))}}return f}}function SEt(e){return e.length>1}function kEt(e,t){return((e=e.x)[0]<0?e[1]-jr-pt:jr-e[1])-((t=t.x)[0]<0?t[1]-jr-pt:jr-t[1])}const Ck=E$(function(){return!0},OEt,CEt,[-zt,-jr]);function OEt(e){var t=NaN,r=NaN,n=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,a){var s=o>0?zt:-zt,u=tr(o-t);tr(u-zt)<pt?(e.point(t,r=(r+a)/2>0?jr:-jr),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),i=0):n!==s&&u>=zt&&(tr(t-n)<pt&&(t-=n*pt),tr(o-s)<pt&&(o-=s*pt),r=PEt(t,r,o,a),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(s,r),i=0),e.point(t=o,r=a),n=s},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-i}}}function PEt(e,t,r,n){var i,o,a=Qe(e-r);return tr(a)>pt?Nf((Qe(t)*(o=tt(n))*Qe(r)-Qe(n)*(i=tt(t))*Qe(e))/(i*o*a)):(t+n)/2}function CEt(e,t,r,n){var i;if(e==null)i=r*jr,n.point(-zt,i),n.point(0,i),n.point(zt,i),n.point(zt,0),n.point(zt,-i),n.point(0,-i),n.point(-zt,-i),n.point(-zt,0),n.point(-zt,i);else if(tr(e[0]-t[0])>pt){var o=e[0]<t[0]?zt:-zt;i=r*o/2,n.point(-o,i),n.point(0,i),n.point(o,i)}else n.point(t[0],t[1])}function S$(e){var t=tt(e),r=6*ct,n=t>0,i=tr(t)>pt;function o(c,h,f,p){_$(p,e,r,f,c,h)}function a(c,h){return tt(c)*tt(h)>t}function s(c){var h,f,p,d,m;return{lineStart:function(){d=p=!1,m=1},point:function(v,b){var g=[v,b],y,_=a(v,b),w=n?_?0:l(v,b):_?l(v+(v<0?zt:-zt),b):0;if(!h&&(d=p=_)&&c.lineStart(),_!==p&&(y=u(h,g),(!y||Qg(h,y)||Qg(g,y))&&(g[2]=1)),_!==p)m=0,_?(c.lineStart(),y=u(g,h),c.point(y[0],y[1])):(y=u(h,g),c.point(y[0],y[1],2),c.lineEnd()),h=y;else if(i&&h&&n^_){var T;!(w&f)&&(T=u(g,h,!0))&&(m=0,n?(c.lineStart(),c.point(T[0][0],T[0][1]),c.point(T[1][0],T[1][1]),c.lineEnd()):(c.point(T[1][0],T[1][1]),c.lineEnd(),c.lineStart(),c.point(T[0][0],T[0][1],3)))}_&&(!h||!Qg(h,g))&&c.point(g[0],g[1]),h=g,p=_,f=w},lineEnd:function(){p&&c.lineEnd(),h=null},clean:function(){return m|(d&&p)<<1}}}function u(c,h,f){var p=Kl(c),d=Kl(h),m=[1,0,0],v=tf(p,d),b=hg(v,v),g=v[0],y=b-g*g;if(!y)return!f&&c;var _=t*b/y,w=-t*g/y,T=tf(m,v),O=fg(m,_),E=fg(v,w);A2(O,E);var S=T,A=hg(O,S),M=hg(S,S),H=A*A-M*(hg(O,O)-1);if(!(H<0)){var N=fn(H),k=fg(S,(-A-N)/M);if(A2(k,O),k=uv(k),!f)return k;var R=c[0],B=h[0],z=c[1],U=h[1],V;B<R&&(V=R,R=B,B=V);var W=B-R,te=tr(W-zt)<pt,re=te||W<pt;if(!te&&U<z&&(V=z,z=U,U=V),re?te?z+U>0^k[1]<(tr(k[0]-R)<pt?z:U):z<=k[1]&&k[1]<=U:W>zt^(R<=k[0]&&k[0]<=B)){var X=fg(S,(-A+N)/M);return A2(X,O),[k,uv(X)]}}}function l(c,h){var f=n?e:zt-e,p=0;return c<-f?p|=1:c>f&&(p|=2),h<-f?p|=4:h>f&&(p|=8),p}return E$(a,s,o,n?[0,-e]:[-zt,e-zt])}function AEt(e,t,r,n,i,o){var a=e[0],s=e[1],u=t[0],l=t[1],c=0,h=1,f=u-a,p=l-s,d;if(d=r-a,!(!f&&d>0)){if(d/=f,f<0){if(d<c)return;d<h&&(h=d)}else if(f>0){if(d>h)return;d>c&&(c=d)}if(d=i-a,!(!f&&d<0)){if(d/=f,f<0){if(d>h)return;d>c&&(c=d)}else if(f>0){if(d<c)return;d<h&&(h=d)}if(d=n-s,!(!p&&d>0)){if(d/=p,p<0){if(d<c)return;d<h&&(h=d)}else if(p>0){if(d>h)return;d>c&&(c=d)}if(d=o-s,!(!p&&d<0)){if(d/=p,p<0){if(d>h)return;d>c&&(c=d)}else if(p>0){if(d<c)return;d<h&&(h=d)}return c>0&&(e[0]=a+c*f,e[1]=s+c*p),h<1&&(t[0]=a+h*f,t[1]=s+h*p),!0}}}}}var dg=1e9,mg=-1e9;function __(e,t,r,n){function i(l,c){return e<=l&&l<=r&&t<=c&&c<=n}function o(l,c,h,f){var p=0,d=0;if(l==null||(p=a(l,h))!==(d=a(c,h))||u(l,c)<0^h>0)do f.point(p===0||p===3?e:r,p>1?n:t);while((p=(p+h+4)%4)!==d);else f.point(c[0],c[1])}function a(l,c){return tr(l[0]-e)<pt?c>0?0:3:tr(l[0]-r)<pt?c>0?2:1:tr(l[1]-t)<pt?c>0?1:0:c>0?3:2}function s(l,c){return u(l.x,c.x)}function u(l,c){var h=a(l,1),f=a(c,1);return h!==f?h-f:h===0?c[1]-l[1]:h===1?l[0]-c[0]:h===2?l[1]-c[1]:c[0]-l[0]}return function(l){var c=l,h=w$(),f,p,d,m,v,b,g,y,_,w,T,O={point:E,lineStart:H,lineEnd:N,polygonStart:A,polygonEnd:M};function E(R,B){i(R,B)&&c.point(R,B)}function S(){for(var R=0,B=0,z=p.length;B<z;++B)for(var U=p[B],V=1,W=U.length,te=U[0],re,X,$=te[0],ee=te[1];V<W;++V)re=$,X=ee,te=U[V],$=te[0],ee=te[1],X<=n?ee>n&&($-re)*(n-X)>(ee-X)*(e-re)&&++R:ee<=n&&($-re)*(n-X)<(ee-X)*(e-re)&&--R;return R}function A(){c=h,f=[],p=[],T=!0}function M(){var R=S(),B=T&&R,z=(f=j9(f)).length;(B||z)&&(l.polygonStart(),B&&(l.lineStart(),o(null,null,1,l),l.lineEnd()),z&&T$(f,s,R,o,l),l.polygonEnd()),c=l,f=p=d=null}function H(){O.point=k,p&&p.push(d=[]),w=!0,_=!1,g=y=NaN}function N(){f&&(k(m,v),b&&_&&h.rejoin(),f.push(h.result())),O.point=E,_&&c.lineEnd()}function k(R,B){var z=i(R,B);if(p&&d.push([R,B]),w)m=R,v=B,b=z,w=!1,z&&(c.lineStart(),c.point(R,B));else if(z&&_)c.point(R,B);else{var U=[g=Math.max(mg,Math.min(dg,g)),y=Math.max(mg,Math.min(dg,y))],V=[R=Math.max(mg,Math.min(dg,R)),B=Math.max(mg,Math.min(dg,B))];AEt(U,V,e,t,r,n)?(_||(c.lineStart(),c.point(U[0],U[1])),c.point(V[0],V[1]),z||c.lineEnd(),T=!1):z&&(c.lineStart(),c.point(R,B),T=!1)}g=R,y=B,_=z}return O}}function MEt(){var e=0,t=0,r=960,n=500,i,o,a;return a={stream:function(s){return i&&o===s?i:i=__(e,t,r,n)(o=s)},extent:function(s){return arguments.length?(e=+s[0][0],t=+s[0][1],r=+s[1][0],n=+s[1][1],i=o=null,a):[[e,t],[r,n]]}}}var Ak,Mk,Jg,e0,rf={sphere:Ar,point:Ar,lineStart:IEt,lineEnd:Ar,polygonStart:Ar,polygonEnd:Ar};function IEt(){rf.point=DEt,rf.lineEnd=REt}function REt(){rf.point=rf.lineEnd=Ar}function DEt(e,t){e*=ct,t*=ct,Mk=e,Jg=Qe(t),e0=tt(t),rf.point=NEt}function NEt(e,t){e*=ct,t*=ct;var r=Qe(t),n=tt(t),i=tr(e-Mk),o=tt(i),a=Qe(i),s=n*a,u=e0*r-Jg*n*o,l=Jg*r+e0*n*o;Ak.add(Kn(fn(s*s+u*u),l)),Mk=e,Jg=r,e0=n}function k$(e){return Ak=new Jr,mo(e,rf),+Ak}var Ik=[null,null],jEt={type:"LineString",coordinates:Ik};function vv(e,t){return Ik[0]=e,Ik[1]=t,k$(jEt)}var iD={Feature:function(e,t){return bv(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,i=r.length;++n<i;)if(bv(r[n].geometry,t))return!0;return!1}},oD={Sphere:function(){return!0},Point:function(e,t){return aD(e.coordinates,t)},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)if(aD(r[n],t))return!0;return!1},LineString:function(e,t){return sD(e.coordinates,t)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)if(sD(r[n],t))return!0;return!1},Polygon:function(e,t){return lD(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)if(lD(r[n],t))return!0;return!1},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,i=r.length;++n<i;)if(bv(r[n],t))return!0;return!1}};function bv(e,t){return e&&oD.hasOwnProperty(e.type)?oD[e.type](e,t):!1}function aD(e,t){return vv(e,t)===0}function sD(e,t){for(var r,n,i,o=0,a=e.length;o<a;o++){if(n=vv(e[o],t),n===0||o>0&&(i=vv(e[o],e[o-1]),i>0&&r<=i&&n<=i&&(r+n-i)*(1-Math.pow((r-n)/i,2))<nv*i))return!0;r=n}return!1}function lD(e,t){return!!x$(e.map(LEt),O$(t))}function LEt(e){return e=e.map(O$),e.pop(),e}function O$(e){return[e[0]*ct,e[1]*ct]}function BEt(e,t){return(e&&iD.hasOwnProperty(e.type)?iD[e.type]:bv)(e,t)}function uD(e,t,r){var n=Vn(e,t-pt,r).concat(t);return function(i){return n.map(function(o){return[i,o]})}}function cD(e,t,r){var n=Vn(e,t-pt,r).concat(t);return function(i){return n.map(function(o){return[o,i]})}}function P$(){var e,t,r,n,i,o,a,s,u=10,l=u,c=90,h=360,f,p,d,m,v=2.5;function b(){return{type:"MultiLineString",coordinates:g()}}function g(){return Vn(cg(n/c)*c,r,c).map(d).concat(Vn(cg(s/h)*h,a,h).map(m)).concat(Vn(cg(t/u)*u,e,u).filter(function(y){return tr(y%c)>pt}).map(f)).concat(Vn(cg(o/l)*l,i,l).filter(function(y){return tr(y%h)>pt}).map(p))}return b.lines=function(){return g().map(function(y){return{type:"LineString",coordinates:y}})},b.outline=function(){return{type:"Polygon",coordinates:[d(n).concat(m(a).slice(1),d(r).reverse().slice(1),m(s).reverse().slice(1))]}},b.extent=function(y){return arguments.length?b.extentMajor(y).extentMinor(y):b.extentMinor()},b.extentMajor=function(y){return arguments.length?(n=+y[0][0],r=+y[1][0],s=+y[0][1],a=+y[1][1],n>r&&(y=n,n=r,r=y),s>a&&(y=s,s=a,a=y),b.precision(v)):[[n,s],[r,a]]},b.extentMinor=function(y){return arguments.length?(t=+y[0][0],e=+y[1][0],o=+y[0][1],i=+y[1][1],t>e&&(y=t,t=e,e=y),o>i&&(y=o,o=i,i=y),b.precision(v)):[[t,o],[e,i]]},b.step=function(y){return arguments.length?b.stepMajor(y).stepMinor(y):b.stepMinor()},b.stepMajor=function(y){return arguments.length?(c=+y[0],h=+y[1],b):[c,h]},b.stepMinor=function(y){return arguments.length?(u=+y[0],l=+y[1],b):[u,l]},b.precision=function(y){return arguments.length?(v=+y,f=uD(o,i,90),p=cD(t,e,v),d=uD(s,a,90),m=cD(n,r,v),b):v},b.extentMajor([[-180,-90+pt],[180,90-pt]]).extentMinor([[-180,-80-pt],[180,80+pt]])}function FEt(){return P$()()}function zEt(e,t){var r=e[0]*ct,n=e[1]*ct,i=t[0]*ct,o=t[1]*ct,a=tt(n),s=Qe(n),u=tt(o),l=Qe(o),c=a*tt(r),h=a*Qe(r),f=u*tt(i),p=u*Qe(i),d=2*Zn(fn(G7(o-n)+a*u*G7(i-r))),m=Qe(d),v=d?function(b){var g=Qe(b*=d)/m,y=Qe(d-b)/m,_=y*c+g*f,w=y*h+g*p,T=y*s+g*l;return[Kn(w,_)*vr,Kn(T,fn(_*_+w*w))*vr]}:function(){return[r*vr,n*vr]};return v.distance=d,v}const r1=e=>e;var I2=new Jr,Rk=new Jr,C$,A$,Dk,Nk,Ta={point:Ar,lineStart:Ar,lineEnd:Ar,polygonStart:function(){Ta.lineStart=HEt,Ta.lineEnd=VEt},polygonEnd:function(){Ta.lineStart=Ta.lineEnd=Ta.point=Ar,I2.add(tr(Rk)),Rk=new Jr},result:function(){var e=I2/2;return I2=new Jr,e}};function HEt(){Ta.point=UEt}function UEt(e,t){Ta.point=M$,C$=Dk=e,A$=Nk=t}function M$(e,t){Rk.add(Nk*e-Dk*t),Dk=e,Nk=t}function VEt(){M$(C$,A$)}var nf=1/0,_v=nf,n1=-nf,wv=n1,Tv={point:GEt,lineStart:Ar,lineEnd:Ar,polygonStart:Ar,polygonEnd:Ar,result:function(){var e=[[nf,_v],[n1,wv]];return n1=wv=-(_v=nf=1/0),e}};function GEt(e,t){e<nf&&(nf=e),e>n1&&(n1=e),t<_v&&(_v=t),t>wv&&(wv=t)}var jk=0,Lk=0,id=0,xv=0,Ev=0,kc=0,Bk=0,Fk=0,od=0,I$,R$,zo,Ho,Yi={point:Zl,lineStart:hD,lineEnd:fD,polygonStart:function(){Yi.lineStart=XEt,Yi.lineEnd=$Et},polygonEnd:function(){Yi.point=Zl,Yi.lineStart=hD,Yi.lineEnd=fD},result:function(){var e=od?[Bk/od,Fk/od]:kc?[xv/kc,Ev/kc]:id?[jk/id,Lk/id]:[NaN,NaN];return jk=Lk=id=xv=Ev=kc=Bk=Fk=od=0,e}};function Zl(e,t){jk+=e,Lk+=t,++id}function hD(){Yi.point=YEt}function YEt(e,t){Yi.point=WEt,Zl(zo=e,Ho=t)}function WEt(e,t){var r=e-zo,n=t-Ho,i=fn(r*r+n*n);xv+=i*(zo+e)/2,Ev+=i*(Ho+t)/2,kc+=i,Zl(zo=e,Ho=t)}function fD(){Yi.point=Zl}function XEt(){Yi.point=qEt}function $Et(){D$(I$,R$)}function qEt(e,t){Yi.point=D$,Zl(I$=zo=e,R$=Ho=t)}function D$(e,t){var r=e-zo,n=t-Ho,i=fn(r*r+n*n);xv+=i*(zo+e)/2,Ev+=i*(Ho+t)/2,kc+=i,i=Ho*e-zo*t,Bk+=i*(zo+e),Fk+=i*(Ho+t),od+=i*3,Zl(zo=e,Ho=t)}function N$(e){this._context=e}N$.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,qn);break}}},result:Ar};var zk=new Jr,R2,j$,L$,ad,sd,i1={point:Ar,lineStart:function(){i1.point=KEt},lineEnd:function(){R2&&B$(j$,L$),i1.point=Ar},polygonStart:function(){R2=!0},polygonEnd:function(){R2=null},result:function(){var e=+zk;return zk=new Jr,e}};function KEt(e,t){i1.point=B$,j$=ad=e,L$=sd=t}function B$(e,t){ad-=e,sd-=t,zk.add(fn(ad*ad+sd*sd)),ad=e,sd=t}function F$(){this._string=[]}F$.prototype={_radius:4.5,_circle:pD(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._string.push("M",e,",",t),this._point=1;break}case 1:{this._string.push("L",e,",",t);break}default:{this._circle==null&&(this._circle=pD(this._radius)),this._string.push("M",e,",",t,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}else return null}};function pD(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function ZEt(e,t){var r=4.5,n,i;function o(a){return a&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),mo(a,n(i))),i.result()}return o.area=function(a){return mo(a,n(Ta)),Ta.result()},o.measure=function(a){return mo(a,n(i1)),i1.result()},o.bounds=function(a){return mo(a,n(Tv)),Tv.result()},o.centroid=function(a){return mo(a,n(Yi)),Yi.result()},o.projection=function(a){return arguments.length?(n=a==null?(e=null,r1):(e=a).stream,o):e},o.context=function(a){return arguments.length?(i=a==null?(t=null,new F$):new N$(t=a),typeof r!="function"&&i.pointRadius(r),o):t},o.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(i.pointRadius(+a),+a),o):r},o.projection(e).context(t)}function QEt(e){return{stream:Q1(e)}}function Q1(e){return function(t){var r=new Hk;for(var n in e)r[n]=e[n];return r.stream=t,r}}function Hk(){}Hk.prototype={constructor:Hk,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function J4(e,t,r){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),n!=null&&e.clipExtent(null),mo(r,e.stream(Tv)),t(Tv.result()),n!=null&&e.clipExtent(n),e}function w_(e,t,r){return J4(e,function(n){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(i/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),s=+t[0][0]+(i-a*(n[1][0]+n[0][0]))/2,u=+t[0][1]+(o-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([s,u])},r)}function eC(e,t,r){return w_(e,[[0,0],t],r)}function tC(e,t,r){return J4(e,function(n){var i=+t,o=i/(n[1][0]-n[0][0]),a=(i-o*(n[1][0]+n[0][0]))/2,s=-o*n[0][1];e.scale(150*o).translate([a,s])},r)}function rC(e,t,r){return J4(e,function(n){var i=+t,o=i/(n[1][1]-n[0][1]),a=-o*n[0][0],s=(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,s])},r)}var dD=16,JEt=tt(30*ct);function mD(e,t){return+t?tSt(e,t):eSt(e)}function eSt(e){return Q1({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}function tSt(e,t){function r(n,i,o,a,s,u,l,c,h,f,p,d,m,v){var b=l-n,g=c-i,y=b*b+g*g;if(y>4*t&&m--){var _=a+f,w=s+p,T=u+d,O=fn(_*_+w*w+T*T),E=Zn(T/=O),S=tr(tr(T)-1)<pt||tr(o-h)<pt?(o+h)/2:Kn(w,_),A=e(S,E),M=A[0],H=A[1],N=M-n,k=H-i,R=g*N-b*k;(R*R/y>t||tr((b*N+g*k)/y-.5)>.3||a*f+s*p+u*d<JEt)&&(r(n,i,o,a,s,u,M,H,S,_/=O,w/=O,T,m,v),v.point(M,H),r(M,H,S,_,w,T,l,c,h,f,p,d,m,v))}}return function(n){var i,o,a,s,u,l,c,h,f,p,d,m,v={point:b,lineStart:g,lineEnd:_,polygonStart:function(){n.polygonStart(),v.lineStart=w},polygonEnd:function(){n.polygonEnd(),v.lineStart=g}};function b(E,S){E=e(E,S),n.point(E[0],E[1])}function g(){h=NaN,v.point=y,n.lineStart()}function y(E,S){var A=Kl([E,S]),M=e(E,S);r(h,f,c,p,d,m,h=M[0],f=M[1],c=E,p=A[0],d=A[1],m=A[2],dD,n),n.point(h,f)}function _(){v.point=b,n.lineEnd()}function w(){g(),v.point=T,v.lineEnd=O}function T(E,S){y(i=E,S),o=h,a=f,s=p,u=d,l=m,v.point=y}function O(){r(h,f,c,p,d,m,o,a,i,s,u,l,dD,n),v.lineEnd=_,_()}return v}}var rSt=Q1({point:function(e,t){this.stream.point(e*ct,t*ct)}});function nSt(e){return Q1({point:function(t,r){var n=e(t,r);return this.stream.point(n[0],n[1])}})}function iSt(e,t,r,n,i){function o(a,s){return a*=n,s*=i,[t+e*a,r-e*s]}return o.invert=function(a,s){return[(a-t)/e*n,(r-s)/e*i]},o}function gD(e,t,r,n,i,o){if(!o)return iSt(e,t,r,n,i);var a=tt(o),s=Qe(o),u=a*e,l=s*e,c=a/e,h=s/e,f=(s*r-a*t)/e,p=(s*t+a*r)/e;function d(m,v){return m*=n,v*=i,[u*m-l*v+t,r-l*m-u*v]}return d.invert=function(m,v){return[n*(c*m-h*v+f),i*(p-h*m-c*v)]},d}function ia(e){return nC(function(){return e})()}function nC(e){var t,r=150,n=480,i=250,o=0,a=0,s=0,u=0,l=0,c,h=0,f=1,p=1,d=null,m=Ck,v=null,b,g,y,_=r1,w=.5,T,O,E,S,A;function M(R){return E(R[0]*ct,R[1]*ct)}function H(R){return R=E.invert(R[0],R[1]),R&&[R[0]*vr,R[1]*vr]}M.stream=function(R){return S&&A===R?S:S=rSt(nSt(c)(m(T(_(A=R)))))},M.preclip=function(R){return arguments.length?(m=R,d=void 0,k()):m},M.postclip=function(R){return arguments.length?(_=R,v=b=g=y=null,k()):_},M.clipAngle=function(R){return arguments.length?(m=+R?S$(d=R*ct):(d=null,Ck),k()):d*vr},M.clipExtent=function(R){return arguments.length?(_=R==null?(v=b=g=y=null,r1):__(v=+R[0][0],b=+R[0][1],g=+R[1][0],y=+R[1][1]),k()):v==null?null:[[v,b],[g,y]]},M.scale=function(R){return arguments.length?(r=+R,N()):r},M.translate=function(R){return arguments.length?(n=+R[0],i=+R[1],N()):[n,i]},M.center=function(R){return arguments.length?(o=R[0]%360*ct,a=R[1]%360*ct,N()):[o*vr,a*vr]},M.rotate=function(R){return arguments.length?(s=R[0]%360*ct,u=R[1]%360*ct,l=R.length>2?R[2]%360*ct:0,N()):[s*vr,u*vr,l*vr]},M.angle=function(R){return arguments.length?(h=R%360*ct,N()):h*vr},M.reflectX=function(R){return arguments.length?(f=R?-1:1,N()):f<0},M.reflectY=function(R){return arguments.length?(p=R?-1:1,N()):p<0},M.precision=function(R){return arguments.length?(T=mD(O,w=R*R),k()):fn(w)},M.fitExtent=function(R,B){return w_(M,R,B)},M.fitSize=function(R,B){return eC(M,R,B)},M.fitWidth=function(R,B){return tC(M,R,B)},M.fitHeight=function(R,B){return rC(M,R,B)};function N(){var R=gD(r,0,0,f,p,h).apply(null,t(o,a)),B=gD(r,n-R[0],i-R[1],f,p,h);return c=Q4(s,u,l),O=Ok(t,B),E=Ok(c,O),T=mD(O,w),k()}function k(){return S=A=null,M}return function(){return t=e.apply(this,arguments),M.invert=t.invert&&H,N()}}function iC(e){var t=0,r=zt/3,n=nC(e),i=n(t,r);return i.parallels=function(o){return arguments.length?n(t=o[0]*ct,r=o[1]*ct):[t*vr,r*vr]},i}function oSt(e){var t=tt(e);function r(n,i){return[n*t,Qe(i)/t]}return r.invert=function(n,i){return[n/t,Zn(i*t)]},r}function z$(e,t){var r=Qe(e),n=(r+Qe(t))/2;if(tr(n)<pt)return oSt(e);var i=1+r*(2*n-r),o=fn(i)/n;function a(s,u){var l=fn(i-2*n*Qe(u))/n;return[l*Qe(s*=n),o-l*tt(s)]}return a.invert=function(s,u){var l=o-u,c=Kn(s,tr(l))*Ki(l);return l*n<0&&(c-=zt*Ki(s)*Ki(l)),[c/n,Zn((i-(s*s+l*l)*n*n)/(2*n))]},a}function Sv(){return iC(z$).scale(155.424).center([0,33.6442])}function H$(){return Sv().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function aSt(e){var t=e.length;return{point:function(r,n){for(var i=-1;++i<t;)e[i].point(r,n)},sphere:function(){for(var r=-1;++r<t;)e[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)e[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)e[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)e[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)e[r].polygonEnd()}}}function sSt(){var e,t,r=H$(),n,i=Sv().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=Sv().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,u,l={point:function(f,p){u=[f,p]}};function c(f){var p=f[0],d=f[1];return u=null,n.point(p,d),u||(o.point(p,d),u)||(s.point(p,d),u)}c.invert=function(f){var p=r.scale(),d=r.translate(),m=(f[0]-d[0])/p,v=(f[1]-d[1])/p;return(v>=.12&&v<.234&&m>=-.425&&m<-.214?i:v>=.166&&v<.234&&m>=-.214&&m<-.115?a:r).invert(f)},c.stream=function(f){return e&&t===f?e:e=aSt([r.stream(t=f),i.stream(f),a.stream(f)])},c.precision=function(f){return arguments.length?(r.precision(f),i.precision(f),a.precision(f),h()):r.precision()},c.scale=function(f){return arguments.length?(r.scale(f),i.scale(f*.35),a.scale(f),c.translate(r.translate())):r.scale()},c.translate=function(f){if(!arguments.length)return r.translate();var p=r.scale(),d=+f[0],m=+f[1];return n=r.translate(f).clipExtent([[d-.455*p,m-.238*p],[d+.455*p,m+.238*p]]).stream(l),o=i.translate([d-.307*p,m+.201*p]).clipExtent([[d-.425*p+pt,m+.12*p+pt],[d-.214*p-pt,m+.234*p-pt]]).stream(l),s=a.translate([d-.205*p,m+.212*p]).clipExtent([[d-.214*p+pt,m+.166*p+pt],[d-.115*p-pt,m+.234*p-pt]]).stream(l),h()},c.fitExtent=function(f,p){return w_(c,f,p)},c.fitSize=function(f,p){return eC(c,f,p)},c.fitWidth=function(f,p){return tC(c,f,p)},c.fitHeight=function(f,p){return rC(c,f,p)};function h(){return e=t=null,c}return c.scale(1070)}function U$(e){return function(t,r){var n=tt(t),i=tt(r),o=e(n*i);return o===1/0?[2,0]:[o*i*Qe(t),o*Qe(r)]}}function J1(e){return function(t,r){var n=fn(t*t+r*r),i=e(n),o=Qe(i),a=tt(i);return[Kn(t*o,n*a),Zn(n&&r*o/n)]}}var oC=U$(function(e){return fn(2/(1+e))});oC.invert=J1(function(e){return 2*Zn(e/2)});function lSt(){return ia(oC).scale(124.75).clipAngle(180-.001)}var aC=U$(function(e){return(e=l$(e))&&e/Qe(e)});aC.invert=J1(function(e){return e});function uSt(){return ia(aC).scale(79.4188).clipAngle(180-.001)}function em(e,t){return[e,ov(K4((jr+t)/2))]}em.invert=function(e,t){return[e,2*Nf(s$(t))-jr]};function cSt(){return V$(em).scale(961/qn)}function V$(e){var t=ia(e),r=t.center,n=t.scale,i=t.translate,o=t.clipExtent,a=null,s,u,l;t.scale=function(h){return arguments.length?(n(h),c()):n()},t.translate=function(h){return arguments.length?(i(h),c()):i()},t.center=function(h){return arguments.length?(r(h),c()):r()},t.clipExtent=function(h){return arguments.length?(h==null?a=s=u=l=null:(a=+h[0][0],s=+h[0][1],u=+h[1][0],l=+h[1][1]),c()):a==null?null:[[a,s],[u,l]]};function c(){var h=zt*n(),f=t(b$(t.rotate()).invert([0,0]));return o(a==null?[[f[0]-h,f[1]-h],[f[0]+h,f[1]+h]]:e===em?[[Math.max(f[0]-h,a),s],[Math.min(f[0]+h,u),l]]:[[a,Math.max(f[1]-h,s)],[u,Math.min(f[1]+h,l)]])}return c()}function gg(e){return K4((jr+e)/2)}function G$(e,t){var r=tt(e),n=e===t?Qe(e):ov(r/tt(t))/ov(gg(t)/gg(e)),i=r*C2(gg(e),n)/n;if(!n)return em;function o(a,s){i>0?s<-jr+pt&&(s=-jr+pt):s>jr-pt&&(s=jr-pt);var u=i/C2(gg(s),n);return[u*Qe(n*a),i-u*tt(n*a)]}return o.invert=function(a,s){var u=i-s,l=Ki(n)*fn(a*a+u*u),c=Kn(a,tr(u))*Ki(u);return u*n<0&&(c-=zt*Ki(a)*Ki(u)),[c/n,2*Nf(C2(i/l,1/n))-jr]},o}function hSt(){return iC(G$).scale(109.5).parallels([30,30])}function o1(e,t){return[e,t]}o1.invert=o1;function fSt(){return ia(o1).scale(152.63)}function Y$(e,t){var r=tt(e),n=e===t?Qe(e):(r-tt(t))/(t-e),i=r/n+e;if(tr(n)<pt)return o1;function o(a,s){var u=i-s,l=n*a;return[u*Qe(l),i-u*tt(l)]}return o.invert=function(a,s){var u=i-s,l=Kn(a,tr(u))*Ki(u);return u*n<0&&(l-=zt*Ki(a)*Ki(u)),[l/n,i-Ki(n)*fn(a*a+u*u)]},o}function pSt(){return iC(Y$).scale(131.154).center([0,13.9389])}var xd=1.340264,Ed=-.081106,Sd=893e-6,kd=.003796,kv=fn(3)/2,dSt=12;function sC(e,t){var r=Zn(kv*Qe(t)),n=r*r,i=n*n*n;return[e*tt(r)/(kv*(xd+3*Ed*n+i*(7*Sd+9*kd*n))),r*(xd+Ed*n+i*(Sd+kd*n))]}sC.invert=function(e,t){for(var r=t,n=r*r,i=n*n*n,o=0,a,s,u;o<dSt&&(s=r*(xd+Ed*n+i*(Sd+kd*n))-t,u=xd+3*Ed*n+i*(7*Sd+9*kd*n),r-=a=s/u,n=r*r,i=n*n*n,!(tr(a)<nv));++o);return[kv*e*(xd+3*Ed*n+i*(7*Sd+9*kd*n))/tt(r),Zn(Qe(r)/kv)]};function mSt(){return ia(sC).scale(177.158)}function lC(e,t){var r=tt(t),n=tt(e)*r;return[r*Qe(e)/n,Qe(t)/n]}lC.invert=J1(Nf);function gSt(){return ia(lC).scale(144.049).clipAngle(60)}function ySt(){var e=1,t=0,r=0,n=1,i=1,o=0,a,s,u=null,l,c,h,f=1,p=1,d=Q1({point:function(_,w){var T=y([_,w]);this.stream.point(T[0],T[1])}}),m=r1,v,b;function g(){return f=e*n,p=e*i,v=b=null,y}function y(_){var w=_[0]*f,T=_[1]*p;if(o){var O=T*a-w*s;w=w*a+T*s,T=O}return[w+t,T+r]}return y.invert=function(_){var w=_[0]-t,T=_[1]-r;if(o){var O=T*a+w*s;w=w*a-T*s,T=O}return[w/f,T/p]},y.stream=function(_){return v&&b===_?v:v=d(m(b=_))},y.postclip=function(_){return arguments.length?(m=_,u=l=c=h=null,g()):m},y.clipExtent=function(_){return arguments.length?(m=_==null?(u=l=c=h=null,r1):__(u=+_[0][0],l=+_[0][1],c=+_[1][0],h=+_[1][1]),g()):u==null?null:[[u,l],[c,h]]},y.scale=function(_){return arguments.length?(e=+_,g()):e},y.translate=function(_){return arguments.length?(t=+_[0],r=+_[1],g()):[t,r]},y.angle=function(_){return arguments.length?(o=_%360*ct,s=Qe(o),a=tt(o),g()):o*vr},y.reflectX=function(_){return arguments.length?(n=_?-1:1,g()):n<0},y.reflectY=function(_){return arguments.length?(i=_?-1:1,g()):i<0},y.fitExtent=function(_,w){return w_(y,_,w)},y.fitSize=function(_,w){return eC(y,_,w)},y.fitWidth=function(_,w){return tC(y,_,w)},y.fitHeight=function(_,w){return rC(y,_,w)},y}function uC(e,t){var r=t*t,n=r*r;return[e*(.8707-.131979*r+n*(-.013791+n*(.003971*r-.001529*n))),t*(1.007226+r*(.015085+n*(-.044475+.028874*r-.005916*n)))]}uC.invert=function(e,t){var r=t,n=25,i;do{var o=r*r,a=o*o;r-=i=(r*(1.007226+o*(.015085+a*(-.044475+.028874*o-.005916*a)))-t)/(1.007226+o*(.015085*3+a*(-.044475*7+.028874*9*o-.005916*11*a)))}while(tr(i)>pt&&--n>0);return[e/(.8707+(o=r*r)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),r]};function vSt(){return ia(uC).scale(175.295)}function cC(e,t){return[tt(t)*Qe(e),Qe(t)]}cC.invert=J1(Zn);function bSt(){return ia(cC).scale(249.5).clipAngle(90+pt)}function hC(e,t){var r=tt(t),n=1+tt(e)*r;return[r*Qe(e)/n,Qe(t)/n]}hC.invert=J1(function(e){return 2*Nf(e)});function _St(){return ia(hC).scale(250).clipAngle(142)}function fC(e,t){return[ov(K4((jr+t)/2)),-e]}fC.invert=function(e,t){return[-t,2*Nf(s$(e))-jr]};function wSt(){var e=V$(fC),t=e.center,r=e.rotate;return e.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},e.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)}const TSt=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:H$,geoAlbersUsa:sSt,geoArea:pEt,geoAzimuthalEqualArea:lSt,geoAzimuthalEqualAreaRaw:oC,geoAzimuthalEquidistant:uSt,geoAzimuthalEquidistantRaw:aC,geoBounds:yEt,geoCentroid:xEt,geoCircle:EEt,geoClipAntimeridian:Ck,geoClipCircle:S$,geoClipExtent:MEt,geoClipRectangle:__,geoConicConformal:hSt,geoConicConformalRaw:G$,geoConicEqualArea:Sv,geoConicEqualAreaRaw:z$,geoConicEquidistant:pSt,geoConicEquidistantRaw:Y$,geoContains:BEt,geoDistance:vv,geoEqualEarth:mSt,geoEqualEarthRaw:sC,geoEquirectangular:fSt,geoEquirectangularRaw:o1,geoGnomonic:gSt,geoGnomonicRaw:lC,geoGraticule:P$,geoGraticule10:FEt,geoIdentity:ySt,geoInterpolate:zEt,geoLength:k$,geoMercator:cSt,geoMercatorRaw:em,geoNaturalEarth1:vSt,geoNaturalEarth1Raw:uC,geoOrthographic:bSt,geoOrthographicRaw:cC,geoPath:ZEt,geoProjection:ia,geoProjectionMutator:nC,geoRotation:b$,geoStereographic:_St,geoStereographicRaw:hC,geoStream:mo,geoTransform:QEt,geoTransverseMercator:wSt,geoTransverseMercatorRaw:fC},Symbol.toStringTag,{value:"Module"}));var ji="$";function Ov(){}Ov.prototype=pC.prototype={constructor:Ov,has:function(e){return ji+e in this},get:function(e){return this[ji+e]},set:function(e,t){return this[ji+e]=t,this},remove:function(e){var t=ji+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===ji&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===ji&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===ji&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===ji&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===ji&&++e;return e},empty:function(){for(var e in this)if(e[0]===ji)return!1;return!0},each:function(e){for(var t in this)t[0]===ji&&e(this[t],t.slice(1),this)}};function pC(e,t){var r=new Ov;if(e instanceof Ov)e.each(function(s,u){r.set(u,s)});else if(Array.isArray(e)){var n=-1,i=e.length,o;if(t==null)for(;++n<i;)r.set(n,e[n]);else for(;++n<i;)r.set(t(o=e[n],n,e),o)}else if(e)for(var a in e)r.set(a,e[a]);return r}function yD(){}var ll=pC.prototype;yD.prototype={constructor:yD,has:ll.has,add:function(e){return e+="",this[ji+e]=e,this},remove:ll.remove,clear:ll.clear,values:ll.keys,size:ll.size,empty:ll.empty,each:ll.each};var xSt={value:function(){}};function W$(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new t0(r)}function t0(e){this._=e}function ESt(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}t0.prototype=W$.prototype={constructor:t0,on:function(e,t){var r=this._,n=ESt(e+"",r),i,o=-1,a=n.length;if(arguments.length<2){for(;++o<a;)if((i=(e=n[o]).type)&&(i=SSt(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=n[o]).type)r[i]=vD(r[i],e.name,t);else if(t==null)for(i in r)r[i]=vD(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new t0(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,i=o.length;n<i;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,o=n.length;i<o;++i)n[i].value.apply(t,r)}};function SSt(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function vD(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=xSt,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}function dC(e,t){var r,n=W$("beforesend","progress","load","error"),i,o=pC(),a=new XMLHttpRequest,s=null,u=null,l,c,h=0;typeof XDomainRequest<"u"&&!("withCredentials"in a)&&/^(http(s)?:)?\/\//.test(e)&&(a=new XDomainRequest),"onload"in a?a.onload=a.onerror=a.ontimeout=f:a.onreadystatechange=function(p){a.readyState>3&&f(p)};function f(p){var d=a.status,m;if(!d&&OSt(a)||d>=200&&d<300||d===304){if(l)try{m=l.call(r,a)}catch(v){n.call("error",r,v);return}else m=a;n.call("load",r,m)}else n.call("error",r,p)}if(a.onprogress=function(p){n.call("progress",r,p)},r={header:function(p,d){return p=(p+"").toLowerCase(),arguments.length<2?o.get(p):(d==null?o.remove(p):o.set(p,d+""),r)},mimeType:function(p){return arguments.length?(i=p==null?null:p+"",r):i},responseType:function(p){return arguments.length?(c=p,r):c},timeout:function(p){return arguments.length?(h=+p,r):h},user:function(p){return arguments.length<1?s:(s=p==null?null:p+"",r)},password:function(p){return arguments.length<1?u:(u=p==null?null:p+"",r)},response:function(p){return l=p,r},get:function(p,d){return r.send("GET",p,d)},post:function(p,d){return r.send("POST",p,d)},send:function(p,d,m){return a.open(p,e,!0,s,u),i!=null&&!o.has("accept")&&o.set("accept",i+",*/*"),a.setRequestHeader&&o.each(function(v,b){a.setRequestHeader(b,v)}),i!=null&&a.overrideMimeType&&a.overrideMimeType(i),c!=null&&(a.responseType=c),h>0&&(a.timeout=h),m==null&&typeof d=="function"&&(m=d,d=null),m!=null&&m.length===1&&(m=kSt(m)),m!=null&&r.on("error",m).on("load",function(v){m(null,v)}),n.call("beforesend",r,a),a.send(d??null),r},abort:function(){return a.abort(),r},on:function(){var p=n.on.apply(n,arguments);return p===n?r:p}},t!=null){if(typeof t!="function")throw new Error("invalid callback: "+t);return r.get(t)}return r}function kSt(e){return function(t,r){e(t==null?r:null)}}function OSt(e){var t=e.responseType;return t&&t!=="text"?e.response:e.responseText}function T_(e,t){return function(r,n){var i=dC(r).mimeType(e).response(t);if(n!=null){if(typeof n!="function")throw new Error("invalid callback: "+n);return i.get(n)}return i}}const PSt=T_("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)}),CSt=T_("application/json",function(e){return JSON.parse(e.responseText)}),ASt=T_("text/plain",function(e){return e.responseText}),MSt=T_("application/xml",function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t});var bD={},D2={},N2=34,Rp=10,j2=13;function X$(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function ISt(e,t){var r=X$(e);return function(n,i){return t(r(n),i,e)}}function _D(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var i in n)i in t||r.push(t[i]=i)}),r}function si(e,t){var r=e+"",n=r.length;return n<t?new Array(t-n+1).join(0)+r:r}function RSt(e){return e<0?"-"+si(-e,6):e>9999?"+"+si(e,6):si(e,4)}function DSt(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),n=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":RSt(e.getUTCFullYear())+"-"+si(e.getUTCMonth()+1,2)+"-"+si(e.getUTCDate(),2)+(i?"T"+si(t,2)+":"+si(r,2)+":"+si(n,2)+"."+si(i,3)+"Z":n?"T"+si(t,2)+":"+si(r,2)+":"+si(n,2)+"Z":r||t?"T"+si(t,2)+":"+si(r,2)+"Z":"")}function q$(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function n(h,f){var p,d,m=i(h,function(v,b){if(p)return p(v,b-1);d=v,p=f?ISt(v,f):X$(v)});return m.columns=d||[],m}function i(h,f){var p=[],d=h.length,m=0,v=0,b,g=d<=0,y=!1;h.charCodeAt(d-1)===Rp&&--d,h.charCodeAt(d-1)===j2&&--d;function _(){if(g)return D2;if(y)return y=!1,bD;var T,O=m,E;if(h.charCodeAt(O)===N2){for(;m++<d&&h.charCodeAt(m)!==N2||h.charCodeAt(++m)===N2;);return(T=m)>=d?g=!0:(E=h.charCodeAt(m++))===Rp?y=!0:E===j2&&(y=!0,h.charCodeAt(m)===Rp&&++m),h.slice(O+1,T-1).replace(/""/g,'"')}for(;m<d;){if((E=h.charCodeAt(T=m++))===Rp)y=!0;else if(E===j2)y=!0,h.charCodeAt(m)===Rp&&++m;else if(E!==r)continue;return h.slice(O,T)}return g=!0,h.slice(O,d)}for(;(b=_())!==D2;){for(var w=[];b!==bD&&b!==D2;)w.push(b),b=_();f&&(w=f(w,v++))==null||p.push(w)}return p}function o(h,f){return h.map(function(p){return f.map(function(d){return c(p[d])}).join(e)})}function a(h,f){return f==null&&(f=_D(h)),[f.map(c).join(e)].concat(o(h,f)).join(`
`)}function s(h,f){return f==null&&(f=_D(h)),o(h,f).join(`
`)}function u(h){return h.map(l).join(`
`)}function l(h){return h.map(c).join(e)}function c(h){return h==null?"":h instanceof Date?DSt(h):t.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:n,parseRows:i,format:a,formatBody:s,formatRows:u,formatRow:l,formatValue:c}}var NSt=q$(","),jSt=NSt.parse,LSt=q$("	"),BSt=LSt.parse;function K$(e,t){return function(r,n,i){arguments.length<3&&(i=n,n=null);var o=dC(r).mimeType(e);return o.row=function(a){return arguments.length?o.response(FSt(t,n=a)):n},o.row(n),i?o.get(i):o}}function FSt(e,t){return function(r){return e(r.responseText,t)}}const zSt=K$("text/csv",jSt),HSt=K$("text/tab-separated-values",BSt),USt=Object.freeze(Object.defineProperty({__proto__:null,csv:zSt,html:PSt,json:CSt,request:dC,text:ASt,tsv:HSt,xml:MSt},Symbol.toStringTag,{value:"Module"}));function VSt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GSt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WSt(n.key),n)}}function YSt(e,t,r){return t&&GSt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WSt(e){var t=XSt(e,"string");return typeof t=="symbol"?t:t+""}function XSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $St(e,t,r){return t=Pv(t),qSt(e,Z$()?Reflect.construct(t,r||[],Pv(e).constructor):t.apply(e,r))}function qSt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KSt(e)}function KSt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z$=function(){return!!e})()}function Pv(e){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pv(e)}function ZSt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uk(e,t)}function Uk(e,t){return Uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Uk(e,t)}const yg={pointerEvents:"all"};let Q$=(function(e){function t(){return VSt(this,t),$St(this,t,arguments)}return ZSt(t,e),YSt(t,[{key:"getControls",value:function(r){return P.createElement(r_,{imgStyleAdd:yg,imgStyleClose:yg,imgStyleMove:yg,imgStyleSettings:yg,isAlignLeft:this.props.controlAlignLeft,isMoveable:this.moveable,isVertical:!0,isVisible:r,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}}])})(f_);function QSt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JSt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tkt(n.key),n)}}function ekt(e,t,r){return t&&JSt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tkt(e){var t=rkt(e,"string");return typeof t=="symbol"?t:t+""}function rkt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nkt(e,t,r){return t=of(t),ikt(e,J$()?Reflect.construct(t,r||[],of(e).constructor):t.apply(e,r))}function ikt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return okt(e)}function okt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J$=function(){return!!e})()}function akt(e,t,r,n){var i=Vk(of(e.prototype),t,r);return typeof i=="function"?function(o){return i.apply(r,o)}:i}function Vk(){return Vk=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=skt(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},Vk.apply(null,arguments)}function skt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=of(e))!==null;);return e}function of(e){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},of(e)}function lkt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gk(e,t)}function Gk(e,t){return Gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Gk(e,t)}let ukt=(function(e){function t(r,n){var i;QSt(this,t),i=nkt(this,t,[r,n]);const{registerViewportChanged:o,removeViewportChanged:a}=r,s=Nt.nice();return i.uid=s,i.removeViewportChanged=a,i.viewportXDomain=null,i.viewportYDomain=null,o(s,i.viewportChanged.bind(i)),i}return lkt(t,e),ekt(t,[{key:"viewportChanged",value:function(r,n){const i=r.domain(),o=n.domain();this.viewportXDomain=i,this.viewportYDomain=o,this.draw()}},{key:"draw",value:function(){const r=this.pMain;if(!this.viewportXDomain||!this.viewportYDomain)return;r.clear(),r.lineStyle(1,255,1),r.beginFill(16740363,1);const n=this._xScale(this.viewportXDomain[0]),i=this._yScale(this.viewportYDomain[0]),o=this._xScale(this.viewportXDomain[1])-this._xScale(this.viewportXDomain[0]),a=this._yScale(this.viewportYDomain[1])-this._yScale(this.viewportYDomain[0]);this.pMain.drawRect(n,i,o,a)}},{key:"zoomed",value:function(r,n){this.xScale(r),this.yScale(n),this.draw()}},{key:"setPosition",value:function(r){akt(t,"setPosition",this)([r]),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.draw()}}])})(ro);function eq(e){this.size=0,this.limit=e,this._keymap={}}function ckt(e,t){const r={key:e,value:t};if(this._keymap[e]=r,this.tail?(this.tail.newer=r,r.older=this.tail):this.head=r,this.tail=r,this.size===this.limit)return this.shift();this.size+=1}function hkt(){const e=this.head;return e&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):(this.head=void 0,this.tail=void 0),e.newer=void 0,e.older=void 0,delete this._keymap[e.key],this.size-=1),e}function fkt(e,t){const r=this._keymap[e];if(r!==void 0)return r===this.tail||(r.newer&&(r===this.head&&(this.head=r.newer),r.newer.older=r.older),r.older&&(r.older.newer=r.newer),r.newer=void 0,r.older=this.tail,this.tail&&(this.tail.newer=r),this.tail=r),t?r:r.value}function pkt(e){return this._keymap[e]}function dkt(e,t){const r=this.get(e,!0);let n;return r?(n=r.value,r.value=t):(n=this.put(e,t),n&&(n=n.value)),n}function mkt(e){const t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.head=t.newer):t.older?(t.older.newer=void 0,this.tail=t.older):(this.head=void 0,this.tail=void 0),this.size-=1,t.value}function gkt(){this.head=void 0,this.tail=void 0,this.size=0,this._keymap={}}function ykt(){return Object.keys(this._keymap)}function vkt(e,t,r){let n;if(t===!0?(r=!0,t=void 0):typeof t!="object"&&(t=this),r)for(n=this.tail;n;)e.call(t,n.key,n.value,this),n=n.older;else for(n=this.head;n;)e.call(t,n.key,n.value,this),n=n.newer}function bkt(){const e=[];let t=this.head;for(;t;)e.push({key:t.key.toJSON(),value:t.value.toJSON()}),t=t.newer;return e}function _kt(){let e="",t=this.head;for(;t;)e+=`${String(t.key)}:${t.value}`,t=t.newer,t&&(e+=" < ");return e}Object.assign(eq.prototype,{put:ckt,get:fkt,find:pkt,keys:ykt,set:dkt,shift:hkt,remove:mkt,removeAll:gkt,forEach:vkt,toJSON:bkt,toString:_kt});const tq="2.0.0",rq={...jle,IS_TRACK_RANGE_SELECTABLE:df,OPTIONS_INFO:wa},wkt={d3Array:ree,d3Axis:mbt,d3Brush:Sit,d3Color:gee,d3Drag:JJe,d3Dsv:zse,d3Format:Gee,d3Geo:TSt,d3Queue:Trt,d3Request:USt,d3Scale:bre,d3Selection:eie,d3Transition:mtt,d3Zoom:Ttt,PIXI:rq.GLOBALS.PIXI,mix:Of,slugid:Nt},Tkt={Annotations1dTrack:sX,Annotations2dTrack:uX,ArrowheadDomainsTrack:hX,BarTrack:X4,BedLikeTrack:W4,CNVIntervalTrack:pX,Chromosome2DAnnotations:bX,Chromosome2DLabels:wX,ChromosomeGrid:rd,CombinedTrack:BO,CrossRule:XX,DivergentBarTrack:JW,HeatmapTiledPixiTrack:q1,Horizontal1dHeatmapTrack:tX,Horizontal2DDomainsTrack:yX,HorizontalChromosomeLabels:EX,HorizontalGeneAnnotationsTrack:mX,HorizontalHeatmapTrack:PX,HorizontalLine1DPixiTrack:Df,HorizontalMultivecTrack:nX,HorizontalPoint1DPixiTrack:oX,HorizontalRule:JX,HorizontalTiled1DPixiTrack:Rf,HorizontalTiledPlot:Wy,HorizontalTrack:zY,Id2DTiledPixiTrack:DW,IdHorizontal1DTiledPixiTrack:jW,IdVertical1DTiledPixiTrack:zW,LeftAxisTrack:YW,MapboxTilesTrack:r$,MoveableTrack:f_,OSMTileIdsTrack:i$,OSMTilesTrack:K1,OverlayTrack:XW,PixiTrack:ro,RasterTilesTrack:a$,SVGTrack:bu,SquareMarkersTrack:kX,Tiled1DPixiTrack:Y4,TiledPixiTrack:Qa,TopAxisTrack:qW,Track:zc,ValueIntervalTrack:MX,VerticalRule:YX,VerticalTiled1DPixiTrack:BW,VerticalTrack:Q$,ViewportTracker2D:RX,ViewportTracker2DPixi:ukt,ViewportTrackerHorizontal:NX,ViewportTrackerVertical:LX},xkt={ContextMenuItem:xt,DataFetcher:v_,LruCache:eq},Ekt={ChromosomeInfo:Es,SearchField:WP},Skt={DataFetcher:v_,GBKDataFetcher:wW,LocalDataFetcher:TW,getDataFetcher:uEt},Cv={chromosomes:Ekt,libraries:wkt,tracks:Tkt,dataFetchers:Skt,factories:xkt,services:trt,utils:Ftt,configs:rq,VERSION:tq},L2={"track-renderer":"_track-renderer_11dwb_1","track-renderer-element":"_track-renderer-element_11dwb_5","track-renderer-events":"_track-renderer-events_11dwb_6"};function kkt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Okt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ckt(n.key),n)}}function Pkt(e,t,r){return t&&Okt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ckt(e){var t=Akt(e,"string");return typeof t=="symbol"?t:t+""}function Akt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Mkt(e,t,r){return t=Av(t),Ikt(e,nq()?Reflect.construct(t,r||[],Av(e).constructor):t.apply(e,r))}function Ikt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rkt(e)}function Rkt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nq=function(){return!!e})()}function Av(e){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Av(e)}function Dkt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yk(e,t)}function Yk(e,t){return Yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Yk(e,t)}const{getDataFetcher:Nkt}=Cv.dataFetchers,jkt=100;let mC=(function(e){function t(r){var n;if(kkt(this,t),n=Mkt(this,t,[r]),n.dragging=!1,n.element=null,n.eventTracker=null,n.eventTrackerOld=null,n.closing=!1,n.yPositionOffset=0,n.xPositionOffset=0,n.scrollTop=0,n.scrollTimeout=null,n.activeTransitions=0,n.zoomTransform=sn,n.windowScrolledBound=n.windowScrolled.bind(n),n.zoomStartedBound=n.zoomStarted.bind(n),n.zoomedBound=n.zoomed.bind(n),n.zoomEndedBound=n.zoomEnded.bind(n),n.uid=Nt.nice(),n.viewUid=n.props.uid,n.availableForPlugins={...Cv,services:{...Cv.services,pubSub:n.props.pubSub,pixiRenderer:n.props.pixiRenderer}},n.mounted=!1,n.emptyZoomBehavior=Bx(),n.currentProps=r,n.prevPropsStr="",n.zoomBehavior=Bx().filter(i=>!(i.target.classList.contains("no-zoom")||i.target.classList.contains("react-resizable-handle"))).on("start",n.zoomStartedBound).on("zoom",n.zoomedBound).on("end",n.zoomEndedBound),n.zoomTransform=sn,n.prevZoomTransform=sn,n.initialXDomain=[0,1],n.initialYDomain=[0,1],n.xDomainLimits=[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],n.yDomainLimits=[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],n.zoomLimits=[0,Number.MAX_SAFE_INTEGER],n.prevCenterX=n.currentProps.paddingLeft+n.currentProps.leftWidth+n.currentProps.centerWidth/2,n.prevCenterY=n.currentProps.paddingTop+n.currentProps.topHeight+n.currentProps.centerHeight/2,n.cumCenterXOffset=0,n.cumCenterYOffset=0,n.setUpInitialScales(n.currentProps.initialXDomain,n.currentProps.initialYDomain,n.currentProps.xDomainLimits,n.currentProps.yDomainLimits,n.currentProps.zoomLimits),n.setUpScales(),n.trackDefObjects={},n.metaTracks={},n.pubSubs=[],window.higlassTracksByType)for(const i in window.higlassTracksByType)lr[i]=window.higlassTracksByType[i].config;return n.boundForwardEvent=n.forwardEvent.bind(n),n.boundScrollEvent=n.scrollEvent.bind(n),n.boundForwardContextMenu=n.forwardContextMenu.bind(n),n.dispatchEventBound=n.dispatchEvent.bind(n),n.zoomToDataPosHandlerBound=n.zoomToDataPosHandler.bind(n),n.onScrollHandlerBound=n.onScrollHandler.bind(n),n.elementPos={height:0,width:0,left:0,top:0},n.elementSelection=null,n}return Dkt(t,e),Pkt(t,[{key:"xScale",get:function(){if(!this._xScale)throw new Error("xScale is not defined");return this._xScale}},{key:"yScale",get:function(){if(!this._yScale)throw new Error("yScale is not defined");return this._yScale}},{key:"UNSAFE_componentWillMount",value:function(){this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("scroll",this.windowScrolledBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.event",this.dispatchEventBound)),this.pubSubs.push(this.props.pubSub.subscribe("zoomToDataPos",this.zoomToDataPosHandlerBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.scroll",this.onScrollHandlerBound))}},{key:"componentDidMount",value:function(){if(!this.element)throw new Error("Component did not mount, this.element is not defined.");if(this.elementPos=this.element.getBoundingClientRect(),this.elementSelection=ut(this.element),this.pStage=new Ie.PIXI.Graphics,this.pMask=new Ie.PIXI.Graphics,this.pOutline=new Ie.PIXI.Graphics,this.pBackground=new Ie.PIXI.Graphics,this.pStage.addChild(this.pMask),this.pStage.addChild(this.pOutline),this.currentProps.pixiStage.addChild(this.pStage),this.pStage.mask=this.pMask,this.props.isRangeSelection||this.addZoom(),!this.currentProps.svgElement||!this.currentProps.canvasElement)return;this.svgElement=this.currentProps.svgElement,this.syncTrackObjects(this.currentProps.positionedTracks),this.syncMetaTracks(this.currentProps.metaTracks),this.currentProps.setCentersFunction(this.setCenter.bind(this)),this.currentProps.registerDraggingChangedListener(this.draggingChanged.bind(this)),this.draggingChanged(!0),this.addEventTracker();const r=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],n=this.svgElement.getBoundingClientRect(),i=[[Math.max(r[0][0],0),Math.max(r[0][1],0)],[Math.min(r[1][0],n.width),Math.min(r[1][1],n.height)]];this.zoomBehavior.extent(i).translateExtent(r).scaleExtent(this.zoomLimits)}},{key:"UNSAFE_componentWillReceiveProps",value:function(r){if(!r.svgElement||!r.canvasElement)return;const n=this.updatablePropsToString(r);if(this.currentProps=r,this.prevPropsStr===n)return;this.setBackground();for(const s in this.trackDefObjects){const u=this.trackDefObjects[s].trackObject;u.delayDrawing=!0}this.prevPropsStr=n,this.setUpInitialScales(r.initialXDomain,r.initialYDomain,r.xDomainLimits,r.yDomainLimits,r.zoomLimits),this.setUpScales(r.width!==this.props.width||r.height!==this.props.height),this.svgElement=r.svgElement;const i=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],o=this.svgElement.getBoundingClientRect(),a=[[Math.max(i[0][0],0),Math.max(i[0][1],0)],[Math.min(i[1][0],o.width),Math.min(i[1][1],o.height)]];this.zoomBehavior.extent(a).translateExtent(i).scaleExtent(this.zoomLimits),this.syncTrackObjects(r.positionedTracks),this.syncMetaTracks(r.metaTracks);for(const s of r.positionedTracks){const u=s.track.options,l=this.trackDefObjects[s.track.uid].trackObject;if(l.rerender(u),fd(s.track)){const c={};for(const h of s.track.contents)c[h.uid]=h;for(const h in l.createdTracks)l.createdTracks[h].rerender(c[h].options)}}this.props.onNewTilesLoaded();for(const s in this.trackDefObjects){const u=this.trackDefObjects[s].trackObject;u.delayDrawing=!1,u.draw()}}},{key:"componentDidUpdate",value:function(r){(this.props.initialXDomain[0]!==r.initialXDomain[0]||this.props.initialXDomain[1]!==r.initialXDomain[1]||this.props.initialYDomain[0]!==r.initialYDomain[0]||this.props.initialYDomain[1]!==r.initialYDomain[1])&&this.element&&(this.element.__zoom=sn),r.isRangeSelection!==this.props.isRangeSelection&&(this.props.isRangeSelection?this.removeZoom():this.addZoom()),r.zoomable!==this.props.zoomable&&(this.props.zoomable?this.addZoom():this.removeZoom()),this.addEventTracker()}},{key:"componentWillUnmount",value:function(){var r,n;this.mounted=!1,this.removeTracks(Object.keys(this.trackDefObjects)),this.removeMetaTracks(Object.keys(this.metaTracks)),this.currentProps.removeDraggingChangedListener(this.draggingChanged),this.pStage&&this.currentProps.pixiStage.removeChild(this.pStage),(r=this.pMask)==null||r.destroy(!0),(n=this.pStage)==null||n.destroy(!0),this.pubSubs.forEach(i=>this.props.pubSub.unsubscribe(i)),this.pubSubs=[],this.removeEventTracker()}},{key:"dispatchEvent",value:function(r){r.sourceUid===this.uid&&r.type!=="contextmenu"&&this.element&&G0(r,this.element)}},{key:"isWithin",value:function(r,n){const i=r>=this.elementPos.left&&r<=this.elementPos.width+this.elementPos.left,o=n>=this.elementPos.top&&n<=this.elementPos.height+this.elementPos.top;return i&&o}},{key:"zoomToDataPosHandler",value:function({pos:r,animateTime:n}){this.zoomToDataPos(...r,n)}},{key:"addZoom",value:function(){!this.elementSelection||!this.currentProps.zoomable||(this.elementSelection.call(this.zoomBehavior),this.zoomBehavior.transform(this.elementSelection,this.zoomTransform))}},{key:"removeZoom",value:function(){this.elementSelection&&(this.zoomEnded(),this.elementSelection.on(".zoom",null))}},{key:"setMask",value:function(){var r,n,i,o;(r=this.pMask)==null||r.clear(),(n=this.pMask)==null||n.beginFill(),(i=this.pMask)==null||i.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),(o=this.pMask)==null||o.endFill()}},{key:"setBackground",value:function(){var r,n,i,o,a;const s=this.props.theme===br?"black":"white",u=ot(((r=this.currentProps.viewOptions)==null?void 0:r.backgroundColor)??s);(n=this.pBackground)==null||n.clear(),(i=this.pBackground)==null||i.beginFill(u),(o=this.pBackground)==null||o.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),(a=this.pBackground)==null||a.endFill()}},{key:"windowScrolled",value:function(){this.removeZoom(),this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.addZoom()},jkt)}},{key:"setUpInitialScales",value:function(r=[0,1],n=[0,1],i=[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],o=[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],a=[0,Number.MAX_SAFE_INTEGER]){a[0]=a[0]===null?0:a[0],a[1]=a[1]===null?Number.POSITIVE_INFINITY:a[1];const s=r[1]-r[0],u=(n[0]+n[1])/2;if(n[0]=u-s/2,n[1]=u+s/2,r[0]===this.initialXDomain[0]&&r[1]===this.initialXDomain[1]&&n[0]===this.initialYDomain[0]&&n[1]===this.initialYDomain[1]&&i[0]===this.xDomainLimits[0]&&i[1]===this.xDomainLimits[1]&&o[0]===this.yDomainLimits[0]&&o[1]===this.yDomainLimits[1]&&a[0]===this.zoomLimits[0]&&a[1]===this.zoomLimits[1])return;this.initialXDomain=r,this.initialYDomain=n,this.xDomainLimits=i,this.yDomainLimits=o,this.zoomLimits=a,this.zoomTransform=sn,this.prevZoomTransform=sn,this.cumCenterYOffset=0,this.cumCenterXOffset=0,this.drawableToDomainX=Et().domain([this.currentProps.paddingLeft+this.currentProps.leftWidth,this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth]).range([r[0],r[1]]);let l,c;this.currentProps.centerWidth===0?(l=this.currentProps.paddingTop+this.currentProps.topHeight,c=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight):(l=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2-this.currentProps.centerWidth/2,c=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2+this.currentProps.centerWidth/2),this.drawableToDomainY=Et().domain([l,c]).range([n[0],n[1]]),this.prevCenterX=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,this.prevCenterY=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2}},{key:"updatablePropsToString",value:function(r){return JSON.stringify({positionedTracks:r.positionedTracks,initialXDomain:r.initialXDomain,initialYDomain:r.initialYDomain,width:r.width,height:r.height,paddingLeft:r.paddingLeft,paddingTop:r.paddingTop,leftWidth:r.leftWidth,topHeight:r.topHeight,dragging:r.dragging,viewOptions:r.viewOptions})}},{key:"draggingChanged",value:function(r){this.dragging=r,this.timedUpdatePositionAndDimensions()}},{key:"setUpScales",value:function(r=!1){const n=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,i=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2;if(!this.drawableToDomainX||!this.drawableToDomainY)return;const o=(this.drawableToDomainX(n)-this.drawableToDomainX(this.prevCenterX))/this.zoomTransform.k,a=(this.drawableToDomainY(i)-this.drawableToDomainY(this.prevCenterY))/this.zoomTransform.k;this.cumCenterYOffset+=a,this.cumCenterXOffset+=o,this.prevCenterY=i,this.prevCenterX=n;const s=[this.drawableToDomainX(0)-this.cumCenterXOffset,this.drawableToDomainX(this.currentProps.width)-this.cumCenterXOffset],u=[this.drawableToDomainY(0)-this.cumCenterYOffset,this.drawableToDomainY(this.currentProps.height)-this.cumCenterYOffset];this._xScale=Et().domain(s).range([0,this.currentProps.width]),this._yScale=Et().domain(u).range([0,this.currentProps.height]);for(const l in this.trackDefObjects)this.trackDefObjects[l].trackObject.refScalesChanged(this.xScale,this.yScale);this.applyZoomTransform(r)}},{key:"getTrackDef",value:function(r){const n=Fi(this.trackDefObjects);for(const[,{trackDef:i,trackObject:o}]of n){if(o===r)return i.track;if(fd(i.track)){for(const a of i.track.contents)if(o.createdTracks[a.uid]===r)return a}}return null}},{key:"getTrackObject",value:function(r){const n=Fi(this.trackDefObjects);for(let i=0;i<n.length;i++){const o=n[i][0],a=n[i][1].trackObject;if(o===r)return a;if(a.createdTracks){const s=Fi(a.createdTracks);for(let u=0;u<s.length;u++){const l=s[u][0],c=s[u][1];if(l===r)return c}}}}},{key:"timedUpdatePositionAndDimensions",value:function(){this.closing||!this.element||(this.elementPos=this.element.getBoundingClientRect(),this.dragging&&(this.yPositionOffset=this.element.getBoundingClientRect().top-this.currentProps.canvasElement.getBoundingClientRect().top+this.scrollTop,this.xPositionOffset=this.element.getBoundingClientRect().left-this.currentProps.canvasElement.getBoundingClientRect().left,this.setMask(),this.setBackground(),this.updateTrackPositions()&&this.applyZoomTransform(!0),requestAnimationFrame(this.timedUpdatePositionAndDimensions.bind(this))))}},{key:"syncMetaTracks",value:function(r){const n=Object.keys(this.metaTracks),i=new Set(r.map(o=>o.uid));this.addMetaTracks(r.filter(o=>!this.metaTracks[o.uid])),this.updateMetaTracks(r.filter(o=>this.metaTracks[o.uid])),this.removeMetaTracks(n.filter(o=>!i.has(o)))}},{key:"syncTrackObjects",value:function(r){this.prevTrackDefinitions=JSON.stringify(r);const n={};for(let l=0;l<r.length;l++)n[r[l].track.uid]=r[l];const i=new Set(Object.keys(this.trackDefObjects)),o=new Set(Object.keys(n)),a=new Set([...o].filter(l=>!i.has(l))),s=new Set([...i].filter(l=>!o.has(l))),u=new Set([...o].filter(l=>i.has(l)));this.updateExistingTrackDefs([...u].map(l=>n[l])),this.addNewTracks([...a].map(l=>n[l])),this.updateExistingTrackDefs([...a].map(l=>n[l])),this.removeTracks([...s])}},{key:"addMetaTracks",value:function(r){r.filter(n=>!this.metaTracks[n.uid]).forEach(n=>{this.metaTracks[n.uid]={trackDef:n,trackObject:this.createMetaTrack(n)}})}},{key:"addNewTracks",value:function(r){if(this.currentProps.pixiStage){for(let n=0;n<r.length;n++){const i=r[n],o=this.createTrackObject(i.track);o.refScalesChanged(this.xScale,this.yScale),this.trackDefObjects[i.track.uid]={trackDef:i,trackObject:o};const a=this.zoomTransform.rescaleX(this.xScale),s=this.zoomTransform.rescaleY(this.yScale);o.setDimensions([i.width,i.height]),o.zoomed(a,s)}this.applyZoomTransform(!1)}}},{key:"updateMetaTracks",value:function(r){}},{key:"updateExistingTrackDefs",value:function(r){for(const n of r){const i=this.trackDefObjects[n.track.uid];i.trackDef=n,fd(n.track)&&i.trackObject.updateContents(n.track.contents,this.createTrackObject.bind(this)).refScalesChanged(this.xScale,this.yScale)}this.updateTrackPositions()&&this.applyZoomTransform(!1)}},{key:"updateTrackPositions",value:function(){let r=!1;for(const n in this.trackDefObjects){const i=this.trackDefObjects[n].trackDef,o=this.trackDefObjects[n].trackObject,a=o.position,s=o.dimensions,u=[this.xPositionOffset+i.left,this.yPositionOffset+i.top],l=[i.width,i.height];(!a||u[0]!==a[0]||u[1]!==a[1])&&(o.setPosition(u),r=!0),(!s||l[0]!==s[0]||l[1]!==s[1])&&(o.setDimensions(l),r=!0)}return r}},{key:"removeMetaTracks",value:function(r){r.forEach(n=>{this.metaTracks[n].trackObject.remove(),this.metaTracks[n]=void 0,delete this.metaTracks[n]})}},{key:"removeTracks",value:function(r){for(let n=0;n<r.length;n++)this.trackDefObjects[r[n]].trackObject.remove(),delete this.trackDefObjects[r[n]]}},{key:"setCenter",value:function(r,n,i,o=!1,a=0,s=this.xScale,u=this.yScale){const l=(this.xScale.invert(1)-this.xScale.invert(0))/i,c=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,h=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,f=c-s(r)*l,p=h-u(n)*l;let d;const m=()=>{const v=sn.translate(f,p).scale(l);this.zoomTransform=v,this.elementSelection&&this.emptyZoomBehavior.transform(this.elementSelection,v),d=this.applyZoomTransform(o)};if(a&&this.elementSelection){let v=this.elementSelection;this.activeTransitions+=1,document.hidden||(v=v.transition().duration(a)),v.call(this.zoomBehavior.transform,sn.translate(f,p).scale(l)).on("end",()=>{m(),this.activeTransitions-=1})}else m();return d}},{key:"valueScaleMove",value:function(r){if(this.zoomStartPos){for(const n of this.getTracksAtPosition(...this.zoomStartPos))n.movedY(r);this.zoomStartTransform&&(this.zoomTransform=this.zoomStartTransform)}}},{key:"valueScaleZoom",value:function(r,n){if(!Vle(r.sourceEvent))return;const i=r.sourceEvent.deltaY,o=r.sourceEvent.deltaMode,a=((u,l)=>u*(l?120:1)/500)(i,o),s=sr(r.sourceEvent,this.props.canvasElement);for(const u of this.getTracksAtPosition(...s)){const l=n==="1d-horizontal"?s[1]-u.position[1]:s[0]-u.position[0];u.zoomedY(l,2**a)}this.zoomStartTransform&&(this.zoomTransform=this.zoomStartTransform)}},{key:"zoomed",value:function(r){var n;let i=null;if(this.zoomStartPos){const o=this.getTracksAtPosition(...this.zoomStartPos);if(o.length){const a=o[0],s=this.getTrackDef(a);if(!s)return;(n=lr[s.type])!=null&&n.orientation&&(i=lr[s.type].orientation),a instanceof N7&&(i="1d-vertical")}}if(i&&r.sourceEvent){if(r.shiftKey||this.valueScaleZooming){if(r.sourceEvent.deltaY!==void 0){this.valueScaleZoom(r,i);return}i==="1d-horizontal"?this.valueScaleMove(r.sourceEvent.movementY):i==="1d-vertical"&&this.valueScaleMove(r.sourceEvent.movementX)}i==="1d-horizontal"&&r.sourceEvent.movementY?this.valueScaleMove(r.sourceEvent.movementY):i==="1d-vertical"&&r.sourceEvent.movementX&&this.valueScaleMove(r.sourceEvent.movementX)}this.zoomTransform=this.currentProps.zoomable?r.transform:sn,this.prevZoomTransform.k!==this.zoomTransform.k||(i==="1d-horizontal"?this.zoomTransform=sn.translate(this.zoomTransform.x,this.prevZoomTransform.y).scale(this.zoomTransform.k):i==="1d-vertical"&&(this.zoomTransform=sn.translate(this.prevZoomTransform.x,this.zoomTransform.y).scale(this.zoomTransform.k)),this.element&&(this.element.__zoom=this.zoomTransform)),this.applyZoomTransform(!0),this.prevZoomTransform=this.zoomTransform,this.props.pubSub.publish("app.zoom",r),r.sourceEvent&&(r.sourceEvent.stopPropagation(),r.sourceEvent.preventDefault())}},{key:"getTracksAtPosition",value:function(r,n){const i=[];let o=[];for(const a in this.trackDefObjects){const s=this.trackDefObjects[a].trackObject;s.childTracks?o=o.concat(s.childTracks):o.push(s)}for(const a of o){const s=a.position[0]<=r&&r<=a.position[0]+a.dimensions[0],u=a.position[1]<=n&&n<=a.position[1]+a.dimensions[1];s&&u&&i.push(a)}return i}},{key:"zoomStarted",value:function(r){this.zooming=!0,r?.sourceEvent&&(this.zoomStartPos=sr(r.sourceEvent,this.props.canvasElement),r.sourceEvent.shiftKey&&(this.valueScaleZooming=!0)),this.zoomStartTransform=this.zoomTransform,this.props.pubSub.publish("app.zoomStart")}},{key:"zoomEnded",value:function(){this.zooming=!1,this.zoomStartPos=null,this.valueScaleZooming&&(this.valueScaleZooming=!1,this.element&&(this.element.__zoom=this.zoomStartTransform)),this.props.pubSub.publish("app.zoomEnd")}},{key:"applyZoomTransform",value:function(r=!0){const n=this.currentProps,i=n.paddingLeft+n.leftWidth,o=n.paddingTop+n.topHeight;if(!this.xScale||!this.yScale)return;this.zoomedXScale=this.zoomTransform.rescaleX(this.xScale),this.zoomedYScale=this.zoomTransform.rescaleY(this.yScale);const a=Et().domain([i,i+n.centerWidth].map(this.zoomedXScale.invert)).range([0,n.centerWidth]),s=Et().domain([o,o+n.centerHeight].map(this.zoomedYScale.invert)).range([0,n.centerHeight]);for(const u in this.trackDefObjects){const l=this.trackDefObjects[u].trackObject,c=this.trackDefObjects[u].trackDef;let h="unknown";if(lr[c.track.type]&&(h=lr[c.track.type].orientation),h==="whole"){const f=Et().domain([n.paddingLeft,n.width-n.paddingLeft].map(this.zoomedXScale.invert)).range([0,n.width-2*n.paddingLeft]),p=Et().domain([n.paddingTop,n.height-n.paddingTop].map(this.zoomedYScale.invert)).range([0,n.height-2*n.paddingTop]);l.zoomed(f,p);continue}if(this.trackDefObjects[u].trackDef.track.position==="gallery"){const f=Et().domain([n.paddingLeft+n.leftWidthNoGallery,n.paddingLeft+n.leftWidth+n.centerWidth+n.galleryDim].map(this.zoomedXScale.invert)).range([0,n.centerWidth+2*n.galleryDim]),p=Et().domain([n.paddingTop+n.topHeightNoGallery,n.paddingTop+n.topHeight+n.centerHeight+n.galleryDim].map(this.zoomedYScale.invert)).range([0,n.centerHeight-2*n.galleryDim]);l.zoomed(f.copy(),p.copy(),this.zoomTransform.k);continue}l.zoomed(a.copy(),s.copy(),this.zoomTransform.k,this.zoomTransform.x+this.xPositionOffset,this.zoomTransform.y+this.yPositionOffset,n.paddingLeft+n.leftWidth,n.paddingTop+n.topHeight)}return this.currentXScale=a,this.currentYScale=s,r&&this.currentProps.onScalesChanged(a,s),[a,s]}},{key:"createMetaTrack",value:function(r){switch(r.type){default:{const n=this.props.pluginTracks[r.type];if(n?.isMetaTrack){const i={getTrackObject:this.getTrackObject.bind(this),onNewTilesLoaded:()=>{this.currentProps.onNewTilesLoaded(r.uid)},definition:r};try{return new n.track(this.availableForPlugins,i,r.options??{})}catch(o){console.error("Plugin meta track",r.type,"failed to instantiate.",o)}}return console.warn(`Unknown meta track of type: ${r.type}`),new F7(this.pStage,{name:"Unknown Track Type",type:r.type})}}}},{key:"createTrackObject",value:function(r){const n=this.createLocationAgnosticTrackObject(r);return(r.position==="left"||r.position==="right")&&lr[r.type].orientation==="1d-horizontal"?new N7(n):n}},{key:"createLocationAgnosticTrackObject",value:function(r){let n=r.data;n||(n={server:Ab(r.server??""),tilesetUid:r.tilesetUid}),r.coordSystem&&(n.coordSystem=r.coordSystem);const i=Nkt(n,this.props.pubSub,this.props.pluginDataFetchers,this.availableForPlugins);if(!this.pStage||!this.svgElement)throw new Error("No PIXI stage or svg element");const o={id:r.uid,trackUid:r.uid,trackType:r.type,viewUid:this.viewUid,pubSub:this.props.pubSub,scene:this.pStage,dataConfig:n,dataFetcher:i,getLockGroupExtrema:()=>this.currentProps.getLockGroupExtrema(r.uid),handleTilesetInfoReceived:a=>{this.currentProps.onTilesetInfoReceived(r.uid,a)},animate:()=>{this.currentProps.onNewTilesLoaded(r.uid)},svgElement:this.svgElement,isValueScaleLocked:()=>this.currentProps.isValueScaleLocked(r.uid),onValueScaleChanged:()=>{this.currentProps.onValueScaleChanged(r.uid)},onTrackOptionsChanged:a=>{this.currentProps.onTrackOptionsChanged(r.uid,a)},onMouseMoveZoom:this.props.onMouseMoveZoom,chromInfoPath:r.chromInfoPath,isShowGlobalMousePosition:()=>this.props.isShowGlobalMousePosition,getTheme:()=>this.props.theme};switch(r.y&&(o.yPosition=r.y),r.x&&(o.xPosition=r.x),r.projectionXDomain&&(o.projectionXDomain=r.projectionXDomain),r.projectionYDomain&&(o.projectionYDomain=r.projectionYDomain),r.type){case"left-axis":return new YW(o,r.options);case"top-axis":return new qW(o,r.options);case"heatmap":return new q1(o,r.options);case"multivec":case"vector-heatmap":case"horizontal-multivec":case"horizontal-vector-heatmap":case"vertical-multivec":case"vertical-vector-heatmap":return new nX(o,r.options);case"1d-heatmap":case"horizontal-1d-heatmap":case"vertical-1d-heatmap":return new tX(o,r.options);case"line":case"horizontal-line":case"vertical-line":return new Df(o,r.options);case"point":case"horizontal-point":case"vertical-point":return new oX(o,r.options);case"bar":case"horizontal-bar":case"vertical-bar":return new X4(o,r.options);case"divergent-bar":case"horizontal-divergent-bar":case"vertical-divergent-bar":return new JW(o,r.options);case"horizontal-1d-tiles":return new jW(o,r.options);case"vertical-1d-tiles":return new zW(o,r.options);case"2d-tiles":return new DW(o,r.options);case"stacked-interval":case"top-stacked-interval":case"left-stacked-interval":return new pX(o,r.options);case"viewport-projection-center":return r.registerViewportChanged&&r.removeViewportChanged&&r.setDomainsCallback?(o.registerViewportChanged=r.registerViewportChanged,o.removeViewportChanged=r.removeViewportChanged,o.setDomainsCallback=r.setDomainsCallback,new RX(o,r.options)):new zc(o,{});case"viewport-projection-horizontal":return r.registerViewportChanged&&r.removeViewportChanged&&r.setDomainsCallback?(o.registerViewportChanged=r.registerViewportChanged,o.removeViewportChanged=r.removeViewportChanged,o.setDomainsCallback=r.setDomainsCallback,new NX(o,r.options)):new zc(o,{});case"viewport-projection-vertical":return r.registerViewportChanged&&r.removeViewportChanged&&r.setDomainsCallback?(o.registerViewportChanged=r.registerViewportChanged,o.removeViewportChanged=r.removeViewportChanged,o.setDomainsCallback=r.setDomainsCallback,new LX(o,r.options)):new zc(o,{});case"gene-annotations":case"horizontal-gene-annotations":case"vertical-gene-annotations":return new mX(o,r.options);case"2d-rectangle-domains":case"arrowhead-domains":return new hX(o,r.options);case"1d-annotations":case"horizontal-1d-annotations":case"vertical-1d-annotations":return new sX(o,r.options,!0);case"2d-annotations":return new uX(o,r.options);case"linear-2d-rectangle-domains":case"horizontal-2d-rectangle-domains":case"vertical-2d-rectangle-domains":return new yX(o,r.options);case"square-markers":return new kX(o,r.options);case"combined":return o.tracks=r.contents,o.createTrackObject=this.createTrackObject.bind(this),new BO(o);case"2d-chromosome-labels":return new wX(o,r.options);case"horizontal-chromosome-grid":return o.orientation="1d-horizontal",new rd(o,r.options);case"vertical-chromosome-grid":return o.orientation="1d-vertical",new rd(o,r.options);case"2d-chromosome-grid":return new rd(o,r.options);case"chromosome-labels":case"horizontal-chromosome-labels":case"vertical-chromosome-labels":return new EX(o,r.options);case"linear-heatmap":case"horizontal-heatmap":case"vertical-heatmap":return new PX(o,r.options);case"2d-chromosome-annotations":return new bX(o,r.options);case"1d-value-interval":case"horizontal-1d-value-interval":case"vertical-1d-value-interval":return new MX(o,r.options);case"osm":case"osm-tiles":return new K1(o,r.options);case"osm-2d-tile-ids":return new i$(o,r.options);case"mapbox":case"mapbox-tiles":return new r$(o,r.options);case"raster-tiles":return new a$(o,r.options);case"bedlike":case"vertical-bedlike":return new W4(o,r.options);case"overlay-track":return new XW(o,r.options);case"overlay-chromosome-grid-track":return o.isOverlay=!0,new rd(o,r.options);case"horizontal-rule":return new JX(o,r.options);case"vertical-rule":return new YX(o,r.options);case"cross-rule":return o.x=r.x,o.y=r.y,new XX(o,r.options);case"simple-svg":return new bu(o,r.options);case"empty":{const a=r.options;return new ro(o,a)}default:{const a=this.props.pluginTracks[r.type];if(a&&!a.isMetaTrack){o.AVAILABLE_FOR_PLUGINS=this.availableForPlugins,o.baseEl=this.baseEl,o.definition=r,r.registerViewportChanged&&r.removeViewportChanged&&r.setDomainsCallback&&(o.registerViewportChanged=r.registerViewportChanged,o.removeViewportChanged=r.removeViewportChanged,o.setDomainsCallback=r.setDomainsCallback);try{return new a.track(this.availableForPlugins,o,r.options??{})}catch(s){console.error("Plugin track",r.type,"failed to instantiate.",s)}}return console.warn("Unknown track type:",r.type),new F7(o,{name:"Unknown Track Type",type:r.type})}}}},{key:"zoomToDataPos",value:function(r,n,i,o,a=3e3,s=null){const[u,l,c]=Qr(this.xScale.copy().domain([r,n]),this.yScale.copy().domain([i,o])),h=s?s(this.xScale,this.yScale):[this.xScale,this.yScale];this.setCenter(u,l,c,!1,a,h[0],h[1])}},{key:"forwardContextMenu",value:function(r){this.props.disableTrackMenu||r.altKey||(r.preventDefault(),setTimeout(()=>{this.props.pubSub.publish("contextmenu",r)},0))}},{key:"addEventTracker",value:function(){!this.eventTracker||this.eventTracker===this.eventTrackerOld||(this.eventTrackerOld||(this.eventTrackerOld=this.eventTracker),this.eventTracker=this.eventTrackerOld,this.eventTracker.addEventListener("click",this.boundForwardEvent),this.eventTracker.addEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.addEventListener("dblclick",this.boundForwardEvent),this.eventTracker.addEventListener("wheel",this.boundForwardEvent),this.eventTracker.addEventListener("dragstart",this.boundForwardEvent),this.eventTracker.addEventListener("selectstart",this.boundForwardEvent),this.eventTracker.addEventListener("mouseover",this.boundForwardEvent),this.eventTracker.addEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.addEventListener("mousedown",this.boundForwardEvent),this.eventTracker.addEventListener("mouseup",this.boundForwardEvent),this.eventTracker.addEventListener("mouseout",this.boundForwardEvent),this.eventTracker.addEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.addEventListener("touchstart",this.boundForwardEvent),this.eventTracker.addEventListener("touchend",this.boundForwardEvent),this.eventTracker.addEventListener("touchmove",this.boundForwardEvent),this.eventTracker.addEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerover",this.boundForwardEvent),this.eventTracker.addEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.addEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.addEventListener("pointerup",this.boundForwardEvent),this.eventTracker.addEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerout",this.boundForwardEvent),this.eventTracker.addEventListener("pointerleave",this.boundForwardEvent),window.addEventListener("scroll",this.boundScrollEvent))}},{key:"removeEventTracker",value:function(){this.eventTracker&&(this.eventTracker.removeEventListener("click",this.boundForwardEvent),this.eventTracker.removeEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.removeEventListener("dblclick",this.boundForwardEvent),this.eventTracker.removeEventListener("wheel",this.boundForwardEvent),this.eventTracker.removeEventListener("dragstart",this.boundForwardEvent),this.eventTracker.removeEventListener("selectstart",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseover",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.removeEventListener("mousedown",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseup",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseout",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.removeEventListener("touchstart",this.boundForwardEvent),this.eventTracker.removeEventListener("touchend",this.boundForwardEvent),this.eventTracker.removeEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerover",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerup",this.boundForwardEvent),this.eventTracker.removeEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerout",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerleave",this.boundForwardEvent),window.removeEventListener("scroll",this.boundScrollEvent))}},{key:"scrollEvent",value:function(){this.element&&(this.elementPos=this.element.getBoundingClientRect())}},{key:"forwardEvent",value:function(r){r.sourceUid=this.uid,r.forwarded=!0,this.props.pubSub.publish("app.event",r)}},{key:"onScrollHandler",value:function(r){this.scrollTop=r}},{key:"render",value:function(){return P.createElement("div",{ref:r=>{this.baseEl=r},className:Gt("track-renderer-div",L2["track-renderer"]),style:{height:this.currentProps.height,width:this.currentProps.width}},P.createElement("div",{ref:r=>{this.element=r},className:Gt("track-renderer-element",L2["track-renderer-element"])}),P.createElement("div",{ref:r=>{this.eventTracker=r},className:Gt("track-renderer-events",L2["track-renderer-events"])},this.currentProps.children))}}])})(P.Component);mC.defaultProps={pluginDataFetchers:{},pluginTracks:{},canvasElement:null,centerHeight:0,centerWidth:0,children:[],galleryDim:0,height:0,initialXDomain:[],initialYDomain:[],isShowGlobalMousePosition:!1,isRangeSelection:!1,leftWidth:0,leftWidthNoGallery:0,paddingLeft:0,paddingTop:0,positionedTracks:[],topHeight:0,topHeightNoGallery:0,width:0,metaTracks:[]};mC.propTypes={canvasElement:j.object,centerHeight:j.number,centerWidth:j.number,children:j.array,disableTrackMenu:j.bool,galleryDim:j.number,height:j.number,initialXDomain:j.array,initialYDomain:j.array,isShowGlobalMousePosition:j.bool,isRangeSelection:j.bool,leftWidth:j.number,leftWidthNoGallery:j.number,paddingLeft:j.number,paddingTop:j.number,metaTracks:j.array,onMouseMoveZoom:j.func,onNewTilesLoaded:j.func.isRequired,onScalesChanged:j.func.isRequired,pixiRenderer:j.object.isRequired,pixiStage:j.object.isRequired,pluginDataFetchers:j.object,pluginTracks:j.object,positionedTracks:j.array,pubSub:j.object.isRequired,setCentersFunction:j.func,svgElement:j.object.isRequired,theme:j.symbol.isRequired,topHeight:j.number,topHeightNoGallery:j.number,viewOptions:j.object,width:j.number,xDomainLimits:j.array,yDomainLimits:j.array,valueScaleZoom:j.bool,zoomable:j.bool.isRequired,zoomDomain:j.array,uid:j.string,zoomLimits:j.array};const Lkt=Ef(kf(mC)),Bkt=SG(e=>P.createElement(Q$,{className:e.className,controlAlignLeft:e.controlAlignLeft,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width})),Fkt={"vertical-tiled-plot":"_vertical-tiled-plot_f3ho8_1"};function zkt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hkt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vkt(n.key),n)}}function Ukt(e,t,r){return t&&Hkt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vkt(e){var t=Gkt(e,"string");return typeof t=="symbol"?t:t+""}function Gkt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ykt(e,t,r){return t=Mv(t),Wkt(e,iq()?Reflect.construct(t,r||[],Mv(e).constructor):t.apply(e,r))}function Wkt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xkt(e)}function Xkt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iq=function(){return!!e})()}function Mv(e){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mv(e)}function $kt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wk(e,t)}function Wk(e,t){return Wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Wk(e,t)}function wD(e){return e?.sourceEvent}let Xk=(function(e){function t(r){var n;return zkt(this,t),n=Ykt(this,t,[r]),n.brushBehavior=Sf().on("start",n.brushStarted.bind(n)).on("brush",n.brushed.bind(n)).on("end",n.brushedEnded.bind(n)),n}return $kt(t,e),Ukt(t,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush()}},{key:"shouldComponentUpdate",value:function(r,n){if(this.rangeSelectionTriggered)return this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==r.rangeSelection&&this.moveBrush(r.rangeSelection[0]?r.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==n;if(this.props.rangeSelection!==r.rangeSelection){const i=this.props.is1dRangeSelection?0:1;return this.moveBrush(r.rangeSelection[i]?r.rangeSelection[i]:null,r.rangeSelectionEnd),this.state!==n}return!0}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}},{key:"addBrush",value:function(){!this.brushEl||this.brushElAddedBefore===this.brushEl||(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,Dc(this.brushEl,fo["track-range-selection-group-brush-selection"]))}},{key:"brushed",value:function(r){const n=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!wD(r)||!this.props.onRangeSelection||n)&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(r.selection))}},{key:"brushStarted",value:function(r){!wD(r)||!r.selection||this.props.onRangeSelectionStart()}},{key:"brushedEnded",value:function(r){if(!this.props.is1dRangeSelection)return;const n=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,r.selection&&r.sourceEvent&&this.props.onRangeSelection&&!n&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(r.selection)),r.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}},{key:"moveBrush",value:function(r,n=!1){if(!this.brushEl)return;const i=r?[this.props.scale(r[0]),this.props.scale(r[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,n?this.brushEl.transition().call(this.brushBehavior.move,i):this.brushEl.call(this.brushBehavior.move,i)}},{key:"removeBrush",value:function(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}},{key:"render",value:function(){const r=this.props.tracks.map(o=>o.width).reduce(fs,0),n=this.props.tracks.map(o=>df(o)).reduce(w1,!1),i=fo[this.props.isRangeSelectionActive?"track-range-selection-active":"track-range-selection"];return P.createElement("div",{className:Fkt["vertical-tiled-plot"]},n&&P.createElement("svg",{ref:o=>{this.brushEl=ut(o)},className:i,style:{height:this.props.height,width:r},xmlns:"http://www.w3.org/2000/svg"}),P.createElement(p_,{axis:"x",className:Gt(Vi.list,Vi.stylizedList,Vi.horizontalList),component:UY,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:this.props.height,helperClass:Vi.stylizedHelper,itemClass:Gt(Vi.stylizedItem,Vi.horizontalItem),itemControlAlignLeft:this.props.tracksControlAlignLeft,itemReactClass:Bkt,items:this.props.tracks.map(o=>({configMenuVisible:o.uid===this.props.configTrackMenuId,uid:o.uid||Nt.nice(),height:this.props.height,width:o.width,value:o.value})),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:r}))}}])})(P.Component);Xk.propTypes={configTrackMenuId:j.string,editable:j.bool,handleConfigTrack:j.func,handleResizeTrack:j.func,handleSortEnd:j.func,is1dRangeSelection:j.bool,isRangeSelectionActive:j.bool,height:j.number,onAddSeries:j.func,onCloseTrack:j.func,onCloseTrackMenuOpened:j.func,onConfigTrackMenuOpened:j.func,onRangeSelection:j.func,onRangeSelectionEnd:j.func,onRangeSelectionReset:j.func,onRangeSelectionStart:j.func,rangeSelection:j.array,rangeSelectionEnd:j.bool,referenceAncestor:j.func,resizeHandles:j.object,scale:j.func,tracks:j.array,tracksControlAlignLeft:j.bool};function qkt(e){const t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch{}document.body.removeChild(t)}function TD(e){if(!navigator.clipboard){qkt(e);return}navigator.clipboard.writeText(e).then(()=>{},t=>{})}function Kkt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zkt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jkt(n.key),n)}}function Qkt(e,t,r){return t&&Zkt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jkt(e){var t=e9t(e,"string");return typeof t=="symbol"?t:t+""}function e9t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function t9t(e,t,r){return t=Iv(t),r9t(e,oq()?Reflect.construct(t,r||[],Iv(e).constructor):t.apply(e,r))}function r9t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n9t(e)}function n9t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oq=function(){return!!e})()}function Iv(e){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Iv(e)}function i9t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$k(e,t)}function $k(e,t){return $k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},$k(e,t)}let aq=(function(e){function t(){return Kkt(this,t),t9t(this,t,arguments)}return i9t(t,e),Qkt(t,[{key:"render",value:function(){const r=t4(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this)),n=this.props.customItems?P.Children.map(this.props.customItems,i=>P.cloneElement(i,{onMouseEnter:o=>{this.handleOtherMouseEnter(o)}})):null;return P.createElement("div",{ref:i=>{this.div=i},className:Gt(st["context-menu"],{[st["context-menu-dark"]]:this.props.theme===br}),"data-menu-type":"ViewContextMenu",style:{left:this.state.left,top:this.state.top}},n,n&&P.createElement("hr",{className:st["context-menu-hr"]}),r,r&&P.createElement("hr",{className:st["context-menu-hr"]}),this.props.genomePositionSearchBox&&P.createElement(xt,{onClick:this.copyLocationToClipboard.bind(this),onMouseEnter:i=>this.handleOtherMouseEnter(i)},"Copy location under cursor"),P.createElement("hr",{className:st["context-menu-hr"]}),P.createElement(xt,{onClick:()=>this.props.onAddTrack({type:"horizontal-rule",y:this.props.coords[1],position:"whole"}),onMouseEnter:i=>this.handleOtherMouseEnter(i)},"Add Horizontal Rule"),P.createElement(xt,{onClick:()=>this.props.onAddTrack({type:"vertical-rule",x:this.props.coords[0],position:"whole"}),onMouseEnter:i=>this.handleOtherMouseEnter(i)},"Add Vertical Rule"),P.createElement(xt,{onClick:()=>this.props.onAddTrack({type:"cross-rule",x:this.props.coords[0],y:this.props.coords[1],position:"whole"}),onMouseEnter:i=>this.handleOtherMouseEnter(i)},"Add Cross Rule"),P.createElement("hr",{className:st["context-menu-hr"]}),this.hasMatrixTrack(this.props.tracks)&&P.createElement(xt,{onClick:this.handleAddHorizontalSection.bind(this),onMouseEnter:i=>this.handleOtherMouseEnter(i)},"Add Horizontal Cross Section"),this.hasMatrixTrack(this.props.tracks)&&P.createElement(xt,{onClick:this.handleAddVerticalSection.bind(this),onMouseEnter:i=>this.handleOtherMouseEnter(i)},"Add Vertical Cross Section"),this.getSubmenu())}},{key:"hasMatrixTrack",value:function(r){return Pg(this.props.tracks).filter(n=>n.type==="heatmap").length>0}},{key:"handleAddHorizontalSection",value:function(){const r=Pg(this.props.tracks).filter(n=>n.type==="heatmap")[0];this.props.onAddTrack({type:"horizontal-rule",y:this.props.coords[1],position:"whole"}),this.props.onAddTrack({data:{type:"horizontal-section",server:r.server,tilesetUid:r.tilesetUid,slicePos:this.props.coords[1]},options:{valueScaling:"log"},type:"horizontal-bar",height:30,position:"top"})}},{key:"copyLocationToClipboard",value:function(){var r,n;const i=this.props.tracks[0]&&this.props.tracks[0].position==="center",o=(n=(r=this.props.genomePositionSearchBox)==null?void 0:r.searchField)==null?void 0:n.chromInfo;if(!o){console.warn("There needs to be a genome position search box present to copy the location"),this.props.closeMenu();return}const a=this.props.coords[0],s=this.props.coords[1],u=Ur(a,o),l=Yn(",d");let c=`${u[0]}:${l(u[1])}`;if(i){const h=Ur(s,o);c=`${c} & ${h[0]}:${l(h[1])}`,TD(c)}else TD(c);this.props.closeMenu()}},{key:"handleAddVerticalSection",value:function(){const r=Pg(this.props.tracks).filter(n=>n.type==="heatmap")[0];this.props.onAddTrack({type:"vertical-rule",x:this.props.coords[0],position:"whole"}),this.props.onAddTrack({data:{type:"vertical-section",server:r.server,tilesetUid:r.tilesetUid,slicePos:this.props.coords[0]},options:{valueScaling:"log"},type:"vertical-bar",height:30,position:"left"})}}])})(Of(Ls).with(PY));aq.propTypes={coords:j.array,customItems:j.array};function o9t(e,t){if(window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach(i=>{lr[i]=window.higlassTracksByType[i].config}),!(e in Vl)&&!t){console.warn("unknown data type:",e);return}const r={"1d-horizontal":["top","bottom","left","right"],"2d":["center"],"1d-vertical":["left","right"]},n=Vl[e]||{};if(t)for(const i of t)if(!lr[i])console.warn("unknown track type",i);else for(const o of r[lr[i].orientation])n[o]=i;return n}function a9t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s9t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u9t(n.key),n)}}function l9t(e,t,r){return t&&s9t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u9t(e){var t=c9t(e,"string");return typeof t=="symbol"?t:t+""}function c9t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function h9t(e,t,r){return t=Rv(t),f9t(e,sq()?Reflect.construct(t,r||[],Rv(e).constructor):t.apply(e,r))}function f9t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p9t(e)}function p9t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sq=function(){return!!e})()}function Rv(e){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rv(e)}function d9t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qk(e,t)}function qk(e,t){return qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},qk(e,t)}let gC=(function(e){function t(r){var n;a9t(this,t),n=h9t(this,t,[r]),n.closing=!1,n.brushX=fh();const{tracks:i}=n.props;return n.canvasElement=null,n.tracksByUidInit={},[...n.props.tracks.top||[],...n.props.tracks.right||[],...n.props.tracks.bottom||[],...n.props.tracks.left||[],...n.props.tracks.gallery||[],...n.props.tracks.center||[]].forEach(o=>{o.type==="combined"?o.contents.forEach(a=>{n.tracksByUidInit[a.uid]=!1}):n.tracksByUidInit[o.uid]=!1}),n.annotationUid=null,n.annotationCreatedNotified=!1,n.xScale=null,n.yScale=null,n.addUidsToTracks(i),n.trackToReplace=null,n.trackRenderer=null,n.brushSelection=null,n.configTrackMenu=null,n.state={sizeMeasured:!1,height:10,width:10,tracks:i,init:!1,addTrackExtent:null,addTrackPosition:null,customDialog:null,mouseOverOverlayUid:null,forceUpdate:0,rangeSelection:[null,null],rangeSelectionEnd:!1,chromInfo:null,defaultChromSizes:null,contextMenuCustomItems:null,contextMenuPosition:null,addDivisorDialog:null},n.reset=!0,window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach(o=>{lr[o]=window.higlassTracksByType[o].config}),n.topHeight=0,n.bottomHeight=0,n.leftWidth=0,n.rightWidth=0,n.centerHeight=0,n.centerWidth=0,n.dragTimeout=null,n.previousPropsStr="",n.brushesCreated={},n.appZoomedBound=n.appZoomed.bind(n),n.handleClickBound=n.handleClick.bind(n),n.contextMenuHandlerBound=n.contextMenuHandler.bind(n),n.handleNoTrackAddedBound=n.handleNoTrackAdded.bind(n),n.handleTracksAddedBound=n.handleTracksAdded.bind(n),n.closeMenusBound=n.closeMenus.bind(n),n.handleAddDivisorBound=n.handleAddDivisor.bind(n),n.handleAddSeriesBound=n.handleAddSeries.bind(n),n.handleChangeTrackDataBound=n.handleChangeTrackData.bind(n),n.handleChangeTrackTypeBound=n.handleChangeTrackType.bind(n),n.handleCloseTrackBound=n.handleCloseTrack.bind(n),n.handleConfigureTrackBound=n.handleConfigureTrack.bind(n),n.handleExportTrackDataBound=n.handleExportTrackData.bind(n),n.handleLockValueScaleBound=n.handleLockValueScale.bind(n),n.handleReplaceTrackBound=n.handleReplaceTrack.bind(n),n.handleTrackOptionsChangedBound=n.handleTrackOptionsChanged.bind(n),n.handleUnlockValueScaleBound=n.handleUnlockValueScale.bind(n),n.onAddTrack=n.handleAddTrack.bind(n),n}return d9t(t,e),l9t(t,[{key:"waitForDOMAttachment",value:function(r){if(!this.mounted)return;const n=this.divTiledPlot;document.body.contains(n)?r():requestAnimationFrame(()=>this.waitForDOMAttachment(r))}},{key:"componentDidMount",value:function(){this.mounted=!0,this.element=this.divTiledPlot,this.waitForDOMAttachment(()=>{h0.ElementQueries.listen(),this.resizeSensor=new h0.ResizeSensor(this.element.parentNode,this.measureSize.bind(this)),this.measureSize()}),this.addEventListeners(),this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("contextmenu",this.contextMenuHandlerBound))}},{key:"getTracksData",value:function(r,n){let i=[];const o=this.listAllTrackObjects();for(const s of r)s.track.contents?i=[...i,...s.track.contents]:i=[...i,s.track];const a=[];for(const s of i)if(s.type==="heatmap"){const u=o.filter(v=>v.id===s.uid)[0],l=u._xScale(n[0][0]),c=u._xScale(n[1][0]),h=u._yScale(n[0][1]),f=u._yScale(n[1][1])-h,p=c-l,d=u.getVisibleRectangleData(l,h,f,p),m=d.data.reduce((v,b)=>v+b,0)/d.data.length;a.push({name:s.options.name,mean:m,trackUid:s.uid})}return a}},{key:"appZoomed",value:function(){if(this.brushCurrent&&this.brushEl){if(this.brushType==="horizontal"){const r=[this.xScale(this.brushSelection[0])+this.brushTrack.left,this.xScale(this.brushSelection[1])+this.brushTrack.left];this.brushEl.call(this.brushCurrent.move,r)}if(this.brushType==="vertical"){const r=[this.yScale(this.brushSelection[0])+this.brushTrack.top,this.yScale(this.brushSelection[1])+this.brushTrack.top];this.brushEl.call(this.brushCurrent.move,r)}if(this.brushType==="2d"){const r=[[this.xScale(this.brushSelection[0][0])+this.brushTrack.left,this.yScale(this.brushSelection[0][1])+this.brushTrack.top],[this.xScale(this.brushSelection[1][0])+this.brushTrack.left,this.yScale(this.brushSelection[1][1])+this.brushTrack.top]];this.brushEl.call(this.brushCurrent.move,r)}}}},{key:"clearOtherBrushes",value:function(r){for(const n of Object.values(this.brushes))n.on("brush",null);for(const n in this.brushes){const i=this.brushes[n];i!==r&&this.brushEls[n].call(i.move,null)}for(const n of Object.values(this.brushes))n.on("brush",()=>this.clearOtherBrushes(n))}},{key:"handleClick",value:function(r){const n=sr(r,this.divTiledPlot);let i=!1;if(this.brushEl){const o=this.brushSelectionRaw,a=this.brushTrack;this.brushType==="2d"?n[0]>=o[0][0]&&n[0]<=o[1][0]&&n[1]>=o[0][1]&&n[1]<=o[1][1]&&(i=!0):this.brushType==="horizontal"?n[0]>=o[0]&&n[0]<=o[1]&&n[1]>=a.top&&n[1]<=a.top+a.height&&(i=!0):this.brushType==="vertical"&&n[1]>=o[0]&&n[1]<=o[1]&&n[0]>=a.left&&n[0]<=a.left+a.width&&(i=!0),i||this.cancelBrushes()}}},{key:"cancelBrushes",value:function(){this.brushEl.call(this.brushCurrent.move,null),this.brushEl=null,this.props.apiPublish("annotationRemoved",this.annotationUid),this.annotationUid=null,this.annotationCreatedNotified=!1,this.removeBrushText()}},{key:"removeBrushText",value:function(){ut(this.divTiledPlot).selectAll(".brush-svg").selectAll(".data-values").remove()}},{key:"enableBrushes",value:function(){ut(this.divTiledPlot).selectAll(".brush-svg").selectAll(".overlay").style("pointer-events","all")}},{key:"disableBrushes",value:function(){ut(this.divTiledPlot).selectAll(".overlay").attr("pointer-events","none"),ut(this.divTiledPlot).selectAll(".brush-rect").attr("pointer-events","none"),ut(this.divTiledPlot).selectAll(".selection").attr("pointer-events","all"),ut(this.divTiledPlot).selectAll(".brush-svg").attr("pointer-events","none")}},{key:"createBrushes",value:function(r){const n={};this.brushCurrent=null;const i=this.props.apiPublish,o=this;for(const a of r){if(n[a.track.uid])continue;let s=null;["top","bottom"].includes(a.track.position)?(s=fh(),s.on("brush",u=>{u.selection&&(this.brushCurrent=s,this.brushType="horizontal",this.brushTrack=a,this.brushSelectionRaw=u.selection,this.brushSelection=[this.xScale.invert(u.selection[0]-a.left),this.xScale.invert(u.selection[1]-a.left)],i("annotationChanged",{annotationUid:this.annotationUid,viewUid:this.props.uid,track:a.track,extent:[this.brushSelection,[null,null]]}))}),s.on("end",u=>{this.annotationCreatedNotified||i("annotationCreated",{annotationUid:o.annotationUid,track:a.track,viewUid:this.props.uid,extent:[this.brushSelection,[null,null]]})})):["left","right"].includes(a.track.position)?(s=Sf(),s.on("brush",u=>{u.selection&&(this.brushCurrent=s,this.brushType="vertical",this.brushTrack=a,this.brushSelectionRaw=u.selection,this.brushSelection=[this.yScale.invert(u.selection[0]-a.top),this.yScale.invert(u.selection[1]-a.top)],i("annotationChanged",{annotationUid:this.annotationUid,track:a.track,viewUid:this.props.uid,extent:[[null,null],this.brushSelection]}))}),s.on("end",u=>{this.annotationCreatedNotified||i("annotationCreated",{annotationUid:o.annotationUid,track:a.track,viewUid:this.props.uid,extent:[[null,null],this.brushSelection]})})):(s=t_(),s.on("brush",u=>{if(!u.selection)return;this.brushCurrent=s,this.brushType="2d",this.brushTrack=a,this.brushSelectionRaw=u.selection,this.brushSelection=[[this.xScale.invert(u.selection[0][0]-a.left),this.yScale.invert(u.selection[0][1]-a.top)],[this.xScale.invert(u.selection[1][0]-a.left),this.yScale.invert(u.selection[1][1]-a.top)]];const l=this.getTracksData(r.filter(h=>h.track.position==="center"),this.brushSelection),c=Object.values(l).filter(h=>h.mean!==void 0).map(h=>h.mean);if(c.length){ut(this.divTiledPlot).selectAll(".brush-svg").selectAll(".data-values").data(c).enter().append("text").classed("data-values",!0);const h=Yn(".3f");ut(this.divTiledPlot).selectAll(".data-values").attr("x",u.selection[0][0]).attr("y",u.selection[0][1]).text(f=>`mean: ${h(f)}`)}i("annotationChanged",{annotationUid:this.annotationUid,extent:this.brushSelection,data:l,track:a.track,viewUid:this.props.uid})}),s.on("end",u=>{var l;let c={};(l=this.brushSelection)!=null&&l[0].length&&(c=this.getTracksData(r.filter(h=>h.track.position==="center"),this.brushSelection)),this.annotationCreatedNotified?u.selection||this.removeBrushText():(i("annotationCreated",{annotationUid:o.annotationUid,track:a.track,viewUid:this.props.uid,extent:this.brushSelection,data:c}),this.annotationCreatedNotified=!0)})),s.keyModifiers(!1),s.extent([[a.left,a.top],[a.left+a.width,a.top+a.height]]),s.on("start",function(u){o.annotationUid||(o.annotationUid=Nt.nice(),a.annotationUid=o.annotationUid),o.brushEl=ut(this)}),n[a.track.uid]=s}return n}},{key:"removeBrushes",value:function(){ut(this.divTiledPlot).selectAll(".brush-svg").remove()}},{key:"addBrushes",value:function(){if(this.annotationUid)return;const r=this.positionedTracks().filter(a=>a.track.position!=="whole"),n=this.createBrushes(r);this.brushes=n;const i={};this.brushEls=i,ut(this.divTiledPlot).selectAll(".brush").remove(),ut(this.divTiledPlot).selectAll(".brush-svg").data([1]).enter().append("svg").classed("brush-svg",!0).style("position","absolute").style("left",0).style("top",0).style("z-index",101);const o=ut(this.divTiledPlot).select(".brush-svg").selectAll(".brush").data(r,a=>a.track.uid).enter().append("g").attr("class","brush");ut(this.divTiledPlot).selectAll(".brush-svg").attr("width",this.state.width).attr("height",this.state.height),ut(this.divTiledPlot).selectAll(".brush-rect").attr("x",a=>a.left).attr("y",a=>a.top).style("stroke","1px solid black").style("fill","transparent").attr("width",a=>a.width).attr("height",a=>a.height),o.each(function(a){i[a.track.uid]=ut(this),i[a.track.uid].call(n[a.track.uid])})}},{key:"UNSAFE_componentWillReceiveProps",value:function(r){this.addUidsToTracks(r.tracks),this.setState({tracks:r.tracks})}},{key:"shouldComponentUpdate",value:function(r,n){const i=this.previousPropsStr,o=this.updatablePropsToString(r),a=JSON.stringify(this.state),s=JSON.stringify(n),u=i!==o||a!==s||this.props.chooseTrackHandler!==r.chooseTrackHandler||this.props.customDialog!==r.customDialog;u&&(this.previousPropsStr=o);const l=this.numTracks;return this.numTracks=0,va(this.props.tracks,()=>this.numTracks++),this.reset=this.reset||l===0&&this.numTracks>0,this.numTracks||(this.tracksByUidInit={}),r.mouseTool===Fd?this.addBrushes():this.disableBrushes(),u}},{key:"componentDidUpdate",value:function(r,n){if(n.rangeSelection!==this.state.rangeSelection){let i=[null,null];this.state.defaultChromSizes&&this.state.rangeSelection.every(o=>o?.length)&&(i=this.state.rangeSelection.map(o=>j0(...o,this.state.defaultChromSizes))),this.props.onRangeSelection({dataRange:this.state.rangeSelection,genomicRange:i})}if(this.state.customDialog||this.props.customDialog){const i=this.state.customDialog||this.props.customDialog;if(i.length>0){const o=[],a=[];i.forEach(s=>{o.push(s.bodyComponent),a.push(s.bodyProps)}),this.props.modal.open(P.createElement(D4,{children:o,bodyProps:a,onCancel:this.props.closeCustomDialog,title:i[0].title}))}}if(r.tracks.center,this.props.tracks.center,(this.state.addTrackPosition||this.props.addTrackPosition)&&this.props.modal.open(P.createElement(Ey,{extent:this.state.addTrackExtent||this.props.addTrackExtent,host:this.state.addTrackHost,onCancel:this.handleNoTrackAddedBound,onTracksChosen:this.handleTracksAddedBound,position:this.state.addTrackPosition||this.props.addTrackPosition,trackSourceServers:this.props.trackSourceServers})),this.state.addDivisorDialog){const i=this.state.addDivisorDialog;this.props.modal.open(P.createElement(Ey,{datatype:lr[i.type].datatype[0],host:this.state.addTrackHost,onCancel:()=>{this.setState({addDivisorDialog:null})},onTracksChosen:o=>{this.handleDivisorChosen(i,o)},trackSourceServers:this.props.trackSourceServers}))}}},{key:"componentWillUnmount",value:function(){this.closing=!0,this.removeEventListeners(),this.pubSubs.forEach(r=>this.props.pubSub.unsubscribe(r))}},{key:"addUidsToTracks",value:function(r){Object.keys(r).forEach(n=>{r[n].forEach(i=>{i.uid=i.uid||Nt.nice()})})}},{key:"contextMenuHandler",value:function(r){if(!this.divTiledPlot)return;const n=this.divTiledPlot.getBoundingClientRect();if(!FO(r.clientX,r.clientY,n.left,n.left+n.width,n.top,n.top+n.height))return;const i=[r.clientX,r.clientY],o=sr(r,this.divTiledPlot),a=this.trackRenderer.zoomedXScale.invert(o[0]),s=this.trackRenderer.zoomedYScale.invert(o[1]);let u=null;r.hgCustomItems&&(u=r.hgCustomItems.map(l=>P.createElement(xt,{key:l.key,onClick:l.onClick},l.text))),this.setState({contextMenuCustomItems:u,contextMenuPosition:{left:i[0],top:i[1],canvasLeft:o[0]+this.trackRenderer.xPositionOffset,canvasTop:o[1]+this.trackRenderer.yPositionOffset},contextMenuDataX:a,contextMenuDataY:s})}},{key:"measureSize",value:function(){this.element.clientWidth>0&&this.element.clientHeight>0&&this.setState({sizeMeasured:!0,width:this.element.clientWidth,height:this.element.clientHeight})}},{key:"handleTrackOptionsChanged",value:function(r,n){return this.props.onTrackOptionsChanged(r,n)}},{key:"handleScalesChanged",value:function(r,n){this.xScale=r,this.yScale=n,this.appZoomed(),this.props.onScalesChanged(r,n)}},{key:"handleTilesetInfoReceived",value:function(r,n){const i=hi(this.props.tracks,r);if(!i){console.warn("Strange, track not found:",r);return}this.tracksByUidInit[i.uid]=!0,this.checkAllTilesetInfoReceived(),i.options||(i.options={}),i.name=n.name,i.maxWidth=n.max_width,i.transforms=n.transforms,i.aggregationModes=n.aggregation_modes,i.header=n.header,i.binsPerDimension=n.bins_per_dimension,n.resolutions?(i.maxZoom=n.resolutions.length-1,i.resolutions=n.resolutions):i.maxZoom=n.max_zoom,n.row_infos&&(i.row_infos=n.row_infos),i.coordSystem=n.coordSystem,i.datatype=n.datatype}},{key:"checkAllTilesetInfoReceived",value:function(){if(this.state.init&&!this.reset||!this.trackRenderer||!this.props.zoomToDataExtentOnInit())return;const r=Object.keys(this.trackRenderer.trackDefObjects).map(i=>{const o=this.trackRenderer.trackDefObjects[i].trackObject;return o.childTracks?o.childTracks:o}).reduce((i,o)=>i.concat(o),[]).filter(({tilesetInfo:i})=>typeof i<"u"&&i!==!0),n=Object.values(this.tracksByUidInit).filter(i=>i).length;r.length===n&&(this.setState({init:!0}),this.reset=!1,this.handleZoomToData())}},{key:"handleOverlayMouseEnter",value:function(r){this.setState({mouseOverOverlayUid:r}),this.props.setOverTrackChooser(!0)}},{key:"handleOverlayMouseLeave",value:function(r){r===this.state.mouseOverOverlayUid&&this.setState({mouseOverOverlayUid:null}),this.props.setOverTrackChooser(!1)}},{key:"handleTrackPositionChosen",value:function(r,n){this.setState({mouseOverOverlayUid:null}),this.props.chooseTrackHandler(r.track.uid,n)}},{key:"handleNoTrackAdded",value:function(){this.trackToReplace=null,this.props.onNoTrackAdded(),this.setState({addTrackExtent:null,addTrackPosition:null,addTrackHost:null})}},{key:"handleAddDivisor",value:function(r){this.setState({addDivisorDialog:r})}},{key:"handleDivisorChosen",value:function(r,n){this.setState({addDivisorDialog:null});const i=r.data?{server:r.data.server,tilesetUid:r.data.tilesetUid}:{server:r.server,tilesetUid:r.tilesetUid},o={server:n[0].server,tilesetUid:n[0].uuid};this.handleChangeTrackData(r.uid,{type:"divided",children:[i,o]})}},{key:"handleDivideSeries",value:function(r){}},{key:"handleAddSeries",value:function(r){const n=pd(this.props.tracks,r),i=hi(this.props.tracks,r);this.setState({addTrackPosition:n,addTrackHost:i})}},{key:"handleReplaceTrack",value:function(r,n){this.trackToReplace=r,this.handleAddTrack(n)}},{key:"handleAddTrack",value:function(r,n){this.setState({addTrackExtent:n,addTrackPosition:r,addTrackHost:null})}},{key:"handleResizeTrack",value:function(r,n,i){const{tracks:o}=this.state;for(const a in o){const s=o[a].filter(u=>u.uid===r);s.length>0&&(s[0].width=n,s[0].height=i)}this.setState({tracks:o,forceUpdate:Math.random()}),this.props.onResizeTrack()}},{key:"closeMenus",value:function(){this.setState({closeTrackMenuId:null,configTrackMenuId:null,contextMenuPosition:null,contextMenuCustomItems:null})}},{key:"handleLockValueScale",value:function(r){this.closeMenus(),this.props.onLockValueScale(r)}},{key:"handleUnlockValueScale",value:function(r){this.closeMenus(),this.props.onUnlockValueScale(r)}},{key:"handleCloseTrack",value:function(r){this.closeMenus(),this.props.onCloseTrack(r)}},{key:"handleChangeTrackType",value:function(r,n){this.closeMenus(),this.props.onChangeTrackType(r,n)}},{key:"handleChangeTrackData",value:function(r,n){this.closeMenus(),this.props.onChangeTrackData(r,n)}},{key:"handleTracksAdded",value:function(r,n,i,o){return this.trackToReplace&&(this.handleCloseTrack(this.trackToReplace),this.trackToReplace=null),this.props.onTracksAdded(r,n,i,o),this.setState({addTrackExtent:null,addTrackPosition:null,addTrackHost:null}),r}},{key:"handleCloseTrackMenuOpened",value:function(r,n){this.setState({closeTrackMenuId:r,closeTrackMenuLocation:n})}},{key:"handleCloseContextMenu",value:function(){this.setState({contextMenuCustomItems:null,contextMenuPosition:null,contextMenuDataX:null,contextMenuDataY:null})}},{key:"handleCloseTrackMenuClosed",value:function(){this.setState({closeTrackMenuId:null})}},{key:"handleConfigTrackMenuOpened",value:function(r,n){this.closeMenus(),this.setState({configTrackMenuId:r,configTrackMenuLocation:n})}},{key:"handleConfigureTrack",value:function(r,n){this.setState({configTrackMenuId:null,trackOptions:{track:r,configComponent:n}}),this.closeMenus()}},{key:"handleSortEnd",value:function(r){this.setState(n=>{const i=n.tracks,o={};for(let a=0;a<r.length;a++)o[r[a].uid]=a;for(const a in i){const s=i[a];if(s.length&&s[0].uid in o){const u=new Array(s.length);for(let l=0;l<s.length;l++)u[o[s[l].uid]]=s[l];i[a]=u}}return{tracks:i,forceUpdate:Math.random()}})}},{key:"createTracksAndLocations",value:function(){const r=[],{tracks:n}=this.state;return F0.forEach(i=>{n[i]&&n[i].forEach(o=>{o.contents&&o.contents.forEach(a=>{a.position=i}),o.position=i,r.push({track:o,location:i})})}),r}},{key:"calculateTrackPosition",value:function(r,n){let i=this.props.paddingTop,o=this.props.paddingBottom,a=this.props.paddingLeft,s=this.props.paddingRight,u=this.centerWidth,l=r.height,c=0,h=0;switch(n){case"top":a+=this.leftWidth;for(let f=0;f<this.state.tracks.top.length&&this.state.tracks.top[f].uid!==r.uid;f++)i+=this.state.tracks.top[f].height;break;case"bottom":a+=this.leftWidth,i+=this.topHeight+this.centerHeight+this.galleryDim;for(let f=0;f<this.state.tracks.bottom.length&&this.state.tracks.bottom[f].uid!==r.uid;f++)i+=this.state.tracks.bottom[f].height;break;case"left":i+=this.topHeight,u=r.width,l=this.centerHeight;for(let f=0;f<this.state.tracks.left.length&&this.state.tracks.left[f].uid!==r.uid;f++)a+=this.state.tracks.left[f].width;break;case"right":a+=this.leftWidth+this.centerWidth+this.galleryDim,i+=this.topHeight,u=r.width,l=this.centerHeight;for(let f=0;f<this.state.tracks.right.length&&this.state.tracks.right[f].uid!==r.uid;f++)a+=this.state.tracks.right[f].width;break;case"center":a+=this.leftWidth,i+=this.topHeight,l=this.centerHeight;break;case"gallery":a+=this.leftWidthNoGallery,i+=this.topHeightNoGallery,u=this.state.width-this.leftWidthNoGallery-this.rightWidthNoGallery-this.props.paddingLeft,l=this.state.height-this.topHeightNoGallery-this.bottomHeightNoGallery-this.props.paddingTop,c=this.galleryDim,h=this.galleryDim;for(let f=0;f<this.state.tracks.gallery.length&&this.state.tracks.gallery[f].uid!==r.uid;f++)u-=2*this.state.tracks.gallery[f].height,l-=2*this.state.tracks.gallery[f].height,a+=this.state.tracks.gallery[f].height,i+=this.state.tracks.gallery[f].height,c-=this.state.tracks.gallery[f].height,h-=this.state.tracks.gallery[f].height;for(let f=0;f<this.state.tracks.right.length;f++)s+=this.state.tracks.right[f].width;for(let f=0;f<this.state.tracks.bottom.length;f++)o+=this.state.tracks.bottom[f].height;r.offsetX=c,r.offsetY=h,r.offsetTop=i,r.offsetRight=s,r.offsetBottom=o,r.offsetLeft=a;break;default:u=this.leftWidth+this.centerWidth+this.rightWidth,l=this.topHeight+this.centerHeight+this.bottomHeight}return F0.indexOf(n)===-1&&console.warn("Track with unknown position present:",n,r),{left:a,top:i,width:u,height:l,track:r}}},{key:"findCentralHeatmapTrack",value:function(r){for(let n=0;n<r.length;n++){if(r[n].type==="combined")return this.findCentralHeatmapTrack(r[n].contents);if(r[n].type==="heatmap")return r[n]}}},{key:"trackUuidToOrientation",value:function(r){}},{key:"overlayTracks",value:function(r){return this.props.overlays?this.props.overlays.filter(n=>{var i;return(i=n.includes)==null?void 0:i.length}).map(n=>{const i=n.type?`overlay-${n.type}-track`:"overlay-track",o={...n,uid:n.uid||Nt.nice(),includes:n.includes,type:i,options:Object.assign(n.options,{orientationsAndPositions:n.includes.map(a=>{const s=hi(this.props.tracks,a);if(!s)return console.warn(`OverlayTrack included uid (${a}) not found in the track list`),null;const u=pd(this.props.tracks,s.uid);let l;if((u==="top"||u==="bottom")&&(l="1d-horizontal"),(u==="left"||u==="right")&&(l="1d-vertical"),u==="center"&&(l="2d"),!l)return console.warn("Only top, bottom, left, right, or center tracks can be overlaid at the moment"),null;const c=r.filter(f=>f.track.uid===a);if(!c.length)return null;const h={left:c[0].left-this.props.paddingLeft,top:c[0].top-this.props.paddingTop,width:c[0].width,height:c[0].height};return{orientation:l,position:h}}).filter(a=>a)})};return{top:this.props.paddingTop,left:this.props.paddingLeft,width:this.leftWidth+this.centerWidth+this.rightWidth,height:this.topHeight+this.centerHeight+this.bottomHeight+this.props.marginTop+this.props.marginBottom,track:o}}):[]}},{key:"positionedTracks",value:function(){return this.createTracksAndLocations().map(({track:r,location:n})=>this.calculateTrackPosition(r,n))}},{key:"createTrackPositionTexts",value:function(){const r=this.positionedTracks();return this.createTracksAndLocations(),r.map(n=>{const{track:i}=n;return P.createElement("div",{key:i.uid,style:{left:n.left,top:n.top,width:n.width,height:n.height,position:"absolute"}},i.uid.slice(0,2))})}},{key:"handleExportTrackData",value:function(r,n){const i=hi(this.props.tracks,n);let o=null;r!==n?o=this.trackRenderer.trackDefObjects[r].trackObject.createdTracks[i.uid]:{trackObject:o}=this.trackRenderer.trackDefObjects[r],o.exportData(),this.closeMenus()}},{key:"listTracksAtPosition",value:function(r,n,i=!1){var o;const a=[];if(!this.trackRenderer)return[];for(const s in this.trackRenderer.trackDefObjects){const u=this.trackRenderer.trackDefObjects[s].trackObject;if(u.respondsToPosition(r,n))if(i){if(this.props.tracks.center)if(this.props.tracks.center.contents)for(let l=0;l<this.props.tracks.center.contents.length;l++)this.props.tracks.center.contents[l].uid===s&&(u.is2d=!0);else(o=this.props.tracks.center)!=null&&o.length&&this.props.tracks.center[0].uid===s&&(u.is2d=!0);a.push(u)}else a.push(this.trackRenderer.trackDefObjects[s].trackDef.track)}return a}},{key:"listAllTrackObjects",value:function(){const r=[];for(const n in this.trackRenderer.trackDefObjects){const i=this.trackRenderer.trackDefObjects[n];if(i.trackObject.createdTracks)for(const o in i.trackObject.createdTracks){const a=i.trackObject.createdTracks[o];r.push(a)}else r.push(i.trackObject)}return r}},{key:"handleZoomToData",value:function(){const r=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,i=[r,r],o=[n,n],a=this.listAllTrackObjects();for(const h of a)if(h.tilesetInfo&&h.tilesetInfo.min_pos)for(let f=0;f<h.tilesetInfo.min_pos.length;f++)h.tilesetInfo.min_pos[f]<i[f]&&(i[f]=h.tilesetInfo.min_pos[f]),h.tilesetInfo.max_pos[f]>o[f]&&(o[f]=h.tilesetInfo.max_pos[f]);const s=this.trackRenderer.currentProps.paddingLeft+this.trackRenderer.currentProps.leftWidth;let u=[s,s+this.trackRenderer.currentProps.centerWidth].map(this.trackRenderer.zoomTransform.rescaleX(this.trackRenderer.xScale).invert);const l=this.trackRenderer.currentProps.paddingTop+this.trackRenderer.currentProps.topHeight;let c=[l,l+this.trackRenderer.currentProps.centerHeight].map(this.trackRenderer.zoomTransform.rescaleY(this.trackRenderer.yScale).invert);this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),i[0]<Number.MAX_SAFE_INTEGER&&o[0]>Number.MIN_SAFE_INTEGER&&(u=[i[0],o[0]]),i[1]<Number.MAX_SAFE_INTEGER&&o[1]>Number.MIN_SAFE_INTEGER&&(c=[i[1],o[1]]),this.props.onDataDomainChanged(u,c)}},{key:"resetViewport",value:function(){this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),this.props.onDataDomainChanged(this.props.initialXDomain,this.props.initialYDomain)}},{key:"updatablePropsToString",value:function(r){return JSON.stringify({tracks:r.tracks,overlays:r.overlays,viewOptions:r.viewOptions,uid:r.uid,addTrackExtent:r.addTrackExtent,addTrackPosition:r.addTrackPosition,editable:r.editable,marginTop:r.marginTop,marginBottom:r.marginBottom,marginLeft:r.marginLeft,marginRight:r.marginRight,paddingTop:r.paddingTop,paddingBottom:r.paddingBottom,paddingLeft:r.paddingLeft,paddingRight:r.paddingRight,mouseTool:r.mouseTool,initialXDomain:r.initialXDomain,initialYDomain:r.initialYDomain,trackSourceServers:r.trackSourceServers,zoomable:r.zoomable,draggingHappening:r.draggingHappening})}},{key:"getXYScales",value:function(){this.trackRenderer&&(this.xScale=this.trackRenderer.currentXScale,this.yScale=this.trackRenderer.currentYScale)}},{key:"rangeViewToDataLoci",value:function(r,n){return n?[Number.parseInt(n.invert(r[0]),10),Number.parseInt(n.invert(r[1]),10)]:[null,null]}},{key:"rangeSelectionResetHandler",value:function(){this.state.rangeSelectionMaster&&this.setState({is1dRangeSelection:null,rangeSelection:[null,null],rangeSelectionMaster:null,rangeSelectionEnd:!1})}},{key:"rangeSelection1dEndHandler",value:function(r){(!this.xScale||!this.yScale)&&this.getXYScales();const n=r==="x"?this.xScale:this.yScale;return i=>{this.setState(o=>{const a=o.is1dRangeSelection?[null,null]:o.rangeSelection.slice(),s=!this.state.is1dRangeSelection&&r==="y"?1:0;let u=this.rangeViewToDataLoci(i,n);const l=u[1]-u[0];if(this.props.rangeSelection1dSize[0]>l){const c=u[0]+l/2;u=[c-this.props.rangeSelection1dSize[0]/2,c+this.props.rangeSelection1dSize[0]/2]}else if(this.props.rangeSelection1dSize[1]<l){const c=u[0]+l/2;u=[c-this.props.rangeSelection1dSize[1]/2,c+this.props.rangeSelection1dSize[1]/2]}return a[s]=u,this.props.rangeSelectionToInt&&(a[s]=a[s].map(c=>Math.round(c))),{rangeSelection:a,rangeSelectionEnd:!0}})}}},{key:"rangeSelection1dHandler",value:function(r){(!this.xScale||!this.yScale)&&this.getXYScales();const n=r==="x"?this.xScale:this.yScale;return i=>{this.setState(o=>{const a=o.is1dRangeSelection?[null,null]:o.rangeSelection.slice(),s=!o.is1dRangeSelection&&r==="y"?1:0;return a[s]=this.rangeViewToDataLoci(i,n),{rangeSelection:a,rangeSelectionEnd:!1}})}}},{key:"rangeSelection1dStartHandler",value:function(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!0,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}},{key:"rangeSelection2dHandler",value:function(r){(!this.xScale||!this.yScale)&&this.getXYScales(),this.setState({rangeSelection:[this.rangeViewToDataLoci(r[0],this.xScale),this.rangeViewToDataLoci(r[1],this.yScale)],rangeSelectionEnd:!1})}},{key:"rangeSelection2dStartHandler",value:function(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!1,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}},{key:"rangeSelection2dEndHandler",value:function(r){(!this.xScale||!this.yScale)&&this.getXYScales();const n=this.rangeViewToDataLoci(r[0],this.xScale),i=this.rangeViewToDataLoci(r[1],this.yScale);let o=[n,i];const a=n[1]-n[0],s=i[1]-i[0],u=[a,s];o.forEach((l,c)=>{if(this.props.rangeSelection1dSize[0]>u[c]){const h=l[0]+Math.round(u[c]/2);l[0]=h-this.props.rangeSelection1dSize[0]/2,l[1]=h+this.props.rangeSelection1dSize[0]/2}else if(this.props.rangeSelection1dSize[1]<u[c]){const h=l[0]+Math.round(u[c]/2);l[0]=h-this.props.rangeSelection1dSize[1]/2,l[1]=h+this.props.rangeSelection1dSize[1]/2}}),this.props.rangeSelectionToInt&&(o=o.map(l=>l.map(c=>Math.round(c)))),this.setState({rangeSelection:o,rangeSelectionEnd:!0})}},{key:"getContextMenu",value:function(){if(this.state.contextMenuPosition){const r=this.listTracksAtPosition(this.state.contextMenuPosition.canvasLeft,this.state.contextMenuPosition.canvasTop);return P.createElement(bs,{onMenuClosed:this.closeMenusBound},P.createElement(aq,{apiPublish:this.props.apiPublish,closeMenu:this.closeMenusBound,coords:[this.state.contextMenuDataX,this.state.contextMenuDataY],customItems:this.state.contextMenuCustomItems,genomePositionSearchBox:this.props.genomePositionSearchBox,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:n=>{this.props.onTracksAdded([n],n.position,null,null),this.handleCloseContextMenu()},onChangeTrackData:this.handleChangeTrackDataBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,orientation:"right",position:this.state.contextMenuPosition,theme:this.props.theme,trackRenderer:this.trackRenderer,tracks:r,trackSourceServers:this.props.trackSourceServers}))}return null}},{key:"getIdealizedTrackPositionsOverlay",value:function(){const r=this.props.draggingHappening,{datatype:n}=r,i=o9t(n,r.defaultTracks);if(!i)return null;const o=new Set(["top","left","right","center","bottom"].filter(E=>E in this.state.tracks&&this.state.tracks[E].length)),a="top"in i,s="left"in i,u="right"in i,l="bottom"in i,c="center"in i,h="center"in i||o.has("left")||o.has("right")||o.has("center"),f="top"in i,p="bottom"in i&&h,d="left"in i&&h,m="right"in i&&h,v=Object.keys(i).length&&("center"in i||h),b=P.createElement("div",{style:{flexGrow:1}}),g=P.cloneElement(b),y=P.createElement("div",{style:{display:"flex",flexGrow:1}},f&&(v||d)?b:null,P.createElement(Zm,{defaultTrackType:i.top,draggingHappening:this.props.draggingHappening,enabled:a,onTrackDropped:E=>this.handleTracksAdded([E],"top"),style:{border:"1px solid black",flexGrow:1}}),f&&(v||d)?g:null),_=P.createElement("div",{style:{display:"flex",flexGrow:1}},f&&(v||d)?b:null,P.createElement(Zm,{defaultTrackType:i.bottom,draggingHappening:this.props.draggingHappening,enabled:l,onTrackDropped:E=>this.handleTracksAdded([E],"bottom"),style:{border:"1px solid black",flexGrow:1}}),f&&(v||d)?g:null),w=P.createElement(Zm,{defaultTrackType:i.left,draggingHappening:this.props.draggingHappening,enabled:s,onTrackDropped:E=>this.handleTracksAdded([E],"left"),style:{border:"1px solid black",flexGrow:1}}),T=P.createElement(Zm,{defaultTrackType:i.center,draggingHappening:this.props.draggingHappening,enabled:c,onTrackDropped:E=>this.handleTracksAdded([E],"center"),position:"center",style:{border:"1px solid black",flexGrow:1}}),O=P.cloneElement(w,{defaultTrackType:i.right,enabled:u,onTrackDropped:E=>this.handleTracksAdded([E],"right")});return P.createElement("div",{style:{position:"absolute",left:"0px",top:"0px",width:this.state.width,height:this.state.height}},P.createElement("div",{style:{position:"absolute",width:this.state.width,height:this.state.height,background:"white",opacity:.4}}),P.createElement("div",{style:{width:this.state.width,height:this.state.height,position:"absolute",display:"flex",flexDirection:"column"}},f?y:null,h&&P.createElement("div",{style:{display:"flex",height:f||p?"40%":"100%",width:"100%"}},d?w:null,v?T:null,m?O:null),p?_:null))}},{key:"render",value:function(){this.galleryDim=this.props.tracks.gallery?this.props.tracks.gallery.map(b=>b.height).reduce(fs,0):0,this.topHeightNoGallery=this.props.tracks.top.map(b=>b.height).reduce(fs,0),this.topHeight=this.topHeightNoGallery+this.galleryDim,this.bottomHeightNoGallery=this.props.tracks.bottom.map(b=>b.height).reduce(fs,0),this.bottomHeight=this.bottomHeightNoGallery+this.galleryDim,this.leftWidthNoGallery=this.props.tracks.left.map(b=>b.width).reduce(fs,0),this.leftWidth=this.leftWidthNoGallery+this.galleryDim,this.rightWidthNoGallery=this.props.tracks.right.map(b=>b.width).reduce(fs,0),this.rightWidth=this.rightWidthNoGallery+this.galleryDim;const r=this.props.paddingTop+this.props.paddingBottom,n=this.props.paddingLeft+this.props.paddingRight;this.centerHeight=Math.max(1,this.state.height-this.topHeight-this.bottomHeight-r),this.centerWidth=Math.max(1,this.state.width-this.leftWidth-this.rightWidth-n);const i="none",o=P.createElement("div",{className:"top-track-container",style:{left:this.leftWidth+this.props.paddingLeft,top:this.props.paddingTop,width:this.centerWidth,height:this.topHeightNoGallery,outline:i,position:"absolute"}},P.createElement(Wy,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===Ui,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new Set(["bottom"]),scale:this.xScale,tracks:this.props.tracks.top,width:this.centerWidth})),a=P.createElement("div",{className:"left-track-container",style:{left:this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.leftWidthNoGallery,height:this.centerHeight,outline:i,position:"absolute"}},P.createElement(Xk,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===Ui,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new Set(["right"]),scale:this.yScale,tracks:this.props.tracks.left})),s=P.createElement("div",{className:"right-track-container",style:{right:this.props.paddingRight,top:this.topHeight+this.props.paddingTop,width:this.rightWidthNoGallery,height:this.centerHeight,outline:i,position:"absolute"}},P.createElement(Xk,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===Ui,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new Set(["left"]),scale:this.yScale,tracks:this.props.tracks.right,tracksControlAlignLeft:!0})),u=P.createElement("div",{className:"bottom-track-container",style:{left:this.leftWidth+this.props.paddingLeft,bottom:this.props.paddingBottom,width:this.centerWidth,height:this.bottomHeightNoGallery,outline:i,position:"absolute"}},P.createElement(Wy,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===Ui,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new Set(["top"]),scale:this.xScale,tracks:this.props.tracks.bottom,width:this.centerWidth})),l=P.createElement("div",{key:"galleryTracksDiv",className:"gallery-track-container",style:{left:this.leftWidthNoGallery+this.props.paddingLeft,top:this.topHeightNoGallery+this.props.paddingTop,width:this.centerWidth+2*this.galleryDim,height:this.centerHeight+2*this.galleryDim,outline:i,position:"absolute"}},P.createElement(RY,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight+2*this.galleryDim,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),tracks:this.props.tracks.gallery,width:this.centerWidth+2*this.galleryDim}));let c=P.createElement("div",{className:Gt("center-track-container",nE["center-track-container"]),style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.bottomHeight,outline:i}});this.props.tracks.center.length&&(c=P.createElement("div",{className:Gt("center-track-container",nE["center-track-container"]),style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.centerHeight,outline:i}},P.createElement(e4,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===Ui,onAddSeries:this.handleAddSeries.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection2dStartHandler.bind(this),onRangeSelectionX:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionXEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionXY:this.rangeSelection2dHandler.bind(this),onRangeSelectionXYEnd:this.rangeSelection2dEndHandler.bind(this),onRangeSelectionY:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionYEnd:this.rangeSelection1dEndHandler("y").bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,scaleX:this.xScale,scaleY:this.yScale,tracks:this.props.tracks.center,uid:this.props.tracks.center[0].uid,width:this.centerWidth}))),this.createTrackPositionTexts();let h=this.positionedTracks();h=h.concat(this.overlayTracks(h));let f=null;this.state.sizeMeasured&&(f=P.createElement(Lkt,{ref:b=>{this.trackRenderer=b,this.checkAllTilesetInfoReceived()},canvasElement:this.props.canvasElement,centerHeight:this.centerHeight,centerWidth:this.centerWidth,disableTrackMenu:this.props.disableTrackMenu,dragging:this.props.dragging,galleryDim:this.galleryDim,getLockGroupExtrema:this.props.getLockGroupExtrema,height:this.state.height,initialXDomain:this.props.initialXDomain,initialYDomain:this.props.initialYDomain,isRangeSelection:this.props.mouseTool===Ui,isShowGlobalMousePosition:this.props.isShowGlobalMousePosition,isValueScaleLocked:this.props.isValueScaleLocked,leftWidth:this.leftWidth,leftWidthNoGallery:this.leftWidthNoGallery,metaTracks:this.props.metaTracks,onMouseMoveZoom:this.props.onMouseMoveZoom,onNewTilesLoaded:this.props.onNewTilesLoaded,onScalesChanged:this.handleScalesChanged.bind(this),onTilesetInfoReceived:this.handleTilesetInfoReceived.bind(this),onTrackOptionsChanged:this.handleTrackOptionsChanged.bind(this),onValueScaleChanged:this.props.onValueScaleChanged,paddingLeft:this.props.paddingLeft,paddingTop:this.props.paddingTop,pixiRenderer:this.props.pixiRenderer,pixiStage:this.props.pixiStage,pluginDataFetchers:this.props.pluginDataFetchers,pluginTracks:this.props.pluginTracks,positionedTracks:h,registerDraggingChangedListener:this.props.registerDraggingChangedListener,removeDraggingChangedListener:this.props.removeDraggingChangedListener,setCentersFunction:this.props.setCentersFunction,svgElement:this.props.svgElement,topHeight:this.topHeight,topHeightNoGallery:this.topHeightNoGallery,uid:this.props.uid,viewOptions:this.props.viewOptions,width:this.state.width,xDomainLimits:this.props.xDomainLimits,yDomainLimits:this.props.yDomainLimits,zoomable:this.props.zoomable,zoomLimits:this.props.zoomLimits},o,a,s,u,l,c));let p=null,d=null;this.state.configTrackMenuId&&(p=P.createElement(bs,{onMenuClosed:this.closeMenusBound},P.createElement(v1t,{ref:b=>{this.configTrackMenu=b},apiPublish:this.props.apiPublish,closeMenu:this.closeMenusBound,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:this.handleAddTrackBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,position:this.state.configTrackMenuLocation,theme:this.props.theme,trackOrientation:pd(this.props.tracks,this.state.configTrackMenuId),trackRenderer:this.trackRenderer,tracks:[hi(this.props.tracks,this.state.configTrackMenuId)]}))),this.state.closeTrackMenuId&&(d=P.createElement(bs,{onMenuClosed:this.handleCloseTrackMenuClosed.bind(this)},P.createElement(Ls,{position:this.state.closeTrackMenuLocation,theme:this.props.theme},P.createElement(CG,{onCloseTrack:this.handleCloseTrack.bind(this),tracks:[hi(this.props.tracks,this.state.closeTrackMenuId)]}))));let m=null;this.props.chooseTrackHandler&&(m=h.filter(b=>b.track.position!=="whole").map(b=>{let g="tiled-plot-track-overlay-animate";return(this.state.mouseOverOverlayUid||this.props.overTrackChooser)&&(g="tiled-plot-track-overlay-plain"),this.state.mouseOverOverlayUid===b.track.uid&&(g="tiled-plot-track-overlay-selected"),P.createElement("div",{className:Vi[g],key:b.track.uid,onClick:y=>this.handleTrackPositionChosen(b,y),onDragEnter:y=>{this.handleOverlayMouseEnter(b.track.uid),y.preventDefault()},onDragLeave:()=>this.handleOverlayMouseLeave(b.track.uid),onDragOver:y=>y.preventDefault(),onDrop:()=>this.handleTrackPositionChosen(b),onMouseEnter:()=>this.handleOverlayMouseEnter(b.track.uid),onMouseLeave:()=>this.handleOverlayMouseLeave(b.track.uid),style:{position:"absolute",left:b.left,top:b.top,width:b.width,height:b.height,zIndex:1}})}));let v=null;if(this.xScale&&this.yScale&&this.props.editable&&this.state.trackOptions){const b=this.state.trackOptions.configComponent,g=this.state.trackOptions.track;v=P.createElement(b,{track:g,xScale:this.xScale,yScale:this.yScale,onCancel:()=>{this.setState({trackOptions:null})},onTrackOptionsChanged:y=>y,onSubmit:y=>{this.handleTrackOptionsChanged(this.state.trackOptions.track.uid,y),this.setState({trackOptions:null})}})}return P.createElement("div",{ref:b=>{this.divTiledPlot=b},className:Gt("tiled-plot-div",Vi["tiled-plot"]),onClick:this.handleClickBound,style:{marginBottom:this.props.marginBottom,marginLeft:this.props.marginLeft,marginRight:this.props.marginRight,marginTop:this.props.marginTop}},f,m,p,d,v,this.getContextMenu(),this.props.draggingHappening&&this.getIdealizedTrackPositionsOverlay())}},{key:"addEventListeners",value:function(){this.eventListeners=[],this.eventListeners.forEach(r=>document.addEventListener(r.name,r.callback,!1))}},{key:"removeEventListeners",value:function(){this.eventListeners.forEach(r=>document.removeEventListener(r.name,r.callback))}}])})(P.Component);gC.defaultProps={isShowGlobalMousePosition:!1,pluginTracks:{},metaTracks:[],zoomable:!0};gC.propTypes={addTrackExtent:j.string,addTrackPosition:j.string,canvasElement:j.object,chooseTrackHandler:j.func,chromInfoPath:j.string,customDialog:j.array,closeCustomDialog:j.func,disableTrackMenu:j.bool,dragging:j.bool,draggingHappening:j.bool,editable:j.bool,getLockGroupExtrema:j.func,initialXDomain:j.array,initialYDomain:j.array,isShowGlobalMousePosition:j.bool,isValueScaleLocked:j.func,marginBottom:j.number.isRequired,marginLeft:j.number.isRequired,marginRight:j.number.isRequired,marginTop:j.number.isRequired,paddingBottom:j.number.isRequired,paddingLeft:j.number.isRequired,paddingRight:j.number.isRequired,paddingTop:j.number.isRequired,metaTracks:j.array,modal:j.object,mouseTool:j.string,onCloseTrack:j.func,onChangeTrackData:j.func,onChangeTrackType:j.func,onDataDomainChanged:j.func,onLockValueScale:j.func,onMouseMoveZoom:j.func,onNewTilesLoaded:j.func,onNoTrackAdded:j.func,onRangeSelection:j.func.isRequired,onScalesChanged:j.func,onTrackOptionsChanged:j.func,onTrackPositionChosen:j.func,onTracksAdded:j.func,onUnlockValueScale:j.func,onValueScaleChanged:j.func,onResizeTrack:j.func,overlays:j.array,openModal:j.func,pixiRenderer:j.object,pixiStage:j.object,pluginTracks:j.object,pubSub:j.object.isRequired,rangeSelection1dSize:j.array,rangeSelectionToInt:j.bool,registerDraggingChangedListener:j.func,removeDraggingChangedListener:j.func,setCentersFunction:j.func,svgElement:j.object,theme:j.symbol.isRequired,tracks:j.object,trackSourceServers:j.array,uid:j.string,viewOptions:j.object,xDomainLimits:j.array,yDomainLimits:j.array,zoomable:j.bool,zoomLimits:j.array,zoomToDataExtentOnInit:j.func};const m9t=Ef(Qb(kf(gC)));var lq={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
* Prism: Lightweight, robust, elegant syntax highlighting
*
* @license MIT <https://opensource.org/licenses/MIT>
* @author Lea Verou <https://lea.verou.me>
* @namespace
* @public
*/var r=(function(n){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,a={},s={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function g(y){return y instanceof u?new u(y.type,g(y.content),y.alias):Array.isArray(y)?y.map(g):y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(g){return Object.prototype.toString.call(g).slice(8,-1)},objId:function(g){return g.__id||Object.defineProperty(g,"__id",{value:++o}),g.__id},clone:function g(y,_){_=_||{};var w,T;switch(s.util.type(y)){case"Object":if(T=s.util.objId(y),_[T])return _[T];w={},_[T]=w;for(var O in y)y.hasOwnProperty(O)&&(w[O]=g(y[O],_));return w;case"Array":return T=s.util.objId(y),_[T]?_[T]:(w=[],_[T]=w,y.forEach(function(E,S){w[S]=g(E,_)}),w);default:return y}},getLanguage:function(g){for(;g;){var y=i.exec(g.className);if(y)return y[1].toLowerCase();g=g.parentElement}return"none"},setLanguage:function(g,y){g.className=g.className.replace(RegExp(i,"gi"),""),g.classList.add("language-"+y)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(w){var g=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(w.stack)||[])[1];if(g){var y=document.getElementsByTagName("script");for(var _ in y)if(y[_].src==g)return y[_]}return null}},isActive:function(g,y,_){for(var w="no-"+y;g;){var T=g.classList;if(T.contains(y))return!0;if(T.contains(w))return!1;g=g.parentElement}return!!_}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(g,y){var _=s.util.clone(s.languages[g]);for(var w in y)_[w]=y[w];return _},insertBefore:function(g,y,_,w){w=w||s.languages;var T=w[g],O={};for(var E in T)if(T.hasOwnProperty(E)){if(E==y)for(var S in _)_.hasOwnProperty(S)&&(O[S]=_[S]);_.hasOwnProperty(E)||(O[E]=T[E])}var A=w[g];return w[g]=O,s.languages.DFS(s.languages,function(M,H){H===A&&M!=g&&(this[M]=O)}),O},DFS:function g(y,_,w,T){T=T||{};var O=s.util.objId;for(var E in y)if(y.hasOwnProperty(E)){_.call(y,E,y[E],w||E);var S=y[E],A=s.util.type(S);A==="Object"&&!T[O(S)]?(T[O(S)]=!0,g(S,_,null,T)):A==="Array"&&!T[O(S)]&&(T[O(S)]=!0,g(S,_,E,T))}}},plugins:{},highlightAll:function(g,y){s.highlightAllUnder(document,g,y)},highlightAllUnder:function(g,y,_){var w={callback:_,container:g,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};s.hooks.run("before-highlightall",w),w.elements=Array.prototype.slice.apply(w.container.querySelectorAll(w.selector)),s.hooks.run("before-all-elements-highlight",w);for(var T=0,O;O=w.elements[T++];)s.highlightElement(O,y===!0,w.callback)},highlightElement:function(g,y,_){var w=s.util.getLanguage(g),T=s.languages[w];s.util.setLanguage(g,w);var O=g.parentElement;O&&O.nodeName.toLowerCase()==="pre"&&s.util.setLanguage(O,w);var E=g.textContent,S={element:g,language:w,grammar:T,code:E};function A(H){S.highlightedCode=H,s.hooks.run("before-insert",S),S.element.innerHTML=S.highlightedCode,s.hooks.run("after-highlight",S),s.hooks.run("complete",S),_&&_.call(S.element)}if(s.hooks.run("before-sanity-check",S),O=S.element.parentElement,O&&O.nodeName.toLowerCase()==="pre"&&!O.hasAttribute("tabindex")&&O.setAttribute("tabindex","0"),!S.code){s.hooks.run("complete",S),_&&_.call(S.element);return}if(s.hooks.run("before-highlight",S),!S.grammar){A(s.util.encode(S.code));return}if(y&&n.Worker){var M=new Worker(s.filename);M.onmessage=function(H){A(H.data)},M.postMessage(JSON.stringify({language:S.language,code:S.code,immediateClose:!0}))}else A(s.highlight(S.code,S.grammar,S.language))},highlight:function(g,y,_){var w={code:g,grammar:y,language:_};if(s.hooks.run("before-tokenize",w),!w.grammar)throw new Error('The language "'+w.language+'" has no grammar.');return w.tokens=s.tokenize(w.code,w.grammar),s.hooks.run("after-tokenize",w),u.stringify(s.util.encode(w.tokens),w.language)},tokenize:function(g,y){var _=y.rest;if(_){for(var w in _)y[w]=_[w];delete y.rest}var T=new h;return f(T,T.head,g),c(g,T,y,T.head,0),d(T)},hooks:{all:{},add:function(g,y){var _=s.hooks.all;_[g]=_[g]||[],_[g].push(y)},run:function(g,y){var _=s.hooks.all[g];if(!(!_||!_.length))for(var w=0,T;T=_[w++];)T(y)}},Token:u};n.Prism=s;function u(g,y,_,w){this.type=g,this.content=y,this.alias=_,this.length=(w||"").length|0}u.stringify=function g(y,_){if(typeof y=="string")return y;if(Array.isArray(y)){var w="";return y.forEach(function(A){w+=g(A,_)}),w}var T={type:y.type,content:g(y.content,_),tag:"span",classes:["token",y.type],attributes:{},language:_},O=y.alias;O&&(Array.isArray(O)?Array.prototype.push.apply(T.classes,O):T.classes.push(O)),s.hooks.run("wrap",T);var E="";for(var S in T.attributes)E+=" "+S+'="'+(T.attributes[S]||"").replace(/"/g,"&quot;")+'"';return"<"+T.tag+' class="'+T.classes.join(" ")+'"'+E+">"+T.content+"</"+T.tag+">"};function l(g,y,_,w){g.lastIndex=y;var T=g.exec(_);if(T&&w&&T[1]){var O=T[1].length;T.index+=O,T[0]=T[0].slice(O)}return T}function c(g,y,_,w,T,O){for(var E in _)if(!(!_.hasOwnProperty(E)||!_[E])){var S=_[E];S=Array.isArray(S)?S:[S];for(var A=0;A<S.length;++A){if(O&&O.cause==E+","+A)return;var M=S[A],H=M.inside,N=!!M.lookbehind,k=!!M.greedy,R=M.alias;if(k&&!M.pattern.global){var B=M.pattern.toString().match(/[imsuy]*$/)[0];M.pattern=RegExp(M.pattern.source,B+"g")}for(var z=M.pattern||M,U=w.next,V=T;U!==y.tail&&!(O&&V>=O.reach);V+=U.value.length,U=U.next){var W=U.value;if(y.length>g.length)return;if(!(W instanceof u)){var te=1,re;if(k){if(re=l(z,V,g,N),!re||re.index>=g.length)break;var le=re.index,X=re.index+re[0].length,$=V;for($+=U.value.length;le>=$;)U=U.next,$+=U.value.length;if($-=U.value.length,V=$,U.value instanceof u)continue;for(var ee=U;ee!==y.tail&&($<X||typeof ee.value=="string");ee=ee.next)te++,$+=ee.value.length;te--,W=g.slice(V,$),re.index-=V}else if(re=l(z,0,W,N),!re)continue;var le=re.index,fe=re[0],Ee=W.slice(0,le),ce=W.slice(le+fe.length),Se=V+W.length;O&&Se>O.reach&&(O.reach=Se);var Oe=U.prev;Ee&&(Oe=f(y,Oe,Ee),V+=Ee.length),p(y,Oe,te);var he=new u(E,H?s.tokenize(fe,H):fe,R,fe);if(U=f(y,Oe,he),ce&&f(y,U,ce),te>1){var Pe={cause:E+","+A,reach:Se};c(g,y,_,U.prev,V,Pe),O&&Pe.reach>O.reach&&(O.reach=Pe.reach)}}}}}}function h(){var g={value:null,prev:null,next:null},y={value:null,prev:g,next:null};g.next=y,this.head=g,this.tail=y,this.length=0}function f(g,y,_){var w=y.next,T={value:_,prev:y,next:w};return y.next=T,w.prev=T,g.length++,T}function p(g,y,_){for(var w=y.next,T=0;T<_&&w!==g.tail;T++)w=w.next;y.next=w,w.prev=y,g.length-=T}function d(g){for(var y=[],_=g.head.next;_!==g.tail;)y.push(_.value),_=_.next;return y}if(!n.document)return n.addEventListener&&(s.disableWorkerMessageHandler||n.addEventListener("message",function(g){var y=JSON.parse(g.data),_=y.language,w=y.code,T=y.immediateClose;n.postMessage(s.highlight(w,s.languages[_],_)),T&&n.close()},!1)),s;var m=s.util.currentScript();m&&(s.filename=m.src,m.hasAttribute("data-manual")&&(s.manual=!0));function v(){s.manual||s.highlightAll()}if(!s.manual){var b=document.readyState;b==="loading"||b==="interactive"&&m&&m.defer?document.addEventListener("DOMContentLoaded",v):window.requestAnimationFrame?window.requestAnimationFrame(v):window.setTimeout(v,16)}return s})(t);e.exports&&(e.exports=r),typeof globalThis<"u"&&(globalThis.Prism=r)})(lq);var xD=lq.exports,uq={},g9t=Le&&Le.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),on=Le&&Le.__assign||function(){return on=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},on.apply(this,arguments)},y9t=Le&&Le.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),v9t=Le&&Le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),b9t=Le&&Le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&y9t(t,e,r);return v9t(t,e),t},_9t=Le&&Le.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};Object.defineProperty(uq,"__esModule",{value:!0});var Dp=b9t(P),w9t=13,T9t=9,x9t=8,E9t=89,vg=90,S9t=77,ED=57,SD=219,kD=222,OD=192,k9t=27,PD=100,O9t=3e3,P9t=typeof window<"u"&&"navigator"in window&&/Win/i.test(navigator.platform),B2=typeof window<"u"&&"navigator"in window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),r0="npm__react-simple-code-editor__textarea",C9t=`
/**
 * Reset the text fill color so that placeholder is visible
 */
.`.concat(r0,`:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .`).concat(r0,` {
    color: transparent !important;
  }

  .`).concat(r0,`::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
`),A9t=(function(e){g9t(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={capture:!0},r._recordCurrentState=function(){var n=r._input;if(n){var i=n.value,o=n.selectionStart,a=n.selectionEnd;r._recordChange({value:i,selectionStart:o,selectionEnd:a})}},r._getLines=function(n,i){return n.substring(0,i).split(`
`)},r._recordChange=function(n,i){var o,a,s;i===void 0&&(i=!1);var u=r._history,l=u.stack,c=u.offset;if(l.length&&c>-1){r._history.stack=l.slice(0,c+1);var h=r._history.stack.length;if(h>PD){var f=h-PD;r._history.stack=l.slice(f,h),r._history.offset=Math.max(r._history.offset-f,0)}}var p=Date.now();if(i){var d=r._history.stack[r._history.offset];if(d&&p-d.timestamp<O9t){var m=/[^a-z0-9]([a-z0-9]+)$/i,v=(o=r._getLines(d.value,d.selectionStart).pop())===null||o===void 0?void 0:o.match(m),b=(a=r._getLines(n.value,n.selectionStart).pop())===null||a===void 0?void 0:a.match(m);if(v?.[1]&&!((s=b?.[1])===null||s===void 0)&&s.startsWith(v[1])){r._history.stack[r._history.offset]=on(on({},n),{timestamp:p});return}}}r._history.stack.push(on(on({},n),{timestamp:p})),r._history.offset++},r._updateInput=function(n){var i=r._input;i&&(i.value=n.value,i.selectionStart=n.selectionStart,i.selectionEnd=n.selectionEnd,r.props.onValueChange(n.value))},r._applyEdits=function(n){var i=r._input,o=r._history.stack[r._history.offset];o&&i&&(r._history.stack[r._history.offset]=on(on({},o),{selectionStart:i.selectionStart,selectionEnd:i.selectionEnd})),r._recordChange(n),r._updateInput(n)},r._undoEdit=function(){var n=r._history,i=n.stack,o=n.offset,a=i[o-1];a&&(r._updateInput(a),r._history.offset=Math.max(o-1,0))},r._redoEdit=function(){var n=r._history,i=n.stack,o=n.offset,a=i[o+1];a&&(r._updateInput(a),r._history.offset=Math.min(o+1,i.length-1))},r._handleKeyDown=function(n){var i=r.props,o=i.tabSize,a=i.insertSpaces,s=i.ignoreTabKey,u=i.onKeyDown;if(!(u&&(u(n),n.defaultPrevented))){n.keyCode===k9t&&n.currentTarget.blur();var l=n.currentTarget,c=l.value,h=l.selectionStart,f=l.selectionEnd,p=(a?" ":"	").repeat(o);if(n.keyCode===T9t&&!s&&r.state.capture)if(n.preventDefault(),n.shiftKey){var d=r._getLines(c,h),m=d.length-1,v=r._getLines(c,f).length-1,b=c.split(`
`).map(function(H,N){return N>=m&&N<=v&&H.startsWith(p)?H.substring(p.length):H}).join(`
`);if(c!==b){var g=d[m];r._applyEdits({value:b,selectionStart:g?.startsWith(p)?h-p.length:h,selectionEnd:f-(c.length-b.length)})}}else if(h!==f){var d=r._getLines(c,h),y=d.length-1,_=r._getLines(c,f).length-1,g=d[y];r._applyEdits({value:c.split(`
`).map(function(k,R){return R>=y&&R<=_?p+k:k}).join(`
`),selectionStart:g&&/\S/.test(g)?h+p.length:h,selectionEnd:f+p.length*(_-y+1)})}else{var w=h+p.length;r._applyEdits({value:c.substring(0,h)+p+c.substring(f),selectionStart:w,selectionEnd:w})}else if(n.keyCode===x9t){var T=h!==f,O=c.substring(0,h);if(O.endsWith(p)&&!T){n.preventDefault();var w=h-p.length;r._applyEdits({value:c.substring(0,h-p.length)+c.substring(f),selectionStart:w,selectionEnd:w})}}else if(n.keyCode===w9t){if(h===f){var E=r._getLines(c,h).pop(),S=E?.match(/^\s+/);if(S?.[0]){n.preventDefault();var A=`
`+S[0],w=h+A.length;r._applyEdits({value:c.substring(0,h)+A+c.substring(f),selectionStart:w,selectionEnd:w})}}}else if(n.keyCode===ED||n.keyCode===SD||n.keyCode===kD||n.keyCode===OD){var M=void 0;n.keyCode===ED&&n.shiftKey?M=["(",")"]:n.keyCode===SD?n.shiftKey?M=["{","}"]:M=["[","]"]:n.keyCode===kD?n.shiftKey?M=['"','"']:M=["'","'"]:n.keyCode===OD&&!n.shiftKey&&(M=["`","`"]),h!==f&&M&&(n.preventDefault(),r._applyEdits({value:c.substring(0,h)+M[0]+c.substring(h,f)+M[1]+c.substring(f),selectionStart:h,selectionEnd:f+2}))}else(B2?n.metaKey&&n.keyCode===vg:n.ctrlKey&&n.keyCode===vg)&&!n.shiftKey&&!n.altKey?(n.preventDefault(),r._undoEdit()):(B2?n.metaKey&&n.keyCode===vg&&n.shiftKey:P9t?n.ctrlKey&&n.keyCode===E9t:n.ctrlKey&&n.keyCode===vg&&n.shiftKey)&&!n.altKey?(n.preventDefault(),r._redoEdit()):n.keyCode===S9t&&n.ctrlKey&&(!B2||n.shiftKey)&&(n.preventDefault(),r.setState(function(H){return{capture:!H.capture}}))}},r._handleChange=function(n){var i=n.currentTarget,o=i.value,a=i.selectionStart,s=i.selectionEnd;r._recordChange({value:o,selectionStart:a,selectionEnd:s},!0),r.props.onValueChange(o)},r._history={stack:[],offset:-1},r._input=null,r}return t.prototype.componentDidMount=function(){this._recordCurrentState()},Object.defineProperty(t.prototype,"session",{get:function(){return{history:this._history}},set:function(r){this._history=r.history},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r=this,n=this.props,i=n.value,o=n.style,a=n.padding,s=n.highlight,u=n.textareaId,l=n.textareaClassName,c=n.autoFocus,h=n.disabled,f=n.form,p=n.maxLength,d=n.minLength,m=n.name,v=n.placeholder,b=n.readOnly,g=n.required,y=n.onClick,_=n.onFocus,w=n.onBlur,T=n.onKeyUp;n.onKeyDown,n.onValueChange,n.tabSize,n.insertSpaces,n.ignoreTabKey;var O=n.preClassName,E=_9t(n,["value","style","padding","highlight","textareaId","textareaClassName","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey","preClassName"]),S={paddingTop:typeof a=="object"?a.top:a,paddingRight:typeof a=="object"?a.right:a,paddingBottom:typeof a=="object"?a.bottom:a,paddingLeft:typeof a=="object"?a.left:a},A=s(i);return Dp.createElement("div",on({},E,{style:on(on({},Np.container),o)}),Dp.createElement("pre",on({className:O,"aria-hidden":"true",style:on(on(on({},Np.editor),Np.highlight),S)},typeof A=="string"?{dangerouslySetInnerHTML:{__html:A+"<br />"}}:{children:A})),Dp.createElement("textarea",{ref:function(M){return r._input=M},style:on(on(on({},Np.editor),Np.textarea),S),className:r0+(l?" ".concat(l):""),id:u,value:i,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:y,onKeyUp:T,onFocus:_,onBlur:w,disabled:h,form:f,maxLength:p,minLength:d,name:m,placeholder:v,readOnly:b,required:g,autoFocus:c,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),Dp.createElement("style",{dangerouslySetInnerHTML:{__html:C9t}}))},t.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},t})(Dp.Component),M9t=uq.default=A9t,Np={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}};Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.webmanifest=Prism.languages.json;var Kk={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(Le,function(r){function n(){for(var Y=arguments.length,Z=Array(Y),ie=0;ie<Y;ie++)Z[ie]=arguments[ie];if(Z.length>1){Z[0]=Z[0].slice(0,-1);for(var we=Z.length-1,Te=1;Te<we;++Te)Z[Te]=Z[Te].slice(1,-1);return Z[we]=Z[we].slice(1),Z.join("")}else return Z[0]}function i(Y){return"(?:"+Y+")"}function o(Y){return Y===void 0?"undefined":Y===null?"null":Object.prototype.toString.call(Y).split(" ").pop().split("]").shift().toLowerCase()}function a(Y){return Y.toUpperCase()}function s(Y){return Y!=null?Y instanceof Array?Y:typeof Y.length!="number"||Y.split||Y.setInterval||Y.call?[Y]:Array.prototype.slice.call(Y):[]}function u(Y,Z){var ie=Y;if(Z)for(var we in Z)ie[we]=Z[we];return ie}function l(Y){var Z="[A-Za-z]",ie="[0-9]",we=n(ie,"[A-Fa-f]"),Te=i(i("%[EFef]"+we+"%"+we+we+"%"+we+we)+"|"+i("%[89A-Fa-f]"+we+"%"+we+we)+"|"+i("%"+we+we)),Ue="[\\:\\/\\?\\#\\[\\]\\@]",Be="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",mt=n(Ue,Be),bt=Y?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",gt=Y?"[\\uE000-\\uF8FF]":"[]",at=n(Z,ie,"[\\-\\.\\_\\~]",bt);i(Z+n(Z,ie,"[\\+\\-\\.]")+"*"),i(i(Te+"|"+n(at,Be,"[\\:]"))+"*");var Bt=i(i("25[0-5]")+"|"+i("2[0-4]"+ie)+"|"+i("1"+ie+ie)+"|"+i("0?[1-9]"+ie)+"|0?0?"+ie),rr=i(Bt+"\\."+Bt+"\\."+Bt+"\\."+Bt),ht=i(we+"{1,4}"),qt=i(i(ht+"\\:"+ht)+"|"+rr),Yt=i(i(ht+"\\:")+"{6}"+qt),Mt=i("\\:\\:"+i(ht+"\\:")+"{5}"+qt),nr=i(i(ht)+"?\\:\\:"+i(ht+"\\:")+"{4}"+qt),Vr=i(i(i(ht+"\\:")+"{0,1}"+ht)+"?\\:\\:"+i(ht+"\\:")+"{3}"+qt),Wt=i(i(i(ht+"\\:")+"{0,2}"+ht)+"?\\:\\:"+i(ht+"\\:")+"{2}"+qt),Ne=i(i(i(ht+"\\:")+"{0,3}"+ht)+"?\\:\\:"+ht+"\\:"+qt),F=i(i(i(ht+"\\:")+"{0,4}"+ht)+"?\\:\\:"+qt),it=i(i(i(ht+"\\:")+"{0,5}"+ht)+"?\\:\\:"+ht),St=i(i(i(ht+"\\:")+"{0,6}"+ht)+"?\\:\\:"),pr=i([Yt,Mt,nr,Vr,Wt,Ne,F,it,St].join("|")),It=i(i(at+"|"+Te)+"+");i("[vV]"+we+"+\\."+n(at,Be,"[\\:]")+"+"),i(i(Te+"|"+n(at,Be))+"*");var cr=i(Te+"|"+n(at,Be,"[\\:\\@]"));return i(i(Te+"|"+n(at,Be,"[\\@]"))+"+"),i(i(cr+"|"+n("[\\/\\?]",gt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",Z,ie,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",at,Be),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",at,Be),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",at,Be),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",at,Be),"g"),NOT_QUERY:new RegExp(n("[^\\%]",at,Be,"[\\:\\@\\/\\?]",gt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",at,Be,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",at,Be),"g"),UNRESERVED:new RegExp(at,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",at,mt),"g"),PCT_ENCODED:new RegExp(Te,"g"),IPV4ADDRESS:new RegExp("^("+rr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+pr+")"+i(i("\\%25|\\%(?!"+we+"{2})")+"("+It+")")+"?\\]?$")}}var c=l(!1),h=l(!0),f=(function(){function Y(Z,ie){var we=[],Te=!0,Ue=!1,Be=void 0;try{for(var mt=Z[Symbol.iterator](),bt;!(Te=(bt=mt.next()).done)&&(we.push(bt.value),!(ie&&we.length===ie));Te=!0);}catch(gt){Ue=!0,Be=gt}finally{try{!Te&&mt.return&&mt.return()}finally{if(Ue)throw Be}}return we}return function(Z,ie){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return Y(Z,ie);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),p=function(Y){if(Array.isArray(Y)){for(var Z=0,ie=Array(Y.length);Z<Y.length;Z++)ie[Z]=Y[Z];return ie}else return Array.from(Y)},d=2147483647,m=36,v=1,b=26,g=38,y=700,_=72,w=128,T="-",O=/^xn--/,E=/[^\0-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=m-v,H=Math.floor,N=String.fromCharCode;function k(Y){throw new RangeError(A[Y])}function R(Y,Z){for(var ie=[],we=Y.length;we--;)ie[we]=Z(Y[we]);return ie}function B(Y,Z){var ie=Y.split("@"),we="";ie.length>1&&(we=ie[0]+"@",Y=ie[1]),Y=Y.replace(S,".");var Te=Y.split("."),Ue=R(Te,Z).join(".");return we+Ue}function z(Y){for(var Z=[],ie=0,we=Y.length;ie<we;){var Te=Y.charCodeAt(ie++);if(Te>=55296&&Te<=56319&&ie<we){var Ue=Y.charCodeAt(ie++);(Ue&64512)==56320?Z.push(((Te&1023)<<10)+(Ue&1023)+65536):(Z.push(Te),ie--)}else Z.push(Te)}return Z}var U=function(Y){return String.fromCodePoint.apply(String,p(Y))},V=function(Y){return Y-48<10?Y-22:Y-65<26?Y-65:Y-97<26?Y-97:m},W=function(Y,Z){return Y+22+75*(Y<26)-((Z!=0)<<5)},te=function(Y,Z,ie){var we=0;for(Y=ie?H(Y/y):Y>>1,Y+=H(Y/Z);Y>M*b>>1;we+=m)Y=H(Y/M);return H(we+(M+1)*Y/(Y+g))},re=function(Y){var Z=[],ie=Y.length,we=0,Te=w,Ue=_,Be=Y.lastIndexOf(T);Be<0&&(Be=0);for(var mt=0;mt<Be;++mt)Y.charCodeAt(mt)>=128&&k("not-basic"),Z.push(Y.charCodeAt(mt));for(var bt=Be>0?Be+1:0;bt<ie;){for(var gt=we,at=1,Bt=m;;Bt+=m){bt>=ie&&k("invalid-input");var rr=V(Y.charCodeAt(bt++));(rr>=m||rr>H((d-we)/at))&&k("overflow"),we+=rr*at;var ht=Bt<=Ue?v:Bt>=Ue+b?b:Bt-Ue;if(rr<ht)break;var qt=m-ht;at>H(d/qt)&&k("overflow"),at*=qt}var Yt=Z.length+1;Ue=te(we-gt,Yt,gt==0),H(we/Yt)>d-Te&&k("overflow"),Te+=H(we/Yt),we%=Yt,Z.splice(we++,0,Te)}return String.fromCodePoint.apply(String,Z)},X=function(Y){var Z=[];Y=z(Y);var ie=Y.length,we=w,Te=0,Ue=_,Be=!0,mt=!1,bt=void 0;try{for(var gt=Y[Symbol.iterator](),at;!(Be=(at=gt.next()).done);Be=!0){var Bt=at.value;Bt<128&&Z.push(N(Bt))}}catch(Mo){mt=!0,bt=Mo}finally{try{!Be&&gt.return&&gt.return()}finally{if(mt)throw bt}}var rr=Z.length,ht=rr;for(rr&&Z.push(T);ht<ie;){var qt=d,Yt=!0,Mt=!1,nr=void 0;try{for(var Vr=Y[Symbol.iterator](),Wt;!(Yt=(Wt=Vr.next()).done);Yt=!0){var Ne=Wt.value;Ne>=we&&Ne<qt&&(qt=Ne)}}catch(Mo){Mt=!0,nr=Mo}finally{try{!Yt&&Vr.return&&Vr.return()}finally{if(Mt)throw nr}}var F=ht+1;qt-we>H((d-Te)/F)&&k("overflow"),Te+=(qt-we)*F,we=qt;var it=!0,St=!1,pr=void 0;try{for(var It=Y[Symbol.iterator](),cr;!(it=(cr=It.next()).done);it=!0){var xn=cr.value;if(xn<we&&++Te>d&&k("overflow"),xn==we){for(var bi=Te,Kr=m;;Kr+=m){var no=Kr<=Ue?v:Kr>=Ue+b?b:Kr-Ue;if(bi<no)break;var _u=bi-no,Ao=m-no;Z.push(N(W(no+_u%Ao,0))),bi=H(_u/Ao)}Z.push(N(W(bi,0))),Ue=te(Te,F,ht==rr),Te=0,++ht}}}catch(Mo){St=!0,pr=Mo}finally{try{!it&&It.return&&It.return()}finally{if(St)throw pr}}++Te,++we}return Z.join("")},$=function(Y){return B(Y,function(Z){return O.test(Z)?re(Z.slice(4).toLowerCase()):Z})},ee=function(Y){return B(Y,function(Z){return E.test(Z)?"xn--"+X(Z):Z})},le={version:"2.1.0",ucs2:{decode:z,encode:U},decode:re,encode:X,toASCII:ee,toUnicode:$},fe={};function Ee(Y){var Z=Y.charCodeAt(0),ie=void 0;return Z<16?ie="%0"+Z.toString(16).toUpperCase():Z<128?ie="%"+Z.toString(16).toUpperCase():Z<2048?ie="%"+(Z>>6|192).toString(16).toUpperCase()+"%"+(Z&63|128).toString(16).toUpperCase():ie="%"+(Z>>12|224).toString(16).toUpperCase()+"%"+(Z>>6&63|128).toString(16).toUpperCase()+"%"+(Z&63|128).toString(16).toUpperCase(),ie}function ce(Y){for(var Z="",ie=0,we=Y.length;ie<we;){var Te=parseInt(Y.substr(ie+1,2),16);if(Te<128)Z+=String.fromCharCode(Te),ie+=3;else if(Te>=194&&Te<224){if(we-ie>=6){var Ue=parseInt(Y.substr(ie+4,2),16);Z+=String.fromCharCode((Te&31)<<6|Ue&63)}else Z+=Y.substr(ie,6);ie+=6}else if(Te>=224){if(we-ie>=9){var Be=parseInt(Y.substr(ie+4,2),16),mt=parseInt(Y.substr(ie+7,2),16);Z+=String.fromCharCode((Te&15)<<12|(Be&63)<<6|mt&63)}else Z+=Y.substr(ie,9);ie+=9}else Z+=Y.substr(ie,3),ie+=3}return Z}function Se(Y,Z){function ie(we){var Te=ce(we);return Te.match(Z.UNRESERVED)?Te:we}return Y.scheme&&(Y.scheme=String(Y.scheme).replace(Z.PCT_ENCODED,ie).toLowerCase().replace(Z.NOT_SCHEME,"")),Y.userinfo!==void 0&&(Y.userinfo=String(Y.userinfo).replace(Z.PCT_ENCODED,ie).replace(Z.NOT_USERINFO,Ee).replace(Z.PCT_ENCODED,a)),Y.host!==void 0&&(Y.host=String(Y.host).replace(Z.PCT_ENCODED,ie).toLowerCase().replace(Z.NOT_HOST,Ee).replace(Z.PCT_ENCODED,a)),Y.path!==void 0&&(Y.path=String(Y.path).replace(Z.PCT_ENCODED,ie).replace(Y.scheme?Z.NOT_PATH:Z.NOT_PATH_NOSCHEME,Ee).replace(Z.PCT_ENCODED,a)),Y.query!==void 0&&(Y.query=String(Y.query).replace(Z.PCT_ENCODED,ie).replace(Z.NOT_QUERY,Ee).replace(Z.PCT_ENCODED,a)),Y.fragment!==void 0&&(Y.fragment=String(Y.fragment).replace(Z.PCT_ENCODED,ie).replace(Z.NOT_FRAGMENT,Ee).replace(Z.PCT_ENCODED,a)),Y}function Oe(Y){return Y.replace(/^0*(.*)/,"$1")||"0"}function he(Y,Z){var ie=Y.match(Z.IPV4ADDRESS)||[],we=f(ie,2),Te=we[1];return Te?Te.split(".").map(Oe).join("."):Y}function Pe(Y,Z){var ie=Y.match(Z.IPV6ADDRESS)||[],we=f(ie,3),Te=we[1],Ue=we[2];if(Te){for(var Be=Te.toLowerCase().split("::").reverse(),mt=f(Be,2),bt=mt[0],gt=mt[1],at=gt?gt.split(":").map(Oe):[],Bt=bt.split(":").map(Oe),rr=Z.IPV4ADDRESS.test(Bt[Bt.length-1]),ht=rr?7:8,qt=Bt.length-ht,Yt=Array(ht),Mt=0;Mt<ht;++Mt)Yt[Mt]=at[Mt]||Bt[qt+Mt]||"";rr&&(Yt[ht-1]=he(Yt[ht-1],Z));var nr=Yt.reduce(function(it,St,pr){if(!St||St==="0"){var It=it[it.length-1];It&&It.index+It.length===pr?It.length++:it.push({index:pr,length:1})}return it},[]),Vr=nr.sort(function(it,St){return St.length-it.length})[0],Wt=void 0;if(Vr&&Vr.length>1){var Ne=Yt.slice(0,Vr.index),F=Yt.slice(Vr.index+Vr.length);Wt=Ne.join(":")+"::"+F.join(":")}else Wt=Yt.join(":");return Ue&&(Wt+="%"+Ue),Wt}else return Y}var Fe=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,We="".match(/(){0}/)[1]===void 0;function et(Y){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie={},we=Z.iri!==!1?h:c;Z.reference==="suffix"&&(Y=(Z.scheme?Z.scheme+":":"")+"//"+Y);var Te=Y.match(Fe);if(Te){We?(ie.scheme=Te[1],ie.userinfo=Te[3],ie.host=Te[4],ie.port=parseInt(Te[5],10),ie.path=Te[6]||"",ie.query=Te[7],ie.fragment=Te[8],isNaN(ie.port)&&(ie.port=Te[5])):(ie.scheme=Te[1]||void 0,ie.userinfo=Y.indexOf("@")!==-1?Te[3]:void 0,ie.host=Y.indexOf("//")!==-1?Te[4]:void 0,ie.port=parseInt(Te[5],10),ie.path=Te[6]||"",ie.query=Y.indexOf("?")!==-1?Te[7]:void 0,ie.fragment=Y.indexOf("#")!==-1?Te[8]:void 0,isNaN(ie.port)&&(ie.port=Y.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Te[4]:void 0)),ie.host&&(ie.host=Pe(he(ie.host,we),we)),ie.scheme===void 0&&ie.userinfo===void 0&&ie.host===void 0&&ie.port===void 0&&!ie.path&&ie.query===void 0?ie.reference="same-document":ie.scheme===void 0?ie.reference="relative":ie.fragment===void 0?ie.reference="absolute":ie.reference="uri",Z.reference&&Z.reference!=="suffix"&&Z.reference!==ie.reference&&(ie.error=ie.error||"URI is not a "+Z.reference+" reference.");var Ue=fe[(Z.scheme||ie.scheme||"").toLowerCase()];if(!Z.unicodeSupport&&(!Ue||!Ue.unicodeSupport)){if(ie.host&&(Z.domainHost||Ue&&Ue.domainHost))try{ie.host=le.toASCII(ie.host.replace(we.PCT_ENCODED,ce).toLowerCase())}catch(Be){ie.error=ie.error||"Host's domain name can not be converted to ASCII via punycode: "+Be}Se(ie,c)}else Se(ie,we);Ue&&Ue.parse&&Ue.parse(ie,Z)}else ie.error=ie.error||"URI can not be parsed.";return ie}function He(Y,Z){var ie=Z.iri!==!1?h:c,we=[];return Y.userinfo!==void 0&&(we.push(Y.userinfo),we.push("@")),Y.host!==void 0&&we.push(Pe(he(String(Y.host),ie),ie).replace(ie.IPV6ADDRESS,function(Te,Ue,Be){return"["+Ue+(Be?"%25"+Be:"")+"]"})),(typeof Y.port=="number"||typeof Y.port=="string")&&(we.push(":"),we.push(String(Y.port))),we.length?we.join(""):void 0}var $e=/^\.\.?\//,vt=/^\/\.(\/|$)/,Ct=/^\/\.\.(\/|$)/,Lt=/^\/?(?:.|\n)*?(?=\/|$)/;function Ye(Y){for(var Z=[];Y.length;)if(Y.match($e))Y=Y.replace($e,"");else if(Y.match(vt))Y=Y.replace(vt,"/");else if(Y.match(Ct))Y=Y.replace(Ct,"/"),Z.pop();else if(Y==="."||Y==="..")Y="";else{var ie=Y.match(Lt);if(ie){var we=ie[0];Y=Y.slice(we.length),Z.push(we)}else throw new Error("Unexpected dot segment condition")}return Z.join("")}function _e(Y){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie=Z.iri?h:c,we=[],Te=fe[(Z.scheme||Y.scheme||"").toLowerCase()];if(Te&&Te.serialize&&Te.serialize(Y,Z),Y.host&&!ie.IPV6ADDRESS.test(Y.host)&&(Z.domainHost||Te&&Te.domainHost))try{Y.host=Z.iri?le.toUnicode(Y.host):le.toASCII(Y.host.replace(ie.PCT_ENCODED,ce).toLowerCase())}catch(mt){Y.error=Y.error||"Host's domain name can not be converted to "+(Z.iri?"Unicode":"ASCII")+" via punycode: "+mt}Se(Y,ie),Z.reference!=="suffix"&&Y.scheme&&(we.push(Y.scheme),we.push(":"));var Ue=He(Y,Z);if(Ue!==void 0&&(Z.reference!=="suffix"&&we.push("//"),we.push(Ue),Y.path&&Y.path.charAt(0)!=="/"&&we.push("/")),Y.path!==void 0){var Be=Y.path;!Z.absolutePath&&(!Te||!Te.absolutePath)&&(Be=Ye(Be)),Ue===void 0&&(Be=Be.replace(/^\/\//,"/%2F")),we.push(Be)}return Y.query!==void 0&&(we.push("?"),we.push(Y.query)),Y.fragment!==void 0&&(we.push("#"),we.push(Y.fragment)),we.join("")}function K(Y,Z){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},we=arguments[3],Te={};return we||(Y=et(_e(Y,ie),ie),Z=et(_e(Z,ie),ie)),ie=ie||{},!ie.tolerant&&Z.scheme?(Te.scheme=Z.scheme,Te.userinfo=Z.userinfo,Te.host=Z.host,Te.port=Z.port,Te.path=Ye(Z.path||""),Te.query=Z.query):(Z.userinfo!==void 0||Z.host!==void 0||Z.port!==void 0?(Te.userinfo=Z.userinfo,Te.host=Z.host,Te.port=Z.port,Te.path=Ye(Z.path||""),Te.query=Z.query):(Z.path?(Z.path.charAt(0)==="/"?Te.path=Ye(Z.path):((Y.userinfo!==void 0||Y.host!==void 0||Y.port!==void 0)&&!Y.path?Te.path="/"+Z.path:Y.path?Te.path=Y.path.slice(0,Y.path.lastIndexOf("/")+1)+Z.path:Te.path=Z.path,Te.path=Ye(Te.path)),Te.query=Z.query):(Te.path=Y.path,Z.query!==void 0?Te.query=Z.query:Te.query=Y.query),Te.userinfo=Y.userinfo,Te.host=Y.host,Te.port=Y.port),Te.scheme=Y.scheme),Te.fragment=Z.fragment,Te}function oe(Y,Z,ie){var we=u({scheme:"null"},ie);return _e(K(et(Y,we),et(Z,we),we,!0),we)}function ue(Y,Z){return typeof Y=="string"?Y=_e(et(Y,Z),Z):o(Y)==="object"&&(Y=et(_e(Y,Z),Z)),Y}function q(Y,Z,ie){return typeof Y=="string"?Y=_e(et(Y,ie),ie):o(Y)==="object"&&(Y=_e(Y,ie)),typeof Z=="string"?Z=_e(et(Z,ie),ie):o(Z)==="object"&&(Z=_e(Z,ie)),Y===Z}function ae(Y,Z){return Y&&Y.toString().replace(!Z||!Z.iri?c.ESCAPE:h.ESCAPE,Ee)}function ge(Y,Z){return Y&&Y.toString().replace(!Z||!Z.iri?c.PCT_ENCODED:h.PCT_ENCODED,ce)}var be={scheme:"http",domainHost:!0,parse:function(Y,Z){return Y.host||(Y.error=Y.error||"HTTP URIs must have a host."),Y},serialize:function(Y,Z){var ie=String(Y.scheme).toLowerCase()==="https";return(Y.port===(ie?443:80)||Y.port==="")&&(Y.port=void 0),Y.path||(Y.path="/"),Y}},Re={scheme:"https",domainHost:be.domainHost,parse:be.parse,serialize:be.serialize};function je(Y){return typeof Y.secure=="boolean"?Y.secure:String(Y.scheme).toLowerCase()==="wss"}var ze={scheme:"ws",domainHost:!0,parse:function(Y,Z){var ie=Y;return ie.secure=je(ie),ie.resourceName=(ie.path||"/")+(ie.query?"?"+ie.query:""),ie.path=void 0,ie.query=void 0,ie},serialize:function(Y,Z){if((Y.port===(je(Y)?443:80)||Y.port==="")&&(Y.port=void 0),typeof Y.secure=="boolean"&&(Y.scheme=Y.secure?"wss":"ws",Y.secure=void 0),Y.resourceName){var ie=Y.resourceName.split("?"),we=f(ie,2),Te=we[0],Ue=we[1];Y.path=Te&&Te!=="/"?Te:void 0,Y.query=Ue,Y.resourceName=void 0}return Y.fragment=void 0,Y}},qe={scheme:"wss",domainHost:ze.domainHost,parse:ze.parse,serialize:ze.serialize},nt={},Tt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Xe="[0-9A-Fa-f]",Ut=i(i("%[EFef]"+Xe+"%"+Xe+Xe+"%"+Xe+Xe)+"|"+i("%[89A-Fa-f]"+Xe+"%"+Xe+Xe)+"|"+i("%"+Xe+Xe)),C="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",L="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",G=n(L,'[\\"\\\\]'),se="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",de=new RegExp(Tt,"g"),Q=new RegExp(Ut,"g"),J=new RegExp(n("[^]",C,"[\\.]",'[\\"]',G),"g"),ve=new RegExp(n("[^]",Tt,se),"g"),pe=ve;function De(Y){var Z=ce(Y);return Z.match(de)?Z:Y}var Ve={scheme:"mailto",parse:function(Y,Z){var ie=Y,we=ie.to=ie.path?ie.path.split(","):[];if(ie.path=void 0,ie.query){for(var Te=!1,Ue={},Be=ie.query.split("&"),mt=0,bt=Be.length;mt<bt;++mt){var gt=Be[mt].split("=");switch(gt[0]){case"to":for(var at=gt[1].split(","),Bt=0,rr=at.length;Bt<rr;++Bt)we.push(at[Bt]);break;case"subject":ie.subject=ge(gt[1],Z);break;case"body":ie.body=ge(gt[1],Z);break;default:Te=!0,Ue[ge(gt[0],Z)]=ge(gt[1],Z);break}}Te&&(ie.headers=Ue)}ie.query=void 0;for(var ht=0,qt=we.length;ht<qt;++ht){var Yt=we[ht].split("@");if(Yt[0]=ge(Yt[0]),Z.unicodeSupport)Yt[1]=ge(Yt[1],Z).toLowerCase();else try{Yt[1]=le.toASCII(ge(Yt[1],Z).toLowerCase())}catch(Mt){ie.error=ie.error||"Email address's domain name can not be converted to ASCII via punycode: "+Mt}we[ht]=Yt.join("@")}return ie},serialize:function(Y,Z){var ie=Y,we=s(Y.to);if(we){for(var Te=0,Ue=we.length;Te<Ue;++Te){var Be=String(we[Te]),mt=Be.lastIndexOf("@"),bt=Be.slice(0,mt).replace(Q,De).replace(Q,a).replace(J,Ee),gt=Be.slice(mt+1);try{gt=Z.iri?le.toUnicode(gt):le.toASCII(ge(gt,Z).toLowerCase())}catch(ht){ie.error=ie.error||"Email address's domain name can not be converted to "+(Z.iri?"Unicode":"ASCII")+" via punycode: "+ht}we[Te]=bt+"@"+gt}ie.path=we.join(",")}var at=Y.headers=Y.headers||{};Y.subject&&(at.subject=Y.subject),Y.body&&(at.body=Y.body);var Bt=[];for(var rr in at)at[rr]!==nt[rr]&&Bt.push(rr.replace(Q,De).replace(Q,a).replace(ve,Ee)+"="+at[rr].replace(Q,De).replace(Q,a).replace(pe,Ee));return Bt.length&&(ie.query=Bt.join("&")),ie}},Ke=/^([^\:]+)\:(.*)/,ke={scheme:"urn",parse:function(Y,Z){var ie=Y.path&&Y.path.match(Ke),we=Y;if(ie){var Te=Z.scheme||we.scheme||"urn",Ue=ie[1].toLowerCase(),Be=ie[2],mt=Te+":"+(Z.nid||Ue),bt=fe[mt];we.nid=Ue,we.nss=Be,we.path=void 0,bt&&(we=bt.parse(we,Z))}else we.error=we.error||"URN can not be parsed.";return we},serialize:function(Y,Z){var ie=Z.scheme||Y.scheme||"urn",we=Y.nid,Te=ie+":"+(Z.nid||we),Ue=fe[Te];Ue&&(Y=Ue.serialize(Y,Z));var Be=Y,mt=Y.nss;return Be.path=(we||Z.nid)+":"+mt,Be}},ye=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,xe={scheme:"urn:uuid",parse:function(Y,Z){var ie=Y;return ie.uuid=ie.nss,ie.nss=void 0,!Z.tolerant&&(!ie.uuid||!ie.uuid.match(ye))&&(ie.error=ie.error||"UUID is not valid."),ie},serialize:function(Y,Z){var ie=Y;return ie.nss=(Y.uuid||"").toLowerCase(),ie}};fe[be.scheme]=be,fe[Re.scheme]=Re,fe[ze.scheme]=ze,fe[qe.scheme]=qe,fe[Ve.scheme]=Ve,fe[ke.scheme]=ke,fe[xe.scheme]=xe,r.SCHEMES=fe,r.pctEncChar=Ee,r.pctDecChars=ce,r.parse=et,r.removeDotSegments=Ye,r.serialize=_e,r.resolveComponents=K,r.resolve=oe,r.normalize=ue,r.equal=q,r.escapeComponent=ae,r.unescapeComponent=ge,Object.defineProperty(r,"__esModule",{value:!0})})})(Kk,Kk.exports);var I9t=Kk.exports,yC=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r},R9t=function(e){for(var t=0,r=e.length,n=0,i;n<r;)t++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<r&&(i=e.charCodeAt(n),(i&64512)==56320&&n++);return t},jf={copy:D9t,checkDataType:Zk,checkDataTypes:N9t,coerceToTypes:j9t,toHash:vC,getProperty:bC,escapeQuotes:_C,equal:yC,ucs2length:R9t,varOccurences:F9t,varReplace:z9t,schemaHasRules:H9t,schemaHasRulesExcept:U9t,schemaUnknownRules:V9t,toQuotedString:cq,getPathExpr:G9t,getPath:Y9t,getData:$9t,unescapeFragment:q9t,unescapeJsonPointer:TC,escapeFragment:K9t,escapeJsonPointer:wC};function D9t(e,t){t=t||{};for(var r in e)t[r]=e[r];return t}function Zk(e,t,r,n){var i=n?" !== ":" === ",o=n?" || ":" && ",a=n?"!":"",s=n?"":"!";switch(e){case"null":return t+i+"null";case"array":return a+"Array.isArray("+t+")";case"object":return"("+a+t+o+"typeof "+t+i+'"object"'+o+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+i+'"number"'+o+s+"("+t+" % 1)"+o+t+i+t+(r?o+a+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+i+'"'+e+'"'+(r?o+a+"isFinite("+t+")":"")+")";default:return"typeof "+t+i+'"'+e+'"'}}function N9t(e,t,r){switch(e.length){case 1:return Zk(e[0],t,r,!0);default:var n="",i=vC(e);i.array&&i.object&&(n=i.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer;for(var o in i)n+=(n?" && ":"")+Zk(o,t,r,!0);return n}}var CD=vC(["string","number","integer","boolean","null"]);function j9t(e,t){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++){var i=t[n];(CD[i]||e==="array"&&i==="array")&&(r[r.length]=i)}if(r.length)return r}else{if(CD[t])return[t];if(e==="array"&&t==="array")return["array"]}}function vC(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var L9t=/^[a-z$_][a-z$_0-9]*$/i,B9t=/'|\\/g;function bC(e){return typeof e=="number"?"["+e+"]":L9t.test(e)?"."+e:"['"+_C(e)+"']"}function _C(e){return e.replace(B9t,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function F9t(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0}function z9t(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")}function H9t(e,t){if(typeof e=="boolean")return!e;for(var r in e)if(t[r])return!0}function U9t(e,t,r){if(typeof e=="boolean")return!e&&r!="not";for(var n in e)if(n!=r&&t[n])return!0}function V9t(e,t){if(typeof e!="boolean"){for(var r in e)if(!t[r])return r}}function cq(e){return"'"+_C(e)+"'"}function G9t(e,t,r,n){var i=r?"'/' + "+t+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'";return hq(e,i)}function Y9t(e,t,r){var n=cq(r?"/"+wC(t):bC(t));return hq(e,n)}var W9t=/^\/(?:[^~]|~0|~1)*$/,X9t=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function $9t(e,t,r){var n,i,o,a;if(e==="")return"rootData";if(e[0]=="/"){if(!W9t.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(a=e.match(X9t),!a)throw new Error("Invalid JSON-pointer: "+e);if(n=+a[1],i=a[2],i=="#"){if(n>=t)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return r[t-n]}if(n>t)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(o="data"+(t-n||""),!i)return o}for(var s=o,u=i.split("/"),l=0;l<u.length;l++){var c=u[l];c&&(o+=bC(TC(c)),s+=" && "+o)}return s}function hq(e,t){return e=='""'?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function q9t(e){return TC(decodeURIComponent(e))}function K9t(e){return encodeURIComponent(wC(e))}function wC(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function TC(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var Z9t=jf,fq=Q9t;function Q9t(e){Z9t.copy(e,this)}var pq={exports:{}},ms=pq.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};n0(t,n,i,e,"",e)};ms.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};ms.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ms.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ms.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n0(e,t,r,n,i,o,a,s,u,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,o,a,s,u,l);for(var c in n){var h=n[c];if(Array.isArray(h)){if(c in ms.arrayKeywords)for(var f=0;f<h.length;f++)n0(e,t,r,h[f],i+"/"+c+"/"+f,o,i,c,n,f)}else if(c in ms.propsKeywords){if(h&&typeof h=="object")for(var p in h)n0(e,t,r,h[p],i+"/"+c+"/"+J9t(p),o,i,c,n,p)}else(c in ms.keywords||e.allKeys&&!(c in ms.skipKeywords))&&n0(e,t,r,h,i+"/"+c,o,i,c,n)}r(n,i,o,a,s,u,l)}}function J9t(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var eOt=pq.exports,tm=I9t,AD=yC,x_=jf,Dv=fq,tOt=eOt,xC=Hs;Hs.normalizeId=_s;Hs.fullPath=Nv;Hs.url=jv;Hs.ids=aOt;Hs.inlineRef=Qk;Hs.schema=E_;function Hs(e,t,r){var n=this._refs[r];if(typeof n=="string")if(this._refs[n])n=this._refs[n];else return Hs.call(this,e,t,n);if(n=n||this._schemas[r],n instanceof Dv)return Qk(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var i=E_.call(this,t,r),o,a,s;return i&&(o=i.schema,t=i.root,s=i.baseId),o instanceof Dv?a=o.validate||e.call(this,o.schema,t,void 0,s):o!==void 0&&(a=Qk(o,this._opts.inlineRefs)?o:e.call(this,o,t,void 0,s)),a}function E_(e,t){var r=tm.parse(t),n=mq(r),i=Nv(this._getId(e.schema));if(Object.keys(e.schema).length===0||n!==i){var o=_s(n),a=this._refs[o];if(typeof a=="string")return rOt.call(this,e,a,r);if(a instanceof Dv)a.validate||this._compile(a),e=a;else if(a=this._schemas[o],a instanceof Dv){if(a.validate||this._compile(a),o==_s(t))return{schema:a,root:e,baseId:i};e=a}else return;if(!e.schema)return;i=Nv(this._getId(e.schema))}return dq.call(this,r,i,e.schema,e)}function rOt(e,t,r){var n=E_.call(this,e,t);if(n){var i=n.schema,o=n.baseId;e=n.root;var a=this._getId(i);return a&&(o=jv(o,a)),dq.call(this,r,o,i,e)}}var nOt=x_.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function dq(e,t,r,n){if(e.fragment=e.fragment||"",e.fragment.slice(0,1)=="/"){for(var i=e.fragment.split("/"),o=1;o<i.length;o++){var a=i[o];if(a){if(a=x_.unescapeFragment(a),r=r[a],r===void 0)break;var s;if(!nOt[a]&&(s=this._getId(r),s&&(t=jv(t,s)),r.$ref)){var u=jv(t,r.$ref),l=E_.call(this,n,u);l&&(r=l.schema,n=l.root,t=l.baseId)}}}if(r!==void 0&&r!==n.schema)return{schema:r,root:n,baseId:t}}}var iOt=x_.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Qk(e,t){if(t===!1)return!1;if(t===void 0||t===!0)return Jk(e);if(t)return e9(e)<=t}function Jk(e){var t;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(t=e[r],typeof t=="object"&&!Jk(t))return!1}else for(var n in e)if(n=="$ref"||(t=e[n],typeof t=="object"&&!Jk(t)))return!1;return!0}function e9(e){var t=0,r;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(r=e[n],typeof r=="object"&&(t+=e9(r)),t==1/0)return 1/0}else for(var i in e){if(i=="$ref")return 1/0;if(iOt[i])t++;else if(r=e[i],typeof r=="object"&&(t+=e9(r)+1),t==1/0)return 1/0}return t}function Nv(e,t){t!==!1&&(e=_s(e));var r=tm.parse(e);return mq(r)}function mq(e){return tm.serialize(e).split("#")[0]+"#"}var oOt=/#\/?$/;function _s(e){return e?e.replace(oOt,""):""}function jv(e,t){return t=_s(t),tm.resolve(e,t)}function aOt(e){var t=_s(this._getId(e)),r={"":t},n={"":Nv(t,!1)},i={},o=this;return tOt(e,{allKeys:!0},function(a,s,u,l,c,h,f){if(s!==""){var p=o._getId(a),d=r[l],m=n[l]+"/"+c;if(f!==void 0&&(m+="/"+(typeof f=="number"?f:x_.escapeFragment(f))),typeof p=="string"){p=d=_s(d?tm.resolve(d,p):p);var v=o._refs[p];if(typeof v=="string"&&(v=o._refs[v]),v&&v.schema){if(!AD(a,v.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=_s(m))if(p[0]=="#"){if(i[p]&&!AD(a,i[p]))throw new Error('id "'+p+'" resolves to more than one schema');i[p]=a}else o._refs[p]=m}r[s]=d,n[s]=m}}),i}var F2=xC,EC={Validation:MD(sOt),MissingRef:MD(SC)};function sOt(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}SC.message=function(e,t){return"can't resolve reference "+t+" from id "+e};function SC(e,t,r){this.message=r||SC.message(e,t),this.missingRef=F2.url(e,t),this.missingSchema=F2.normalizeId(F2.fullPath(this.missingRef))}function MD(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var gq=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var r=typeof t.cycles=="boolean"?t.cycles:!1,n=t.cmp&&(function(o){return function(a){return function(s,u){var l={key:s,value:a[s]},c={key:u,value:a[u]};return o(l,c)}}})(t.cmp),i=[];return(function o(a){if(a&&a.toJSON&&typeof a.toJSON=="function"&&(a=a.toJSON()),a!==void 0){if(typeof a=="number")return isFinite(a)?""+a:"null";if(typeof a!="object")return JSON.stringify(a);var s,u;if(Array.isArray(a)){for(u="[",s=0;s<a.length;s++)s&&(u+=","),u+=o(a[s])||"null";return u+"]"}if(a===null)return"null";if(i.indexOf(a)!==-1){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var l=i.push(a)-1,c=Object.keys(a).sort(n&&n(a));for(u="",s=0;s<c.length;s++){var h=c[s],f=o(a[h]);f&&(u&&(u+=","),u+=JSON.stringify(h)+":"+f)}return i.splice(l,1),"{"+u+"}"}})(e)},yq=function(e,t,r){var n="",i=e.schema.$async===!0,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),a=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var u="unknown keyword: "+s;if(e.opts.strictKeywords==="log")e.logger.warn(u);else throw new Error(u)}}if(e.isTop&&(n+=" var validate = ",i&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" "+("/*# sourceURL="+a+" */")+" ")),typeof e.schema=="boolean"||!(o||e.schema.$ref)){var t="false schema",l=e.level,c=e.dataLevel,h=e.schema[t],f=e.schemaPath+e.util.getProperty(t),p=e.errSchemaPath+"/"+t,_=!e.opts.allErrors,O,d="data"+(c||""),y="valid"+l;if(e.schema===!1){e.isTop?_=!0:n+=" var "+y+" = false; ";var m=m||[];m.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(O||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var v=n;n=m.pop(),!e.compositeRule&&_?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?i?n+=" return data; ":n+=" validate.errors = null; return true; ":n+=" var "+y+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var b=e.isTop,l=e.level=0,c=e.dataLevel=0,d="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var g="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(g);else throw new Error(g)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{var l=e.level,c=e.dataLevel,d="data"+(c||"");if(a&&(e.baseId=e.resolve.url(e.baseId,a)),i&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+l+" = errors;"}var y="valid"+l,_=!e.opts.allErrors,w="",T="",O,E=e.schema.type,S=Array.isArray(E);if(E&&e.opts.nullable&&e.schema.nullable===!0&&(S?E.indexOf("null")==-1&&(E=E.concat("null")):E!="null"&&(E=[E,"null"],S=!0)),S&&E.length==1&&(E=E[0],S=!1),e.schema.$ref&&o){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),E){if(e.opts.coerceTypes)var A=e.util.coerceToTypes(e.opts.coerceTypes,E);var M=e.RULES.types[E];if(A||S||M===!0||M&&!$e(M)){var f=e.schemaPath+".type",p=e.errSchemaPath+"/type",f=e.schemaPath+".type",p=e.errSchemaPath+"/type",H=S?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[H](E,d,e.opts.strictNumbers,!0)+") { ",A){var N="dataType"+l,k="coerced"+l;n+=" var "+N+" = typeof "+d+"; var "+k+" = undefined; ",e.opts.coerceTypes=="array"&&(n+=" if ("+N+" == 'object' && Array.isArray("+d+") && "+d+".length == 1) { "+d+" = "+d+"[0]; "+N+" = typeof "+d+"; if ("+e.util.checkDataType(e.schema.type,d,e.opts.strictNumbers)+") "+k+" = "+d+"; } "),n+=" if ("+k+" !== undefined) ; ";var R=A;if(R)for(var B,z=-1,U=R.length-1;z<U;)B=R[z+=1],B=="string"?n+=" else if ("+N+" == 'number' || "+N+" == 'boolean') "+k+" = '' + "+d+"; else if ("+d+" === null) "+k+" = ''; ":B=="number"||B=="integer"?(n+=" else if ("+N+" == 'boolean' || "+d+" === null || ("+N+" == 'string' && "+d+" && "+d+" == +"+d+" ",B=="integer"&&(n+=" && !("+d+" % 1)"),n+=")) "+k+" = +"+d+"; "):B=="boolean"?n+=" else if ("+d+" === 'false' || "+d+" === 0 || "+d+" === null) "+k+" = false; else if ("+d+" === 'true' || "+d+" === 1) "+k+" = true; ":B=="null"?n+=" else if ("+d+" === '' || "+d+" === 0 || "+d+" === false) "+k+" = null; ":e.opts.coerceTypes=="array"&&B=="array"&&(n+=" else if ("+N+" == 'string' || "+N+" == 'number' || "+N+" == 'boolean' || "+d+" == null) "+k+" = ["+d+"]; ");n+=" else {   ";var m=m||[];m.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(O||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",S?n+=""+E.join(","):n+=""+E,n+="' } ",e.opts.messages!==!1&&(n+=" , message: 'should be ",S?n+=""+E.join(","):n+=""+E,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var v=n;n=m.pop(),!e.compositeRule&&_?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+k+" !== undefined) {  ";var V=c?"data"+(c-1||""):"parentData",W=c?e.dataPathArr[c]:"parentDataProperty";n+=" "+d+" = "+k+"; ",c||(n+="if ("+V+" !== undefined)"),n+=" "+V+"["+W+"] = "+k+"; } "}else{var m=m||[];m.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(O||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",S?n+=""+E.join(","):n+=""+E,n+="' } ",e.opts.messages!==!1&&(n+=" , message: 'should be ",S?n+=""+E.join(","):n+=""+E,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var v=n;n=m.pop(),!e.compositeRule&&_?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(e.schema.$ref&&!o)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",_&&(n+=" } if (errors === ",b?n+="0":n+="errs_"+l,n+=") { ",T+="}");else{var te=e.RULES;if(te){for(var M,re=-1,X=te.length-1;re<X;)if(M=te[re+=1],$e(M)){if(M.type&&(n+=" if ("+e.util.checkDataType(M.type,d,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(M.type=="object"&&e.schema.properties){var h=e.schema.properties,$=Object.keys(h),ee=$;if(ee)for(var le,fe=-1,Ee=ee.length-1;fe<Ee;){le=ee[fe+=1];var ce=h[le];if(ce.default!==void 0){var Se=d+e.util.getProperty(le);if(e.compositeRule){if(e.opts.strictDefaults){var g="default is ignored for: "+Se;if(e.opts.strictDefaults==="log")e.logger.warn(g);else throw new Error(g)}}else n+=" if ("+Se+" === undefined ",e.opts.useDefaults=="empty"&&(n+=" || "+Se+" === null || "+Se+" === '' "),n+=" ) "+Se+" = ",e.opts.useDefaults=="shared"?n+=" "+e.useDefault(ce.default)+" ":n+=" "+JSON.stringify(ce.default)+" ",n+="; "}}}else if(M.type=="array"&&Array.isArray(e.schema.items)){var Oe=e.schema.items;if(Oe){for(var ce,z=-1,he=Oe.length-1;z<he;)if(ce=Oe[z+=1],ce.default!==void 0){var Se=d+"["+z+"]";if(e.compositeRule){if(e.opts.strictDefaults){var g="default is ignored for: "+Se;if(e.opts.strictDefaults==="log")e.logger.warn(g);else throw new Error(g)}}else n+=" if ("+Se+" === undefined ",e.opts.useDefaults=="empty"&&(n+=" || "+Se+" === null || "+Se+" === '' "),n+=" ) "+Se+" = ",e.opts.useDefaults=="shared"?n+=" "+e.useDefault(ce.default)+" ":n+=" "+JSON.stringify(ce.default)+" ",n+="; "}}}}var Pe=M.rules;if(Pe){for(var Fe,We=-1,et=Pe.length-1;We<et;)if(Fe=Pe[We+=1],vt(Fe)){var He=Fe.code(e,Fe.keyword,M.type);He&&(n+=" "+He+" ",_&&(w+="}"))}}if(_&&(n+=" "+w+" ",w=""),M.type&&(n+=" } ",E&&E===M.type&&!A)){n+=" else { ";var f=e.schemaPath+".type",p=e.errSchemaPath+"/type",m=m||[];m.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(O||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",S?n+=""+E.join(","):n+=""+E,n+="' } ",e.opts.messages!==!1&&(n+=" , message: 'should be ",S?n+=""+E.join(","):n+=""+E,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var v=n;n=m.pop(),!e.compositeRule&&_?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}_&&(n+=" if (errors === ",b?n+="0":n+="errs_"+l,n+=") { ",T+="}")}}}_&&(n+=" "+T+" "),b?(i?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+y+" = errors === errs_"+l+";";function $e(Lt){for(var Ye=Lt.rules,_e=0;_e<Ye.length;_e++)if(vt(Ye[_e]))return!0}function vt(Lt){return e.schema[Lt.keyword]!==void 0||Lt.implements&&Ct(Lt)}function Ct(Lt){for(var Ye=Lt.implements,_e=0;_e<Ye.length;_e++)if(e.schema[Ye[_e]]!==void 0)return!0}return n},bg=xC,Lv=jf,vq=EC,lOt=gq,ID=yq,uOt=Lv.ucs2length,cOt=yC,hOt=vq.Validation,fOt=t9;function t9(e,t,r,n){var i=this,o=this._opts,a=[void 0],s={},u=[],l={},c=[],h={},f=[];t=t||{schema:e,refVal:a,refs:s};var p=pOt.call(this,e,t,n),d=this._compilations[p.index];if(p.compiling)return d.callValidate=y;var m=this._formats,v=this.RULES;try{var b=_(e,t,r,n);d.validate=b;var g=d.callValidate;return g&&(g.schema=b.schema,g.errors=null,g.refs=b.refs,g.refVal=b.refVal,g.root=b.root,g.$async=b.$async,o.sourceCode&&(g.source=b.source)),b}finally{dOt.call(this,e,t,n)}function y(){var N=d.validate,k=N.apply(this,arguments);return y.errors=N.errors,k}function _(N,k,R,B){var z=!k||k&&k.schema==N;if(k.schema!=t.schema)return t9.call(i,N,k,R,B);var U=N.$async===!0,V=ID({isTop:!0,schema:N,isRoot:z,baseId:B,root:k,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:vq.MissingRef,RULES:v,validate:ID,util:Lv,resolve:bg,resolveRef:w,usePattern:A,useDefault:M,useCustomRule:H,opts:o,formats:m,logger:i.logger,self:i});V=_g(a,yOt)+_g(u,mOt)+_g(c,gOt)+_g(f,vOt)+V,o.processCode&&(V=o.processCode(V,N));var W;try{var te=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",V);W=te(i,v,m,t,a,c,f,cOt,uOt,hOt),a[0]=W}catch(re){throw i.logger.error("Error compiling schema, function code:",V),re}return W.schema=N,W.errors=null,W.refs=s,W.refVal=a,W.root=z?W:k,U&&(W.$async=!0),o.sourceCode===!0&&(W.source={code:V,patterns:u,defaults:c}),W}function w(N,k,R){k=bg.url(N,k);var B=s[k],z,U;if(B!==void 0)return z=a[B],U="refVal["+B+"]",S(z,U);if(!R&&t.refs){var V=t.refs[k];if(V!==void 0)return z=t.refVal[V],U=T(k,z),S(z,U)}U=T(k);var W=bg.call(i,_,t,k);if(W===void 0){var te=r&&r[k];te&&(W=bg.inlineRef(te,o.inlineRefs)?te:t9.call(i,te,t,r,N))}if(W===void 0)O(k);else return E(k,W),S(W,U)}function T(N,k){var R=a.length;return a[R]=k,s[N]=R,"refVal"+R}function O(N){delete s[N]}function E(N,k){var R=s[N];a[R]=k}function S(N,k){return typeof N=="object"||typeof N=="boolean"?{code:k,schema:N,inline:!0}:{code:k,$async:N&&!!N.$async}}function A(N){var k=l[N];return k===void 0&&(k=l[N]=u.length,u[k]=N),"pattern"+k}function M(N){switch(typeof N){case"boolean":case"number":return""+N;case"string":return Lv.toQuotedString(N);case"object":if(N===null)return"null";var k=lOt(N),R=h[k];return R===void 0&&(R=h[k]=c.length,c[R]=N),"default"+R}}function H(N,k,R,B){if(i._opts.validateSchema!==!1){var z=N.definition.dependencies;if(z&&!z.every(function(le){return Object.prototype.hasOwnProperty.call(R,le)}))throw new Error("parent schema must have all required keywords: "+z.join(","));var U=N.definition.validateSchema;if(U){var V=U(k);if(!V){var W="keyword schema is invalid: "+i.errorsText(U.errors);if(i._opts.validateSchema=="log")i.logger.error(W);else throw new Error(W)}}}var te=N.definition.compile,re=N.definition.inline,X=N.definition.macro,$;if(te)$=te.call(i,k,R,B);else if(X)$=X.call(i,k,R,B),o.validateSchema!==!1&&i.validateSchema($,!0);else if(re)$=re.call(i,B,N.keyword,k,R);else if($=N.definition.validate,!$)return;if($===void 0)throw new Error('custom keyword "'+N.keyword+'"failed to compile');var ee=f.length;return f[ee]=$,{code:"customRule"+ee,validate:$}}}function pOt(e,t,r){var n=bq.call(this,e,t,r);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:r},{index:n,compiling:!1})}function dOt(e,t,r){var n=bq.call(this,e,t,r);n>=0&&this._compilations.splice(n,1)}function bq(e,t,r){for(var n=0;n<this._compilations.length;n++){var i=this._compilations[n];if(i.schema==e&&i.root==t&&i.baseId==r)return n}return-1}function mOt(e,t){return"var pattern"+e+" = new RegExp("+Lv.toQuotedString(t[e])+");"}function gOt(e){return"var default"+e+" = defaults["+e+"];"}function yOt(e,t){return t[e]===void 0?"":"var refVal"+e+" = refVal["+e+"];"}function vOt(e){return"var customRule"+e+" = customRules["+e+"];"}function _g(e,t){if(!e.length)return"";for(var r="",n=0;n<e.length;n++)r+=t(n,e);return r}var _q={exports:{}},S_=_q.exports=function(){this._cache={}};S_.prototype.put=function(e,t){this._cache[e]=t};S_.prototype.get=function(e){return this._cache[e]};S_.prototype.del=function(e){delete this._cache[e]};S_.prototype.clear=function(){this._cache={}};var bOt=_q.exports,_Ot=jf,wOt=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,TOt=[0,31,28,31,30,31,30,31,31,30,31,30,31],xOt=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,wq=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,EOt=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,SOt=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Tq=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,xq=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,Eq=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Sq=/^(?:\/(?:[^~/]|~0|~1)*)*$/,kq=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Oq=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,kOt=k_;function k_(e){return e=e=="full"?"full":"fast",_Ot.copy(k_[e])}k_.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":Tq,url:xq,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:wq,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Aq,uuid:Eq,"json-pointer":Sq,"json-pointer-uri-fragment":kq,"relative-json-pointer":Oq};k_.full={date:Pq,time:Cq,"date-time":COt,uri:MOt,"uri-reference":SOt,"uri-template":Tq,url:xq,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:wq,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Aq,uuid:Eq,"json-pointer":Sq,"json-pointer-uri-fragment":kq,"relative-json-pointer":Oq};function OOt(e){return e%4===0&&(e%100!==0||e%400===0)}function Pq(e){var t=e.match(wOt);if(!t)return!1;var r=+t[1],n=+t[2],i=+t[3];return n>=1&&n<=12&&i>=1&&i<=(n==2&&OOt(r)?29:TOt[n])}function Cq(e,t){var r=e.match(xOt);if(!r)return!1;var n=r[1],i=r[2],o=r[3],a=r[5];return(n<=23&&i<=59&&o<=59||n==23&&i==59&&o==60)&&(!t||a)}var POt=/t|\s/i;function COt(e){var t=e.split(POt);return t.length==2&&Pq(t[0])&&Cq(t[1],!0)}var AOt=/\/|:/;function MOt(e){return AOt.test(e)&&EOt.test(e)}var IOt=/[^\\]\\Z/;function Aq(e){if(IOt.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}var ROt=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),c="valid"+i,h,f;if(a=="#"||a=="#/")e.isRoot?(h=e.async,f="validate"):(h=e.root.schema.$async===!0,f="root.refVal[0]");else{var p=e.resolveRef(e.baseId,a,e.isRoot);if(p===void 0){var d=e.MissingRefError.message(e.baseId,a);if(e.opts.missingRefs=="fail"){e.logger.error(d);var m=m||[];m.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { ref: '"+e.util.escapeQuotes(a)+"' } ",e.opts.messages!==!1&&(n+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(a)+"' "),e.opts.verbose&&(n+=" , schema: "+e.util.toQuotedString(a)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var v=n;n=m.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(n+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(d),u&&(n+=" if (true) { ");else throw new e.MissingRefError(e.baseId,a,d)}else if(p.inline){var b=e.util.copy(e);b.level++;var g="valid"+b.level;b.schema=p.schema,b.schemaPath="",b.errSchemaPath=a;var y=e.validate(b).replace(/validate\.schema/g,p.code);n+=" "+y+" ",u&&(n+=" if ("+g+") { ")}else h=p.$async===!0||e.async&&p.$async!==!1,f=p.code}if(f){var m=m||[];m.push(n),n="",e.opts.passContext?n+=" "+f+".call(this, ":n+=" "+f+"( ",n+=" "+l+", (dataPath || '')",e.errorPath!='""'&&(n+=" + "+e.errorPath);var _=o?"data"+(o-1||""):"parentData",w=o?e.dataPathArr[o]:"parentDataProperty";n+=" , "+_+" , "+w+", rootData)  ";var T=n;if(n=m.pop(),h){if(!e.async)throw new Error("async schema referenced by sync schema");u&&(n+=" var "+c+"; "),n+=" try { await "+T+"; ",u&&(n+=" "+c+" = true; "),n+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(n+=" "+c+" = false; "),n+=" } ",u&&(n+=" if ("+c+") { ")}else n+=" if (!"+T+") { if (vErrors === null) vErrors = "+f+".errors; else vErrors = vErrors.concat("+f+".errors); errors = vErrors.length; } ",u&&(n+=" else { ")}return n},DOt=function(e,t,r){var n=" ",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,u=e.util.copy(e),l="";u.level++;var c="valid"+u.level,h=u.baseId,f=!0,p=i;if(p)for(var d,m=-1,v=p.length-1;m<v;)d=p[m+=1],(e.opts.strictKeywords?typeof d=="object"&&Object.keys(d).length>0||d===!1:e.util.schemaHasRules(d,e.RULES.all))&&(f=!1,u.schema=d,u.schemaPath=o+"["+m+"]",u.errSchemaPath=a+"/"+m,n+="  "+e.validate(u)+" ",u.baseId=h,s&&(n+=" if ("+c+") { ",l+="}"));return s&&(f?n+=" if (true) { ":n+=" "+l.slice(0,-1)+" "),n},NOt=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,f="errs__"+i,p=e.util.copy(e),d="";p.level++;var m="valid"+p.level,v=a.every(function(O){return e.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:e.util.schemaHasRules(O,e.RULES.all)});if(v){var b=p.baseId;n+=" var "+f+" = errors; var "+h+" = false;  ";var g=e.compositeRule;e.compositeRule=p.compositeRule=!0;var y=a;if(y)for(var _,w=-1,T=y.length-1;w<T;)_=y[w+=1],p.schema=_,p.schemaPath=s+"["+w+"]",p.errSchemaPath=u+"/"+w,n+="  "+e.validate(p)+" ",p.baseId=b,n+=" "+h+" = "+h+" || "+m+"; if (!"+h+") { ",d+="}";e.compositeRule=p.compositeRule=g,n+=" "+d+" if (!"+h+") {   var err =   ",e.createErrors!==!1?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else l&&(n+=" if (true) { ");return n},jOt=function(e,t,r){var n=" ",i=e.schema[t],o=e.errSchemaPath+"/"+t;e.opts.allErrors;var a=e.util.toQuotedString(i);return e.opts.$comment===!0?n+=" console.log("+a+");":typeof e.opts.$comment=="function"&&(n+=" self._opts.$comment("+a+", "+e.util.toQuotedString(o)+", validate.root.schema);"),n},LOt=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,f=e.opts.$data&&a&&a.$data;f&&(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; "),f||(n+=" var schema"+i+" = validate.schema"+s+";"),n+="var "+h+" = equal("+c+", schema"+i+"); if (!"+h+") {   ";var p=p||[];p.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+i+" } ",e.opts.messages!==!1&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var d=n;return n=p.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+d+"]); ":n+=" validate.errors = ["+d+"]; return false; ":n+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",l&&(n+=" else { "),n},BOt=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,f="errs__"+i,p=e.util.copy(e),d="";p.level++;var m="valid"+p.level,v="i"+i,b=p.dataLevel=e.dataLevel+1,g="data"+b,y=e.baseId,_=e.opts.strictKeywords?typeof a=="object"&&Object.keys(a).length>0||a===!1:e.util.schemaHasRules(a,e.RULES.all);if(n+="var "+f+" = errors;var "+h+";",_){var w=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=a,p.schemaPath=s,p.errSchemaPath=u,n+=" var "+m+" = false; for (var "+v+" = 0; "+v+" < "+c+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);var T=c+"["+v+"]";p.dataPathArr[b]=v;var O=e.validate(p);p.baseId=y,e.util.varOccurences(O,g)<2?n+=" "+e.util.varReplace(O,g,T)+" ":n+=" var "+g+" = "+T+"; "+O+" ",n+=" if ("+m+") break; }  ",e.compositeRule=p.compositeRule=w,n+=" "+d+" if (!"+m+") {"}else n+=" if ("+c+".length == 0) {";var E=E||[];E.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var S=n;return n=E.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+S+"]); ":n+=" validate.errors = ["+S+"]; return false; ":n+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",_&&(n+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n},FOt=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),h="errs__"+i,f=e.util.copy(e),p="";f.level++;var d="valid"+f.level,m={},v={},b=e.opts.ownProperties;for(w in a)if(w!="__proto__"){var g=a[w],y=Array.isArray(g)?v:m;y[w]=g}n+="var "+h+" = errors;";var _=e.errorPath;n+="var missing"+i+";";for(var w in v)if(y=v[w],y.length){if(n+=" if ( "+c+e.util.getProperty(w)+" !== undefined ",b&&(n+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(w)+"') "),l){n+=" && ( ";var T=y;if(T)for(var O,E=-1,S=T.length-1;E<S;){O=T[E+=1],E&&(n+=" || ");var A=e.util.getProperty(O),M=c+A;n+=" ( ( "+M+" === undefined ",b&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(O)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?O:A)+") ) "}n+=")) {  ";var H="missing"+i,N="' + "+H+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,H,!0):_+" + "+H);var k=k||[];k.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+N+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(y.length==1?y[0]:y.join(", "))+"' } ",e.opts.messages!==!1&&(n+=" , message: 'should have ",y.length==1?n+="property "+e.util.escapeQuotes(y[0]):n+="properties "+e.util.escapeQuotes(y.join(", ")),n+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var R=n;n=k.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+R+"]); ":n+=" validate.errors = ["+R+"]; return false; ":n+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var B=y;if(B)for(var O,z=-1,U=B.length-1;z<U;){O=B[z+=1];var A=e.util.getProperty(O),N=e.util.escapeQuotes(O),M=c+A;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,O,e.opts.jsonPointers)),n+=" if ( "+M+" === undefined ",b&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(O)+"') "),n+=") {  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+N+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(y.length==1?y[0]:y.join(", "))+"' } ",e.opts.messages!==!1&&(n+=" , message: 'should have ",y.length==1?n+="property "+e.util.escapeQuotes(y[0]):n+="properties "+e.util.escapeQuotes(y.join(", ")),n+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",l&&(p+="}",n+=" else { ")}e.errorPath=_;var V=f.baseId;for(var w in m){var g=m[w];(e.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:e.util.schemaHasRules(g,e.RULES.all))&&(n+=" "+d+" = true; if ( "+c+e.util.getProperty(w)+" !== undefined ",b&&(n+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(w)+"') "),n+=") { ",f.schema=g,f.schemaPath=s+e.util.getProperty(w),f.errSchemaPath=u+"/"+e.util.escapeFragment(w),n+="  "+e.validate(f)+" ",f.baseId=V,n+=" }  ",l&&(n+=" if ("+d+") { ",p+="}"))}return l&&(n+="   "+p+" if ("+h+" == errors) {"),n},zOt=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,f=e.opts.$data&&a&&a.$data;f&&(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var p="i"+i,d="schema"+i;f||(n+=" var "+d+" = validate.schema"+s+";"),n+="var "+h+";",f&&(n+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),n+=""+h+" = false;for (var "+p+"=0; "+p+"<"+d+".length; "+p+"++) if (equal("+c+", "+d+"["+p+"])) { "+h+" = true; break; }",f&&(n+="  }  "),n+=" if (!"+h+") {   ";var m=m||[];m.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+i+" } ",e.opts.messages!==!1&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var v=n;return n=m.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",l&&(n+=" else { "),n},HOt=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||"");if(e.opts.format===!1)return l&&(n+=" if (true) { "),n;var h=e.opts.$data&&a&&a.$data,f;h?(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",f="schema"+i):f=a;var p=e.opts.unknownFormats,d=Array.isArray(p);if(h){var m="format"+i,v="isObject"+i,b="formatType"+i;n+=" var "+m+" = formats["+f+"]; var "+v+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+b+" = "+v+" && "+m+".type || 'string'; if ("+v+") { ",e.async&&(n+=" var async"+i+" = "+m+".async; "),n+=" "+m+" = "+m+".validate; } if (  ",h&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" (",p!="ignore"&&(n+=" ("+f+" && !"+m+" ",d&&(n+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),n+=") || "),n+=" ("+m+" && "+b+" == '"+r+"' && !(typeof "+m+" == 'function' ? ",e.async?n+=" (async"+i+" ? await "+m+"("+c+") : "+m+"("+c+")) ":n+=" "+m+"("+c+") ",n+=" : "+m+".test("+c+"))))) {"}else{var m=e.formats[a];if(!m){if(p=="ignore")return e.logger.warn('unknown format "'+a+'" ignored in schema at path "'+e.errSchemaPath+'"'),l&&(n+=" if (true) { "),n;if(d&&p.indexOf(a)>=0)return l&&(n+=" if (true) { "),n;throw new Error('unknown format "'+a+'" is used in schema at path "'+e.errSchemaPath+'"')}var v=typeof m=="object"&&!(m instanceof RegExp)&&m.validate,b=v&&m.type||"string";if(v){var g=m.async===!0;m=m.validate}if(b!=r)return l&&(n+=" if (true) { "),n;if(g){if(!e.async)throw new Error("async format in sync schema");var y="formats"+e.util.getProperty(a)+".validate";n+=" if (!(await "+y+"("+c+"))) { "}else{n+=" if (! ";var y="formats"+e.util.getProperty(a);v&&(y+=".validate"),typeof m=="function"?n+=" "+y+"("+c+") ":n+=" "+y+".test("+c+") ",n+=") { "}}var _=_||[];_.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",h?n+=""+f:n+=""+e.util.toQuotedString(a),n+="  } ",e.opts.messages!==!1&&(n+=` , message: 'should match format "`,h?n+="' + "+f+" + '":n+=""+e.util.escapeQuotes(a),n+=`"' `),e.opts.verbose&&(n+=" , schema:  ",h?n+="validate.schema"+s:n+=""+e.util.toQuotedString(a),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var w=n;return n=_.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",l&&(n+=" else { "),n},UOt=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,f="errs__"+i,p=e.util.copy(e);p.level++;var d="valid"+p.level,m=e.schema.then,v=e.schema.else,b=m!==void 0&&(e.opts.strictKeywords?typeof m=="object"&&Object.keys(m).length>0||m===!1:e.util.schemaHasRules(m,e.RULES.all)),g=v!==void 0&&(e.opts.strictKeywords?typeof v=="object"&&Object.keys(v).length>0||v===!1:e.util.schemaHasRules(v,e.RULES.all)),y=p.baseId;if(b||g){var _;p.createErrors=!1,p.schema=a,p.schemaPath=s,p.errSchemaPath=u,n+=" var "+f+" = errors; var "+h+" = true;  ";var w=e.compositeRule;e.compositeRule=p.compositeRule=!0,n+="  "+e.validate(p)+" ",p.baseId=y,p.createErrors=!0,n+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=w,b?(n+=" if ("+d+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(p)+" ",p.baseId=y,n+=" "+h+" = "+d+"; ",b&&g?(_="ifClause"+i,n+=" var "+_+" = 'then'; "):_="'then'",n+=" } ",g&&(n+=" else { ")):n+=" if (!"+d+") { ",g&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(p)+" ",p.baseId=y,n+=" "+h+" = "+d+"; ",b&&g?(_="ifClause"+i,n+=" var "+_+" = 'else'; "):_="'else'",n+=" } "),n+=" if (!"+h+") {   var err =   ",e.createErrors!==!1?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+_+" } ",e.opts.messages!==!1&&(n+=` , message: 'should match "' + `+_+` + '" schema' `),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",l&&(n+=" else { ")}else l&&(n+=" if (true) { ");return n},VOt=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,f="errs__"+i,p=e.util.copy(e),d="";p.level++;var m="valid"+p.level,v="i"+i,b=p.dataLevel=e.dataLevel+1,g="data"+b,y=e.baseId;if(n+="var "+f+" = errors;var "+h+";",Array.isArray(a)){var _=e.schema.additionalItems;if(_===!1){n+=" "+h+" = "+c+".length <= "+a.length+"; ";var w=u;u=e.errSchemaPath+"/additionalItems",n+="  if (!"+h+") {   ";var T=T||[];T.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+a.length+" } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT have more than "+a.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var O=n;n=T.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+O+"]); ":n+=" validate.errors = ["+O+"]; return false; ":n+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",u=w,l&&(d+="}",n+=" else { ")}var E=a;if(E){for(var S,A=-1,M=E.length-1;A<M;)if(S=E[A+=1],e.opts.strictKeywords?typeof S=="object"&&Object.keys(S).length>0||S===!1:e.util.schemaHasRules(S,e.RULES.all)){n+=" "+m+" = true; if ("+c+".length > "+A+") { ";var H=c+"["+A+"]";p.schema=S,p.schemaPath=s+"["+A+"]",p.errSchemaPath=u+"/"+A,p.errorPath=e.util.getPathExpr(e.errorPath,A,e.opts.jsonPointers,!0),p.dataPathArr[b]=A;var N=e.validate(p);p.baseId=y,e.util.varOccurences(N,g)<2?n+=" "+e.util.varReplace(N,g,H)+" ":n+=" var "+g+" = "+H+"; "+N+" ",n+=" }  ",l&&(n+=" if ("+m+") { ",d+="}")}}if(typeof _=="object"&&(e.opts.strictKeywords?typeof _=="object"&&Object.keys(_).length>0||_===!1:e.util.schemaHasRules(_,e.RULES.all))){p.schema=_,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+m+" = true; if ("+c+".length > "+a.length+") {  for (var "+v+" = "+a.length+"; "+v+" < "+c+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);var H=c+"["+v+"]";p.dataPathArr[b]=v;var N=e.validate(p);p.baseId=y,e.util.varOccurences(N,g)<2?n+=" "+e.util.varReplace(N,g,H)+" ":n+=" var "+g+" = "+H+"; "+N+" ",l&&(n+=" if (!"+m+") break; "),n+=" } }  ",l&&(n+=" if ("+m+") { ",d+="}")}}else if(e.opts.strictKeywords?typeof a=="object"&&Object.keys(a).length>0||a===!1:e.util.schemaHasRules(a,e.RULES.all)){p.schema=a,p.schemaPath=s,p.errSchemaPath=u,n+="  for (var "+v+" = 0; "+v+" < "+c+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);var H=c+"["+v+"]";p.dataPathArr[b]=v;var N=e.validate(p);p.baseId=y,e.util.varOccurences(N,g)<2?n+=" "+e.util.varReplace(N,g,H)+" ":n+=" var "+g+" = "+H+"; "+N+" ",l&&(n+=" if (!"+m+") break; "),n+=" }"}return l&&(n+=" "+d+" if ("+f+" == errors) {"),n},RD=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,y,c="data"+(o||""),h=e.opts.$data&&a&&a.$data,f;h?(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",f="schema"+i):f=a;var p=t=="maximum",d=p?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[d],v=e.opts.$data&&m&&m.$data,b=p?"<":">",g=p?">":"<",y=void 0;if(!(h||typeof a=="number"||a===void 0))throw new Error(t+" must be number");if(!(v||m===void 0||typeof m=="number"||typeof m=="boolean"))throw new Error(d+" must be number or boolean");if(v){var _=e.util.getData(m.$data,o,e.dataPathArr),w="exclusive"+i,T="exclType"+i,O="exclIsNumber"+i,E="op"+i,S="' + "+E+" + '";n+=" var schemaExcl"+i+" = "+_+"; ",_="schemaExcl"+i,n+=" var "+w+"; var "+T+" = typeof "+_+"; if ("+T+" != 'boolean' && "+T+" != 'undefined' && "+T+" != 'number') { ";var y=d,A=A||[];A.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(y||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: '"+d+" should be boolean' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var M=n;n=A.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+M+"]); ":n+=" validate.errors = ["+M+"]; return false; ":n+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else if ( ",h&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+T+" == 'number' ? ( ("+w+" = "+f+" === undefined || "+_+" "+b+"= "+f+") ? "+c+" "+g+"= "+_+" : "+c+" "+g+" "+f+" ) : ( ("+w+" = "+_+" === true) ? "+c+" "+g+"= "+f+" : "+c+" "+g+" "+f+" ) || "+c+" !== "+c+") { var op"+i+" = "+w+" ? '"+b+"' : '"+b+"='; ",a===void 0&&(y=d,u=e.errSchemaPath+"/"+d,f=_,h=v)}else{var O=typeof m=="number",S=b;if(O&&h){var E="'"+S+"'";n+=" if ( ",h&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" ( "+f+" === undefined || "+m+" "+b+"= "+f+" ? "+c+" "+g+"= "+m+" : "+c+" "+g+" "+f+" ) || "+c+" !== "+c+") { "}else{O&&a===void 0?(w=!0,y=d,u=e.errSchemaPath+"/"+d,f=m,g+="="):(O&&(f=Math[p?"min":"max"](m,a)),m===(O?f:!0)?(w=!0,y=d,u=e.errSchemaPath+"/"+d,g+="="):(w=!1,S+="="));var E="'"+S+"'";n+=" if ( ",h&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+c+" "+g+" "+f+" || "+c+" !== "+c+") { "}}y=y||t;var A=A||[];A.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(y||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+E+", limit: "+f+", exclusive: "+w+" } ",e.opts.messages!==!1&&(n+=" , message: 'should be "+S+" ",h?n+="' + "+f:n+=""+f+"'"),e.opts.verbose&&(n+=" , schema:  ",h?n+="validate.schema"+s:n+=""+a,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var M=n;return n=A.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+M+"]); ":n+=" validate.errors = ["+M+"]; return false; ":n+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",l&&(n+=" else { "),n},DD=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d,c="data"+(o||""),h=e.opts.$data&&a&&a.$data,f;if(h?(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",f="schema"+i):f=a,!(h||typeof a=="number"))throw new Error(t+" must be number");var p=t=="maxItems"?">":"<";n+="if ( ",h&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+c+".length "+p+" "+f+") { ";var d=t,m=m||[];m.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+f+" } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT have ",t=="maxItems"?n+="more":n+="fewer",n+=" than ",h?n+="' + "+f+" + '":n+=""+a,n+=" items' "),e.opts.verbose&&(n+=" , schema:  ",h?n+="validate.schema"+s:n+=""+a,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var v=n;return n=m.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",l&&(n+=" else { "),n},ND=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d,c="data"+(o||""),h=e.opts.$data&&a&&a.$data,f;if(h?(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",f="schema"+i):f=a,!(h||typeof a=="number"))throw new Error(t+" must be number");var p=t=="maxLength"?">":"<";n+="if ( ",h&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),e.opts.unicode===!1?n+=" "+c+".length ":n+=" ucs2length("+c+") ",n+=" "+p+" "+f+") { ";var d=t,m=m||[];m.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(d||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+f+" } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT be ",t=="maxLength"?n+="longer":n+="shorter",n+=" than ",h?n+="' + "+f+" + '":n+=""+a,n+=" characters' "),e.opts.verbose&&(n+=" , schema:  ",h?n+="validate.schema"+s:n+=""+a,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var v=n;return n=m.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",l&&(n+=" else { "),n},jD=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d,c="data"+(o||""),h=e.opts.$data&&a&&a.$data,f;if(h?(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",f="schema"+i):f=a,!(h||typeof a=="number"))throw new Error(t+" must be number");var p=t=="maxProperties"?">":"<";n+="if ( ",h&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" Object.keys("+c+").length "+p+" "+f+") { ";var d=t,m=m||[];m.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+f+" } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT have ",t=="maxProperties"?n+="more":n+="fewer",n+=" than ",h?n+="' + "+f+" + '":n+=""+a,n+=" properties' "),e.opts.verbose&&(n+=" , schema:  ",h?n+="validate.schema"+s:n+=""+a,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var v=n;return n=m.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",l&&(n+=" else { "),n},GOt=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),h=e.opts.$data&&a&&a.$data,f;if(h?(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",f="schema"+i):f=a,!(h||typeof a=="number"))throw new Error(t+" must be number");n+="var division"+i+";if (",h&&(n+=" "+f+" !== undefined && ( typeof "+f+" != 'number' || "),n+=" (division"+i+" = "+c+" / "+f+", ",e.opts.multipleOfPrecision?n+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+e.opts.multipleOfPrecision+" ":n+=" division"+i+" !== parseInt(division"+i+") ",n+=" ) ",h&&(n+="  )  "),n+=" ) {   ";var p=p||[];p.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+f+" } ",e.opts.messages!==!1&&(n+=" , message: 'should be multiple of ",h?n+="' + "+f:n+=""+f+"'"),e.opts.verbose&&(n+=" , schema:  ",h?n+="validate.schema"+s:n+=""+a,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var d=n;return n=p.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+d+"]); ":n+=" validate.errors = ["+d+"]; return false; ":n+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",l&&(n+=" else { "),n},YOt=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),h="errs__"+i,f=e.util.copy(e);f.level++;var p="valid"+f.level;if(e.opts.strictKeywords?typeof a=="object"&&Object.keys(a).length>0||a===!1:e.util.schemaHasRules(a,e.RULES.all)){f.schema=a,f.schemaPath=s,f.errSchemaPath=u,n+=" var "+h+" = errors;  ";var d=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.createErrors=!1;var m;f.opts.allErrors&&(m=f.opts.allErrors,f.opts.allErrors=!1),n+=" "+e.validate(f)+" ",f.createErrors=!0,m&&(f.opts.allErrors=m),e.compositeRule=f.compositeRule=d,n+=" if ("+p+") {   ";var v=v||[];v.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var b=n;n=v.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+b+"]); ":n+=" validate.errors = ["+b+"]; return false; ":n+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(n+=" if (false) { ");return n},WOt=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,f="errs__"+i,p=e.util.copy(e),d="";p.level++;var m="valid"+p.level,v=p.baseId,b="prevValid"+i,g="passingSchemas"+i;n+="var "+f+" = errors , "+b+" = false , "+h+" = false , "+g+" = null; ";var y=e.compositeRule;e.compositeRule=p.compositeRule=!0;var _=a;if(_)for(var w,T=-1,O=_.length-1;T<O;)w=_[T+=1],(e.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:e.util.schemaHasRules(w,e.RULES.all))?(p.schema=w,p.schemaPath=s+"["+T+"]",p.errSchemaPath=u+"/"+T,n+="  "+e.validate(p)+" ",p.baseId=v):n+=" var "+m+" = true; ",T&&(n+=" if ("+m+" && "+b+") { "+h+" = false; "+g+" = ["+g+", "+T+"]; } else { ",d+="}"),n+=" if ("+m+") { "+h+" = "+b+" = true; "+g+" = "+T+"; }";return e.compositeRule=p.compositeRule=y,n+=""+d+"if (!"+h+") {   var err =   ",e.createErrors!==!1?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+g+" } ",e.opts.messages!==!1&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n},XOt=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),h=e.opts.$data&&a&&a.$data,f;h?(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",f="schema"+i):f=a;var p=h?"(new RegExp("+f+"))":e.usePattern(a);n+="if ( ",h&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" !"+p+".test("+c+") ) {   ";var d=d||[];d.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",h?n+=""+f:n+=""+e.util.toQuotedString(a),n+="  } ",e.opts.messages!==!1&&(n+=` , message: 'should match pattern "`,h?n+="' + "+f+" + '":n+=""+e.util.escapeQuotes(a),n+=`"' `),e.opts.verbose&&(n+=" , schema:  ",h?n+="validate.schema"+s:n+=""+e.util.toQuotedString(a),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var m=n;return n=d.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",l&&(n+=" else { "),n},$Ot=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),h="errs__"+i,f=e.util.copy(e),p="";f.level++;var d="valid"+f.level,m="key"+i,v="idx"+i,b=f.dataLevel=e.dataLevel+1,g="data"+b,y="dataProperties"+i,_=Object.keys(a||{}).filter(z),w=e.schema.patternProperties||{},T=Object.keys(w).filter(z),O=e.schema.additionalProperties,E=_.length||T.length,S=O===!1,A=typeof O=="object"&&Object.keys(O).length,M=e.opts.removeAdditional,H=S||A||M,N=e.opts.ownProperties,k=e.baseId,R=e.schema.required;if(R&&!(e.opts.$data&&R.$data)&&R.length<e.opts.loopRequired)var B=e.util.toHash(R);function z(ue){return ue!=="__proto__"}if(n+="var "+h+" = errors;var "+d+" = true;",N&&(n+=" var "+y+" = undefined;"),H){if(N?n+=" "+y+" = "+y+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+y+".length; "+v+"++) { var "+m+" = "+y+"["+v+"]; ":n+=" for (var "+m+" in "+c+") { ",E){if(n+=" var isAdditional"+i+" = !(false ",_.length)if(_.length>8)n+=" || validate.schema"+s+".hasOwnProperty("+m+") ";else{var U=_;if(U)for(var V,W=-1,te=U.length-1;W<te;)V=U[W+=1],n+=" || "+m+" == "+e.util.toQuotedString(V)+" "}if(T.length){var re=T;if(re)for(var X,$=-1,ee=re.length-1;$<ee;)X=re[$+=1],n+=" || "+e.usePattern(X)+".test("+m+") "}n+=" ); if (isAdditional"+i+") { "}if(M=="all")n+=" delete "+c+"["+m+"]; ";else{var le=e.errorPath,fe="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),S)if(M)n+=" delete "+c+"["+m+"]; ";else{n+=" "+d+" = false; ";var Ee=u;u=e.errSchemaPath+"/additionalProperties";var ce=ce||[];ce.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+fe+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var Se=n;n=ce.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+Se+"]); ":n+=" validate.errors = ["+Se+"]; return false; ":n+=" var err = "+Se+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=Ee,l&&(n+=" break; ")}else if(A)if(M=="failing"){n+=" var "+h+" = errors;  ";var Oe=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=O,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var he=c+"["+m+"]";f.dataPathArr[b]=m;var Pe=e.validate(f);f.baseId=k,e.util.varOccurences(Pe,g)<2?n+=" "+e.util.varReplace(Pe,g,he)+" ":n+=" var "+g+" = "+he+"; "+Pe+" ",n+=" if (!"+d+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+m+"]; }  ",e.compositeRule=f.compositeRule=Oe}else{f.schema=O,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var he=c+"["+m+"]";f.dataPathArr[b]=m;var Pe=e.validate(f);f.baseId=k,e.util.varOccurences(Pe,g)<2?n+=" "+e.util.varReplace(Pe,g,he)+" ":n+=" var "+g+" = "+he+"; "+Pe+" ",l&&(n+=" if (!"+d+") break; ")}e.errorPath=le}E&&(n+=" } "),n+=" }  ",l&&(n+=" if ("+d+") { ",p+="}")}var Fe=e.opts.useDefaults&&!e.compositeRule;if(_.length){var We=_;if(We)for(var V,et=-1,He=We.length-1;et<He;){V=We[et+=1];var $e=a[V];if(e.opts.strictKeywords?typeof $e=="object"&&Object.keys($e).length>0||$e===!1:e.util.schemaHasRules($e,e.RULES.all)){var vt=e.util.getProperty(V),he=c+vt,Ct=Fe&&$e.default!==void 0;f.schema=$e,f.schemaPath=s+vt,f.errSchemaPath=u+"/"+e.util.escapeFragment(V),f.errorPath=e.util.getPath(e.errorPath,V,e.opts.jsonPointers),f.dataPathArr[b]=e.util.toQuotedString(V);var Pe=e.validate(f);if(f.baseId=k,e.util.varOccurences(Pe,g)<2){Pe=e.util.varReplace(Pe,g,he);var Lt=he}else{var Lt=g;n+=" var "+g+" = "+he+"; "}if(Ct)n+=" "+Pe+" ";else{if(B&&B[V]){n+=" if ( "+Lt+" === undefined ",N&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(V)+"') "),n+=") { "+d+" = false; ";var le=e.errorPath,Ee=u,Ye=e.util.escapeQuotes(V);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(le,V,e.opts.jsonPointers)),u=e.errSchemaPath+"/required";var ce=ce||[];ce.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+Ye+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+Ye+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var Se=n;n=ce.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+Se+"]); ":n+=" validate.errors = ["+Se+"]; return false; ":n+=" var err = "+Se+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=Ee,e.errorPath=le,n+=" } else { "}else l?(n+=" if ( "+Lt+" === undefined ",N&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(V)+"') "),n+=") { "+d+" = true; } else { "):(n+=" if ("+Lt+" !== undefined ",N&&(n+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(V)+"') "),n+=" ) { ");n+=" "+Pe+" } "}}l&&(n+=" if ("+d+") { ",p+="}")}}if(T.length){var _e=T;if(_e)for(var X,K=-1,oe=_e.length-1;K<oe;){X=_e[K+=1];var $e=w[X];if(e.opts.strictKeywords?typeof $e=="object"&&Object.keys($e).length>0||$e===!1:e.util.schemaHasRules($e,e.RULES.all)){f.schema=$e,f.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(X),f.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(X),N?n+=" "+y+" = "+y+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+y+".length; "+v+"++) { var "+m+" = "+y+"["+v+"]; ":n+=" for (var "+m+" in "+c+") { ",n+=" if ("+e.usePattern(X)+".test("+m+")) { ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var he=c+"["+m+"]";f.dataPathArr[b]=m;var Pe=e.validate(f);f.baseId=k,e.util.varOccurences(Pe,g)<2?n+=" "+e.util.varReplace(Pe,g,he)+" ":n+=" var "+g+" = "+he+"; "+Pe+" ",l&&(n+=" if (!"+d+") break; "),n+=" } ",l&&(n+=" else "+d+" = true; "),n+=" }  ",l&&(n+=" if ("+d+") { ",p+="}")}}}return l&&(n+=" "+p+" if ("+h+" == errors) {"),n},qOt=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),h="errs__"+i,f=e.util.copy(e),p="";f.level++;var d="valid"+f.level;if(n+="var "+h+" = errors;",e.opts.strictKeywords?typeof a=="object"&&Object.keys(a).length>0||a===!1:e.util.schemaHasRules(a,e.RULES.all)){f.schema=a,f.schemaPath=s,f.errSchemaPath=u;var m="key"+i,v="idx"+i,b="i"+i,g="' + "+m+" + '",y=f.dataLevel=e.dataLevel+1,_="data"+y,w="dataProperties"+i,T=e.opts.ownProperties,O=e.baseId;T&&(n+=" var "+w+" = undefined; "),T?n+=" "+w+" = "+w+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+w+".length; "+v+"++) { var "+m+" = "+w+"["+v+"]; ":n+=" for (var "+m+" in "+c+") { ",n+=" var startErrs"+i+" = errors; ";var E=m,S=e.compositeRule;e.compositeRule=f.compositeRule=!0;var A=e.validate(f);f.baseId=O,e.util.varOccurences(A,_)<2?n+=" "+e.util.varReplace(A,_,E)+" ":n+=" var "+_+" = "+E+"; "+A+" ",e.compositeRule=f.compositeRule=S,n+=" if (!"+d+") { for (var "+b+"=startErrs"+i+"; "+b+"<errors; "+b+"++) { vErrors["+b+"].propertyName = "+m+"; }   var err =   ",e.createErrors!==!1?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+g+"' } ",e.opts.messages!==!1&&(n+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),l&&(n+=" break; "),n+=" } }"}return l&&(n+=" "+p+" if ("+h+" == errors) {"),n},KOt=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,f=e.opts.$data&&a&&a.$data;f&&(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var p="schema"+i;if(!f)if(a.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var y=[],d=a;if(d)for(var m,v=-1,b=d.length-1;v<b;){m=d[v+=1];var g=e.schema.properties[m];g&&(e.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:e.util.schemaHasRules(g,e.RULES.all))||(y[y.length]=m)}}else var y=a;if(f||y.length){var _=e.errorPath,w=f||y.length>=e.opts.loopRequired,T=e.opts.ownProperties;if(l)if(n+=" var missing"+i+"; ",w){f||(n+=" var "+p+" = validate.schema"+s+"; ");var O="i"+i,E="schema"+i+"["+O+"]",S="' + "+E+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,E,e.opts.jsonPointers)),n+=" var "+h+" = true; ",f&&(n+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),n+=" for (var "+O+" = 0; "+O+" < "+p+".length; "+O+"++) { "+h+" = "+c+"["+p+"["+O+"]] !== undefined ",T&&(n+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+p+"["+O+"]) "),n+="; if (!"+h+") break; } ",f&&(n+="  }  "),n+="  if (!"+h+") {   ";var A=A||[];A.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+S+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var M=n;n=A.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+M+"]); ":n+=" validate.errors = ["+M+"]; return false; ":n+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var H=y;if(H)for(var N,O=-1,k=H.length-1;O<k;){N=H[O+=1],O&&(n+=" || ");var R=e.util.getProperty(N),B=c+R;n+=" ( ( "+B+" === undefined ",T&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(N)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?N:R)+") ) "}n+=") {  ";var E="missing"+i,S="' + "+E+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,E,!0):_+" + "+E);var A=A||[];A.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+S+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var M=n;n=A.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+M+"]); ":n+=" validate.errors = ["+M+"]; return false; ":n+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(w){f||(n+=" var "+p+" = validate.schema"+s+"; ");var O="i"+i,E="schema"+i+"["+O+"]",S="' + "+E+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,E,e.opts.jsonPointers)),f&&(n+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+S+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),n+=" for (var "+O+" = 0; "+O+" < "+p+".length; "+O+"++) { if ("+c+"["+p+"["+O+"]] === undefined ",T&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+p+"["+O+"]) "),n+=") {  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+S+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(n+="  }  ")}else{var z=y;if(z)for(var N,U=-1,V=z.length-1;U<V;){N=z[U+=1];var R=e.util.getProperty(N),S=e.util.escapeQuotes(N),B=c+R;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,N,e.opts.jsonPointers)),n+=" if ( "+B+" === undefined ",T&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(N)+"') "),n+=") {  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+S+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=_}else l&&(n+=" if (true) {");return n},ZOt=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,f=e.opts.$data&&a&&a.$data,p;if(f?(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",p="schema"+i):p=a,(a||f)&&e.opts.uniqueItems!==!1){f&&(n+=" var "+h+"; if ("+p+" === false || "+p+" === undefined) "+h+" = true; else if (typeof "+p+" != 'boolean') "+h+" = false; else { "),n+=" var i = "+c+".length , "+h+" = true , j; if (i > 1) { ";var d=e.schema.items&&e.schema.items.type,m=Array.isArray(d);if(!d||d=="object"||d=="array"||m&&(d.indexOf("object")>=0||d.indexOf("array")>=0))n+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+c+"[i], "+c+"[j])) { "+h+" = false; break outer; } } } ";else{n+=" var itemIndices = {}, item; for (;i--;) { var item = "+c+"[i]; ";var v="checkDataType"+(m?"s":"");n+=" if ("+e.util[v](d,"item",e.opts.strictNumbers,!0)+") continue; ",m&&(n+=` if (typeof item == 'string') item = '"' + item; `),n+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}n+=" } ",f&&(n+="  }  "),n+=" if (!"+h+") {   ";var b=b||[];b.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(n+=" , schema:  ",f?n+="validate.schema"+s:n+=""+a,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var g=n;n=b.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",l&&(n+=" else { ")}else l&&(n+=" if (true) { ");return n},QOt={$ref:ROt,allOf:DOt,anyOf:NOt,$comment:jOt,const:LOt,contains:BOt,dependencies:FOt,enum:zOt,format:HOt,if:UOt,items:VOt,maximum:RD,minimum:RD,maxItems:DD,minItems:DD,maxLength:ND,minLength:ND,maxProperties:jD,minProperties:jD,multipleOf:GOt,not:YOt,oneOf:WOt,pattern:XOt,properties:$Ot,propertyNames:qOt,required:KOt,uniqueItems:ZOt,validate:yq},LD=QOt,z2=jf.toHash,JOt=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],r=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],n=["number","integer","string","array","object","boolean","null"];return e.all=z2(t),e.types=z2(n),e.forEach(function(i){i.rules=i.rules.map(function(o){var a;if(typeof o=="object"){var s=Object.keys(o)[0];a=o[s],o=s,a.forEach(function(l){t.push(l),e.all[l]=!0})}t.push(o);var u=e.all[o]={keyword:o,code:LD[o],implements:a};return u}),e.all.$comment={keyword:"$comment",code:LD.$comment},i.type&&(e.types[i.type]=i)}),e.keywords=z2(t.concat(r)),e.custom={},e},BD=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],ePt=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var n=t[r].split("/"),i=e,o;for(o=1;o<n.length;o++)i=i[n[o]];for(o=0;o<BD.length;o++){var a=BD[o],s=i[a];s&&(i[a]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e},tPt=EC.MissingRef,rPt=Mq;function Mq(e,t,r){var n=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof t=="function"&&(r=t,t=void 0);var i=o(e).then(function(){var s=n._addSchema(e,void 0,t);return s.validate||a(s)});return r&&i.then(function(s){r(null,s)},r),i;function o(s){var u=s.$schema;return u&&!n.getSchema(u)?Mq.call(n,{$ref:u},!0):Promise.resolve()}function a(s){try{return n._compile(s)}catch(l){if(l instanceof tPt)return u(l);throw l}function u(l){var c=l.missingSchema;if(p(c))throw new Error("Schema "+c+" is loaded but "+l.missingRef+" cannot be resolved");var h=n._loadingSchemas[c];return h||(h=n._loadingSchemas[c]=n._opts.loadSchema(c),h.then(f,f)),h.then(function(d){if(!p(c))return o(d).then(function(){p(c)||n.addSchema(d,c,void 0,t)})}).then(function(){return a(s)});function f(){delete n._loadingSchemas[c]}function p(d){return n._refs[d]||n._schemas[d]}}}}var nPt=function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c,h="data"+(o||""),f="valid"+i,p="errs__"+i,d=e.opts.$data&&a&&a.$data,m;d?(n+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",m="schema"+i):m=a;var v=this,b="definition"+i,g=v.definition,y="",_,w,T,O,E;if(d&&g.$data){E="keywordValidate"+i;var S=g.validateSchema;n+=" var "+b+" = RULES.custom['"+t+"'].definition; var "+E+" = "+b+".validate;"}else{if(O=e.useCustomRule(v,a,e.schema,e),!O)return;m="validate.schema"+s,E=O.code,_=g.compile,w=g.inline,T=g.macro}var A=E+".errors",M="i"+i,H="ruleErr"+i,N=g.async;if(N&&!e.async)throw new Error("async keyword in sync schema");if(w||T||(n+=""+A+" = null;"),n+="var "+p+" = errors;var "+f+";",d&&g.$data&&(y+="}",n+=" if ("+m+" === undefined) { "+f+" = true; } else { ",S&&(y+="}",n+=" "+f+" = "+b+".validateSchema("+m+"); if ("+f+") { ")),w)g.statements?n+=" "+O.validate+" ":n+=" "+f+" = "+O.validate+"; ";else if(T){var k=e.util.copy(e),y="";k.level++;var R="valid"+k.level;k.schema=O.validate,k.schemaPath="";var B=e.compositeRule;e.compositeRule=k.compositeRule=!0;var z=e.validate(k).replace(/validate\.schema/g,E);e.compositeRule=k.compositeRule=B,n+=" "+z}else{var U=U||[];U.push(n),n="",n+="  "+E+".call( ",e.opts.passContext?n+="this":n+="self",_||g.schema===!1?n+=" , "+h+" ":n+=" , "+m+" , "+h+" , validate.schema"+e.schemaPath+" ",n+=" , (dataPath || '')",e.errorPath!='""'&&(n+=" + "+e.errorPath);var V=o?"data"+(o-1||""):"parentData",W=o?e.dataPathArr[o]:"parentDataProperty";n+=" , "+V+" , "+W+" , rootData )  ";var te=n;n=U.pop(),g.errors===!1?(n+=" "+f+" = ",N&&(n+="await "),n+=""+te+"; "):N?(A="customErrors"+i,n+=" var "+A+" = null; try { "+f+" = await "+te+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+A+" = e.errors; else throw e; } "):n+=" "+A+" = null; "+f+" = "+te+"; "}if(g.modifying&&(n+=" if ("+V+") "+h+" = "+V+"["+W+"];"),n+=""+y,g.valid)l&&(n+=" if (true) { ");else{n+=" if ( ",g.valid===void 0?(n+=" !",T?n+=""+R:n+=""+f):n+=" "+!g.valid+" ",n+=") { ",c=v.keyword;var U=U||[];U.push(n),n="";var U=U||[];U.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(c||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+v.keyword+"' } ",e.opts.messages!==!1&&(n+=` , message: 'should pass "`+v.keyword+`" keyword validation' `),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var re=n;n=U.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+re+"]); ":n+=" validate.errors = ["+re+"]; return false; ":n+=" var err = "+re+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var X=n;n=U.pop(),w?g.errors?g.errors!="full"&&(n+="  for (var "+M+"="+p+"; "+M+"<errors; "+M+"++) { var "+H+" = vErrors["+M+"]; if ("+H+".dataPath === undefined) "+H+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+H+".schemaPath === undefined) { "+H+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(n+=" "+H+".schema = "+m+"; "+H+".data = "+h+"; "),n+=" } "):g.errors===!1?n+=" "+X+" ":(n+=" if ("+p+" == errors) { "+X+" } else {  for (var "+M+"="+p+"; "+M+"<errors; "+M+"++) { var "+H+" = vErrors["+M+"]; if ("+H+".dataPath === undefined) "+H+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+H+".schemaPath === undefined) { "+H+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(n+=" "+H+".schema = "+m+"; "+H+".data = "+h+"; "),n+=" } } "):T?(n+="   var err =   ",e.createErrors!==!1?(n+=" { keyword: '"+(c||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+v.keyword+"' } ",e.opts.messages!==!1&&(n+=` , message: 'should pass "`+v.keyword+`" keyword validation' `),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; ")):g.errors===!1?n+=" "+X+" ":(n+=" if (Array.isArray("+A+")) { if (vErrors === null) vErrors = "+A+"; else vErrors = vErrors.concat("+A+"); errors = vErrors.length;  for (var "+M+"="+p+"; "+M+"<errors; "+M+"++) { var "+H+" = vErrors["+M+"]; if ("+H+".dataPath === undefined) "+H+".dataPath = (dataPath || '') + "+e.errorPath+";  "+H+'.schemaPath = "'+u+'";  ',e.opts.verbose&&(n+=" "+H+".schema = "+m+"; "+H+".data = "+h+"; "),n+=" } } else { "+X+" } "),n+=" } ",l&&(n+=" else { ")}return n};const iPt="http://json-schema.org/draft-07/schema#",oPt="http://json-schema.org/draft-07/schema#",aPt="Core schema meta-schema",sPt={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},lPt=["object","boolean"],uPt={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Iq={$schema:iPt,$id:oPt,title:aPt,definitions:sPt,type:lPt,properties:uPt,default:!0};var FD=Iq,cPt={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:FD.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:FD.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},hPt=/^[a-z_$][a-z0-9_$-]*$/i,fPt=nPt,pPt=cPt,dPt={add:mPt,get:gPt,remove:yPt,validate:r9};function mPt(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!hPt.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var n=t.type;if(Array.isArray(n))for(var i=0;i<n.length;i++)a(e,n[i],t);else a(e,n,t);var o=t.metaSchema;o&&(t.$data&&this._opts.$data&&(o={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(o,!0))}r.keywords[e]=r.all[e]=!0;function a(s,u,l){for(var c,h=0;h<r.length;h++){var f=r[h];if(f.type==u){c=f;break}}c||(c={type:u,rules:[]},r.push(c));var p={keyword:s,definition:l,custom:!0,code:fPt,implements:l.implements};c.rules.push(p),r.custom[s]=p}return this}function gPt(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1}function yPt(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var n=t[r].rules,i=0;i<n.length;i++)if(n[i].keyword==e){n.splice(i,1);break}return this}function r9(e,t){r9.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(pPt,!0);if(r(e))return!0;if(r9.errors=r.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}const vPt="http://json-schema.org/draft-07/schema#",bPt="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",_Pt="Meta-schema for $data reference (JSON Schema extension proposal)",wPt="object",TPt=["$data"],xPt={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},EPt=!1,SPt={$schema:vPt,$id:bPt,description:_Pt,type:wPt,required:TPt,properties:xPt,additionalProperties:EPt};var Rq=fOt,Il=xC,kPt=bOt,Dq=fq,OPt=gq,PPt=kOt,CPt=JOt,Nq=ePt,jq=jf,APt=Lr;Lr.prototype.validate=IPt;Lr.prototype.compile=RPt;Lr.prototype.addSchema=DPt;Lr.prototype.addMetaSchema=NPt;Lr.prototype.validateSchema=jPt;Lr.prototype.getSchema=BPt;Lr.prototype.removeSchema=zPt;Lr.prototype.addFormat=$Pt;Lr.prototype.errorsText=XPt;Lr.prototype._addSchema=HPt;Lr.prototype._compile=UPt;Lr.prototype.compileAsync=rPt;var O_=dPt;Lr.prototype.addKeyword=O_.add;Lr.prototype.getKeyword=O_.get;Lr.prototype.removeKeyword=O_.remove;Lr.prototype.validateKeyword=O_.validate;var Lq=EC;Lr.ValidationError=Lq.Validation;Lr.MissingRefError=Lq.MissingRef;Lr.$dataMetaSchema=Nq;var Bv="http://json-schema.org/draft-07/schema",zD=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],MPt=["/properties"];function Lr(e){if(!(this instanceof Lr))return new Lr(e);e=this._opts=jq.copy(e)||{},e4t(this),this._schemas={},this._refs={},this._fragments={},this._formats=PPt(e.format),this._cache=e.cache||new kPt,this._loadingSchemas={},this._compilations=[],this.RULES=CPt(),this._getId=VPt(e),e.loopRequired=e.loopRequired||1/0,e.errorDataPath=="property"&&(e._errorDataPathProperty=!0),e.serialize===void 0&&(e.serialize=OPt),this._metaOpts=JPt(this),e.formats&&ZPt(this),e.keywords&&QPt(this),qPt(this),typeof e.meta=="object"&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),KPt(this)}function IPt(e,t){var r;if(typeof e=="string"){if(r=this.getSchema(e),!r)throw new Error('no schema with key or ref "'+e+'"')}else{var n=this._addSchema(e);r=n.validate||this._compile(n)}var i=r(t);return r.$async!==!0&&(this.errors=r.errors),i}function RPt(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)}function DPt(e,t,r,n){if(Array.isArray(e)){for(var i=0;i<e.length;i++)this.addSchema(e[i],void 0,r,n);return this}var o=this._getId(e);if(o!==void 0&&typeof o!="string")throw new Error("schema id must be string");return t=Il.normalizeId(t||o),Fq(this,t),this._schemas[t]=this._addSchema(e,r,n,!0),this}function NPt(e,t,r){return this.addSchema(e,t,r,!0),this}function jPt(e,t){var r=e.$schema;if(r!==void 0&&typeof r!="string")throw new Error("$schema must be a string");if(r=r||this._opts.defaultMeta||LPt(this),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(r,e);if(!n&&t){var i="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(i);else throw new Error(i)}return n}function LPt(e){var t=e._opts.meta;return e._opts.defaultMeta=typeof t=="object"?e._getId(t)||t:e.getSchema(Bv)?Bv:void 0,e._opts.defaultMeta}function BPt(e){var t=Bq(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return FPt(this,e)}}function FPt(e,t){var r=Il.schema.call(e,{schema:{}},t);if(r){var n=r.schema,i=r.root,o=r.baseId,a=Rq.call(e,n,i,void 0,o);return e._fragments[t]=new Dq({ref:t,fragment:!0,schema:n,root:i,baseId:o,validate:a}),a}}function Bq(e,t){return t=Il.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function zPt(e){if(e instanceof RegExp)return wg(this,this._schemas,e),wg(this,this._refs,e),this;switch(typeof e){case"undefined":return wg(this,this._schemas),wg(this,this._refs),this._cache.clear(),this;case"string":var t=Bq(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,n=r?r(e):e;this._cache.del(n);var i=this._getId(e);i&&(i=Il.normalizeId(i),delete this._schemas[i],delete this._refs[i])}return this}function wg(e,t,r){for(var n in t){var i=t[n];!i.meta&&(!r||r.test(n))&&(e._cache.del(i.cacheKey),delete t[n])}}function HPt(e,t,r,n){if(typeof e!="object"&&typeof e!="boolean")throw new Error("schema should be object or boolean");var i=this._opts.serialize,o=i?i(e):e,a=this._cache.get(o);if(a)return a;n=n||this._opts.addUsedSchema!==!1;var s=Il.normalizeId(this._getId(e));s&&n&&Fq(this,s);var u=this._opts.validateSchema!==!1&&!t,l;u&&!(l=s&&s==Il.normalizeId(e.$schema))&&this.validateSchema(e,!0);var c=Il.ids.call(this,e),h=new Dq({id:s,schema:e,localRefs:c,cacheKey:o,meta:r});return s[0]!="#"&&n&&(this._refs[s]=h),this._cache.put(o,h),u&&l&&this.validateSchema(e,!0),h}function UPt(e,t){if(e.compiling)return e.validate=i,i.schema=e.schema,i.errors=null,i.root=t||i,e.schema.$async===!0&&(i.$async=!0),i;e.compiling=!0;var r;e.meta&&(r=this._opts,this._opts=this._metaOpts);var n;try{n=Rq.call(this,e.schema,t,e.localRefs)}catch(o){throw delete e.validate,o}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=n,e.refs=n.refs,e.refVal=n.refVal,e.root=n.root,n;function i(){var o=e.validate,a=o.apply(this,arguments);return i.errors=o.errors,a}}function VPt(e){switch(e.schemaId){case"auto":return WPt;case"id":return GPt;default:return YPt}}function GPt(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function YPt(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function WPt(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function XPt(e,t){if(e=e||this.errors,!e)return"No errors";t=t||{};for(var r=t.separator===void 0?", ":t.separator,n=t.dataVar===void 0?"data":t.dataVar,i="",o=0;o<e.length;o++){var a=e[o];a&&(i+=n+a.dataPath+" "+a.message+r)}return i.slice(0,-r.length)}function $Pt(e,t){return typeof t=="string"&&(t=new RegExp(t)),this._formats[e]=t,this}function qPt(e){var t;if(e._opts.$data&&(t=SPt,e.addMetaSchema(t,t.$id,!0)),e._opts.meta!==!1){var r=Iq;e._opts.$data&&(r=Nq(r,MPt)),e.addMetaSchema(r,Bv,!0),e._refs["http://json-schema.org/schema"]=Bv}}function KPt(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}function ZPt(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}function QPt(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}function Fq(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function JPt(e){for(var t=jq.copy(e._opts),r=0;r<zD.length;r++)delete t[zD[r]];return t}function e4t(e){var t=e._opts.logger;if(t===!1)e.logger={log:H2,warn:H2,error:H2};else{if(t===void 0&&(t=console),!(typeof t=="object"&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}function H2(){}const zq=Ji(APt),t4t="http://json-schema.org/draft-07/schema#",r4t="https://higlass.io/#viewconf",n4t="HiGlass viewconf",i4t="object",o4t=!1,a4t=[],s4t={editable:{type:"boolean",default:!0},viewEditable:{type:"boolean",default:!0},tracksEditable:{type:"boolean",default:!0},zoomFixed:{type:"boolean"},compactLayout:{type:"boolean"},exportViewUrl:{type:"string"},trackSourceServers:{type:"array",items:{type:"string"},minLength:1},zoomLocks:{$ref:"#/definitions/locks/zoomLocks"},locationLocks:{$ref:"#/definitions/locks/locationLocks"},valueScaleLocks:{$ref:"#/definitions/locks/valueScaleLocks"},views:{type:"array",items:{$ref:"#/definitions/view"},minLength:1},chromInfoPath:{type:"string"}},l4t={data:{type:"object",properties:{url:{type:"string"},server:{type:"string"},filetype:{type:"string"},type:{type:"string"},tilesetInfo:{type:"object"},children:{type:"array"},tiles:{type:"object"}}},locks:{slug:{type:"string"},locksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{$ref:"#/definitions/locks/slug"}}},axisSpecificLocks:{additionalProperties:!1,properties:{axis:{enum:["x","y"],type:"string"},lock:{type:"string"}},required:["lock","axis"],type:"object"},locationLocksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{anyOf:[{type:"string"},{additionalProperties:!1,properties:{x:{$ref:"#/definitions/locks/axisSpecificLocks"},y:{$ref:"#/definitions/locks/axisSpecificLocks"}},type:"object"}]}}},zoomLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},locationLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locationLocksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},valueScaleLocks:{type:"object",additionalProperties:!1,required:["locksByViewUid","locksDict"],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"},ignoreOffScreenValues:{type:"boolean"}},patternProperties:{"^(?!(uid|ignoreOffScreenValues)).":{type:"object",additionalProperties:!1,required:["view","track"],properties:{view:{type:"string"},track:{$ref:"#/definitions/locks/slug"}}}}}}}}}},view:{type:"object",additionalProperties:!1,required:["tracks","layout"],properties:{autocompleteSource:{type:"string"},chromInfoPath:{type:"string"},genomePositionSearchBox:{$ref:"#/definitions/viewProperties/genomePositionSearchBox"},genomePositionSearchBoxVisible:{type:"boolean"},initialXDomain:{$ref:"#/definitions/viewProperties/domain"},initialYDomain:{$ref:"#/definitions/viewProperties/domain"},layout:{$ref:"#/definitions/viewProperties/layout"},overlays:{type:"array",items:{$ref:"#/definitions/viewProperties/overlay"}},selectionView:{type:"boolean"},tracks:{$ref:"#/definitions/viewProperties/tracks_object"},uid:{type:"string"},zoomFixed:{type:"boolean"},zoomLimits:{type:"array",minLength:2,maxLength:2,default:[1,null]}}},viewProperties:{genomePositionSearchBox:{type:"object",title:"The Genome Position Search Box Schema",required:["chromInfoServer","chromInfoId"],properties:{autocompleteServer:{type:"string",title:"The Autocomplete Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},autocompleteId:{type:"string",title:"The Autocomplete ID",default:"",examples:["OHJakQICQD6gTD7skx4EWA"],pattern:"^(.*)$"},chromInfoServer:{type:"string",title:"The Chrominfo Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},chromInfoId:{type:"string",title:"The Chromosome Info ID",default:"",examples:["hg19"],pattern:"^(.*)$"},visible:{type:"boolean",title:"The Visible Schema",default:!1}}},overlay:{type:"object",additionalProperties:!1,properties:{chromInfoPath:{type:"string"},includes:{type:"array"},options:{type:"object",properties:{extent:{type:"array"},minWidth:{type:"number"},fill:{type:"string"},fillOpacity:{type:"number"},stroke:{type:"string"},strokeOpacity:{type:"number"},strokeWidth:{type:"number"},strokePos:{type:["string","array"]},outline:{type:"string"},outlineOpacity:{type:"number"},outlineWidth:{type:"number"},outlinePos:{type:["string","array"]}}},type:{type:"string"},uid:{type:"string"}}},layout:{type:"object",additionalProperties:!1,required:["w","h","x","y"],properties:{x:{type:"integer",title:"The X Position",default:0},y:{type:"integer",title:"The Y Position",default:0},w:{type:"integer",title:"Width",default:12},h:{type:"integer",title:"Height",default:12},moved:{type:"boolean"},static:{type:"boolean"}}},tracks_object:{type:"object",additionalProperties:!1,properties:{left:{$ref:"#/definitions/viewProperties/tracks_array"},right:{$ref:"#/definitions/viewProperties/tracks_array"},top:{$ref:"#/definitions/viewProperties/tracks_array"},bottom:{$ref:"#/definitions/viewProperties/tracks_array"},center:{$ref:"#/definitions/viewProperties/tracks_array"},whole:{$ref:"#/definitions/viewProperties/tracks_array"},gallery:{$ref:"#/definitions/viewProperties/tracks_array"}}},tracks_array:{type:"array",items:{oneOf:[{$ref:"#/definitions/tracks/enum_track"},{$ref:"#/definitions/tracks/combined_track"},{$ref:"#/definitions/tracks/heatmap_track"},{$ref:"#/definitions/tracks/independent_viewport_projection_track"}]}},domain:{type:"array",items:{type:"number"},maxItems:2,minItems:2}},tracks:{heatmap_track:{type:"object",additionalProperties:!1,required:[],properties:{uid:{type:"string"},type:{const:"heatmap"},data:{$ref:"#/definitions/data"},height:{type:"number"},options:{type:"object"},position:{type:"string"},server:{type:"string"},tilesetUid:{type:"string"},width:{type:"number"},transforms:{type:"array"}}},combined_track:{type:"object",additionalProperties:!1,required:["contents"],properties:{contents:{$ref:"#/definitions/viewProperties/tracks_array"},height:{type:"number"},options:{},position:{type:"string"},type:{const:"combined"},uid:{type:"string"},width:{type:"number"}}},enum_track:{type:"object",additionalProperties:!1,required:["type"],properties:{server:{type:"string"},tilesetUid:{type:"string"},data:{$ref:"#/definitions/data"},uid:{type:"string"},type:{enum:["multivec","1d-heatmap","line","point","bar","divergent-bar","stacked-interval","gene-annotations","linear-2d-rectangle-domains","chromosome-labels","linear-heatmap","1d-value-interval","2d-annotations","2d-chromosome-annotations","2d-chromosome-grid","2d-chromosome-labels","2d-rectangle-domains","2d-tiles","arrowhead-domains","bedlike","cross-rule","dummy","horizontal-1d-annotations","horizontal-1d-heatmap","horizontal-1d-tiles","horizontal-1d-value-interval","horizontal-2d-rectangle-domains","horizontal-bar","horizontal-chromosome-grid","horizontal-chromosome-labels","horizontal-divergent-bar","horizontal-gene-annotations","horizontal-heatmap","horizontal-line","horizontal-multivec","horizontal-point","horizontal-rule","horizontal-vector-heatmap","image-tiles","left-axis","left-stacked-interval","mapbox-tiles","osm-2d-tile-ids","osm-tiles","raster-tiles","simple-svg","square-markers","top-axis","top-stacked-interval","vertical-1d-annotations","vertical-1d-heatmap","vertical-1d-tiles","vertical-1d-value-interval","vertical-2d-rectangle-domains","vertical-bar","vertical-bedlike","vertical-chromosome-grid","vertical-chromosome-labels","vertical-gene-annotations","vertical-heatmap","vertical-line","vertical-multivec","vertical-point","vertical-rule","vertical-vector-heatmap","viewport-projection-center","viewport-projection-horizontal","viewport-projection-vertical"]},chromInfoPath:{type:"string"},fromViewUid:{type:"string"},height:{type:"number"},options:{type:"object"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}},independent_viewport_projection_track:{type:"object",additionalProperties:!1,properties:{uid:{type:"string"},type:{enum:["viewport-projection-horizontal","viewport-projection-vertical","viewport-projection-center"]},fromViewUid:{type:"null"},projectionXDomain:{$ref:"#/definitions/viewProperties/domain"},projectionYDomain:{$ref:"#/definitions/viewProperties/domain"},options:{type:"object"},transforms:{type:"array"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}}}},Hq={$schema:t4t,$id:r4t,title:n4t,type:i4t,additionalProperties:o4t,required:a4t,properties:s4t,definitions:l4t},u4t="_title_1hlm6_70",c4t="_Warning_1hlm6_76",h4t="_Success_1hlm6_79",ul={"view-config-editor-header":"_view-config-editor-header_1hlm6_1","view-config-editor":"_view-config-editor_1hlm6_1","view-config-log":"_view-config-log_1hlm6_34","view-config-log-header":"_view-config-log-header_1hlm6_46","view-config-log-msg":"_view-config-log-msg_1hlm6_60",title:u4t,Warning:c4t,Success:h4t,Error:"_Error_1hlm6_82"};function f4t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p4t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m4t(n.key),n)}}function d4t(e,t,r){return t&&p4t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m4t(e){var t=g4t(e,"string");return typeof t=="symbol"?t:t+""}function g4t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function y4t(e,t,r){return t=Fv(t),v4t(e,Uq()?Reflect.construct(t,r||[],Fv(e).constructor):t.apply(e,r))}function v4t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b4t(e)}function b4t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uq=function(){return!!e})()}function Fv(e){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fv(e)}function _4t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n9(e,t)}function n9(e,t){return n9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},n9(e,t)}let Vq=(function(e){function t(r){var n;return f4t(this,t),n=y4t(this,t,[r]),n.state={code:r.viewConfig,hide:!1,showLog:!1,logMsgs:n.getLogMsgs(r.viewConfig)},n.handleChangeBound=n.handleChange.bind(n),n.handleKeyDownBound=n.handleKeyDown.bind(n),n.handleKeyUpBound=n.handleKeyUp.bind(n),n.handleSubmitBound=n.handleSubmit.bind(n),n.hideBound=n.hide.bind(n),n.showBound=n.show.bind(n),n.toggleLogBound=n.toggleLog.bind(n),n.pubSubs=[],n.pubSubs.push(n.props.pubSub.subscribe("keydown",n.handleKeyDownBound)),n.pubSubs.push(n.props.pubSub.subscribe("keyup",n.handleKeyUpBound)),n}return _4t(t,e),d4t(t,[{key:"componentDidMount",value:async function(){this.editor&&(this.editor._input.focus(),this.editor._input.setSelectionRange(0,0),await FF(0),this.editorWrap&&(this.editorWrap.scrollTop=0))}},{key:"componentWillUnmount",value:function(){this.pubSubs.forEach(r=>this.props.pubSub.unsubscribe(r)),this.pubSubs=[]}},{key:"handleChange",value:function(r){const n=this.getLogMsgs(r);this.setState({code:r,logMsgs:n})}},{key:"handleKeyDown",value:function(r){r.key==="s"&&(r.ctrlKey||r.metaKey)&&(r.preventDefault(),this.props.onChange(this.state.code)),r.key==="Enter"&&(r.ctrlKey||r.metaKey)&&(r.preventDefault(),this.props.onChange(this.state.code),this.props.modal.close())}},{key:"handleKeyUp",value:function(r){this.setState({hide:!1}),r.key==="Escape"&&(r.preventDefault(),this.props.modal.close(),this.props.onCancel())}},{key:"handleSubmit",value:function(r){r&&r.preventDefault(),this.props.onSave(this.state.code)}},{key:"getLogMsgs",value:function(r){const n=[];let i;try{i=JSON.parse(r)}catch(a){return console.warn(a),n.push({type:"Error",msg:a.toString()}),n}const o=new zq().compile(Hq);return o(i)||(console.warn("Invalid viewconf"),n.push({type:"Warning",msg:"Invalid viewconf"})),o.errors&&(console.warn(JSON.stringify(o.errors,null,2)),o.errors.forEach(a=>{n.push({type:"Warning",msg:JSON.stringify(a,null,2)})})),n.length===0&&n.push({type:"Success",msg:"No error or warnings"}),n}},{key:"hide",value:function(){this.setState({hide:!0})}},{key:"show",value:function(){this.setState({hide:!1})}},{key:"hideLog",value:function(){this.setState({showLog:!1})}},{key:"showLog",value:function(){this.setState({showLog:!0})}},{key:"toggleLog",value:function(){this.state.showLog?this.hideLog():this.showLog()}},{key:"render",value:function(){const r=this.state.logMsgs.map((n,i)=>{const o=`${i}-${n.msg}`;return P.createElement("tr",{key:o},P.createElement("td",{className:Gt(ul.title,ul[n.type])},`[${i}] ${n.type}`),P.createElement("td",null,P.createElement("pre",null,n.msg)))});return P.createElement(B1,{cancelShortcut:"ESC",cancelTitle:"Discard Changes",hide:this.state.hide,maxHeight:!0,okayShortcut:"⌘+Enter",okayTitle:"Save and Close",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Edit View Config"},P.createElement(P.Fragment,null,P.createElement("header",{className:ul["view-config-editor-header"]},P.createElement(Aa,{onBlur:this.showBound,onMouseDown:this.hideBound,onMouseOut:this.showBound,onMouseUp:this.showBound},"Hide While Mousedown"),P.createElement(Aa,{onClick:()=>{this.props.onChange(this.state.code)},shortcut:"⌘+S"},"Save")),P.createElement("div",{ref:n=>{this.editorWrap=n},className:ul["view-config-editor"]},P.createElement(M9t,{ref:n=>{this.editor=n},highlight:n=>xD.highlight(n,xD.languages.json),onValueChange:this.handleChangeBound,padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:"inherit"},value:this.state.code})),P.createElement("div",{className:ul["view-config-log"],style:{height:this.state.showLog?"50%":"30px"}},P.createElement("div",{className:ul["view-config-log-header"],onClick:()=>this.toggleLogBound()},`Log Messages (${this.state.logMsgs.filter(n=>n.type!=="Success").length})`),P.createElement("div",{className:ul["view-config-log-msg"],style:{padding:this.state.showLog?"10px":0}},P.createElement("table",null,P.createElement("tbody",null,r))))))}}])})(P.Component);Vq.propTypes={modal:j.object.isRequired,onCancel:j.func.isRequired,onChange:j.func.isRequired,onSave:j.func.isRequired,pubSub:j.object.isRequired,viewConfig:j.string.isRequired};const w4t=Ef(Qb(Vq)),jn={"add-track-position-table":"_add-track-position-table_egwog_1","add-track-position-table-dark":"_add-track-position-table-dark_egwog_7","add-track-position-other":"_add-track-position-other_egwog_11","add-track-position-top-center":"_add-track-position-top-center_egwog_15","add-track-position-middle-left":"_add-track-position-middle-left_egwog_30","add-track-position-middle-right":"_add-track-position-middle-right_egwog_45","add-track-position-middle-middle":"_add-track-position-middle-middle_egwog_60","add-track-position-middle-middle-full":"_add-track-position-middle-middle-full_egwog_72","add-track-position-middle-middle-upper-right":"_add-track-position-middle-middle-upper-right_egwog_80","add-track-position-middle-middle-lower-left":"_add-track-position-middle-middle-lower-left_egwog_94","add-track-position-bottom-middle":"_add-track-position-bottom-middle_egwog_108","add-track-position-span":"_add-track-position-span_egwog_123"};function Gq(e){return P.createElement("div",null,P.createElement("div",{className:jn["add-track-position-span"]},"Add Track..."),P.createElement("table",{className:Gt(jn["add-track-position-table"],{[jn["add-track-position-table-dark"]]:e.theme===br})},P.createElement("tbody",null,P.createElement("tr",{style:{height:"30px"}},P.createElement("td",{"aria-hidden":"true",className:jn["add-track-position-other"]}),P.createElement("td",{className:jn["add-track-position-top-center"],onClick:()=>e.onTrackPositionChosen("top")},"top"),P.createElement("td",{"aria-hidden":"true",className:jn["add-track-position-other"]})),P.createElement("tr",{style:{height:"80px"}},P.createElement("td",{className:jn["add-track-position-middle-left"],onClick:()=>e.onTrackPositionChosen("left")},"left"),P.createElement("td",{className:jn["add-track-position-middle-middle"]},P.createElement("span",{onClick:()=>e.onTrackPositionChosen("center"),className:jn["add-track-position-middle-middle-full"],"data-testid":"add-track-center"},"center"),P.createElement("span",{onClick:()=>e.onTrackPositionChosen("center","upper-right"),className:jn["add-track-position-middle-middle-upper-right"],"data-testid":"add-track-upper-right"}),P.createElement("span",{onClick:()=>e.onTrackPositionChosen("center","lower-left"),className:jn["add-track-position-middle-middle-lower-left"],"data-testid":"add-track-lower-left"})),P.createElement("td",{className:jn["add-track-position-middle-right"],onClick:()=>e.onTrackPositionChosen("right")},"right")),P.createElement("tr",{style:{height:"30px"}},P.createElement("td",{"aria-hidden":"true",className:jn["add-track-position-other"]}),P.createElement("td",{className:jn["add-track-position-bottom-middle"],onClick:()=>e.onTrackPositionChosen("bottom")},"bottom"),P.createElement("td",{"aria-hidden":"true",className:jn["add-track-position-other"]})))))}Gq.propTypes={onTrackPositionChosen:j.func.isRequired,theme:j.symbol.isRequired};const T4t=kf(Gq);function x4t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E4t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k4t(n.key),n)}}function S4t(e,t,r){return t&&E4t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function k4t(e){var t=O4t(e,"string");return typeof t=="symbol"?t:t+""}function O4t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function P4t(e,t,r){return t=zv(t),C4t(e,Yq()?Reflect.construct(t,r||[],zv(e).constructor):t.apply(e,r))}function C4t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A4t(e)}function A4t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yq=function(){return!!e})()}function zv(e){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zv(e)}function M4t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i9(e,t)}function i9(e,t){return i9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},i9(e,t)}let Wq=(function(e){function t(r){var n;return x4t(this,t),n=P4t(this,t,[r]),n.state={submenuShown:!1},n}return M4t(t,e),S4t(t,[{key:"getConfigureViewMenu",value:function(r,n){const i=["backgroundColor"],o={},a={};for(const s of i)if(s in Object.keys(wa)&&(o[s]={name:wa[s].name},wa[s].inlineOptions))for(const u in wa[s].inlineOptions){const l=wa[s].inlineOptions[u];o[s].children||(o[s].children={});const c={name:l.name,value:l.value};c.handler=()=>{a[s]=l.value,this.props.onOptionsChanged(a)},o[s].children[u]=c}return P.createElement(uE,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:o,orientation:this.state.orientation,parentBbox:n,position:r,theme:this.props.theme})}},{key:"getSubmenu",value:function(){if(this.state.submenuShown){const r=this.state.submenuSourceBbox,n=this.state.orientation==="left"?{left:this.state.left,top:r.top}:{left:this.state.left+r.width+7,top:r.top};return this.state.submenuShown.option==="options"?this.getConfigureViewMenu(n,r):P.createElement("div",null)}return P.createElement("div",null)}},{key:"render",value:function(){return P.createElement("div",{ref:r=>{this.div=r},className:Gt(st["context-menu"],{[st["context-menu-dark"]]:this.props.theme===br}),"data-menu-type":"ConfigViewMenu",style:{left:this.state.left,top:this.state.top}},P.createElement(xt,{onClick:r=>this.props.onTogglePositionSearchBox(r)},"Toggle position search box"),P.createElement("hr",{className:st["context-menu-hr"]}),P.createElement(xt,{onClick:r=>this.props.onZoomToData(r)},"Zoom to data extent"),P.createElement(xt,{onClick:r=>this.props.onClearView(r)},"Clear View"),P.createElement("hr",{className:st["context-menu-hr"]}),P.createElement(xt,{onClick:r=>this.props.onYankZoom(r)},"Take zoom from"),P.createElement(xt,{onClick:r=>this.props.onYankLocation(r)},"Take location from"),P.createElement(xt,{onClick:r=>this.props.onYankZoomAndLocation(r)},"Take zoom and location from"),P.createElement("hr",{className:st["context-menu-hr"]}),P.createElement(xt,{onClick:this.props.onLockZoom},"Lock zoom with"),P.createElement(xt,{onClick:this.props.onLockLocation},"Lock location with"),P.createElement(xt,{onClick:this.props.onLockZoomAndLocation},"Lock zoom and location with"),P.createElement("hr",{className:st["context-menu-hr"]}),P.createElement(xt,{onClick:this.props.onTakeAndLockZoomAndLocation},"Take and lock zoom and location with"),P.createElement("hr",{className:st["context-menu-hr"]}),P.createElement(xt,{onClick:r=>this.props.onUnlockZoom(r)},"Unlock zoom"),P.createElement(xt,{onClick:r=>this.props.onUnlockLocation(r)},"Unlock location"),P.createElement(xt,{onClick:r=>this.props.onUnlockZoomAndLocation(r)},"Unlock zoom and location"),P.createElement("hr",{className:st["context-menu-hr"]}),P.createElement(xt,{onClick:r=>this.props.onProjectViewport(r)},"Show this viewport on"),P.createElement("hr",{className:st["context-menu-hr"]}),P.createElement(xt,{onClick:r=>this.props.onEditViewConfig(r)},"Edit view config"),P.createElement("hr",{className:st["context-menu-hr"]}),P.createElement(xt,{onClick:()=>this.props.onExportSVG()},"Export views as SVG"),P.createElement(xt,{onClick:()=>this.props.onExportPNG()},"Export views as PNG"),P.createElement(xt,{onClick:()=>this.props.onExportViewAsJSON()},"Export views as JSON"),P.createElement(xt,{onClick:()=>this.props.onExportViewAsLink()},"Export views as Link"),this.getSubmenu())}}])})(Ls);Wq.propTypes={onEditViewConfig:j.func.isRequired,onExportSVG:j.func,onExportPNG:j.func,onExportViewAsJSON:j.func,onExportViewAsLink:j.func,onLockLocation:j.func,onLockZoom:j.func,onLockZoomAndLocation:j.func,onProjectViewport:j.func,onTakeAndLockZoomAndLocation:j.func,onTogglePositionSearchBox:j.func,onUnlockLocation:j.func,onUnlockZoom:j.func,onUnlockZoomAndLocation:j.func,onYankLocation:j.func,onYankZoom:j.func,onYankZoomAndLocation:j.func,onZoomToData:j.func,theme:j.symbol};function I4t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R4t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N4t(n.key),n)}}function D4t(e,t,r){return t&&R4t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function N4t(e){var t=j4t(e,"string");return typeof t=="symbol"?t:t+""}function j4t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function L4t(e,t,r){return t=Hv(t),B4t(e,Xq()?Reflect.construct(t,r||[],Hv(e).constructor):t.apply(e,r))}function B4t(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F4t(e)}function F4t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xq=function(){return!!e})()}function Hv(e){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hv(e)}function z4t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o9(e,t)}function o9(e,t){return o9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},o9(e,t)}let kC=(function(e){function t(r){var n;return I4t(this,t),n=L4t(this,t,[r]),n.configImg=null,n.plusImg=null,n.state={addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null,configMenuUid:null,configMenuPosition:null,isFocused:!1,width:-1},n.handleTrackPositionChosenBound=n.handleTrackPositionChosen.bind(n),n}return z4t(t,e),D4t(t,[{key:"componentDidMount",value:function(){this.setState({width:this.el.clientWidth})}},{key:"checkWidth",value:function(){const r=this.el.clientWidth;r!==this.state.width&&this.setState({width:r})}},{key:"handleConfigMenuOpened",value:function(r){this.setState({configMenuUid:r,configMenuPosition:this.configImg.getBoundingClientRect()})}},{key:"handleAddTrackPositionMenuOpened",value:function(r){this.setState({addTrackPositionMenuUid:r,addTrackPositionMenuPosition:this.plusImg.getBoundingClientRect()})}},{key:"handleTrackPositionChosen",value:function(r,n){this.props.onTrackPositionChosen(r,n),this.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}},{key:"render",value:function(){let r=null,n=null;this.state.addTrackPositionMenuPosition&&(n=P.createElement(bs,{onMenuClosed:()=>{this.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}},P.createElement(Ls,{orientation:"left",position:this.state.addTrackPositionMenuPosition,theme:this.props.theme},P.createElement(T4t,{onTrackPositionChosen:this.handleTrackPositionChosenBound})))),this.state.configMenuUid&&(r=P.createElement(bs,{onMenuClosed:()=>this.setState({configMenuUid:null})},P.createElement(Wq,{onClearView:()=>{this.setState({configMenuUid:null}),this.props.onClearView()},onEditViewConfig:()=>{this.setState({configMenuUid:null}),this.props.onEditViewConfig(this.state.configMenuUid)},onExportPNG:()=>{this.setState({configMenuUid:null}),this.props.onExportPNG()},onExportSVG:()=>{this.setState({configMenuUid:null}),this.props.onExportSVG()},onExportViewAsJSON:()=>{this.setState({configMenuUid:null}),this.props.onExportViewsAsJSON()},onExportViewAsLink:()=>{this.setState({configMenuUid:null}),this.props.onExportViewsAsLink()},onLockLocation:()=>{this.setState({configMenuUid:null}),this.props.onLockLocation(this.state.configMenuUid)},onLockZoom:()=>{this.setState({configMenuUid:null}),this.props.onLockZoom(this.state.configMenuUid)},onLockZoomAndLocation:()=>{this.setState({configMenuUid:null}),this.props.onLockZoomAndLocation(this.state.configMenuUid)},onOptionsChanged:s=>{this.props.onViewOptionsChanged(s),this.setState({configMenuUid:null})},onProjectViewport:()=>{this.setState({configMenuUid:null}),this.props.onProjectViewport(this.state.configMenuUid)},onTakeAndLockZoomAndLocation:()=>{this.setState({configMenuUid:null}),this.props.onTakeAndLockZoomAndLocation(this.state.configMenuUid)},onTogglePositionSearchBox:()=>{this.setState({configMenuUid:null}),this.props.onTogglePositionSearchBox(this.state.configMenuUid)},onUnlockLocation:()=>{this.setState({configMenuUid:null}),this.props.onUnlockLocation(this.state.configMenuUid)},onUnlockZoom:()=>{this.setState({configMenuUid:null}),this.props.onUnlockZoom(this.state.configMenuUid)},onUnlockZoomAndLocation:()=>{this.setState({configMenuUid:null}),this.props.onUnlockZoomAndLocation(this.state.configMenuUid)},onYankLocation:()=>{this.setState({configMenuUid:null}),this.props.onYankLocation(this.state.configMenuUid)},onYankZoom:()=>{this.setState({configMenuUid:null}),this.props.onYankZoom(this.state.configMenuUid)},onYankZoomAndLocation:()=>{this.setState({configMenuUid:null}),this.props.onYankZoomAndLocation(this.state.configMenuUid)},onZoomToData:()=>{this.setState({configMenuUid:null}),this.props.onZoomToData(this.state.configMenuUid)},orientation:"left",position:this.state.configMenuPosition,theme:this.props.theme})));const i=this.props.getGenomePositionSearchBox(this.state.isFocused,s=>{this.setState({isFocused:s})}),o=Gt(this.state.isFocused?Li["multitrack-header-focus"]:Li["multitrack-header"],{[Li["multitrack-header-dark"]]:this.props.theme===br}),a=this.state.width<=fF?Li["multitrack-header-icon-squeazed"]:Li["multitrack-header-icon"];return P.createElement("div",{ref:s=>{this.el=s},className:o},P.createElement("div",{className:Li["multitrack-header-left"]},this.props.mouseTool===Ui&&P.createElement("svg",{className:Gt(Li["mouse-tool-selection"],a)},P.createElement("title",null,"Selection tool active"),P.createElement("use",{xlinkHref:"#select"})),P.createElement("div",{className:Li["multitrack-header-grabber"],title:"Drag to move the view"},P.createElement("div",null),P.createElement("div",null),P.createElement("div",null)),this.state.width>pF&&P.createElement("div",{className:Li["multitrack-header-search"]},this.props.isGenomePositionSearchBoxVisible&&i)),P.createElement("nav",{className:Li["multitrack-header-nav-list"]},P.createElement("svg",{className:a,onClick:this.props.onAddView},P.createElement("title",null,"Add new view (clone this view)"),P.createElement("use",{xlinkHref:"#copy"})),P.createElement("svg",{ref:s=>{this.configImg=s},className:a,onClick:()=>this.handleConfigMenuOpened(this.props.viewUid)},P.createElement("title",null,"Configure this view"),P.createElement("use",{xlinkHref:"#cog"})),P.createElement("svg",{ref:s=>{this.plusImg=s},className:a,onClick:()=>this.handleAddTrackPositionMenuOpened(this.props.viewUid),"data-testid":"add-track"},P.createElement("title",null,"Add Track"),P.createElement("use",{xlinkHref:"#plus"})),P.createElement("svg",{className:a,onClick:this.props.onCloseView},P.createElement("title",null,"Close View"),P.createElement("use",{xlinkHref:"#cross"}))),r,n)}}])})(P.Component);kC.defaultProps={isGenomePositionSearchBoxVisible:!1};kC.propTypes={getGenomePositionSearchBox:j.func.isRequired,isGenomePositionSearchBoxVisible:j.bool,mouseTool:j.string.isRequired,onAddView:j.func.isRequired,onClearView:j.func.isRequired,onCloseView:j.func.isRequired,onEditViewConfig:j.func.isRequired,onExportSVG:j.func.isRequired,onExportPNG:j.func.isRequired,onExportViewsAsJSON:j.func.isRequired,onExportViewsAsLink:j.func.isRequired,onLockLocation:j.func.isRequired,onLockZoom:j.func.isRequired,onLockZoomAndLocation:j.func.isRequired,onProjectViewport:j.func.isRequired,onTakeAndLockZoomAndLocation:j.func.isRequired,onTogglePositionSearchBox:j.func.isRequired,onTrackPositionChosen:j.func.isRequired,onUnlockLocation:j.func.isRequired,onUnlockZoom:j.func.isRequired,onUnlockZoomAndLocation:j.func.isRequired,onViewOptionsChanged:j.func.isRequired,onYankLocation:j.func.isRequired,onYankZoom:j.func.isRequired,onYankZoomAndLocation:j.func.isRequired,onZoomToData:j.func.isRequired,theme:j.symbol.isRequired,viewUid:j.string.isRequired};const H4t=kf(kC),U4t=e=>{e.setState(e.state)},V4t=function(e,t){const r=e;let n=[];const i=lb(),o=()=>{n.forEach(a=>t.unsubscribe(a)),n=[]};return{destroy:o,publish:i.publish,stack:i.stack,public:{get version(){return tq},setBroadcastMousePositionGlobally(a=!1){r.setBroadcastMousePositionGlobally(a)},setShowGlobalMousePosition(a=!1){r.setShowGlobalMousePosition(a)},setGlobalMousePosition(a=!1){r.setBroadcastMousePositionGlobally(a),r.setShowGlobalMousePosition(a)},setAuthHeader(a){uy(a),r.reload()},getAuthHeader(){return zV()},getComponent(){return r},reload(a){let s;a?s=a.flatMap(u=>typeof u=="string"?r.iterateOverTracksInView(u):u):s=r.iterateOverTracks();for(const{viewId:u,trackId:l}of s){const c=r.getTrackObject(u,l);for(const h of c.childTracks||[c])h.fetchedTiles&&(h.removeTiles(Object.keys(h.fetchedTiles)),h.fetching.clear(),h.refreshTiles()),h.rerender(h.options,!0)}},destroy(){o(),r.topDivRef.current&&Xo.unmountComponentAtNode(r.topDivRef.current)},setRangeSelectionToInt(){r.setState({rangeSelectionToInt:!0})},setRangeSelectionToFloat(){r.setState({rangeSelectionToInt:!1})},setRangeSelection1dSize(a=0,s=Number.POSITIVE_INFINITY){r.setState({rangeSelection1dSize:[a,s]})},setViewConfig(a,s=!1){const u=r.processViewConfig(a);return new Promise(l=>{this.requestsInFlight=0,n.push(t.subscribe("requestSent",()=>{this.requestsInFlight+=1})),n.push(t.subscribe("requestReceived",()=>{this.requestsInFlight-=1,this.requestsInFlight===0&&l()})),r.setState({viewConfig:a,views:u},()=>{s&&l()})})},getViewConfig(){return r.getViewsAsJson()},validateViewConfig(a,{verbose:s=!1}={}){const u=new zq().compile(Hq),l=u(a);return s&&u.errors&&console.warn(JSON.stringify(u.errors,null,2)),l},getMinMaxValue(a,s,u=!1,l=!1){return r.getMinMaxValue(a,s,u,l)},shareViewConfigAsLink(a){return r.handleExportViewsAsLink(a,!0)},showAvailableTrackPositions(a){r.setState({draggingHappening:a})},hideAvailableTrackPositions(){r.setState({draggingHappening:null})},measureSize(){r.measureSize();for(const a of Object.values(r.tiledPlots))a&&a.measureSize()},showTrackChooser(a){r.setState({chooseTrackHandler:(...s)=>{r.setState({chooseTrackHandler:null}),a(...s)}})},hideTrackChooser(){r.setState({chooseTrackHandler:null})},setTrackValueScaleLimits(a,s,u,l){r.setTrackValueScaleLimits(a,s,u,l)},setDarkTheme(a){console.warn('`setDarkTheme(true)` is deprecated. Please use `setTheme("dark")`.');const s=a?"dark":"light";r.setTheme(s)},setTheme(a){console.warn("Please note that theming is still in beta!"),r.setTheme(a)},zoomTo(a,s,u,l,c,h=0){r.zoomTo(a,s,u,l,c,h)},zoomToGene(a,s,u=0,l=0){r.zoomToGene(a,s,u,l)},suggestGene(a,s,u){return r.suggestGene(a,s,u)},zoomToDataExtent(a){r.handleZoomToData(a)},resetViewport(a){r.resetViewport(a)},activateTool(a){switch(a){case"track-select":r.setMouseTool(Fd);break;case"select":r.setMouseTool(Ui);break;default:r.setMouseTool(L0);break}},setSizeMode(a){switch(a){case"bounded":r.setSizeMode(U0);break;case"overflow":r.setSizeMode(V0);break;case"bounded-overflow":r.setSizeMode(wc);break;case"scroll":r.setSizeMode(yl);break;default:r.setSizeMode(DO);break}},exportAsPngBlobPromise(){return r.createPNGBlobPromise()},exportAsSvg(){return r.createSVGString()},exportAsViewConfString(){return r.getViewsAsString()},getRangeSelection(){return r.rangeSelection},getLocation(a){var s;const u=a?r.xScales[a]&&r.yScales[a]&&a:(s=Object.values(r.tiledPlots)[0])==null?void 0:s.props.uid;return u?{xDomain:r.xScales[u].domain(),yDomain:r.yScales[u].domain(),xRange:r.xScales[u].range(),yRange:r.yScales[u].range()}:"Please provide a valid view UUID sweetheart 😙"},getTrackObject(a,s){let u=a,l=s;return s||(u=Object.values(r.state.views)[0].uid,l=a),VO(r,u,l)},option(a,s){if(typeof s>"u")return r.props.options[a];switch(a){case"sizeMode":r.props.options[a]=s,U4t(r);break;default:console.warn(`This option "${a}" is either unknown or not settable.`)}},off(a,s,u){const l=typeof s=="object"?s.callback:s;switch(a){case"annotationCreated":i.unsubscribe("annotationCreated",l);break;case"annotationChanged":i.unsubscribe("annotationChanged",l);break;case"annotationRemoved":i.unsubscribe("annotationRemoved",l);break;case"click":i.unsubscribe("click",l);break;case"cursorLocation":i.unsubscribe("cursorLocation",l);break;case"datasetInfo":i.unsubscribe("datasetInfo",l);break;case"location":r.offLocationChange(u,s);break;case"mouseMoveZoom":i.unsubscribe("mouseMoveZoom",l);break;case"wheel":i.unsubscribe("wheel",l);break;case"rangeSelection":i.unsubscribe("rangeSelection",l);break;case"viewConfig":r.offViewChange(s);break;case"createSVG":r.offPostCreateSVG();break;case"geneSearch":i.unsubscribe("geneSearch",l);break}},on(a,s,u,l){switch(a){case"annotationCreated":return i.subscribe("annotationCreated",s);case"annotationChanged":return i.subscribe("annotationChanged",s);case"annotationRemoved":return i.subscribe("annotationRemoved",s);case"click":return i.subscribe("click",s);case"cursorLocation":return i.subscribe("cursorLocation",s);case"datasetInfo":return i.subscribe("datasetInfo",s);case"location":return r.onLocationChange(u,s,l);case"mouseMoveZoom":return i.subscribe("mouseMoveZoom",s);case"wheel":return i.subscribe("wheel",s);case"rangeSelection":return i.subscribe("rangeSelection",s);case"viewConfig":return r.onViewChange(s);case"createSVG":return r.onPostCreateSVG(s);case"geneSearch":return i.subscribe("geneSearch",s);default:return}}}}};function G4t(e,t,r,n){const i=e.append("symbol").attr("id",t).attr("viewBox",n);r.forEach(o=>i.append("path").attr("d",o).attr("fill","currentColor"))}const Y4t=Mr.createContext(null),W4t=(e,{includeCombinedContents:t=!0}={})=>{const r=[];for(const n of F0)e[n]?.forEach(i=>{"contents"in i&&t&&i.contents.forEach(o=>{r.push(Object.assign({},o,{position:n}))}),r.push(Object.assign({},i,{position:n}))});return r},X4t="_higlass_1k7ri_1",ao={higlass:X4t,"higlass-dark-theme":"_higlass-dark-theme_1k7ri_5","higlass-container-overflow":"_higlass-container-overflow_1k7ri_9","higlass-scroll-container-overflow":"_higlass-scroll-container-overflow_1k7ri_10","higlass-scroll-container-scroll":"_higlass-scroll-container-scroll_1k7ri_11","higlass-canvas":"_higlass-canvas_1k7ri_28","higlass-drawing-surface":"_higlass-drawing-surface_1k7ri_33","higlass-svg":"_higlass-svg_1k7ri_38","tiled-area":"_tiled-area_1k7ri_47","track-mouseover-menu":"_track-mouseover-menu_1k7ri_54"};function $4t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q4t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z4t(n.key),n)}}function K4t(e,t,r){return t&&q4t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z4t(e){var t=Q4t(e,"string");return typeof t=="symbol"?t:t+""}function Q4t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function J4t(e,t,r){return t=Uv(t),eCt(e,$q()?Reflect.construct(t,r||[],Uv(e).constructor):t.apply(e,r))}function eCt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tCt(e)}function tCt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($q=function(){return!!e})()}function Uv(e){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uv(e)}function rCt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a9(e,t)}function a9(e,t){return a9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},a9(e,t)}const HD=12,nCt=12,iCt=20;let rm=(function(e){function t(r){var n,i,o;$4t(this,t),o=J4t(this,t,[r]),NF(P.version)<15.6&&console.warn("HiGlass requires React v15.6 or higher. Current version: ",P.version),o.topDivRef=P.createRef(),o.pubSub=lb(),o.domEvent=tF(o.pubSub),o.pubSubs=[],o.minHorizontalHeight=20,o.minVerticalWidth=20,o.resizeSensor=null,o.uid=Nt.nice(),o.tiledPlots={},o.genomePositionSearchBoxes={},o.xScales={},o.yScales={},o.projectionXDomains={},o.projectionYDomains={},o.topDiv=null,o.zoomToDataExtentOnInit=new Set,o.viewTrackUidsToCombinedUid={},o.combinedUidToViewTrack={},o.scalesChangedListeners={},o.draggingChangedListeners={},o.valueScalesChangedListeners={},o.zoomLocks={},o.locationLocks={},o.locationLocksAxisWise={x:{},y:{}},o.valueScaleLocks={},o.prevAuthToken=r.options.authToken,o.setCenters={},o.plusImg={},o.configImg={},Ie.PIXI=((n=r.options)==null?void 0:n.PIXI)||Cj,o.viewMarginTop=+r.options.viewMarginTop>=0?+r.options.viewMarginTop:Bp,o.viewMarginBottom=+r.options.viewMarginBottom>=0?+r.options.viewMarginBottom:Bp,o.viewMarginLeft=+r.options.viewMarginLeft>=0?+r.options.viewMarginLeft:Bp,o.viewMarginRight=+r.options.viewMarginRight>=0?+r.options.viewMarginRight:Bp,o.viewPaddingTop=+r.options.viewPaddingTop>=0?+r.options.viewPaddingTop:Fp,o.viewPaddingBottom=+r.options.viewPaddingBottom>=0?+r.options.viewPaddingBottom:Fp,o.viewPaddingLeft=+r.options.viewPaddingLeft>=0?+r.options.viewPaddingLeft:Fp,o.viewPaddingRight=+r.options.viewPaddingRight>=0?+r.options.viewPaddingRight:Fp,o.genomePositionSearchBox=null,o.viewHeaders={},o.boundRefreshView=()=>{o.refreshView(zp)},o.unsetOnLocationChange=[],o.setTheme(r.options.theme,r.options.isDarkTheme),o.viewconfLoaded=!1;const{viewConfig:a}=o.props,s=o.processViewConfig(JSON.parse(JSON.stringify(o.props.viewConfig)));r.options.authToken&&uy(r.options.authToken),o.pixiRoot=new Ie.PIXI.Container,o.pixiRoot.interactive=!0,o.pixiStage=new Ie.PIXI.Container,o.pixiStage.interactive=!0,o.pixiRoot.addChild(o.pixiStage),o.pixiMask=new Ie.PIXI.Graphics,o.pixiRoot.addChild(o.pixiMask),o.pixiStage.mask=o.pixiMask,o.element=null,o.scrollTop=0;let u=L0;if(o.props.options)switch(o.props.options.mouseTool){case Ui:u=Ui;break;case Fd:u=Fd;break}o.props.options.pluginTracks&&(window.higlassTracksByType=Object.assign(window.higlassTracksByType||{},o.props.options.pluginTracks));const l={};try{window.higlassTracksByType&&Object.entries(window.higlassTracksByType).forEach(([v,b])=>{l[v]=b})}catch{console.warn("Broken config of a plugin track")}o.props.options.pluginDataFetchers&&(window.higlassDataFetchersByType=Object.assign(window.higlassDataFetchersByType||{},o.props.options.pluginDataFetchers));const c=window.higlassDataFetchersByType,h=o.props.options.pixelPreciseMarginPadding?1:30;o.mounted=!1,o.pluginTracks=l,o.pluginDataFetchers=c,o.state={currentBreakpoint:"lg",width:0,height:0,rowHeight:h,svgElement:null,canvasElement:null,customDialog:null,views:s,viewConfig:a,addTrackPositionMenuPosition:null,typedEditable:void 0,mouseOverOverlayUid:null,mouseTool:u,overTrackChooser:null,isDarkTheme:!1,rangeSelection1dSize:[0,Number.POSITIVE_INFINITY],rangeSelectionToInt:!1,modal:null,sizeMode:(i=o.props.options)==null?void 0:i.sizeMode},o.attachedToDOM=!1;const{public:f,destroy:p,publish:d,stack:m}=V4t(o,o.pubSub);return o.api=f,o.apiDestroy=p,o.apiPublish=d,o.apiStack=m,o.viewChangeListener=[],o.triggerViewChangeDb=AO(o.triggerViewChange.bind(o),250),o.pubSubs=[],o.rangeSelection=[null,null],o.prevMouseHoverTrack=null,o.zooming=!1,o.appClickHandlerBound=o.appClickHandler.bind(o),o.canvasClickHandlerBound=o.canvasClickHandler.bind(o),o.keyDownHandlerBound=o.keyDownHandler.bind(o),o.keyUpHandlerBound=o.keyUpHandler.bind(o),o.resizeHandlerBound=o.resizeHandler.bind(o),o.resizeHandlerBound=o.resizeHandler.bind(o),o.dispatchEventBound=o.dispatchEvent.bind(o),o.animateOnMouseMoveHandlerBound=o.animateOnMouseMoveHandler.bind(o),o.zoomStartHandlerBound=o.zoomStartHandler.bind(o),o.zoomEndHandlerBound=o.zoomEndHandler.bind(o),o.zoomHandlerBound=o.zoomHandler.bind(o),o.trackDroppedHandlerBound=o.trackDroppedHandler.bind(o),o.trackDimensionsModifiedHandlerBound=o.trackDimensionsModifiedHandler.bind(o),o.animateBound=o.animate.bind(o),o.animateOnGlobalEventBound=o.animateOnGlobalEvent.bind(o),o.requestReceivedHandlerBound=o.requestReceivedHandler.bind(o),o.wheelHandlerBound=o.wheelHandler.bind(o),o.mouseMoveHandlerBound=o.mouseMoveHandler.bind(o),o.onMouseLeaveHandlerBound=o.onMouseLeaveHandler.bind(o),o.onBlurHandlerBound=o.onBlurHandler.bind(o),o.openModalBound=o.openModal.bind(o),o.closeModalBound=o.closeModal.bind(o),o.handleEditViewConfigBound=o.handleEditViewConfig.bind(o),o.onScrollHandlerBound=o.onScrollHandler.bind(o),o.viewUidToNameBound=o.viewUidToName.bind(o),o.typedText="",o.typedTextTimeout=null,o.modal={open:o.openModalBound,close:o.closeModalBound},o.setBroadcastMousePositionGlobally(o.props.options.broadcastMousePositionGlobally||o.props.options.globalMousePosition),o.setShowGlobalMousePosition(o.props.options.showGlobalMousePosition||o.props.options.globalMousePosition),o}return rCt(t,e),K4t(t,[{key:"UNSAFE_componentWillMount",value:function(){this.domEvent.register("keydown",document),this.domEvent.register("keyup",document),this.domEvent.register("scroll",document),this.domEvent.register("resize",window),this.domEvent.register("orientationchange",window),this.domEvent.register("wheel",window),this.domEvent.register("mousedown",window,!0),this.domEvent.register("mouseup",window,!0),this.domEvent.register("click",window,!0),this.domEvent.register("mousemove",window),this.domEvent.register("touchmove",window),this.domEvent.register("touchstart",window),this.domEvent.register("touchend",window),this.domEvent.register("touchcancel",window),this.domEvent.register("blur",window),this.pubSubs.push(this.pubSub.subscribe("app.click",this.appClickHandlerBound),this.pubSub.subscribe("blur",this.onBlurHandlerBound),this.pubSub.subscribe("keydown",this.keyDownHandlerBound),this.pubSub.subscribe("keyup",this.keyUpHandlerBound),this.pubSub.subscribe("resize",this.resizeHandlerBound),this.pubSub.subscribe("wheel",this.wheelHandlerBound),this.pubSub.subscribe("orientationchange",this.resizeHandlerBound),this.pubSub.subscribe("app.event",this.dispatchEventBound),this.pubSub.subscribe("app.animateOnMouseMove",this.animateOnMouseMoveHandlerBound),this.pubSub.subscribe("trackDropped",this.trackDroppedHandlerBound),this.pubSub.subscribe("trackDimensionsModified",this.trackDimensionsModifiedHandlerBound),this.pubSub.subscribe("app.zoomStart",this.zoomStartHandlerBound),this.pubSub.subscribe("app.zoomEnd",this.zoomEndHandlerBound),this.pubSub.subscribe("app.zoom",this.zoomHandlerBound),this.pubSub.subscribe("requestReceived",this.requestReceivedHandlerBound)),this.props.getApi&&this.props.getApi(this.api)}},{key:"sizeMode",get:function(){return typeof this.state.sizeMode>"u"?this.props.options.bounded?"bounded":DO:this.state.sizeMode}},{key:"setBroadcastMousePositionGlobally",value:function(r=!1){this.isBroadcastMousePositionGlobally=r}},{key:"setShowGlobalMousePosition",value:function(r=!1){if(this.isShowGlobalMousePosition=r,this.isShowGlobalMousePosition&&!this.globalMousePositionListener&&(this.globalMousePositionListener=cd.subscribe("higlass.mouseMove",this.animateOnGlobalEventBound),this.pubSubs.push(this.globalMousePositionListener)),this.isShowGlobalMousePosition&&!this.globalMousePositionListener){const n=this.pubSubs.findIndex(i=>i===this.globalMousePositionListener);cd.unsubscribe(this.globalMousePositionListener),n>=0&&this.pubSubs.splice(n,1),this.globalMousePositionListener=void 0}}},{key:"zoomStartHandler",value:function(){this.hideHoverMenu(),this.zooming=!0}},{key:"zoomEndHandler",value:function(){this.zooming=!1}},{key:"zoomHandler",value:function(r){r.sourceEvent&&this.mouseMoveHandler(r.sourceEvent)}},{key:"waitForDOMAttachment",value:function(r){if(!this.mounted)return;const n=this.topDivRef.current;n&&document.body.contains(n)?r():requestAnimationFrame(()=>this.waitForDOMAttachment(r))}},{key:"componentDidMount",value:function(){this.mounted=!0,this.element=this.topDivRef.current,window.addEventListener("focus",this.boundRefreshView),Object.values(this.state.views).forEach(i=>{this.adjustLayoutToTrackSizes(i),i.layout?i.layout.i=i.uid:i.layout=this.generateViewLayout(i)});const r={width:this.state.width,height:this.state.height,view:this.canvasElement,antialias:!0,transparent:!0,resolution:2,autoResize:!0};switch(Pj[0]){case"4":console.warn("Deprecation warning: please update Pixi.js to version 5!"),this.props.options.renderer==="canvas"?this.pixiRenderer=new Ie.PIXI.CanvasRenderer(r):this.pixiRenderer=new Ie.PIXI.WebGLRenderer(r);break;default:this.props.options.renderer==="canvas"?this.pixiRenderer=new Ie.PIXI.CanvasRenderer(r):this.pixiRenderer=new Ie.PIXI.Renderer(r);break}this.fitPixiToParentContainer(),this.setState({svgElement:this.svgElement,canvasElement:this.canvasElement}),this.waitForDOMAttachment(()=>{h0.ElementQueries.listen(),this.resizeSensor=new h0.ResizeSensor(this.element.parentNode,this.updateAfterResize.bind(this)),this.updateAfterResize()}),this.handleDragStart(),this.handleDragStop(),this.animate();const n=ut(this.element).append("svg").style("display","none");_le.forEach(i=>G4t(n,i.id,i.paths,i.viewBox))}},{key:"getTrackObject",value:function(r,n){return this.tiledPlots[r].trackRenderer.getTrackObject(n)}},{key:"getTrackRenderer",value:function(r){return this.tiledPlots[r].trackRenderer}},{key:"UNSAFE_componentWillReceiveProps",value:function(r){this.mounted&&this.setState({viewConfig:r.viewConfig});const n=this.processViewConfig(JSON.parse(JSON.stringify(r.viewConfig)));r.options.authToken!==this.prevAuthToken&&(uy(r.options.authToken),this.reload(),this.prevAuthToken=r.options.authToken);for(const i of hr(n))this.adjustLayoutToTrackSizes(i);this.setState({views:n})}},{key:"UNSAFE_componentWillUpdate",value:function(){this.pixiRenderer.render(this.pixiRoot)}},{key:"reload",value:function(){for(const r of this.iterateOverViews()){const n=this.getTrackRenderer(r);if(!n)continue;const i=JSON.parse(n.prevTrackDefinitions);n.syncTrackObjects([]),n.syncTrackObjects(i)}}},{key:"componentDidUpdate",value:function(){this.setTheme(this.props.options.theme,this.props.options.isDarkTheme),this.animate(),this.triggerViewChangeDb()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.pixiStage.destroy(!1),this.pixiStage=null,this.pixiRenderer.destroy(!0),this.pixiRenderer=null,window.removeEventListener("focus",this.boundRefreshView),this.resizeSensor&&this.resizeSensor.detach(),this.domEvent.unregister("keydown",document),this.domEvent.unregister("keyup",document),this.domEvent.unregister("scroll",document),this.domEvent.unregister("wheel",window),this.domEvent.unregister("mousedown",window),this.domEvent.unregister("mouseup",window),this.domEvent.unregister("click",window),this.domEvent.unregister("mousemove",window),this.domEvent.unregister("touchmove",window),this.domEvent.unregister("touchstart",window),this.domEvent.unregister("touchend",window),this.domEvent.unregister("touchcancel",window),this.pubSubs.forEach(r=>this.pubSub.unsubscribe(r)),this.pubSubs=[],this.apiDestroy()}},{key:"setTheme",value:function(r=this.props.options.theme,n=this.props.options.isDarkTheme){if(typeof n<"u")console.warn("The option `isDarkTheme` is deprecated. Please use `theme` instead."),this.theme=n?"dark":"light";else switch(r){case"dark":this.theme=br;break;case"light":case void 0:this.theme=z0;break;default:console.warn(`Unknown theme "${r}". Using light theme.`),this.theme=z0;break}}},{key:"dispatchEvent",value:function(r){this.canvasElement&&G0(r,this.canvasElement)}},{key:"trackDroppedHandler",value:function(){this.setState({draggingHappening:null})}},{key:"requestReceivedHandler",value:function(){!this.viewconfLoaded&&Xd===0&&(this.viewconfLoaded=!0,this.props.options.onViewConfLoaded&&this.props.options.onViewConfLoaded())}},{key:"animateOnMouseMoveHandler",value:function(r){r&&!this.animateOnMouseMove&&this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.animateBound)),this.animateOnMouseMove=r}},{key:"fitPixiToParentContainer",value:function(){const r=this.topDivRef.current;if(!r||!r.parentNode)return;const n=r.parentNode.clientWidth,i=r.parentNode.clientHeight;this.pixiMask.beginFill(16777215).drawRect(0,0,n,i).endFill(),this.pixiRenderer.resize(n,i),this.pixiRenderer.view.style.width=`${n}px`,this.pixiRenderer.view.style.height=`${i}px`,this.pixiRenderer.render(this.pixiRoot)}},{key:"addDefaultTrackOptions",value:function(r){var n,i;const o=this.getTrackInfo(r.type);if(!o)return;typeof r.options>"u"&&(r.options={});const a=r.options?r.options:{};if(this.props.options.defaultTrackOptions){if((n=this.props.options.defaultTrackOptions.trackSpecific)!=null&&n[r.type]){const s=this.props.options.defaultTrackOptions.trackSpecific[r.type];for(const u in s)r.options[u]=typeof r.options[u]<"u"?r.options[u]:JSON.parse(JSON.stringify(s[u]))}if(this.props.options.defaultTrackOptions.all){const s=this.props.options.defaultTrackOptions.all;for(const u in s)r.options[u]=typeof r.options[u]<"u"?r.options[u]:JSON.parse(JSON.stringify(s[u]))}}if(o.defaultOptions){const s=(i=o.defaultOptionsByTheme)!=null&&i[this.theme]?o.defaultOptionsByTheme[this.theme]:{},u={...o.defaultOptions,...s};if(!r.options)r.options=JSON.parse(JSON.stringify(u));else for(const l in u)r.options[l]=typeof r.options[l]<"u"?r.options[l]:JSON.parse(JSON.stringify(u[l]))}else r.options=a}},{key:"toggleTypedEditable",value:function(){this.setState({typedEditable:!this.isEditable()})}},{key:"typedTextHandler",value:function(r){if(!this.props.options.cheatCodesEnabled)return;this.typedText=this.typedText.concat(r.key),this.typedText.endsWith("hgedit")&&(this.toggleTypedEditable(),this.typedText="");const n=750;this.typedTextTimeout&&clearTimeout(this.typedTextTimeout),this.typedTextTimeout=setTimeout(()=>{this.typedText=""},n)}},{key:"keyDownHandler",value:function(r){this.typedTextHandler(r),this.props.options.rangeSelectionOnAlt&&r.key==="Alt"&&this.setState({mouseTool:Ui})}},{key:"keyUpHandler",value:function(r){this.props.options.rangeSelectionOnAlt&&r.key==="Alt"&&this.setState({mouseTool:L0})}},{key:"openModal",value:function(r){this.setState({modal:P.cloneElement(r,{ref:n=>{this.modalRef=n}})})}},{key:"closeModal",value:function(){this.modalRef=null,this.setState({modal:null})}},{key:"handleEditViewConfig",value:function(){const{viewConfig:r}=this.state;this.setState({viewConfigTmp:r}),this.openModal(P.createElement(w4t,{onCancel:()=>{const{viewConfigTmp:n}=this.state,i=this.processViewConfig(n);for(const o of hr(i))this.adjustLayoutToTrackSizes(o);this.setState({views:i,viewConfig:n,viewConfigTmp:null})},onChange:n=>{const i=JSON.parse(n),o=this.processViewConfig(i);for(const a of hr(o))this.adjustLayoutToTrackSizes(a);this.setState({views:o,viewConfig:i})},onSave:n=>{const i=JSON.parse(n),o=this.processViewConfig(i);for(const a of hr(o))this.adjustLayoutToTrackSizes(a);this.setState({views:o,viewConfig:i,viewConfigTmp:null})},viewConfig:this.getViewsAsString()}))}},{key:"animate",value:function(){this.isRequestingAnimationFrame||(this.isRequestingAnimationFrame=!0,requestAnimationFrame(()=>{this.pixiRenderer&&(this.pixiRenderer.render(this.pixiRoot),this.isRequestingAnimationFrame=!1)}))}},{key:"animateOnGlobalEvent",value:function({sourceUid:r}={}){r!==this.uid&&this.animateOnMouseMove&&this.animate()}},{key:"measureSize",value:function(){const[r,n]=xF(this.element);r>0&&n>0&&this.setState({sizeMeasured:!0,width:r,height:n})}},{key:"updateAfterResize",value:function(){this.measureSize(),this.updateRowHeight(),this.fitPixiToParentContainer(),this.refreshView(zp),this.resizeHandler()}},{key:"onBreakpointChange",value:function(r){this.setState({currentBreakpoint:r})}},{key:"handleOverlayMouseEnter",value:function(r){this.setState({mouseOverOverlayUid:r})}},{key:"handleOverlayMouseLeave",value:function(){this.setState({mouseOverOverlayUid:null})}},{key:"handleLockLocation",value:function(r){this.setState({chooseViewHandler:n=>this.handleLocationLockChosen(r,n),mouseOverOverlayUid:r})}},{key:"isEditable",value:function(){return this.state.typedEditable!==void 0?this.state.typedEditable:!this.props.options||!("editable"in this.props.options)?this.state.viewConfig.editable:this.props.options.editable&&this.state.viewConfig.editable}},{key:"isTrackMenuDisabled",value:function(){return this.props.options&&(this.props.options.editable===!1||this.props.options.tracksEditable===!1)?!0:this.state.viewConfig&&(this.state.viewConfig.tracksEditable===!1||this.state.viewConfig.editable===!1)}},{key:"isViewHeaderDisabled",value:function(){return this.props.options&&(this.props.options.editable===!1||this.props.options.viewEditable===!1)?!0:this.state.viewConfig&&(this.state.viewConfig.viewEditable===!1||this.state.viewConfig.editable===!1)}},{key:"iterateOverViews",value:function(){const r=[];for(const n of Object.keys(this.state.views))r.push(n);return r}},{key:"iterateOverTracksInView",value:function(r){const n=[],{tracks:i}=this.state.views[r];for(const o in i)for(const a of i[o])if(a.type==="combined"&&a.contents)for(const s of a.contents)n.push({viewId:r,trackId:s.uid,track:s});else n.push({viewId:r,trackId:a.uid,track:a});return n}},{key:"iterateOverTracks",value:function(){const r=[];for(const n in this.state.views){const{tracks:i}=this.state.views[n];for(const o in i)for(const a of i[o])if(a.type==="combined"&&a.contents)for(const s of a.contents)r.push({viewId:n,trackId:s.uid,track:s});else r.push({viewId:n,trackId:a.uid,track:a})}return r}},{key:"setMouseTool",value:function(r){this.setState({mouseTool:r})}},{key:"setSizeMode",value:function(r){this.setState({sizeMode:r})}},{key:"isValueScaleLocked",value:function(r,n){const i=this.combineViewAndTrackUid(r,n);return this.state.views[r]?!!this.valueScaleLocks[i]:!1}},{key:"getLockGroupExtrema",value:function(r,n){const i=this.combineViewAndTrackUid(r,n);if(!this.state.views[r]||!this.valueScaleLocks[i])return null;const o=this.valueScaleLocks[i],a=Object.values(o).filter(h=>this.tiledPlots[h.view]).map(h=>this.tiledPlots[h.view].trackRenderer.getTrackObject(h.track)).filter(h=>h).filter(h=>{var f;return h.valueScale||((f=h.originalTrack)==null?void 0:f.valueScale)}).map(h=>h.originalTrack===void 0?h:h.originalTrack),s=a.filter(h=>h.minRawValue&&h.maxRawValue).map(h=>o.ignoreOffScreenValues?h.minVisibleValue(!0):h.minVisibleValueInTiles(!0)),u=a.filter(h=>h.minRawValue&&h.maxRawValue).map(h=>o.ignoreOffScreenValues?h.maxVisibleValue(!0):h.maxVisibleValueInTiles(!0));if(s.length===0||s.filter(h=>h===null||h===Number.POSITIVE_INFINITY).length>0||u.length===0||u.filter(h=>h===null||h===Number.NEGATIVE_INFINITY).length>0)return null;const l=Math.min(...s),c=Math.max(...u);return[l,c]}},{key:"syncValueScales",value:function(r,n){const i=this.combineViewAndTrackUid(r,n);if(!this.state.views[r])return;const o=hi(this.state.views[r].tracks,n);if(this.valueScaleLocks[i]){const a=this.valueScaleLocks[i],s=Object.values(a).filter(f=>this.tiledPlots[f.view]).map(f=>this.tiledPlots[f.view].trackRenderer.getTrackObject(f.track)).filter(f=>f).map(f=>f.originalTrack===void 0?f:f.originalTrack),u=this.getLockGroupExtrema(r,n);if(u===null)return;const l=u[0],c=u[1],h=1e-6;for(const f of s){if(f.minValue&&f.minValue(l),f.maxValue&&f.maxValue(c),!f.valueScale)continue;const p=Math.abs(f.minValue()-f.valueScale.domain()[0])>h||Math.abs(f.maxValue()-f.valueScale.domain()[1])>h,d=o.options&&f.options&&typeof o.options.scaleStartPercent<"u"&&typeof o.options.scaleEndPercent<"u"&&(Math.abs(f.options.scaleStartPercent-o.options.scaleStartPercent)>h||Math.abs(f.options.scaleEndPercent-o.options.scaleEndPercent)>h);f.continuousScaling&&!p&&!d||(f.valueScale.domain([l,c]),f.prevValueScale=f.valueScale.copy(),d&&(f.options.scaleStartPercent=o.options.scaleStartPercent,f.options.scaleEndPercent=o.options.scaleEndPercent),f.rerender(f.options,!0))}}}},{key:"handleNewTilesLoaded",value:function(r,n){this.animate()}},{key:"notifyDragChangedListeners",value:function(r){hr(this.draggingChangedListeners).forEach(n=>{hr(n).forEach(i=>i(r))})}},{key:"addDraggingChangedListener",value:function(r,n,i){r in this.draggingChangedListeners||(this.draggingChangedListeners[r]={}),this.draggingChangedListeners[r][n]=i,i(!0),i(!1)}},{key:"removeDraggingChangedListener",value:function(r,n){if(r in this.draggingChangedListeners){const i=this.draggingChangedListeners[r];n in i&&(i[n](!1),delete i[n])}}},{key:"addScalesChangedListener",value:function(r,n,i){this.scalesChangedListeners[r]||(this.scalesChangedListeners[r]={}),this.scalesChangedListeners[r][n]=i,!(!this.xScales[r]||!this.yScales[r])&&i(this.xScales[r],this.yScales[r])}},{key:"removeScalesChangedListener",value:function(r,n){if(this.scalesChangedListeners[r]){const i=this.scalesChangedListeners[r];i[n]&&delete i[n]}}},{key:"createSVG",value:function(){const r=document.createElement("svg");r.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("version","1.1");for(const n of hr(this.tiledPlots))if(n){for(const i of hr(n.trackRenderer.trackDefObjects))if(i.trackObject.exportSVG){const o=i.trackObject.exportSVG();o&&r.appendChild(o[0])}}return r.setAttribute("width",this.canvasElement.style.width),r.setAttribute("height",this.canvasElement.style.height),this.postCreateSVGCallback?this.postCreateSVGCallback(r):r}},{key:"createSVGString",value:function(){const r=this.createSVG();let n=wse.xml(new window.XMLSerializer().serializeToString(r));return n=n.replace(/<a0:/g,"<"),n=n.replace(/<\/a0:/g,"</"),n=n.replace(/(<svg[\n\r])(\s+xmlns="http:\/\/www\.w3\.org\/1999\/xhtml"[\n\r])/gm,"$1"),n=n.replace(/(\s+<clipPath[\n\r]\s+)(xmlns="http:\/\/www\.w3\.org\/2000\/svg")/gm,"$1"),`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
${n}`}},{key:"handleExportSVG",value:function(){hd("export.svg",new Blob([this.createSVGString()],{type:"image/svg+xml"}))}},{key:"offPostCreateSVG",value:function(){this.postCreateSVGCallback=null}},{key:"onPostCreateSVG",value:function(r){this.postCreateSVGCallback=r}},{key:"createPNGBlobPromise",value:function(){return new Promise(r=>{const n=this.createSVGString(),i=new Image(this.canvasElement.width,this.canvasElement.height);i.src=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(n)))}`,i.onload=()=>{const o=document.createElement("canvas");o.width=this.canvasElement.width/2,o.height=this.canvasElement.height/2,o.getContext("2d").drawImage(i,0,0),o.toBlob(a=>{r(a)})}})}},{key:"handleExportPNG",value:function(){this.createPNGBlobPromise().then(r=>{hd("export.png",r)})}},{key:"handleScalesChanged",value:function(r,n,i,o=!0){if(this.xScales[r]=n,this.yScales[r]=i,o&&r in this.scalesChangedListeners&&hr(this.scalesChangedListeners[r]).forEach(a=>{a(n,i)}),this.zoomLocks[r]){const a=this.zoomLocks[r],s=Fi(a),[u,l,c]=Qr(this.xScales[r],this.yScales[r]);for(let h=0;h<s.length;h++){const f=s[h][0],p=s[h][1];if(!this.xScales[f]||!this.yScales[f]||f===r)continue;const[d,m,v]=Qr(this.xScales[f],this.yScales[f]),b=p[2]/a[r][2],g=c*b;if(!this.setCenters[f])continue;const[y,_]=this.setCenters[f](d,m,g,!1);this.xScales[f]=y,this.yScales[f]=_,f in this.scalesChangedListeners&&hr(this.scalesChangedListeners[f]).forEach(w=>{w(y,_)})}}if(this.locationLocks[r]){const a=this.locationLocks[r],s=Fi(a),[u,l,c]=Qr(this.xScales[r],this.yScales[r]);for(let h=0;h<s.length;h++){const f=s[h][0],p=s[h][1];if(!this.xScales[f]||!this.yScales[f])continue;const[d,m,v]=Qr(this.xScales[f],this.yScales[f]);if(f===r)continue;const b=p[0]-a[r][0],g=p[1]-a[r][1],y=u+b,_=l+g;if(!this.setCenters[f])continue;const[w,T]=this.setCenters[f](y,_,v,!1);this.xScales[f]=w,this.yScales[f]=T,f in this.scalesChangedListeners&&hr(this.scalesChangedListeners[f]).forEach(O=>{O(w,T)})}}if(this.locationLocksAxisWise.x[r]){const a=this.locationLocksAxisWise.x[r].lock,s=Fi(a),u=this.locationLocksAxisWise.x[r].axis!=="x",[l,c,h]=Qr(this.xScales[r],this.yScales[r]);for(let f=0;f<s.length;f++){const p=s[f][0],d=s[f][1];if(!this.xScales[p]||!this.yScales[p])continue;const[m,v,b]=Qr(this.xScales[p],this.yScales[p]);if(p===r)continue;const g=d[0]-a[r][0],y=l+g;if(!this.setCenters[p])continue;const[_,w]=this.setCenters[p](u?m:y,u?y:v,b,!1);this.xScales[p]=_,this.yScales[p]=w,p in this.scalesChangedListeners&&hr(this.scalesChangedListeners[p]).forEach(T=>{T(_,w)})}}if(this.locationLocksAxisWise.y[r]){const a=this.locationLocksAxisWise.y[r].lock,s=Fi(a),u=this.locationLocksAxisWise.y[r].axis!=="y",[l,c,h]=Qr(this.xScales[r],this.yScales[r]);for(let f=0;f<s.length;f++){const p=s[f][0],d=s[f][1];if(!this.xScales[p]||!this.yScales[p])continue;const[m,v,b]=Qr(this.xScales[p],this.yScales[p]);if(p===r)continue;const g=d[1]-a[r][1],y=c+g;if(!this.setCenters[p])continue;const[_,w]=this.setCenters[p](u?y:m,u?v:y,b,!1);this.xScales[p]=_,this.yScales[p]=w,p in this.scalesChangedListeners&&hr(this.scalesChangedListeners[p]).forEach(T=>{T(_,w)})}}this.animate(),this.triggerViewChangeDb()}},{key:"handleProjectViewport",value:function(r){this.setState({chooseTrackHandler:(n,i)=>this.handleViewportProjected(r,n,i)})}},{key:"handleZoomToData",value:function(r){if(r&&!this.tiledPlots[r])throw new Error(`View uid ${r} does not exist in the current viewConfig`);r?this.tiledPlots[r].handleZoomToData():Object.values(this.tiledPlots).forEach(n=>n.handleZoomToData())}},{key:"resetViewport",value:function(r){if(r&&!this.tiledPlots[r])throw new Error(`View uid ${r} does not exist in the current viewConfig`);r?this.tiledPlots[r].resetViewport():Object.values(this.tiledPlots).forEach(n=>n.resetViewport())}},{key:"handleYankFunction",value:function(r,n){this.setState({chooseViewHandler:i=>n(r,i),mouseOverOverlayUid:r})}},{key:"handleUnlock",value:function(r,n){const i=n[r],o=lo(i);if(o.length===2){delete n[o[0]],delete n[o[1]];return}n[r]&&n[r][r]&&delete n[r][r],n[r]&&delete n[r]}},{key:"viewScalesLockData",value:function(r){return!this.xScales[r]||!this.yScales[r]?(console.warn("View scale lock doesn't correspond to existing uid: ",r),null):Qr(this.xScales[r],this.yScales[r])}},{key:"addLock",value:function(r,n,i,o){let a=[],s=[];i[r]?a=Fi(i[r]).filter(c=>o(c[0])).map(c=>[c[0],o(c[0])]):a=[[r,o.bind(this)(r)]],i[n]?s=Fi(i[n]).filter(c=>o.bind(this)(c[0])).map(c=>[c[0],o.bind(this)(c[0])]):s=[[n,o.bind(this)(n)]];const u=a.concat(s),l=sF(u);u.forEach(c=>{i[c[0]]=l})}},{key:"handleLocationLockChosen",value:function(r,n){if(r===n){this.setState({chooseViewHandler:null});return}this.addLock(r,n,this.locationLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})}},{key:"handleZoomLockChosen",value:function(r,n){if(r===n){this.setState({chooseViewHandler:null});return}this.addLock(r,n,this.zoomLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})}},{key:"handleViewportProjected",value:function(r,n,i){let o=null;if(r===n)console.warn("A view can not show its own viewport.");else{const a=hi(this.state.views[n].tracks,i),s=pd(this.state.views[n].tracks,i);o=Nt.nice();const u={uid:o,type:`viewport-projection-${{top:"horizontal",bottom:"horizontal",center:"center",left:"vertical",right:"vertical"}[s]}`,fromViewUid:r};this.addCallbacks(n,u),this.handleTrackAdded(n,u,s,null,a)}return this.setState({chooseTrackHandler:null}),o}},{key:"handleLocationYanked",value:function(r,n){const i=this.xScales[n],o=this.yScales[n],a=this.xScales[r],s=this.yScales[r],[u,l,c]=Qr(a,s),[h,f,p]=Qr(i,o);this.setCenters[r](h,f,c,!0),this.setState({chooseViewHandler:null})}},{key:"handleZoomYanked",value:function(r,n){const i=this.xScales[n],o=this.yScales[n],a=this.xScales[r],s=this.yScales[r],[u,l,c]=Qr(a,s),[h,f,p]=Qr(i,o);this.setCenters[r](u,l,p,!0),this.setState({chooseViewHandler:null})}},{key:"handleTrackPositionChosen",value:function(r,n,i){this.setState({addTrackPosition:n,addTrackExtent:i,addTrackPositionView:r})}},{key:"updateRowHeight",value:function(){if(!this.props.options||this.sizeMode!==U0&&this.sizeMode!==wc||this.props.options.pixelPreciseMarginPadding)return;const r=this.element.parentNode.clientHeight;let n=1,i=0;for(const l of hr(this.state.views)){n=Math.max(n,l.layout.y+l.layout.h);const c=l.tracks.top.filter(f=>f.height).map(f=>f.height).reduce((f,p)=>f+p,0),h=l.tracks.bottom.filter(f=>f.height).map(f=>f.height).reduce((f,p)=>f+p,0);i=Math.ceil(Math.max(i,(c+h)/l.layout.h))}this.handleDragStart(),this.handleDragStop();const o=(this.isEditable()?10:0)*n-1,a=r-o,s=Math.floor(a/n),u=Math.max(s,i);this.topDivRef.current&&this.setState({rowHeight:u})}},{key:"handleLayoutChange",value:function(r){this.element&&(r.forEach(n=>{const i=this.state.views[n.i];i&&(i.layout.x=n.x,i.layout.y=n.y,i.layout.w=n.w,i.layout.h=n.h,i.layout.i=n.i)}),this.updateRowHeight(),this.refreshView(zp))}},{key:"clearDragTimeout",value:function(){this.dragTimeout&&(clearTimeout(this.dragTimeout),this.dragTimeout=null)}},{key:"getTrackInfo",value:function(r){var n,i;if(lr[r])return lr[r];if((n=this.pluginTracks)!=null&&n[r])return this.pluginTracks[r].config;if((i=window.higlassTracksByType)!=null&&i[r])return window.higlassTracksByType[r].config;console.warn("Track type not found:",r,"(check app/scripts/config/ for a list of defined track types)")}},{key:"forceRefreshView",value:function(){this.setState(this.state)}},{key:"refreshView",value:function(r=cF){this.clearDragTimeout(),this.notifyDragChangedListeners(!0),this.clearDragTimeout(),this.dragTimeout=setTimeout(()=>{this.notifyDragChangedListeners(!1)},r)}},{key:"handleDragStart",value:function(){this.clearDragTimeout(),this.notifyDragChangedListeners(!0)}},{key:"handleDragStop",value:function(){this.clearDragTimeout(),this.dragTimeout=setTimeout(()=>{this.notifyDragChangedListeners(!1)},zp)}},{key:"resizeHandler",value:function(){Cb(this.viewHeaders).filter(r=>r).forEach(r=>r.checkWidth())}},{key:"calculateViewDimensions",value:function(r){let n=this.viewMarginTop+this.viewMarginBottom+this.viewPaddingTop+this.viewPaddingBottom,i=this.viewMarginLeft+this.viewMarginRight+this.viewPaddingLeft+this.viewPaddingRight,o=0;o+=10;const a=20;if(r.tracks.top)for(let v=0;v<r.tracks.top.length;v++){const b=r.tracks.top[v];n+=b.height?b.height:20,o+=b.height?b.height:20}if(r.tracks.bottom)for(let v=0;v<r.tracks.bottom.length;v++){const b=r.tracks.bottom[v];n+=b.height?b.height:20,o+=b.height?b.height:20}(r.tracks.left&&r.tracks.left.length>0||r.tracks.right&&r.tracks.right.length>0||r.tracks.center&&r.tracks.center.length>0)&&(o+=a);let s=0;if(r.tracks.left)for(let v=0;v<r.tracks.left.length;v++){const b=r.tracks.left[v],g=b.height?b.height:100;i+=b.width?b.width:0,s=Math.max(s,g)}let u=0;if(r.tracks.right)for(let v=0;v<r.tracks.right.length;v++){const b=r.tracks.right[v],g=b.height?b.height:100;i+=b.width?b.width:0,u=Math.max(u,g)}const l=Math.max(s,u);let c=0,h=0;if(r.tracks.center&&hr(r.tracks.center).length>0){if(!r.tracks.center[0].contents||r.tracks.center[0].contents.length>0){let v=null,b=null;if(r.tracks.center[0].contents)for(const g of r.tracks.center[0].contents)v=Math.max(v,g.height?g.height:100),b=Math.max(b,g.width?g.width:100);else v=r.tracks.center[0].height?r.tracks.center[0].height:100,b=r.tracks.center[0].width?r.tracks.center[0].width:100;c=v,h=b}}else(r.tracks.top&&hr(r.tracks.top).length>1||r.tracks.bottom&&hr(r.tracks.bottom).length>1)&&(r.tracks.left&&hr(r.tracks.left).length||r.tracks.right&&hr(r.tracks.right).length)&&(h=100,c=100);l>c?n+=l:n+=c;let f=0,p=0,d=0,m=0;return"top"in r.tracks&&(f=r.tracks.top.map(v=>v.height?v.height:20).reduce((v,b)=>v+b,0)),"bottom"in r.tracks&&(p=r.tracks.bottom.map(v=>v.height?v.height:20).reduce((v,b)=>v+b,0)),"left"in r.tracks&&(d=r.tracks.left.map(v=>v.width?v.width:0).reduce((v,b)=>v+b,0)),"right"in r.tracks&&(m=r.tracks.right.map(v=>v.width?v.width:0).reduce((v,b)=>v+b,0)),{totalWidth:i,totalHeight:n,topHeight:f,bottomHeight:p,leftWidth:d,rightWidth:m,centerWidth:h,centerHeight:c,minNecessaryHeight:o}}},{key:"calculateZoomLimits",value:function(r,n){const i=[0,Number.POSITIVE_INFINITY];if("zoomLimits"in r){const o=n[1]-n[0],a=r.zoomLimits;if(a.length!==2)return i;if(a[0]!==null&&a[0]>0){const s=o/a[0];i[1]=Math.max(s,1),s<1&&console.warn(`Invalid zoom limits. Lower limit set to ${o}`)}if(a[1]!==null&&a[1]>a[0]){const s=o/a[1];i[0]=Math.min(s,1),s>1&&console.warn(`Invalid zoom limits. Upper limit set to ${o}`)}}return i}},{key:"generateViewLayout",value:function(r){let n=null;return"layout"in r?{layout:n}=r.layout:n={x:0,y:0,w:HD,h:nCt},n}},{key:"handleClearView",value:function(r){const{views:n}=this.state;n[r].tracks.top=[],n[r].tracks.bottom=[],n[r].tracks.center=[],n[r].tracks.left=[],n[r].tracks.right=[],n[r].tracks.whole=[],this.setState({views:n})}},{key:"handleCloseView",value:function(r){hr(this.state.views).length!==1&&(this.handleUnlock(r,this.zoomLocks),this.setState(n=>(delete n.views[r],{views:this.removeInvalidTracks(n.views)})))}},{key:"handleSeriesAdded",value:function(r,n,i,o){const{tracks:a}=this.state.views[r];if(o.type==="combined")o.contents.push(n),o.uid=Nt.nice(),n.type==="heatmap"&&this.compatibilityfyStackedHeatmaps(n,o);else{const s={type:"combined",uid:Nt.nice(),height:o.height,width:o.width,contents:[o,n]},u=a[i];for(let l=0;l<u.length;l++)u[l].uid===o.uid&&(u[l]=s)}this.setState(s=>({views:s.views})),this.triggerViewChangeDb()}},{key:"handleNoTrackAdded",value:function(){this.state.addTrackPosition&&this.setState({addTrackPosition:null,addTrackExtent:null})}},{key:"handleTracksAdded",value:function(r,n,i,o,a){this.storeTrackSizes(r);for(const s of n)this.handleTrackAdded(r,s,i,o,a)}},{key:"handleChangeTrackType",value:function(r,n,i){const o=this.state.views[r],a=hi(o.tracks,n),s=a.uid;a.uid=Nt.nice(),a.type=i;const u=a.uid;this.updateTrackLocks(r,s,u),this.setState(l=>({views:l.views}))}},{key:"handleChangeTrackData",value:function(r,n,i){const o=this.state.views[r],a=hi(o.tracks,n);a.uid=Nt.nice(),a.data=i,this.setState(s=>({views:s.views}))}},{key:"handleTrackAdded",value:function(r,n,i,o=null,a=null){var s,u;if(this.addDefaultTrackOptions(n),n.uid||(n.uid=Nt.nice()),n.contents)for(const f of n.contents)this.addDefaultTrackOptions(f);if(this.state.addTrackPosition&&this.setState({addTrackPosition:null,addTrackExtent:null}),a)return this.handleSeriesAdded(r,n,i,a),null;n.position=i,o&&(n.options.extent=o);const l=this.getTrackInfo(n.type);n.width=l.defaultWidth||((s=l.defaultOptions)==null?void 0:s.minWidth)||this.minVerticalWidth,n.height=l.defaultHeight||((u=l.defaultOptions)==null?void 0:u.minHeight)||this.minHorizontalHeight;const{tracks:c}=this.state.views[r];let h=0;if(va(c,()=>h++),i==="left"||i==="top")c[i].unshift(n);else if(i==="center")if(c.center.length===0){const f={uid:Nt.nice(),type:"combined",contents:[n]};c.center=[f]}else if(c.center[0].type==="combined")c.center[0].contents.push(n),n.type==="heatmap"&&this.compatibilityfyStackedHeatmaps(n,c.center[0]);else{const f={uid:Nt.nice(),type:"combined",contents:[c.center[0],n]};c.center=[f],n.type==="heatmap"&&this.compatibilityfyStackedHeatmaps(n,f)}else c[i]||(c[i]=[]),c[i].push(n);return this.adjustLayoutToTrackSizes(this.state.views[r]),Object.keys(this.state.views).length===1&&h===0&&(this.handleZoomToData(r),this.zoomToDataExtentOnInit.add(r)),n}},{key:"compatibilityfyStackedHeatmaps",value:function(r,n){let i;n.contents.some(o=>(i=o,o.type==="heatmap"))&&(r.options.backgroundColor="transparent",r.options.showTooltip=i.options.showTooltip,r.options.showMousePosition=i.options.showMousePosition,r.options.mousePositionColor=i.options.mousePositionColor)}},{key:"storeTrackSizes",value:function(r){va(this.state.views[r].tracks,n=>{const i=this.tiledPlots[r].trackRenderer.getTrackObject(n.uid);i&&([n.width,n.height]=i.dimensions)})}},{key:"adjustLayoutToTrackSizes",value:function(r){if(!r.layout)return;const n=this.isEditable();let i=0;n&&(i+=iCt);const{totalHeight:o}=this.calculateViewDimensions(r);i+=o;const a=this.isEditable()?10:0;i+=a;const s=this.state.rowHeight+a;this.sizeMode!==U0&&this.sizeMode!==wc&&(r.layout.h=Math.ceil(i/s))}},{key:"handleCloseTrack",value:function(r,n){const{tracks:i}=this.state.views[r];this.handleUnlockValueScale(r,n);for(const o in i){const a=i[o],s=a.filter(u=>u.uid!==n);s.length===a.length?s.filter(u=>u.type==="combined").forEach(u=>{u.contents=u.contents.filter(l=>l.uid!==n)}):i[o]=s}return this.storeTrackSizes(r),this.adjustLayoutToTrackSizes(this.state.views[r]),this.setState(o=>({views:o.views})),this.state.views}},{key:"handleLockValueScale",value:function(r,n){this.setState({chooseTrackHandler:(i,o)=>this.handleValueScaleLocked(r,n,i,o)})}},{key:"combineViewAndTrackUid",value:function(r,n){const i=`${r}.${n}`;if(this.combinedUidToViewTrack[i]={view:r,track:n},this.viewTrackUidsToCombinedUid[r]){if(this.viewTrackUidsToCombinedUid[n])return this.viewTrackUidsToCombinedUid[r][n];this.viewTrackUidsToCombinedUid[r][n]=i}else this.viewTrackUidsToCombinedUid[r]={},this.viewTrackUidsToCombinedUid[r][n]=i;return i}},{key:"updateTrackLocks",value:function(r,n,i){const o=this.combineViewAndTrackUid(r,n),a=this.combineViewAndTrackUid(r,i);if(this.valueScaleLocks[o]){const s=this.valueScaleLocks[o];this.valueScaleLocks[a]=s,delete this.valueScaleLocks[o]}for(const s in this.valueScaleLocks)if(this.valueScaleLocks[s][o]){const u=this.valueScaleLocks[s][o];this.valueScaleLocks[s][a]=u,u.track=i,delete this.valueScaleLocks[s][o]}}},{key:"handleUnlockValueScale",value:function(r,n){if(this.tiledPlots[r].trackRenderer.getTrackObject(n).createdTracks){const i=lo(this.tiledPlots[r].trackRenderer.getTrackObject(n).createdTracks);for(const o of i)this.handleUnlock(this.combineViewAndTrackUid(r,o),this.valueScaleLocks)}else this.handleUnlock(this.combineViewAndTrackUid(r,n),this.valueScaleLocks)}},{key:"handleValueScaleLocked",value:function(r,n,i,o){if(this.tiledPlots[r].trackRenderer.getTrackObject(n).createdTracks){const u=lo(this.tiledPlots[r].trackRenderer.getTrackObject(n).createdTracks);for(const l of u)this.handleValueScaleLocked(r,l,i,o);return}if(this.tiledPlots[i].trackRenderer.getTrackObject(o).createdTracks){const u=lo(this.tiledPlots[i].trackRenderer.getTrackObject(o).createdTracks);for(const l of u)this.handleValueScaleLocked(r,n,i,l);return}const a=this.combineViewAndTrackUid(r,n),s=this.combineViewAndTrackUid(i,o);this.addLock(a,s,this.valueScaleLocks,u=>this.combinedUidToViewTrack[u]),this.syncValueScales(r,n),this.setState({chooseTrackHandler:null})}},{key:"addCallbacks",value:function(r,n){const i=this.getTrackInfo(n.type);if(n.type==="viewport-projection-center"||n.type==="viewport-projection-horizontal"||n.type==="viewport-projection-vertical"||i?.projection){const o=n.fromViewUid;n.registerViewportChanged=(a,s)=>this.addScalesChangedListener(o,a,s),n.removeViewportChanged=a=>this.removeScalesChangedListener(o,a),n.setDomainsCallback=(a,s)=>{if(!o){this.projectionXDomains[r]||(this.projectionXDomains[r]={}),this.projectionYDomains[r]||(this.projectionYDomains[r]={}),(n.type==="viewport-projection-horizontal"||n.type==="viewport-projection-center")&&(this.projectionXDomains[r][n.uid]=a),(n.type==="viewport-projection-vertical"||n.type==="viewport-projection-center")&&(this.projectionYDomains[r][n.uid]=s),this.triggerViewChangeDb();return}const u=Et().domain(a).range(this.xScales[o].range()),l=Et().domain(s).range(this.yScales[o].range()),[c,h,f]=Qr(u,l);this.setCenters[o](c,h,f,!1);let p=!1,d=!1;r in this.zoomLocks&&(p=o in this.zoomLocks[r]),p&&this.handleUnlock(r,this.zoomLocks),r in this.locationLocks&&(d=o in this.locationLocks[r]),d&&this.handleUnlock(r,this.locationLocks),this.handleScalesChanged(o,u,l,!0),p&&this.addLock(r,o,this.zoomLocks,this.viewScalesLockData),d&&this.addLock(r,o,this.locationLocks,this.viewScalesLockData)}}}},{key:"validateLocks",value:function(r){const n=[];for(const i of lo(r))(!r[i]||!r[i][i])&&n.push(i);for(const i of n)r[i]&&(console.warn(`View ${i} not present in lock group. Removing...`),this.handleUnlock(i,r),delete r[i])}},{key:"deserializeLocationLocks",value:function(r){if(this.locationLocks={},r.locationLocks)for(const n of lo(r.locationLocks.locksByViewUid))if(typeof r.locationLocks.locksByViewUid[n]!="object")this.locationLocks[n]=r.locationLocks.locksDict[r.locationLocks.locksByViewUid[n]];else{if("x"in r.locationLocks.locksByViewUid[n]){const i=r.locationLocks.locksDict[r.locationLocks.locksByViewUid[n].x.lock];this.locationLocksAxisWise.x[n]={lock:i,axis:r.locationLocks.locksByViewUid[n].x.axis}}if("y"in r.locationLocks.locksByViewUid[n]){const i=r.locationLocks.locksDict[r.locationLocks.locksByViewUid[n].y.lock];this.locationLocksAxisWise.y[n]={lock:i,axis:r.locationLocks.locksByViewUid[n].y.axis}}}this.validateLocks(this.locationLocks)}},{key:"deserializeZoomLocks",value:function(r){if(this.zoomLocks={},r.zoomLocks)for(const n of lo(r.zoomLocks.locksByViewUid))this.zoomLocks[n]=r.zoomLocks.locksDict[r.zoomLocks.locksByViewUid[n]];this.validateLocks(this.zoomLocks)}},{key:"deserializeValueScaleLocks",value:function(r){if(this.valueScaleLocks={},r.valueScaleLocks)for(const n of lo(r.valueScaleLocks.locksByViewUid))this.valueScaleLocks[n]=r.valueScaleLocks.locksDict[r.valueScaleLocks.locksByViewUid[n]]}},{key:"serializeLocks",value:function(r){var n;const i={},o={};for(const a of lo(r)){let s=(n=r[a])==null?void 0:n.uid;s||(s=Nt.nice()),r[a].uid=s,i[s]=r[a],o[a]=r[a].uid}return{locksByViewUid:o,locksDict:i}}},{key:"getViewsAsJson",value:function(r){const n=JSON.parse(JSON.stringify(this.state.viewConfig));return n.views=Object.values(r||this.state.views).map(i=>{const o=JSON.parse(JSON.stringify(i));return va(o.tracks,a=>{if(a.server&&!URL.canParse(a.server)){const s=new URL(window.location);s.pathname=a.server,a.server=s.href}(a.type==="viewport-projection-center"||a.type==="viewport-projection-horizontal")&&this.projectionXDomains[i.uid]&&this.projectionXDomains[i.uid][a.uid]&&(a.projectionXDomain=this.projectionXDomains[i.uid][a.uid]),(a.type==="viewport-projection-center"||a.type==="viewport-projection-vertical")&&this.projectionYDomains[i.uid]&&this.projectionYDomains[i.uid][a.uid]&&(a.projectionYDomain=this.projectionYDomains[i.uid][a.uid]),delete a.name,delete a.position,delete a.header,delete a.description,delete a.created,delete a.project,delete a.project_name,delete a.serverUidKey,delete a.uuid,delete a.private,delete a.maxZoom,delete a.coordSystem,delete a.coordSystem2,delete a.datatype,delete a.maxWidth,delete a.datafile,delete a.filetype,delete a.binsPerDimension,delete a.resolutions,delete a.row_infos,delete a.aggregationModes}),o.uid=i.uid,o.initialXDomain=this.xScales[i.uid].domain(),o.initialYDomain=this.yScales[i.uid].domain(),delete o.layout.i,o}),n.zoomLocks=this.serializeLocks(this.zoomLocks),n.locationLocks=this.serializeLocks(this.locationLocks),n.valueScaleLocks=this.serializeLocks(this.valueScaleLocks),n}},{key:"getViewsAsString",value:function(){return JSON.stringify(this.getViewsAsJson(),null,2)}},{key:"handleExportViewAsJSON",value:function(){const r=this.getViewsAsString();hd("viewconf.json",r)}},{key:"handleExportViewsAsLink",value:function(r=this.state.viewConfig.exportViewUrl,n=!1){const i=new URL(r,window.location.origin),o=fetch(r,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:`{"viewconf":${this.getViewsAsString()}}`,credentials:"same-origin"}).then(a=>{if(!a.ok)throw a;return a.json()}).catch(a=>{console.warn("err:",a)}).then(a=>({id:a.uid,url:`${i.origin}/l/?d=${a.uid}`}));return n||o.then(a=>{this.openModal(P.createElement(UP,{onDone:()=>{this.closeModalBound()},url:a.url}))}).catch(a=>console.error("Exporting view config as link failed:",a)),o}},{key:"handleDataDomainChanged",value:function(r,n,i){const{views:o}=this.state;if(o[r].initialXDomain=n,o[r].initialYDomain=i,this.xScales[r]=Et().domain(n),this.yScales[r]=Et().domain(i),this.zoomLocks[r]){const a=this.zoomLocks[r],s=Fi(a);for(let u=0;u<s.length;u++){const l=s[u][0];l in this.locationLocks&&(o[l].initialXDomain=n,o[l].initialYDomain=i,this.xScales[l]=Et().domain(n),this.yScales[l]=Et().domain(i))}}this.setState({views:o})}},{key:"viewPositionAvailable",value:function(r,n,i,o){const a=r+i,s=n+o;if(r+i>HD)return!1;const u=hr(this.state.views);for(let l=0;l<u.length;l++){const c=u[l].layout.x,h=u[l].layout.y,f=c+u[l].layout.w,p=h+u[l].layout.h;if(r<f&&a>c&&n<p&&s>h)return!1}return!0}},{key:"handleAddView",value:function(r,n,i){const o=hr(this.state.views),a=r,s=[];r.layout.w===12&&(r.layout.w=6);for(let f=0;f<o.length;f++){let p=o[f].layout.x+o[f].layout.w,d=o[f].layout.y;this.viewPositionAvailable(p,d,r.layout.w,r.layout.h)&&s.push([p,d]),p=o[f].layout.x,d=o[f].layout.y+o[f].layout.h,this.viewPositionAvailable(p,d,r.layout.w,r.layout.h)&&s.push([p,d])}s.sort((f,p)=>{const d=f[1]-p[1];return d===0?f[0]-p[0]:d});const u=JSON.stringify(a);let l=JSON.parse(u);l.initialXDomain=this.xScales[l.uid].domain(),l.initialYDomain=this.yScales[l.uid].domain(),n&&(l={...l,...n}),[[l.layout.x,l.layout.y]]=s,l.uid=Nt.nice(),l.layout.i=l.uid,this.xScales[l.uid]=Et().domain(l.initialXDomain),this.yScales[l.uid]=Et().domain(l.initialYDomain),va(l.tracks,f=>{this.addCallbacks(l.uid,f)});const c=f=>{const p=JSON.parse(JSON.stringify(f));return p[l.uid]=l,p};let h=null;return i?h=c(this.state.views):this.setState(f=>(h=c(f.views),{views:h})),{newViewUid:l.uid,newViewconf:this.getViewsAsJson(h)}}},{key:"createGenomePostionSearchBoxEntry",value:function(r,n){let i=r;const o={autocompleteServer:sx,chromInfoServer:sx,visible:!1};return i||(i=JSON.parse(JSON.stringify(o))),i.autocompleteServer||(i.autocompleteServer=o.autocompleteServer),i.chromInfoId||(i.chromInfoId=n),i.chromInfoServer||(i.chromInfoServer=o.chromInfoServer),i.visible||(i.visible=!1),i}},{key:"handleTogglePositionSearchBox",value:function(r){const n=this.state.views[r];n.genomePositionSearchBoxVisible=!n.genomePositionSearchBoxVisible;const i={};va(n.tracks,s=>{s.coordSystem&&(i[s.coordSystem]||(i[s.coordSystem]=0),i[s.coordSystem]+=1)});const o=Fi(i).sort((s,u)=>u[1]-s[1]);let a="hg19";o.length&&(a=o[0][0]),n.genomePositionSearchBox=this.createGenomePostionSearchBoxEntry(n.genomePositionSearchBox,a),n.genomePositionSearchBox.visible=!n.genomePositionSearchBox.visible,this.refreshView(),this.setState({configMenuUid:null})}},{key:"handleTrackOptionsChanged",value:function(r,n,i){const o=this.state.views[r],a=hi(o.tracks,n);a&&(a.options=Object.assign(a.options,i),this.mounted&&(this.setState(s=>({views:s.views})),this.adjustSplitHeatmapTrackOptions(a,i,o.tracks,r)))}},{key:"adjustSplitHeatmapTrackOptions",value:function(r,n,i,o){r.type==="heatmap"&&(n.extent==="upper-right"&&i.center[0].type==="combined"&&i.center[0].contents.length>1&&i.center[0].contents.some(a=>{if(a.type==="heatmap"&&a.uid!==r.uid&&a.options.extent==="full"){const s={...a.options,extent:"lower-left",labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"},u={...n,labelPosition:"topRight",colorbarPosition:"topRight"};return this.handleTrackOptionsChanged(o,a.uid,s),this.handleTrackOptionsChanged(o,r.uid,u),!0}return!1}),n.extent==="lower-left"&&n.extent==="lower-left"&&i.center[0].type==="combined"&&i.center[0].contents.length>1&&i.center[0].contents.some(a=>{if(a.type==="heatmap"&&a.uid!==r.uid&&a.options.extent==="full"){const s={...a.options,extent:"upper-right",labelPosition:"topRight",colorbarPosition:"topRight"},u={...n,labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"};return this.handleTrackOptionsChanged(o,a.uid,s),this.handleTrackOptionsChanged(o,r.uid,u),!0}return!1}))}},{key:"handleViewOptionsChanged",value:function(r,n){const i=this.state.views[r];i&&(i.options=Object.assign(i.options||{},n),this.mounted&&this.setState(o=>({views:o.views})))}},{key:"isTrackValid",value:function(r,n){return!(r.type==="viewport-projection-center"&&!n.has(r.fromViewUid))}},{key:"removeInvalidTracks",value:function(r){const n=new Set(lo(r));for(const i of hr(r))for(const o of["left","top","center","right","bottom"])o in(i.tracks??{})&&(i.tracks[o]=i.tracks[o].filter(a=>this.isTrackValid(a,n)),i.tracks[o].forEach(a=>{a.type==="combined"&&(a.contents=a.contents.filter(s=>this.isTrackValid(s,n)))}));return r}},{key:"processViewConfig",value:function(r){let{views:n}=r,i={},o=1;(!r.views||r.views.length===0)&&(console.warn("No views provided in viewConfig"),n=[{editable:!0,tracks:{}}]),n.forEach(s=>{s.tracks&&wF(s.tracks),s.uid||(s.uid=Nt.nice()),i[s.uid]=s,this.zoomToDataExtentOnInit.has(s.uid)&&this.zoomToDataExtentOnInit.delete(s.uid),s.initialXDomain?(s.initialXDomain[0]=+s.initialXDomain[0],s.initialXDomain[1]=+s.initialXDomain[1]):(s.initialXDomain=[0,100],this.zoomToDataExtentOnInit.add(s.uid)),s.initialYDomain?(s.initialXDomain[0]=+s.initialXDomain[0],s.initialXDomain[1]=+s.initialXDomain[1]):s.initialYDomain=[s.initialXDomain[0],s.initialXDomain[1]],this.xScales[s.uid]||(this.xScales[s.uid]=Et().domain(s.initialXDomain)),this.yScales[s.uid]||(this.yScales[s.uid]=Et().domain(s.initialYDomain)),va(s.tracks,u=>{var l,c;if((c=(l=this.state)==null?void 0:l.views)!=null&&c[s.uid]){const h=hi(this.state.views[s.uid].tracks,u.uid);h&&(u.maxZoom=h.maxZoom,u.resolutions=h.resolutions,u.binsPerDimension=h.binsPerDimension,u.maxWidth=h.maxWidth)}if(u.uid||(u.uid=Nt.nice()),this.addCallbacks(s.uid,u),this.addDefaultTrackOptions(u),u.contents)for(const h of u.contents)this.addDefaultTrackOptions(h)}),s.layout?s.layout.i=s.uid:s.layout=this.generateViewLayout(s),o=Math.max(o,s.layout.y+s.layout.h)});const a=Math.ceil(12/o);return n.forEach(s=>{s.layout.h*=a,s.layout.y*=a}),this.deserializeZoomLocks(r),this.deserializeLocationLocks(r),this.deserializeValueScaleLocks(r),i=this.removeInvalidTracks(i),i}},{key:"handleWindowFocused",value:function(){}},{key:"rangeSelectionHandler",value:function(r){this.rangeSelection=r,this.apiPublish("rangeSelection",r)}},{key:"offViewChange",value:function(r){const n=this.viewChangeListener.indexOf(r);n>-1&&this.viewChangeListener.splice(n,1)}},{key:"onViewChange",value:function(r){return this.viewChangeListener.push(r)-1}},{key:"triggerViewChange",value:function(){const r=this.getViewsAsString();this.viewChangeListener.forEach(n=>n(r))}},{key:"getGenomeLocation",value:function(r){return CO.get(this.state.views[r].chromInfoPath).then(n=>jF(this.xScales[r],this.yScales[r],n))}},{key:"offLocationChange",value:function(r,n){this.removeScalesChangedListener(r,n)}},{key:"zoomTo",value:function(r,n,i,o,a,s){if(!(r in this.setCenters))throw Error(`Invalid viewUid. Current uuids: ${Object.keys(this.setCenters).join(",")}`);if(Number.isNaN(+n)||Number.isNaN(+i)){const h=[n,i].join(", ");console.warn([`Invalid coordinates (${h}). All coordinates need to be numbers
        and should represent absolute coordinates (not chromosome
        coordinates).`].join(" "));return}(Number.isNaN(+o)||Number.isNaN(+a)||o===null||a===null)&&(o=n,a=i);const[u,l,c]=Qr(this.xScales[r].copy().domain([n,i]),this.yScales[r].copy().domain([o,a]));this.setCenters[r](u,l,c,!1,s)}},{key:"zoomToGene",value:function(r,n,i,o){if(!(r in this.setCenters))throw Error(`Invalid viewUid. Current uuids: ${Object.keys(this.setCenters).join(",")}`);if(!this.state.views[r].genomePositionSearchBox||!this.state.views[r].genomePositionSearchBox.autocompleteServer||!this.state.views[r].genomePositionSearchBox.autocompleteId||!this.state.views[r].chromInfoPath){console.warn("Please set chromInfoPath, autocompleteServer, and autocompleteId to use the zoomToGene API");return}this.suggestGene(r,n,a=>{if(a){const s=a.find(u=>u.geneName.toLowerCase()===n.toLowerCase());if(s){const{chr:u,txStart:l,txEnd:c}=s;Es(this.state.views[r].chromInfoPath,h=>{const f=h.chrToAbs([u,l])-i,p=h.chrToAbs([u,c])+i,[d,m,v]=Qr(this.xScales[r].copy().domain([f,p]),this.yScales[r].copy().domain([f,p]));this.setCenters[r](d,m,v,!1,o)},this.pubSub)}else console.warn(`Couldn't find the gene symbol: ${n}`)}})}},{key:"suggestGene",value:function(r,n,i){if(!(r in this.setCenters))throw Error(`Invalid viewUid. Current uuids: ${Object.keys(this.setCenters).join(",")}`);if(!this.state.views[r].genomePositionSearchBox||!this.state.views[r].genomePositionSearchBox.autocompleteServer||!this.state.views[r].genomePositionSearchBox.autocompleteId){console.warn("Please set autocompleteServer and autocompleteId to use the suggestGene API");return}const o=this.state.views[r].genomePositionSearchBox.autocompleteServer,a=this.state.views[r].genomePositionSearchBox.autocompleteId,s=`${o}/suggest/?d=${a}&ac=${n.toLowerCase()}`;_t.json(s,X0,this.pubSub).then(u=>{i(u)}).catch(u=>console.error(u))}},{key:"onLocationChange",value:function(r,n,i){const o=Object.keys(this.state.views);if(!o.length)return this.unsetOnLocationChange.push({viewId:r,callback:n,callbackId:i}),null;if(r=typeof r>"u"&&o.length===1?o[0]:r,typeof r>"u"||o.indexOf(r)===-1)return console.error("onLocationChange either missing a viewId or passed an invalid viewId: ",r),null;const a=this.state.views[r],s=(l,c)=>{n({xDomain:l.domain(),yDomain:c.domain(),xRange:l.range(),yRange:c.range()})};let u=1;return this.scalesChangedListeners[a.uid]&&(u=Object.keys(this.scalesChangedListeners[a.uid]).filter(l=>l.indexOf(Hp)===0).map(l=>Number.parseInt(l.slice(Hp.length+1),10)).reduce((l,c)=>Math.max(l,c),0)+1),this.addScalesChangedListener(a.uid,`${Hp}.${u}`,s),i&&i(`${Hp}.${u}`),u}},{key:"getTiledPlotAtPosition",value:function(r,n){let i;const o=hr(this.state.views);for(let a=0;a<o.length;a++){const s=this.tiledPlots[o[a].uid],u=this.tiledAreasDivs[o[a].uid].getBoundingClientRect(),{top:l,left:c}=u,h=l+u.height,f=c+u.width,p=r>=c&&r<=f,d=n>=l&&n<=h;if(p&&d){i=s;break}}return i}},{key:"mouseMoveHandler",value:function(r){if(!this.topDivRef.current||this.state.modal)return;const n=r.clientX,i=r.clientY,o=sr(r,this.topDivRef.current);o[1]+=this.scrollTop;const a=this.getTiledPlotAtPosition(n,i),s=a?a.listTracksAtPosition(o[0],o[1],!0).map(p=>p.originalTrack||p):[],u=s.find(p=>!p.isAugmentationTrack),l=u?[o[0]-u.position[0],o[1]-u.position[1]]:o;let c=-1,h=-1;u&&(c=u.flipText?u._xScale.invert(l[1]):u._xScale.invert(l[0]),h=u.is2d?u._yScale.invert(l[1]):c);const f={x:o[0],y:o[1],relTrackX:u?.flipText?l[1]:l[0],relTrackY:u?.flipText?l[0]:l[1],dataX:c,dataY:h,isFrom2dTrack:!!u?.is2d,isFromVerticalTrack:!!u?.flipText,track:u,origEvt:r,sourceUid:this.uid,hoveredTracks:s,noHoveredTracks:s.length===0};if(this.pubSub.publish("app.mouseMove",f),this.isBroadcastMousePositionGlobally){const p={...f};p.origEvt=void 0,p.track=void 0,p.hoveredTracks=void 0,delete p.origEvt,delete p.track,delete p.hoveredTracks,cd.publish("higlass.mouseMove",p)}this.apiPublish("cursorLocation",{absX:n,absY:i,relX:f.x,relY:f.y,relTrackX:f.relTrackX,relTrackY:f.relTrackY,dataX:f.dataX,dataY:f.dataY,isFrom2dTrack:f.isFrom2dTrack,isFromVerticalTrack:f.isFromVerticalTrack}),this.showHoverMenu(f)}},{key:"getMinMaxValue",value:function(r,n,i,o){const a=Up(this.tiledPlots,r,n);if(!a){console.warn(`Track with ID: ${n} not found!`);return}if(!a.minVisibleValueInTiles||!a.maxVisibleValueInTiles){console.warn(`Track ${n} doesn't support the retrieval of min or max values.`);return}return i&&a.getAggregatedVisibleValue?[a.getAggregatedVisibleValue("min"),a.getAggregatedVisibleValue("max")]:[a.minVisibleValueInTiles(o),a.maxVisibleValueInTiles(o)]}},{key:"showHoverMenu",value:function(r){var n,i;const o=(n=r.track)!=null&&n.getMouseOverHtml?r.track.getMouseOverHtml(r.relTrackX,r.relTrackY):"";if(r.track!==this.prevMouseHoverTrack&&(i=this.prevMouseHoverTrack)!=null&&i.stopHover&&this.prevMouseHoverTrack.stopHover(),this.prevMouseHoverTrack=r.track,this.zooming)return;const a=o?.length?[1]:[];let s=ut("body").selectAll(".track-mouseover-menu").data(a);s.exit().remove(),s.enter().append("div").classed("track-mouseover-menu",!0).classed(ao["track-mouseover-menu"],!0),s=ut("body").selectAll(".track-mouseover-menu");const u=sr(r.origEvt,ut("body").node()),l=[u[0]-window.scrollX,u[1]-window.scrollY];if(s.style("left",`${l[0]}px`).style("top",`${l[1]}px`),!s.node())return;const c=s.node().getBoundingClientRect();c.x+c.width>window.innerWidth&&s.style("left",`${l[0]-c.width}px`),c.y+c.height>window.innerHeight&&s.style("top",`${l[1]-c.height}px`),s.html(o)}},{key:"hideHoverMenu",value:function(){ut("body").selectAll(".track-mouseover-menu").remove()}},{key:"closeCustomDialog",value:function(){this.setState(r=>({customDialog:null}))}},{key:"appClickHandler",value:function(r){this.apiPublish("click",r)}},{key:"canvasClickHandler",value:function(r){const n=r.nativeEvent||r,i=n.clientX,o=n.clientY,a=this.getTiledPlotAtPosition(i,o),s=sr(n,this.topDivRef.current);s[1]+=this.scrollTop;const u=a?a.listTracksAtPosition(s[0],s[1],!0).map(m=>m.originalTrack||m):[],l=u.find(m=>!m.isAugmentationTrack),c=l?[s[0]-l.position[0],s[1]-l.position[1]]:s,h=l?.flipText?c[1]:c[0],f=l?.flipText?c[0]:c[1];for(const m of this.iterateOverTracks()){const v=Up(this.tiledPlots,m.viewId,m.trackId);v.respondsToPosition(s[0],s[1])||v.clickOutside()}const p=[];for(const m of u)if(m.childTracks){for(const v of m.childTracks)p.push({trackUid:v.context.trackUid,viewUid:v.context.viewUid,trackType:v.context.trackType,data:v.click(h,f,r)});p.push({trackUid:m.context.trackUid,viewUid:m.context.viewUid,trackType:m.context.trackType,data:{type:"generic",event:r}})}else p.push({trackUid:m.context.trackUid,viewUid:m.context.viewUid,trackType:m.context.trackType,data:m.click(h,f,r)});const d=[];p.forEach((m,v)=>{const b=Up(this.tiledPlots,m.viewUid,m.trackUid);if(typeof b.clickDialog=="function"){const g=b.clickDialog();g&&d.push(g)}}),d.length>0&&this.setState(m=>({customDialog:d})),this.pubSub.publish("app.click",p)}},{key:"mouseMoveZoomHandler",value:function(r){this.apiPublish("mouseMoveZoom",r)}},{key:"geneSearchHandler",value:function(r){this.apiPublish("geneSearch",r)}},{key:"mouseDownHandler",value:function(r){}},{key:"onScrollHandler",value:function(){this.sizeMode===yl&&(this.scrollTop=this.scrollContainer.scrollTop,this.pixiStage.y=-this.scrollTop,this.pubSub.publish("app.scroll",this.scrollTop),this.animate())}},{key:"setTrackValueScaleLimits",value:function(r,n,i,o){const a=Up(this.tiledPlots,r,n);if(!a){console.warn(`Could't find track: ${n}`);return}a.setFixedValueScaleMin&&a.setFixedValueScaleMax?(a.setFixedValueScaleMin(i),a.setFixedValueScaleMax(o),a.rerender(a.options,!0),a.animate()):console.warn("Track doesn't support fixed value scales.")}},{key:"setChromInfo",value:function(r,n){Es(r,i=>{this.chromInfo=i,n()},this.pubSub)}},{key:"onMouseLeaveHandler",value:function(){this.pubSub.publish("app.mouseLeave"),this.hideHoverMenu(),this.animate()}},{key:"onBlurHandler",value:function(){this.animate()}},{key:"isZoomFixed",value:function(r){return this.props.zoomFixed||this.props.options.zoomFixed||this.state.viewConfig.zoomFixed||this.sizeMode===yl||r?.zoomFixed}},{key:"trackDimensionsModifiedHandler",value:function(r){const n=this.state.views[r.viewId];if(!n)return;const i=hi(n.tracks,r.trackId);i&&(r.height!==void 0&&(i.height=r.height),r.width!==void 0&&(i.width=r.width),this.adjustLayoutToTrackSizes(n),this.setState(o=>({views:o.views})))}},{key:"wheelHandler",value:function(r){if(this.state.modal||this.sizeMode===yl)return;const n=r.nativeEvent||r;if(!kF(n.target,this.topDivRef.current)||this.isZoomFixed())return;const i=n.clientX,o=n.clientY,a=this.getTiledPlotAtPosition(i,o);if(this.apiStack.wheel&&this.apiStack.wheel.length>0){const u=sr(n,this.topDiv);u[1]+=this.scrollTop;const l=a?a.listTracksAtPosition(u[0],u[1],!0).map(p=>p.originalTrack||p):[],c=l.find(p=>!p.isAugmentationTrack),h=c?[u[0]-c.position[0],u[1]-c.position[1]]:u,f={x:u[0],y:u[1],relTrackX:c?.flipText?h[1]:h[0],relTrackY:c?.flipText?h[0]:h[1],track:c,origEvt:n,sourceUid:this.uid,hoveredTracks:l,noHoveredTracks:l.length===0};this.apiPublish("wheel",f)}const s=r.target===this.canvasElement;if(n.forwarded||s){r.stopPropagation(),r.preventDefault();return}if(r.preventDefault(),a){const{trackRenderer:u}=a;n.forwarded=!0,n&&(G0(n,u.eventTracker),n.preventDefault())}}},{key:"viewUidToName",value:function(r){const n=Object.keys(this.state.views);for(let i=0;i<n.length;i++)if(n[i]===r)return String.fromCharCode(65+i);return"UU"}},{key:"render",value:function(){this.tiledAreasDivs={},this.tiledAreas=P.createElement("div",{className:ao["tiled-area"]}),this.mounted&&(this.tiledAreas=hr(this.state.views).map(u=>{const l=u.uid===this.state.addTrackPositionMenuUid?this.state.addTrackPositionMenuPosition:null;let c=null;if(this.state.chooseViewHandler){let b="transparent";this.state.mouseOverOverlayUid===u.uid&&(b="green"),c=P.createElement("div",{className:"tiled-plot-overlay",onClick:()=>this.state.chooseViewHandler(u.uid),onMouseEnter:()=>this.handleOverlayMouseEnter(u.uid),onMouseLeave:()=>this.handleOverlayMouseLeave(u.uid),onMouseMove:()=>this.handleOverlayMouseEnter(u.uid),style:{position:"absolute",width:"100%",height:"100%",background:b,opacity:.3,zIndex:1}})}const h=P.createElement(m9t,{key:`tp${u.uid}`,ref:b=>{this.tiledPlots[u.uid]=b},addTrackExtent:this.state.addTrackPositionView===u.uid?this.state.addTrackExtent:null,addTrackPosition:this.state.addTrackPositionView===u.uid?this.state.addTrackPosition:null,addTrackPositionMenuPosition:l,apiPublish:this.apiPublish,canvasElement:this.state.canvasElement,chooseTrackHandler:this.state.chooseTrackHandler?(b,g)=>this.state.chooseTrackHandler(u.uid,b,g):null,customDialog:this.state.customDialog,closeCustomDialog:()=>this.closeCustomDialog(),chromInfoPath:u.chromInfoPath,disableTrackMenu:this.isTrackMenuDisabled(),draggingHappening:this.state.draggingHappening,editable:this.isEditable(),genomePositionSearchBox:this.genomePositionSearchBoxes[u.uid],getLockGroupExtrema:b=>this.getLockGroupExtrema(u.uid,b),initialXDomain:u.initialXDomain,initialYDomain:u.initialYDomain,isShowGlobalMousePosition:this.isShowGlobalMousePosition,isValueScaleLocked:b=>this.isValueScaleLocked(u.uid,b),marginBottom:this.viewMarginBottom,marginLeft:this.viewMarginLeft,marginRight:this.viewMarginRight,marginTop:this.viewMarginTop,metaTracks:u.metaTracks,mouseTool:this.state.mouseTool,onChangeTrackData:(b,g)=>this.handleChangeTrackData(u.uid,b,g),onChangeTrackType:(b,g)=>this.handleChangeTrackType(u.uid,b,g),onCloseTrack:b=>this.handleCloseTrack(u.uid,b),onDataDomainChanged:(b,g)=>this.handleDataDomainChanged(u.uid,b,g),onLockValueScale:b=>this.handleLockValueScale(u.uid,b),onMouseMoveZoom:this.mouseMoveZoomHandler.bind(this),onNewTilesLoaded:b=>this.handleNewTilesLoaded(u.uid,b),onNoTrackAdded:this.handleNoTrackAdded.bind(this),onRangeSelection:this.rangeSelectionHandler.bind(this),onResizeTrack:()=>{this.adjustLayoutToTrackSizes(u),this.triggerViewChangeDb()},onScalesChanged:(b,g)=>this.handleScalesChanged(u.uid,b,g),onTrackOptionsChanged:(b,g)=>this.handleTrackOptionsChanged(u.uid,b,g),onTrackPositionChosen:this.handleTrackPositionChosen.bind(this),onTracksAdded:(b,g,y,_)=>this.handleTracksAdded(u.uid,b,g,y,_),onUnlockValueScale:b=>this.handleUnlockValueScale(u.uid,b),onValueScaleChanged:b=>this.syncValueScales(u.uid,b),overlays:u.overlays,overTrackChooser:this.state.overTrackChooser,paddingBottom:this.viewPaddingBottom,paddingLeft:this.viewPaddingLeft,paddingRight:this.viewPaddingRight,paddingTop:this.viewPaddingTop,pixiRenderer:this.pixiRenderer,pixiStage:this.pixiStage,pluginDataFetchers:this.pluginDataFetchers,pluginTracks:this.pluginTracks,rangeSelection1dSize:this.state.rangeSelection1dSize,rangeSelectionToInt:this.state.rangeSelectionToInt,registerDraggingChangedListener:b=>this.addDraggingChangedListener(u.uid,u.uid,b),removeDraggingChangedListener:b=>this.removeDraggingChangedListener(u.uid,u.uid,b),setCentersFunction:b=>{this.setCenters[u.uid]=b},setOverTrackChooser:b=>this.setState({overTrackChooser:b}),svgElement:this.state.svgElement,tracks:u.tracks,trackSourceServers:this.state.viewConfig.trackSourceServers,uid:u.uid,verticalMargin:this.verticalMargin,viewOptions:u.options,xDomainLimits:u.xDomainLimits,yDomainLimits:u.yDomainLimits,zoomable:!this.isZoomFixed(u),zoomLimits:this.calculateZoomLimits(u,u.initialXDomain),zoomToDataExtentOnInit:()=>this.zoomToDataExtentOnInit.has(u.uid)}),f=W4t(u.tracks),p=f.filter(b=>b.type==="horizontal-gene-annotations"||b.type==="vertical-gene-annotations"||b.type==="gene-annotations"),d=f.filter(b=>b.type==="horizontal-chromosome-labels"||b.type==="vertical-chromosome-labels"||b.type==="chromosome-labels"),m=(b,g)=>P.createElement(nnt,{key:`gpsb${u.uid}`,ref:y=>{this.genomePositionSearchBoxes[u.uid]=y},autocompleteId:p.length===1?p[0].tilesetUid:null,autocompleteServer:p.length===1?p[0].server:null,chromInfoId:d.length?d[0].tilesetUid:null,chromInfoServer:d.length?d[0].server:null,isFocused:b,onFocus:g,registerViewportChangedListener:y=>this.addScalesChangedListener(u.uid,u.uid,y),removeViewportChangedListener:()=>this.removeScalesChangedListener(u.uid,u.uid),setCenters:(y,_,w,T)=>this.setCenters[u.uid](y,_,w,!1,T),trackSourceServers:this.state.viewConfig.trackSourceServers,twoD:!0,error:d.length===0&&"no chromosome track present"||d.length>=2&&"multiple chromosome tracks present"||p.length>=2&&"multiple annotation tracks present"}),v=this.isEditable()&&!this.isViewHeaderDisabled()&&!this.state.viewConfig.hideHeader?P.createElement(H4t,{ref:b=>{this.viewHeaders[u.uid]=b},getGenomePositionSearchBox:m,isGenomePositionSearchBoxVisible:!0,mouseTool:this.state.mouseTool,onAddView:()=>this.handleAddView(u),onClearView:()=>this.handleClearView(u.uid),onCloseView:()=>this.handleCloseView(u.uid),onEditViewConfig:this.handleEditViewConfigBound,onExportPNG:this.handleExportPNG.bind(this),onExportSVG:this.handleExportSVG.bind(this),onExportViewsAsJSON:this.handleExportViewAsJSON.bind(this),onExportViewsAsLink:this.handleExportViewsAsLink.bind(this),onLockLocation:b=>this.handleYankFunction(b,this.handleLocationLockChosen.bind(this)),onLockZoom:b=>this.handleYankFunction(b,this.handleZoomLockChosen.bind(this)),onLockZoomAndLocation:b=>this.handleYankFunction(b,(g,y)=>{this.handleZoomLockChosen(g,y),this.handleLocationLockChosen(g,y)}),onProjectViewport:this.handleProjectViewport.bind(this),onTakeAndLockZoomAndLocation:b=>{this.handleYankFunction(b,(g,y)=>{this.handleZoomYanked(g,y),this.handleLocationYanked(g,y),this.handleZoomLockChosen(g,y),this.handleLocationLockChosen(g,y)})},onTogglePositionSearchBox:this.handleTogglePositionSearchBox.bind(this),onTrackPositionChosen:(b,g)=>this.handleTrackPositionChosen(u.uid,b,g),onUnlockLocation:b=>this.handleUnlock(b,this.locationLocks),onUnlockZoom:b=>this.handleUnlock(b,this.zoomLocks),onUnlockZoomAndLocation:b=>{this.handleUnlock(b,this.zoomLocks),this.handleUnlock(b,this.locationLocks)},onViewOptionsChanged:b=>this.handleViewOptionsChanged(u.uid,b),onYankLocation:b=>this.handleYankFunction(b,this.handleLocationYanked.bind(this)),onYankZoom:b=>this.handleYankFunction(b,this.handleZoomYanked.bind(this)),onYankZoomAndLocation:b=>this.handleYankFunction(b,(g,y)=>{this.handleZoomYanked(g,y),this.handleLocationYanked(g,y)}),onZoomToData:b=>this.handleZoomToData(b),viewUid:u.uid}):null;return P.createElement("div",{key:u.uid},P.createElement("div",{ref:b=>{this.tiledAreasDivs[u.uid]=b},className:ao["tiled-area"]},v,h,c))}));let r=this.mounted?Object.values(this.state.views).filter(u=>u.layout).map(u=>u.layout):[];r=JSON.parse(JSON.stringify(r));const n=this.isEditable()?lF:0,i=this.isEditable()?uF:0,o=+this.props.options.containerPaddingX>=0?+this.props.options.containerPaddingX:n,a=+this.props.options.containerPaddingY>=0?+this.props.options.containerPaddingY:i,s=P.createElement(qae,{ref:u=>{this.gridLayout=u},cols:12,containerPadding:[o,a],draggableHandle:`.${Li["multitrack-header-grabber"]}`,isDraggable:this.isEditable(),isResizable:this.isEditable(),layout:r,margin:this.isEditable()?[10,10]:[0,0],measureBeforeMount:!1,onBreakpointChange:this.onBreakpointChange.bind(this),onDragStart:this.handleDragStart.bind(this),onDragStop:this.handleDragStop.bind(this),onLayoutChange:this.handleLayoutChange.bind(this),onResize:this.resizeHandler.bind(this),rowHeight:this.state.rowHeight,useCSSTransforms:this.mounted,verticalCompact:this.state.viewConfig.compactLayout,width:this.state.width},this.tiledAreas);return P.createElement("div",{key:this.uid,ref:this.topDivRef,className:Gt("higlass",ao.higlass,{[ao["higlass-dark-theme"]]:this.theme===br,[ao["higlass-container-overflow"]]:this.sizeMode===V0||this.sizeMode===wc||this.sizeMode===yl}),onMouseLeave:this.onMouseLeaveHandlerBound,onMouseMove:this.mouseMoveHandlerBound},P.createElement(Wrt,{value:this.pubSub},P.createElement(ort,{value:this.modal},P.createElement(Iot,{value:this.theme},P.createElement(Y4t.Provider,{value:{viewUidToName:this.viewUidToNameBound}},this.state.modal,P.createElement("canvas",{key:this.uid,ref:u=>{this.canvasElement=u},onClick:this.canvasClickHandlerBound,className:ao["higlass-canvas"]}),P.createElement("div",{ref:u=>{this.scrollContainer=u},className:Gt("higlass-scroll-container",{[ao["higlass-scroll-container-overflow"]]:this.sizeMode===V0||this.sizeMode===wc,[ao["higlass-scroll-container-scroll"]]:this.sizeMode===yl}),onScroll:this.onScrollHandlerBound},P.createElement("div",{ref:u=>{this.divDrawingSurface=u},className:Gt("higlass-drawing-surface",ao["higlass-drawing-surface"])},s),P.createElement("svg",{ref:u=>{this.svgElement=u},style:{position:"absolute",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none"},className:ao["higlass-svg"]})))))))}}])})(P.Component);rm.defaultProps={options:{},zoomFixed:!1,compactLayout:!0};rm.propTypes={getApi:j.func,options:j.object,viewConfig:j.oneOfType([j.string,j.object]).isRequired,zoomFixed:j.bool,compactLayout:j.bool};function oCt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aCt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lCt(n.key),n)}}function sCt(e,t,r){return t&&aCt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lCt(e){var t=uCt(e,"string");return typeof t=="symbol"?t:t+""}function uCt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cCt(e,t,r){return t=Vv(t),hCt(e,qq()?Reflect.construct(t,r||[],Vv(e).constructor):t.apply(e,r))}function hCt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fCt(e)}function fCt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qq=function(){return!!e})()}function Vv(e){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vv(e)}function pCt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s9(e,t)}function s9(e,t){return s9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},s9(e,t)}const dCt=(e,[t,r,n,i],o)=>{o.options.colorbarPosition||(o.options.colorbarPosition="hidden"),o.options.labelPosition||(o.options.labelPosition="hidden");const a="arbitary-id",s=yCt(e,{editable:!1,zoomFixed:!1,views:[{uid:a,initialXDomain:[t,r],initialYDomain:[n,i],tracks:{center:[o]},layout:{w:12,h:12,x:0,y:0,moved:!1,static:!1}}]},{sizeMode:"bounded"});return{id:a,hgApi:s}};let mCt=(function(e){function t(r){var n;return oCt(this,t),n=cCt(this,t,[r]),n.id=`id-${Math.random()}`,n}return pCt(t,e),sCt(t,[{key:"componentDidMount",value:function(){this.initTrackViewer()}},{key:"shouldComponentUpdate",value:function(r){const{x:n,y:i,width:o,height:a}=r;return this.zoomTo(n,i,o,a),!1}},{key:"initTrackViewer",value:function(){const{trackConfig:r,x:n,y:i,width:o,height:a}=this.props,s=document.getElementById(this.id),{id:u,hgApi:l}=dCt(s,[n,n+o,i,i+a],r);this.viewUid=u,this.viewer=l}},{key:"zoomTo",value:function(r,n,i,o){this.viewer.zoomTo(this.viewUid,r,r+i,n,n+o)}},{key:"render",value:function(){return P.createElement("div",{id:this.id,style:{height:"100%",width:"100%"}})}}])})(P.Component);mCt.propTypes={trackConfig:j.object,width:j.number,height:j.number,x:j.number,y:j.number};const gCt=async(e,t,r={})=>new Promise(n=>{Xo.render(P.createElement(rm,{ref:i=>{i&&n(i)},options:r,viewConfig:t}),e)}),yCt=async(e,t,r={})=>(await gCt(e,typeof t=="string"?await fetch(t).then(n=>n.json()):t,r)).api;export{Es as ChromosomeInfo,rm as HiGlassComponent,mCt as HiGlassTrackComponent,wa as OPTIONS_INFO,lr as TRACKS_INFO_BY_TYPE,AO as debounce,Uue as getDefaultTracksForDatatype,hi as getTrackByUid,VO as getTrackObjectFromHGC,kV as mountHGComponent,Hq as schema,dCt as trackViewer,tq as version,yCt as viewer,DP as waitForJsonComplete,oy as waitForTilesLoaded,SV as waitForTransitionsFinished};
